<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko" xml:lang="ko"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.543">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kwangmin Kim">
<meta name="description" content="template">

<title>Kwangmin Kim - Basic (1) - Stationay Checking</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../../site_libs/quarto-search/quarto-search.js"></script>
<script src="../../../../../site_libs/quarto-search/autocomplete-preset-algolia.umd.js"></script>
<meta name="quarto:offset" content="../../../../../">
<script src="../../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "algolia": {
    "application-id": "DUOR1DRC9D",
    "search-only-api-key": "f264da5dea684ffb9e9b4a574af3ed61",
    "index-name": "prod_QUARTO",
    "analytics-events": true,
    "show-logo": true,
    "libDir": "site_libs"
  },
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": true,
  "language": {
    "search-no-results-text": "일치 없음",
    "search-matching-documents-text": "일치된 문서",
    "search-copy-link-title": "검색 링크 복사",
    "search-hide-matches-text": "추가 검색 결과 숨기기",
    "search-more-match-text": "추가 검색결과",
    "search-more-matches-text": "추가 검색결과",
    "search-clear-button-title": "제거",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "취소",
    "search-submit-button-title": "검색",
    "search-label": "검색"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/algoliasearch@4.5.1/dist/algoliasearch-lite.umd.js"></script>


<script type="text/javascript">
var ALGOLIA_INSIGHTS_SRC = "https://cdn.jsdelivr.net/npm/search-insights/dist/search-insights.iife.min.js";
!function(e,a,t,n,s,i,c){e.AlgoliaAnalyticsObject=s,e[s]=e[s]||function(){
(e[s].queue=e[s].queue||[]).push(arguments)},i=a.createElement(t),c=a.getElementsByTagName(t)[0],
i.async=1,i.src=n,c.parentNode.insertBefore(i,c)
}(window,document,"script",ALGOLIA_INSIGHTS_SRC,"aa");
</script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@algolia/autocomplete-plugin-algolia-insights">

</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-6W0EKFMWBN"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-6W0EKFMWBN', { 'anonymize_ip': true});
</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: black;
      }

      .quarto-title-block .quarto-title-banner {
        color: black;
background: #EDF3F9;
      }
</style>
<style>
.custom-footer { 
  text-align: center; 
  font-size: 0.8em; 
  color: #666; 
  margin-top: 2rem; 
}
</style>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../../../styles.css">
<meta property="og:title" content="Kwangmin Kim - Basic (1) - Stationay Checking">
<meta property="og:description" content="template">
<meta property="og:site_name" content="Kwangmin Kim">
<meta name="twitter:title" content="Kwangmin Kim - Basic (1) - Stationay Checking">
<meta name="twitter:description" content="template">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../../../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../../../.././images/logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../../../../index.html">
    <span class="navbar-title">Kwangmin Kim</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="검색"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="탐색 전환" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../../../docs/blog/index.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../../../about.html"> 
<span class="menu-text">Me</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kmink3225"> <i class="bi bi-github" role="img" aria-label="Github">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/kwangmin-kim-a5241b200/"> <i class="bi bi-linkedin" role="img" aria-label="Linkedin">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="다크 모드 전환"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">Basic (1) - Stationay Checking</h1>
            <p class="subtitle lead">Overview</p>
                  <div>
        <div class="description">
          <p>template</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Statistics</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta column-page-left">

      <div>
      <div class="quarto-title-meta-heading">저자</div>
      <div class="quarto-title-meta-contents">
               <p>Kwangmin Kim </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">공개</div>
      <div class="quarto-title-meta-contents">
        <p class="date">2023년 03월 23일</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">목차</h2>
   
  <ul>
  <li><a href="#definition" id="toc-definition" class="nav-link active" data-scroll-target="#definition"><span class="header-section-number">1</span> Definition</a>
  <ul class="collapse">
  <li><a href="#stationary-data" id="toc-stationary-data" class="nav-link" data-scroll-target="#stationary-data"><span class="header-section-number">1.1</span> Stationary Data</a>
  <ul class="collapse">
  <li><a href="#constant-mean" id="toc-constant-mean" class="nav-link" data-scroll-target="#constant-mean"><span class="header-section-number">1.1.1</span> Constant Mean</a></li>
  <li><a href="#constant-variance" id="toc-constant-variance" class="nav-link" data-scroll-target="#constant-variance"><span class="header-section-number">1.1.2</span> Constant Variance</a></li>
  <li><a href="#constant-autocorrelation" id="toc-constant-autocorrelation" class="nav-link" data-scroll-target="#constant-autocorrelation"><span class="header-section-number">1.1.3</span> Constant Autocorrelation</a></li>
  <li><a href="#absence-of-trend" id="toc-absence-of-trend" class="nav-link" data-scroll-target="#absence-of-trend"><span class="header-section-number">1.1.4</span> Absence of Trend</a></li>
  <li><a href="#absence-of-seasonality" id="toc-absence-of-seasonality" class="nav-link" data-scroll-target="#absence-of-seasonality"><span class="header-section-number">1.1.5</span> Absence of Seasonality</a></li>
  <li><a href="#statistical-properties-are-time-invariant" id="toc-statistical-properties-are-time-invariant" class="nav-link" data-scroll-target="#statistical-properties-are-time-invariant"><span class="header-section-number">1.1.6</span> Statistical Properties are Time-Invariant</a></li>
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example"><span class="header-section-number">1.1.7</span> Example</a></li>
  </ul></li>
  <li><a href="#non-stationary-data" id="toc-non-stationary-data" class="nav-link" data-scroll-target="#non-stationary-data"><span class="header-section-number">1.2</span> Non-stationary Data</a>
  <ul class="collapse">
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1"><span class="header-section-number">1.2.1</span> Example</a></li>
  </ul></li>
  <li><a href="#conversion-process-from-non-tationary-to-stationary" id="toc-conversion-process-from-non-tationary-to-stationary" class="nav-link" data-scroll-target="#conversion-process-from-non-tationary-to-stationary"><span class="header-section-number">1.3</span> Conversion Process from Non-tationary to Stationary</a>
  <ul class="collapse">
  <li><a href="#lag" id="toc-lag" class="nav-link" data-scroll-target="#lag"><span class="header-section-number">1.3.1</span> Lag</a></li>
  <li><a href="#difference" id="toc-difference" class="nav-link" data-scroll-target="#difference"><span class="header-section-number">1.3.2</span> Difference</a></li>
  </ul></li>
  <li><a href="#acf" id="toc-acf" class="nav-link" data-scroll-target="#acf"><span class="header-section-number">1.4</span> ACF</a>
  <ul class="collapse">
  <li><a href="#acf-interpretation" id="toc-acf-interpretation" class="nav-link" data-scroll-target="#acf-interpretation"><span class="header-section-number">1.4.1</span> ACF Interpretation</a></li>
  <li><a href="#acfs-weakness" id="toc-acfs-weakness" class="nav-link" data-scroll-target="#acfs-weakness"><span class="header-section-number">1.4.2</span> ACF’s Weakness</a></li>
  </ul></li>
  <li><a href="#pacf" id="toc-pacf" class="nav-link" data-scroll-target="#pacf"><span class="header-section-number">1.5</span> PACF</a>
  <ul class="collapse">
  <li><a href="#pacf-interpretation" id="toc-pacf-interpretation" class="nav-link" data-scroll-target="#pacf-interpretation"><span class="header-section-number">1.5.1</span> PACF Interpretation</a></li>
  </ul></li>
  <li><a href="#time-series-model" id="toc-time-series-model" class="nav-link" data-scroll-target="#time-series-model"><span class="header-section-number">1.6</span> Time Series Model</a>
  <ul class="collapse">
  <li><a href="#fitted-value" id="toc-fitted-value" class="nav-link" data-scroll-target="#fitted-value"><span class="header-section-number">1.6.1</span> Fitted Value</a></li>
  </ul></li>
  <li><a href="#white-noise" id="toc-white-noise" class="nav-link" data-scroll-target="#white-noise"><span class="header-section-number">1.7</span> White Noise</a>
  <ul class="collapse">
  <li><a href="#properties-1" id="toc-properties-1" class="nav-link" data-scroll-target="#properties-1"><span class="header-section-number">1.7.1</span> Properties</a></li>
  <li><a href="#ljung-box-test" id="toc-ljung-box-test" class="nav-link" data-scroll-target="#ljung-box-test"><span class="header-section-number">1.7.2</span> Ljung-box Test</a></li>
  <li><a href="#example-2" id="toc-example-2" class="nav-link" data-scroll-target="#example-2"><span class="header-section-number">1.7.3</span> Example</a></li>
  </ul></li>
  <li><a href="#time-series-decomposition" id="toc-time-series-decomposition" class="nav-link" data-scroll-target="#time-series-decomposition"><span class="header-section-number">1.8</span> Time Series Decomposition</a>
  <ul class="collapse">
  <li><a href="#additive-decomposition" id="toc-additive-decomposition" class="nav-link" data-scroll-target="#additive-decomposition"><span class="header-section-number">1.8.1</span> Additive Decomposition</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#go-to-blog-content-list" id="toc-go-to-blog-content-list" class="nav-link" data-scroll-target="#go-to-blog-content-list"><span class="header-section-number">1.9</span> Go to Blog Content List</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">





<ul class="nav nav-pills" id="language-tab" role="tablist">
<li class="nav-item" role="presentation">
<button class="nav-link active" id="Korean-tab" data-bs-toggle="tab" data-bs-target="#Korean" type="button" role="tab" aria-controls="Korean" aria-selected="true">
Korean
</button>
</li>
<li class="nav-item" role="presentation">
<button class="nav-link" id="English-tab" data-bs-toggle="tab" data-bs-target="#English" type="button" role="tab" aria-controls="knitr" aria-selected="false">
English
</button>
</li>
<div class="tab-content" id="language-tabcontent">

<div id="Korean" class="tab-pane fade show active" role="tabpanel" aria-labelledby="Korean-tab">
<div id="Korean" class="tab-pane fade show active" role="tabpanel" aria-labelledby="Korean-tab">
<section id="definition" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Definition</h1>
<div id="def-Stationary" class="theorem definition">
<p><span class="theorem-title"><strong>정의 1</strong></span> A time series is said to be stationary if its statistical properties such as mean, variance, and autocorrelation remain constant over time. In other words, a stationary time series does not exhibit any trend, seasonality, or change in statistical properties over time.</p>
</div>
<p>time series modeling is the process of converting from non-stationary data into stationary data.</p>
<section id="stationary-data" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="stationary-data"><span class="header-section-number">1.1</span> Stationary Data</h2>
<p>시계열적인 특성이 없는 데이터</p>
<section id="constant-mean" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="constant-mean"><span class="header-section-number">1.1.1</span> Constant Mean</h3>
<p>A stationary time series has a mean that remains constant over time, which means that the average value of the time series does not change over time. A smoothing line of moving average with a certain window should show a constant trend.</p>
</section>
<section id="constant-variance" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="constant-variance"><span class="header-section-number">1.1.2</span> Constant Variance</h3>
<p>A stationary time series has a variance that remains constant over time, which means that the variability or spread of the time series data around its mean does not change over time. A moving variance with a certain window should show a constant trend.</p>
</section>
<section id="constant-autocorrelation" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="constant-autocorrelation"><span class="header-section-number">1.1.3</span> Constant Autocorrelation</h3>
<p>A stationary time series has autocorrelation that remains constant over time. Autocorrelation refers to the relationship between the values of a time series at different time lags. In a stationary time series, the strength and direction of autocorrelation do not change over time.</p>
</section>
<section id="absence-of-trend" class="level3" data-number="1.1.4">
<h3 data-number="1.1.4" class="anchored" data-anchor-id="absence-of-trend"><span class="header-section-number">1.1.4</span> Absence of Trend</h3>
<p>A stationary time series does not exhibit any trend, which means that there is no systematic upward or downward movement in the mean of the time series over time.</p>
</section>
<section id="absence-of-seasonality" class="level3" data-number="1.1.5">
<h3 data-number="1.1.5" class="anchored" data-anchor-id="absence-of-seasonality"><span class="header-section-number">1.1.5</span> Absence of Seasonality</h3>
<p>A stationary time series does not exhibit any seasonality, which means that there are no regular, repeating patterns or cycles in the data over time.</p>
</section>
<section id="statistical-properties-are-time-invariant" class="level3" data-number="1.1.6">
<h3 data-number="1.1.6" class="anchored" data-anchor-id="statistical-properties-are-time-invariant"><span class="header-section-number">1.1.6</span> Statistical Properties are Time-Invariant</h3>
<p>The statistical properties of a stationary time series, such as mean, variance, and autocorrelation, do not change with time. This property allows for the use of statistical techniques and models that assume constant statistical properties over time.</p>
</section>
<section id="example" class="level3" data-number="1.1.7">
<h3 data-number="1.1.7" class="anchored" data-anchor-id="example"><span class="header-section-number">1.1.7</span> Example</h3>
<ul>
<li>white noise : no pattern about the time independent variable</li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>ADF Test Results:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Test statistic: -4.396055 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>P-value: 0.01 </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Conclusion: The time series is stationary.</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
노트
</div>
</div>
<div class="callout-body-container callout-body">
<p>stationary data could have a trend and seasonality, but its period is not constant and easy to be predicted.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>stationary data with an irregular trend and seasonality using a combination of a linear trend (small coefficient), sinusoidal pattern(for varying amplitude), and random noise (irregular trend and seasonality).</p>
</div>
</div>
</section>
</section>
<section id="non-stationary-data" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="non-stationary-data"><span class="header-section-number">1.2</span> Non-stationary Data</h2>
<p>분석대상으로 시간 축에 대하여 분산(=정보)이 있음</p>
<section id="example-1" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="example-1"><span class="header-section-number">1.2.1</span> Example</h3>
<ul>
<li>심장 박동 수 : 일정한 주기를 반복해야 건강한 상태</li>
</ul>
</section>
</section>
<section id="conversion-process-from-non-tationary-to-stationary" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="conversion-process-from-non-tationary-to-stationary"><span class="header-section-number">1.3</span> Conversion Process from Non-tationary to Stationary</h2>
<section id="lag" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="lag"><span class="header-section-number">1.3.1</span> Lag</h3>
<p>A lag refers to the time interval between observations in a time series. It represents the number of time units (e.g., time periods, days, months) by which a variable is shifted or delayed in time.</p>
<div id="def-lag" class="theorem definition">
<p><span class="theorem-title"><strong>정의 2</strong></span> In time series analysis, a lag refers to the time interval between observations in a time series. Let <span class="math inline">\(Y_t\)</span> denote the value of a variable at time <span class="math inline">\(t\)</span>, and <span class="math inline">\(Y_{t-k}\)</span> denote the value of the same variable at time <span class="math inline">\(t\)</span> lagged by <span class="math inline">\(k\)</span> time units. The lagged value <span class="math inline">\(Y_{t-k}\)</span> is defined as:</p>
<p><span class="math display">\[
Y_{t-k} = Y_{t-k}
\]</span> where <span class="math inline">\(k\)</span> is the lag.</p>
</div>
<p>The lag can be positive, indicating a forward shift in time, or negative, indicating a backward shift in time.</p>
<p>For example, suppose we have a time series of daily temperature data, and we want to examine the relationship between the temperature at a given day and the temperature on the same day one week ago (i.e., <span class="math inline">\(k = 7\)</span>). In this case, <span class="math inline">\(Y_t\)</span> represents the temperature at time <span class="math inline">\(t\)</span>, and <span class="math inline">\(Y_{t-7}\)</span> represents the temperature on the same day one week ago. By examining the lagged relationship between <span class="math inline">\(Y_t\)</span> and <span class="math inline">\(Y_{t-7}\)</span>, we can analyze any patterns or trends in the temperature data over a one-week period.</p>
<section id="properties" class="level4" data-number="1.3.1.1">
<h4 data-number="1.3.1.1" class="anchored" data-anchor-id="properties"><span class="header-section-number">1.3.1.1</span> Properties</h4>
<section id="time-shifting" class="level5" data-number="1.3.1.1.1">
<h5 data-number="1.3.1.1.1" class="anchored" data-anchor-id="time-shifting"><span class="header-section-number">1.3.1.1.1</span> Time Shifting</h5>
<p>Lags allow for time shifting of a time series variable, where the value of the variable at a given time step is compared to its value at a previous time step. This allows for analyzing the temporal relationship and dependencies between values of a time series over different time intervals.</p>
</section>
<section id="autocorrelation" class="level5" data-number="1.3.1.1.2">
<h5 data-number="1.3.1.1.2" class="anchored" data-anchor-id="autocorrelation"><span class="header-section-number">1.3.1.1.2</span> Autocorrelation</h5>
<p>Lags are used to calculate autocorrelation, which is the correlation between a time series variable and its lagged values. Autocorrelation helps in understanding the persistence or pattern of the variable over time, and can be used to detect seasonality, trends, or other patterns in the data.</p>
</section>
<section id="trend-analysis" class="level5" data-number="1.3.1.1.3">
<h5 data-number="1.3.1.1.3" class="anchored" data-anchor-id="trend-analysis"><span class="header-section-number">1.3.1.1.3</span> Trend Analysis</h5>
<p>Lags can be used to analyze trends in time series data. By comparing a time series variable with its lagged values, trends can be identified and analyzed to understand the direction and magnitude of changes in the variable over time.</p>
</section>
<section id="seasonality-detection" class="level5" data-number="1.3.1.1.4">
<h5 data-number="1.3.1.1.4" class="anchored" data-anchor-id="seasonality-detection"><span class="header-section-number">1.3.1.1.4</span> Seasonality Detection</h5>
<p>Lags can be used to detect seasonality in time series data. By analyzing the relationship between a time series variable and its lagged values, patterns that repeat at regular intervals (e.g., daily, monthly, yearly) can be identified, indicating seasonality in the data.</p>
</section>
<section id="forecasting" class="level5" data-number="1.3.1.1.5">
<h5 data-number="1.3.1.1.5" class="anchored" data-anchor-id="forecasting"><span class="header-section-number">1.3.1.1.5</span> Forecasting</h5>
<p>Lags are used in time series forecasting models to make predictions about future values of a time series variable. By using lagged values of the variable as predictors, forecasting models can capture the historical patterns and trends in the data to make future predictions.</p>
</section>
<section id="data-transformation" class="level5" data-number="1.3.1.1.6">
<h5 data-number="1.3.1.1.6" class="anchored" data-anchor-id="data-transformation"><span class="header-section-number">1.3.1.1.6</span> Data Transformation</h5>
<p>Lags can be used to transform time series data into a different format, such as creating lagged variables or lagged differences, which can be used in various statistical techniques for analysis, modeling, and forecasting of time series data.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">Value</th>
<th style="text-align: right;">Lag1</th>
<th style="text-align: right;">Lag2</th>
<th style="text-align: right;">Lag3</th>
<th style="text-align: right;">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2.6976218</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">8.5093666</td>
<td style="text-align: right;">2.6976218</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19.2935416</td>
<td style="text-align: right;">8.5093666</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">3</td>
</tr>
<tr class="even">
<td style="text-align: right;">11.0127960</td>
<td style="text-align: right;">19.2935416</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">4</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8.1464387</td>
<td style="text-align: right;">11.0127960</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">5</td>
</tr>
<tr class="even">
<td style="text-align: right;">11.5753249</td>
<td style="text-align: right;">8.1464387</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">6</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.8045810</td>
<td style="text-align: right;">11.5753249</td>
<td style="text-align: right;">2.697622</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">7</td>
</tr>
<tr class="even">
<td style="text-align: right;">-10.9855602</td>
<td style="text-align: right;">0.8045810</td>
<td style="text-align: right;">8.509367</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="odd">
<td style="text-align: right;">-8.9342643</td>
<td style="text-align: right;">-10.9855602</td>
<td style="text-align: right;">19.293542</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">9</td>
</tr>
<tr class="even">
<td style="text-align: right;">-5.8885639</td>
<td style="text-align: right;">-8.9342643</td>
<td style="text-align: right;">11.012796</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">10</td>
</tr>
<tr class="odd">
<td style="text-align: right;">6.6204090</td>
<td style="text-align: right;">-5.8885639</td>
<td style="text-align: right;">8.146439</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">11</td>
</tr>
<tr class="even">
<td style="text-align: right;">7.7990691</td>
<td style="text-align: right;">6.6204090</td>
<td style="text-align: right;">11.575325</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">12</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13.5038573</td>
<td style="text-align: right;">7.7990691</td>
<td style="text-align: right;">0.804581</td>
<td style="text-align: right;">2.697622</td>
<td style="text-align: right;">13</td>
</tr>
<tr class="even">
<td style="text-align: right;">16.2136676</td>
<td style="text-align: right;">13.5038573</td>
<td style="text-align: right;">-10.985560</td>
<td style="text-align: right;">8.509367</td>
<td style="text-align: right;">14</td>
</tr>
<tr class="odd">
<td style="text-align: right;">14.7207943</td>
<td style="text-align: right;">16.2136676</td>
<td style="text-align: right;">-8.934264</td>
<td style="text-align: right;">19.293542</td>
<td style="text-align: right;">15</td>
</tr>
<tr class="even">
<td style="text-align: right;">25.5948197</td>
<td style="text-align: right;">14.7207943</td>
<td style="text-align: right;">-5.888564</td>
<td style="text-align: right;">11.012796</td>
<td style="text-align: right;">16</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15.9892524</td>
<td style="text-align: right;">25.5948197</td>
<td style="text-align: right;">6.620409</td>
<td style="text-align: right;">8.146439</td>
<td style="text-align: right;">17</td>
</tr>
<tr class="even">
<td style="text-align: right;">-0.8330858</td>
<td style="text-align: right;">15.9892524</td>
<td style="text-align: right;">7.799069</td>
<td style="text-align: right;">11.575325</td>
<td style="text-align: right;">18</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8.0067795</td>
<td style="text-align: right;">-0.8330858</td>
<td style="text-align: right;">13.503857</td>
<td style="text-align: right;">0.804581</td>
<td style="text-align: right;">19</td>
</tr>
<tr class="even">
<td style="text-align: right;">-1.0242111</td>
<td style="text-align: right;">8.0067795</td>
<td style="text-align: right;">16.213668</td>
<td style="text-align: right;">-10.985560</td>
<td style="text-align: right;">20</td>
</tr>
</tbody>
</table>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="difference" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="difference"><span class="header-section-number">1.3.2</span> Difference</h3>
<p>Differencing is a common technique used in time series analysis to transform a non-stationary time series into a stationary time series. It involves computing the difference between consecutive observations in the time series to remove trends or seasonality, and create a stationary time series that can be easier to analyze and model.</p>
<div id="def-difference" class="theorem definition">
<p><span class="theorem-title"><strong>정의 3</strong></span> The differenced time series <span class="math inline">\(Y_t\)</span> of an original time series <span class="math inline">\(X_t\)</span> of order <span class="math inline">\(d\)</span> can be defined as:</p>
<p><span class="math inline">\(Y_t = X_t - X_{t-d}\)</span></p>
<p>where <span class="math inline">\(X_t\)</span> is the original time series value at time <span class="math inline">\(t\)</span>, $ X_{t-d}$ is the original time series value at time <span class="math inline">\(t-d\)</span>, and <span class="math inline">\(d\)</span> is the order of differencing.</p>
</div>
<p>The difference in data at a specific time interval could be used to represent time interval data such as year-on-year growth and month-on-month growth</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">n</th>
<th style="text-align: right;">Value</th>
<th style="text-align: right;">Lag1</th>
<th style="text-align: right;">Lag2</th>
<th style="text-align: right;">Lag3</th>
<th style="text-align: right;">diff1</th>
<th style="text-align: right;">diff2</th>
<th style="text-align: right;">diff3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">2.698</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">8.509</td>
<td style="text-align: right;">2.698</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">5.812</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">19.294</td>
<td style="text-align: right;">8.509</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">10.784</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">11.013</td>
<td style="text-align: right;">19.294</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-8.281</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">8.146</td>
<td style="text-align: right;">11.013</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-2.866</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">11.575</td>
<td style="text-align: right;">8.146</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">3.429</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">0.805</td>
<td style="text-align: right;">11.575</td>
<td style="text-align: right;">2.698</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-10.771</td>
<td style="text-align: right;">-1.893</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">-10.986</td>
<td style="text-align: right;">0.805</td>
<td style="text-align: right;">8.509</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">-11.790</td>
<td style="text-align: right;">-19.495</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">-8.934</td>
<td style="text-align: right;">-10.986</td>
<td style="text-align: right;">19.294</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">2.051</td>
<td style="text-align: right;">-28.228</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">-5.889</td>
<td style="text-align: right;">-8.934</td>
<td style="text-align: right;">11.013</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">3.046</td>
<td style="text-align: right;">-16.901</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: right;">6.620</td>
<td style="text-align: right;">-5.889</td>
<td style="text-align: right;">8.146</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">12.509</td>
<td style="text-align: right;">-1.526</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: right;">7.799</td>
<td style="text-align: right;">6.620</td>
<td style="text-align: right;">11.575</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">1.179</td>
<td style="text-align: right;">-3.776</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13</td>
<td style="text-align: right;">13.504</td>
<td style="text-align: right;">7.799</td>
<td style="text-align: right;">0.805</td>
<td style="text-align: right;">2.698</td>
<td style="text-align: right;">5.705</td>
<td style="text-align: right;">12.699</td>
<td style="text-align: right;">10.806</td>
</tr>
<tr class="even">
<td style="text-align: right;">14</td>
<td style="text-align: right;">16.214</td>
<td style="text-align: right;">13.504</td>
<td style="text-align: right;">-10.986</td>
<td style="text-align: right;">8.509</td>
<td style="text-align: right;">2.710</td>
<td style="text-align: right;">27.199</td>
<td style="text-align: right;">7.704</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15</td>
<td style="text-align: right;">14.721</td>
<td style="text-align: right;">16.214</td>
<td style="text-align: right;">-8.934</td>
<td style="text-align: right;">19.294</td>
<td style="text-align: right;">-1.493</td>
<td style="text-align: right;">23.655</td>
<td style="text-align: right;">-4.573</td>
</tr>
<tr class="even">
<td style="text-align: right;">16</td>
<td style="text-align: right;">25.595</td>
<td style="text-align: right;">14.721</td>
<td style="text-align: right;">-5.889</td>
<td style="text-align: right;">11.013</td>
<td style="text-align: right;">10.874</td>
<td style="text-align: right;">31.483</td>
<td style="text-align: right;">14.582</td>
</tr>
<tr class="odd">
<td style="text-align: right;">17</td>
<td style="text-align: right;">15.989</td>
<td style="text-align: right;">25.595</td>
<td style="text-align: right;">6.620</td>
<td style="text-align: right;">8.146</td>
<td style="text-align: right;">-9.606</td>
<td style="text-align: right;">9.369</td>
<td style="text-align: right;">7.843</td>
</tr>
<tr class="even">
<td style="text-align: right;">18</td>
<td style="text-align: right;">-0.833</td>
<td style="text-align: right;">15.989</td>
<td style="text-align: right;">7.799</td>
<td style="text-align: right;">11.575</td>
<td style="text-align: right;">-16.822</td>
<td style="text-align: right;">-8.632</td>
<td style="text-align: right;">-12.408</td>
</tr>
<tr class="odd">
<td style="text-align: right;">19</td>
<td style="text-align: right;">8.007</td>
<td style="text-align: right;">-0.833</td>
<td style="text-align: right;">13.504</td>
<td style="text-align: right;">0.805</td>
<td style="text-align: right;">8.840</td>
<td style="text-align: right;">-5.497</td>
<td style="text-align: right;">7.202</td>
</tr>
<tr class="even">
<td style="text-align: right;">20</td>
<td style="text-align: right;">-1.024</td>
<td style="text-align: right;">8.007</td>
<td style="text-align: right;">16.214</td>
<td style="text-align: right;">-10.986</td>
<td style="text-align: right;">-9.031</td>
<td style="text-align: right;">-17.238</td>
<td style="text-align: right;">9.961</td>
</tr>
</tbody>
</table>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="acf" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="acf"><span class="header-section-number">1.4</span> ACF</h2>
<p>ACF stands for autocorrelation function. ACF is a statistical tool used in time series analysis to measure the correlation between a time series and its lagged values. It helps to identify the presence of autocorrelation, which is the tendency of a time series to exhibit similar patterns or trends at different time points.</p>
<div id="def-acf" class="theorem definition">
<p><span class="theorem-title"><strong>정의 4</strong></span> The autocorrelation function $ (k) $ of a time series $ X_t $ at lag $ k $ can be defined as:</p>
<p><span class="math display">\[
\rho(k) = \frac{\text{Cov}(X_t, X_{t-k})}{\sqrt{\text{Var}(X_t) \cdot \text{Var}(X_{t-k})}}
\]</span></p>
<p>where <span class="math inline">\(X_t\)</span> is the value of the time series at time <span class="math inline">\(t\)</span>, <span class="math inline">\(X_{t-k}\)</span> is the value of the time series at time <span class="math inline">\(t-k\)</span>, and <span class="math inline">\(\text{Cov}(X_t, X_{t-k})\)</span> and <span class="math inline">\(\text{Var}(X_t)\)</span> are the covariance and variance of the time series, respectively.</p>
</div>
<p>We can calculate the ACF of this time series to check for autocorrelation using R. Here’s an example code:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Autocorrelations of series 'ts_data', by lag

    0     1     2     3     4     5     6     7     8     9    10    11    12 
1.000 0.880 0.789 0.702 0.576 0.514 0.483 0.495 0.525 0.568 0.611 0.642 0.616 
   13    14    15    16    17    18    19    20 
0.571 0.513 0.403 0.332 0.281 0.229 0.232 0.258 </code></pre>
</div>
</div>
<section id="acf-interpretation" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="acf-interpretation"><span class="header-section-number">1.4.1</span> ACF Interpretation</h3>
<ul>
<li>The lag on the x-axis represents the time lag between the current observation and the lagged observation for which the autocorrelation coefficient is calculated. Lags closer to 0 represent autocorrelation between neighboring observations, while larger lags represent autocorrelation between more distant observations.</li>
<li>The height of the autocorrelation coefficients on the y-axis indicates the strength of autocorrelation at different lags. Larger coefficients indicate stronger autocorrelation, while smaller coefficients indicate weaker autocorrelation.
<ul>
<li>The ACF of the lag <span class="math inline">\(1\)</span> on the <span class="math inline">\(x\)</span> axis means the autocorrelation between the original data, Value and the Value lagged by <span class="math inline">\(k = 1\)</span>, and the ACF of the lag <span class="math inline">\(6\)</span> on the <span class="math inline">\(x\)</span> axis means the autocorrelation between the original data, Value and the Value lagged by <span class="math inline">\(k = 6\)</span></li>
</ul></li>
<li>The sign of the autocorrelation coefficient indicates the direction of autocorrelation. Positive coefficients indicate values tend to be similar at neighboring lags, while negative coefficients indicate values tend to be dissimilar at neighboring lags.</li>
<li>The horizontal dashed lines on the ACF plot represent the confidence intervals. Autocorrelation coefficients that fall outside these confidence intervals are considered statistically significant, indicating a high likelihood that the observed autocorrelation is not due to random chance.
<ul>
<li>the line means the confidence interval = <span class="math inline">\(\left[ \text{ACF}(k) \pm \frac{z_{\alpha/2}}{\sqrt{n}}\right]\)</span> where <span class="math inline">\(\operatorname{ACF}(k)\)</span> is the autocorrelation coefficient at lag <span class="math inline">\(k\)</span>, <span class="math inline">\(z_{\alpha/2}\)</span> is the critical value from the standard normal distribution for the desired confidence level (e.g., 1.96 for a 95% confidence level), <span class="math inline">\(n\)</span> is the sample size.</li>
</ul></li>
<li>The pattern of autocorrelation coefficients can provide insights into the presence of trend, seasonality, or other underlying patterns in the time series data. For instance, a repeating pattern of positive and negative autocorrelation coefficients may indicate the presence of seasonality, while a gradual decline in autocorrelation coefficients may indicate the presence of a trend. For our example, we can see the decline and increasing pattern both in ACF and the original plot.</li>
</ul>
</section>
<section id="acfs-weakness" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="acfs-weakness"><span class="header-section-number">1.4.2</span> ACF’s Weakness</h3>
<p>ACF has a weakness in that it can sometimes show spurious correlations due to the effect of earlier lags. This is known as the <strong>chain reaction</strong> or <strong>spillover</strong> effect. For example, if a time series has a strong autocorrelation at lag 1, it can cause subsequent lags to also exhibit autocorrelation, even if there is no true underlying relationship. To address this issue, the Partial Autocorrelation Function (PACF) was developed.</p>
</section>
</section>
<section id="pacf" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="pacf"><span class="header-section-number">1.5</span> PACF</h2>
<p>Partial Autocorrelation Function stands for PACF.</p>
<div id="def-pacf" class="theorem definition">
<p><span class="theorem-title"><strong>정의 5</strong></span> The PACF at lag <span class="math inline">\(k\)</span>, denoted as <span class="math inline">\(\operatorname{PACF}(k)\)</span>, is defined as the autocorrelation between the original time series and its lagged values, with the effects of all shorter lags removed.</p>
<p><span class="math display">\[
\begin{align*}
\text{PACF}(k) &amp;= \phi_{kk} \\
&amp;= \frac{\text{cov}(Y_t, Y_{t-k} | Y_{t-1}, Y_{t-2}, \ldots, Y_{1})}{\sqrt{\text{var}(Y_t | Y_{t-1}, Y_{t-2}, \ldots, Y_{1}) \cdot \text{var}(Y_{t-k} | Y_{t-1}, Y_{t-2}, \ldots, Y_{1})}}
\end{align*}
\]</span></p>
<p>where <span class="math inline">\(\phi_{kk}\)</span> represents the partial autocorrelation coefficient at lag <span class="math inline">\(k\)</span>.</p>
</div>
<p>PACF measures the autocorrelation between the residuals of a time series after removing the effects of shorter lags. It provides a more direct measure of the linear relationship between the time series at a specific lag, while accounting for the effects of earlier lags. PACF helps to isolate the direct impact of a particular lag on the time series, without the spillover effect from earlier lags.</p>
<p>PACF in time series analysis measures the correlation between a time series value at a specific lag (denoted as <span class="math inline">\(k\)</span>) and its lagged value at a previous time step (denoted as <span class="math inline">\(t−k\)</span>), after removing the linear dependence on the intermediate lags (<span class="math inline">\(1,2,…,k−1\)</span>).</p>
<p>PACF is useful in time series analysis for identifying the order of an autoregressive (AR) model, which is a common type of time series model. AR models use past values of the time series to predict future values. The PACF plot can help identify the significant lags that contribute to the prediction of the time series, and thus aid in model selection and forecasting accuracy.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
노트
</div>
</div>
<div class="callout-body-container callout-body">
<p>ACF(1) is equaivalent to PACF(1) because there is no in-between lags and chain reaction at lag <span class="math inline">\(k = 1\)</span></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="pacf-interpretation" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="pacf-interpretation"><span class="header-section-number">1.5.1</span> PACF Interpretation</h3>
<ul>
<li>A significant positive value at lag k in the PACF plot indicates a strong positive linear relationship between the value at lag k and the current value of the time series. This suggests that the value at lag k is an important predictor for the current value.</li>
<li>A significant negative value at lag k in the PACF plot indicates a strong negative linear relationship between the value at lag k and the current value of the time series. This suggests that the value at lag k is an important predictor for the current value, but with an inverse relationship compared to positive values.</li>
<li>Non-significant values close to zero in the PACF plot indicate that there is little or no autocorrelation at those lags. This suggests that the value at those lags does not significantly impact the current value of the time series.</li>
</ul>
</section>
</section>
<section id="time-series-model" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="time-series-model"><span class="header-section-number">1.6</span> Time Series Model</h2>
<p>The fitted values, denoted as <span class="math inline">\(\hat{Y}_t\)</span>, for a time series model are obtained by applying the estimated model parameters to the observed data points <span class="math inline">\(Y_t\)</span> up to time <span class="math inline">\(t\)</span>, using the estimated model equations.</p>
<p><span class="math display">\[
\hat{Y}_t = \hat{\alpha} + \hat{\beta}_1 X_{1,t} + \hat{\beta}_2 X_{2,t} + \ldots + \hat{\beta}_p X_{p,t}
\]</span></p>
<p>where <span class="math inline">\(\hat{\alpha}\)</span> is the estimated intercept term, <span class="math inline">\(\hat{\beta}_1, \ldots, \hat{\beta}_p\)</span> are the estimated coefficients for the explanatory variables <span class="math inline">\(X_1, X_2, \ldots, X_p\)</span> respectively, and <span class="math inline">\(X_{1,t}, X_{2,t}, \ldots, X_{p,t}\)</span> are the observed values of the explanatory variables at time <span class="math inline">\(t\)</span>.</p>
<section id="fitted-value" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="fitted-value"><span class="header-section-number">1.6.1</span> Fitted Value</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>As you can see the residual pattern is the same as the original data, Value when you fit the data with a linear regression. If you use the time index as the explanatory variable in a linear regression to fit a time series model, and the residuals will capture the deviations of the observed values from this linear trend. As a result, the residuals will exhibit the same pattern, since they represent the discrepancies between the observed values and the linear trend estimated from the row numbers. It’s important to note that using row numbers as the explanatory variable in a linear regression for time series analysis may not always be meaningful, as it does not take into account any underlying patterns, trends, or seasonality present in the data. It’s generally recommended to use appropriate time-related variables or other relevant explanatory variables in time series modeling to capture the inherent dynamics of the data.</p>
</section>
</section>
<section id="white-noise" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="white-noise"><span class="header-section-number">1.7</span> White Noise</h2>
<div id="def-white_noise" class="theorem definition">
<p><span class="theorem-title"><strong>정의 6</strong></span> White noise is a type of time series data that is characterized by random, uncorrelated, and identically distributed (i.i.d.) values. <span class="math display">\[
Y_t \sim \operatorname{WN}(0,\sigma^2)
\]</span></p>
<p>where</p>
<p><span class="math display">\[
\begin{align*}
X_t &amp; : \text{The value of the white noise at time t} \\
\text{WN} &amp; : \text{Indicates that the data follows a white noise process} \\
0 &amp; : \text{The mean of the white noise process, which is typically assumed to be 0} \\
\sigma^2 &amp; : \text{The variance of the white noise process, which determines the spread of the random values}
\end{align*}
\]</span></p>
</div>
<p>It is often used as a reference or benchmark series to compare against other time series data for identifying patterns or structures.</p>
<section id="properties-1" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="properties-1"><span class="header-section-number">1.7.1</span> Properties</h3>
<ul>
<li>Randomness: White noise is a series of random values that are not predictable or follow any pattern.</li>
<li>Independence: The values in a white noise series are uncorrelated, meaning that the value at any time point does not depend on the values at other time points.</li>
<li>Identically Distributed: The values in a white noise series are drawn from the same distribution, typically assumed to have a constant mean and variance.</li>
<li>Constant Mean: The mean of a white noise series is typically assumed to be constant and equal to zero, although this can be adjusted to a different value if necessary.</li>
<li>Constant Variance: The variance of a white noise series is typically assumed to be constant, meaning that the spread of the values remains the same over time.</li>
<li>No Autocorrelation: White noise series have no autocorrelation, meaning that the correlation between the values at different time points is close to zero.</li>
<li>No Trend: White noise series do not exhibit any trend or pattern over time, as the values are purely random and do not follow any systematic behavior.</li>
<li>Useful as a Benchmark: White noise series are often used as a benchmark or reference to compare against other time series data for identifying patterns or structures.</li>
</ul>
</section>
<section id="ljung-box-test" class="level3" data-number="1.7.2">
<h3 data-number="1.7.2" class="anchored" data-anchor-id="ljung-box-test"><span class="header-section-number">1.7.2</span> Ljung-box Test</h3>
<p>The Ljung-Box test is a statistical test used to assess whether a time series data exhibits significant autocorrelation at different lags. The null hypothesis (<span class="math inline">\(H_0\)</span>) of the Ljung-Box test is that there is no autocorrelation in the time series data up to a certain lag, while the alternative hypothesis (<span class="math inline">\(H_a\)</span>) is that there is significant autocorrelation present. It is used to assess the goodness-of-fit of a model by testing whether the autocorrelation coefficients of the residuals (or errors) of the model are significantly different from zero.</p>
<p><span class="math display">\[
Q(m) = n(n+2) \sum_{k=1}^{m} \frac{\hat{\rho}_k^2}{n-k} \sim \chi^2_{1-\alpha,h}
\]</span></p>
<p>where: - <span class="math inline">\(Q(m)\)</span> is the Ljung-Box test statistic for a given maximum lag <span class="math inline">\(m\)</span> - <span class="math inline">\(n\)</span> is the sample size of the time series data - <span class="math inline">\(\hat{\rho}_k\)</span> is the sample autocorrelation at lag <span class="math inline">\(k\)</span> - Under <span class="math inline">\(H_0\)</span>, <span class="math inline">\(Q(m)\)</span> assymptotically follows a <span class="math inline">\(\chi^2_{1-\alpha,h}\)</span> - <span class="math inline">\(h\)</span> is the number of lags being tested</p>
<p>Suppose we have a time series data vector <span class="math inline">\(x\)</span> of length <span class="math inline">\(n\)</span>, and we want to perform a Ljung-Box test up to a maximum lag of <span class="math inline">\(m\)</span>.</p>
<p>The Q statistic follows a chi-squared distribution with degrees of freedom equal to the number of autocorrelation coefficients being tested. The p-value associated with the Q statistic can be compared to a chosen significance level (e.g., 0.05) to determine if the residuals exhibit significant autocorrelation. If the p-value is below the chosen significance level, it suggests that the model may have inadequate fit and that there may be remaining autocorrelation in the residuals.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
힌트
</div>
</div>
<div class="callout-body-container callout-body">
<p>The Box-Pierce test is a modified version of the Ljung-Box test, <span class="math display">\[
Q(m) = n \sum_{k=1}^{m} \hat{\rho}_k^2
\]</span></p>
<p>Ljung-Box test incorporates the sample size <span class="math inline">\(n\)</span> in the denominator. This makes the Ljung-Box test more appropriate for small sample sizes, while the Box-Pierce test is suitable for larger sample sizes.</p>
</div>
</div>
</section>
<section id="example-2" class="level3" data-number="1.7.3">
<h3 data-number="1.7.3" class="anchored" data-anchor-id="example-2"><span class="header-section-number">1.7.3</span> Example</h3>
<p>A classic example of white noise is a series of random numbers generated from a standard normal distribution, where each value in the series is independent and identically distributed with mean 0 and variance 1.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-9-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="01_basic_files/figure-html/unnamed-chunk-9-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Ljung-Box test

data:  Residuals
Q* = 5.6107, df = 10, p-value = 0.8468

Model df: 0.   Total lags used: 10</code></pre>
</div>
</div>
</section>
</section>
<section id="time-series-decomposition" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="time-series-decomposition"><span class="header-section-number">1.8</span> Time Series Decomposition</h2>
<p>The characteristics of time series data has trend, seasonality, and autocorrelation. To check if autocorrelation exists in data, we used ACF and PACF. Then, how to check the trend and seasonality characteristics? Time series decomposition can be used to check them.</p>
<p>The observed time series <span class="math inline">\(y_t\)</span> can be decomposed into four components: the trend component <span class="math inline">\(T_t\)</span>, the seasonal component <span class="math inline">\(S_t\)</span>, the cyclical component <span class="math inline">\(C_t\)</span>, and the remainder or error component <span class="math inline">\(E_t\)</span>. This can be expressed as:</p>
<p><span class="math display">\[
\begin{equation}
y_t = T_t + S_t + C_t + E_t, \quad \text{where} \quad E_t \sim \text{WN}(0,\sigma^2),
\end{equation}
\]</span></p>
<p>where <span class="math inline">\(T_t\)</span> is the trend component, <span class="math inline">\(S_t\)</span> is the seasonal component, <span class="math inline">\(C_t\)</span> is the cyclical component, and <span class="math inline">\(E_t\)</span> is the error term, which is a random variable with a white noise distribution with mean 0 and variance <span class="math inline">\(\sigma^2\)</span>.</p>
<p>The trend component <span class="math inline">\(T_t\)</span> represents the long-term behavior of the time series, and can be either deterministic or stochastic. The seasonal component <span class="math inline">\(S_t\)</span> represents the regular and repeated variations that occur within a single year or other fixed time period. The cyclical component <span class="math inline">\(C_t\)</span> represents the irregular variations in the time series that do not follow a fixed pattern.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
힌트
</div>
</div>
<div class="callout-body-container callout-body">
<p>Deterministic refers to a situation where the outcome is completely determined by the initial conditions, and there is no randomness involved. For example, if you drop a ball from a certain height, the time it takes to hit the ground can be determined exactly based on the initial height and the acceleration due to gravity. This is a deterministic process because there is no randomness involved.</p>
<p>Stochastic, on the other hand, refers to a situation where the outcome is uncertain and subject to randomness. For example, if you roll a fair six-sided die, you cannot predict with certainty what number will come up. The outcome is determined by chance, and is therefore stochastic.</p>
</div>
</div>
<p>There are two ways of decomposing time series data: <strong>additive decomposition</strong> and <strong>multiplicative decomposition</strong> This additive deomoposition method is suitable for the time series data with a constant variation of seasonality according the trend, while multiplicative decomposition is suitable for the time series data with a inconsistent variation of seasonality according the trend. The variation magnitude could increase or decrease.</p>
<section id="additive-decomposition" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="additive-decomposition"><span class="header-section-number">1.8.1</span> Additive Decomposition</h3>
<p>A common method for decomposing time series is the additive decomposition, which can be expressed as: <span class="math display">\[
\begin{equation}
y_t = T_t + S_t + E_t.
\end{equation}
\]</span></p>
<p>The trend component <span class="math inline">\(T_t\)</span> is estimated by smoothing the data using techniques such as moving averages or exponential smoothing. The seasonal component <span class="math inline">\(S_t\)</span> is estimated by computing the seasonal indices, which are ratios of the observed values to the estimated trend component. The cyclical component <span class="math inline">\(C_t\)</span> is usually not explicitly estimated, but can be identified as the fluctuations that remain after removing the trend and seasonal components.</p>
<p>For example, let <span class="math inline">\(X_t\)</span> be a quarterly time series of sales data for a company, with <span class="math inline">\(t\)</span> ranging from 1 to 20. We can decompose the time series using an additive model:</p>
<p><span class="math display">\[
\begin{equation}
X_t = T_t + S_t + E_t,
\end{equation}
\]</span></p>
<p>where <span class="math inline">\(T_t\)</span> is the trend component, <span class="math inline">\(S_t\)</span> is the seasonal component, and <span class="math inline">\(E_t\)</span> is the error term. The trend component can be estimated using a 3-period moving average: <span class="math display">\[
\begin{equation}
T_t = \frac{1}{3} (X_{t-1} + X_t + X_{t+1}),
\end{equation}
\]</span></p>
<p>where <span class="math inline">\(t=2,3,\ldots,19\)</span>. The seasonal component can be estimated by computing the average value of <span class="math inline">\(X_t\)</span> for each quarter:</p>
<p><span class="math display">\[
\begin{equation}
S_t = \frac{1}{5} \sum_{i=0}^3 X_{t+4i}.
\end{equation}
\]</span></p>
<p>Finally, the error term <span class="math inline">\(E_t\)</span> can be computed as:</p>
<p><span class="math display">\[
\begin{equation}
E_t = X_t - T_t - S_t.
\end{equation}
\]</span></p>
<p>This decomposition allows us to separate the long-term trend, seasonal patterns, and irregular fluctuations in the sales data, and can help us identify any underlying patterns or trends that may be present in the data.</p>
</section>
</section>
</section>
</div>
</div>
<div id="English" class="tab-pane fade" role="tabpanel" aria-labelledby="English-tab">
<div id="English" class="tab-pane fade" role="tabpanel" aria-labelledby="English-tab">

</div>
</div>
<section id="go-to-blog-content-list" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="go-to-blog-content-list"><span class="header-section-number">1.9</span> Go to Blog Content List</h2>
<p><a href="../../content_list.qmd">Blog Content List</a></p>


</section>

</div></ul></main> <!-- /main -->
<script type="text/javascript">

// replace cmd keyboard shortcut w/ control on non-Mac platforms
const kPlatformMac = typeof navigator !== 'undefined' ? /Mac/.test(navigator.platform) : false;
if (!kPlatformMac) {
   var kbds = document.querySelectorAll("kbd")
   kbds.forEach(function(kbd) {
      kbd.innerHTML = kbd.innerHTML.replace(/⌘/g, '⌃');
   });
}

// tweak headings in pymd
document.querySelectorAll(".pymd span.co").forEach(el => {
   if (!el.innerText.startsWith("#|")) {
      el.style.fontWeight = 1000;
   }
});

</script>
<!-- Begin Mailchimp Signup Form -->
<div id="mc_embed_signup" style="padding-bottom: 1em; max-width: 400px;" class="ms-auto me-auto">
  <p style="font-weight: 600; margin-bottom: 0;">Subscribe</p>
  <span style="font-size: 0.9em;">Enjoy this blog? Get notified of new posts by email:</span>
<form action="https://quarto.us14.list-manage.com/subscribe/post?u=c79fb56a311ae347fbe916740&amp;id=ec05dfca03" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="">
    <div id="mc_embed_signup_scroll">
	
        <div class="input-group mt-1 mb-2">
        <input type="email" class="form-control" placeholder="Email Address" aria-label="Email Address" name="EMAIL" style="font-size: 0.8em; padding: .2em;">
        </div>              

	<div id="mce-responses" class="clear foot">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_c79fb56a311ae347fbe916740_ec05dfca03" tabindex="-1" value=""></div>
        <div class="optionalParent">
            <div class="clear foot" style="display: flex; align-items: center; justify-content: center;">
              
              
                <input type="submit" value="Subscribe" name="subscribe" style="min-width: 150px; font-size: 0.8em;" id="mc-embedded-subscribe" class="button btn btn-light btn-sm ms-auto me-auto">
            </div>
        </div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "복사완료!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "복사완료!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="kmink3225/blog" data-repo-id="R_kgDOLCZyDg" data-category="Blog" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© Kwangmin Kim</p>
</div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../../../../about.html">
<p>About</p>
</a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kmink3225/blog">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>