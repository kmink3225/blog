<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Kwangmin Kim</title>
<link>kk3225.netlify.app/docs/blog/</link>
<atom:link href="kk3225.netlify.app/docs/blog/index.xml" rel="self" type="application/rss+xml"/>
<description>blog</description>
<generator>quarto-1.4.543</generator>
<lastBuildDate>Tue, 31 Dec 2109 15:00:00 GMT</lastBuildDate>
<item>
  <title>Data Governance</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Governance/</link>
  <description><![CDATA[ 





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/images/governance/data_governance.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Governance</figcaption>
</figure>
</div>
<section id="data-governance" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Data Governance</h1>
<section id="data-governance-basic-concept" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="data-governance-basic-concept"><span class="header-section-number">1.1</span> Data Governance Basic Concept</h2>
<ul>
<li>2024-08-01, <a href="../../../../docs/blog/posts/Governance/1.basis.html">Data Governance Basic Concepts, 거버넌스 기본 개념</a></li>
<li>2024-08-02, <a href="../../../../docs/blog/posts/Governance/2.task_process.html">Task Process, 업무 절차</a></li>
<li>2024-08-03, <a href="../../../../docs/blog/posts/Governance/3.architetucre.html">Data Architecture, 구조관리</a></li>
<li>0000-00-00, [Data Pipeline Design, 파이프라인 설계]</li>
<li>0000-00-00, [Data Storage, 저장소 관리]</li>
<li>0000-00-00, [Data Management Policy, 데이터 관리 정책]</li>
<li>0000-00-00, [Data Stewardship Model, 데이터 관리 모델]</li>
</ul>
</section>
<section id="data-modeling" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="data-modeling"><span class="header-section-number">1.2</span> Data Modeling</h2>
<ul>
<li>2024-08-04, <a href="../../../../docs/blog/posts/Governance/4-0.data_model.html">Data Model (1) - Basic Concept</a></li>
<li>2024-08-05, <a href="../../../../docs/blog/posts/Governance/4-1.data_model_database.html">Data Model (2) - Database Basis</a></li>
<li>2024-08-06, <a href="../../../../docs/blog/posts/Governance/4-2.data_model_sql.html">Data Model (3) - SQL Concept</a></li>
<li>2024-08-07, <a href="../../../../docs/blog/posts/Governance/4-3.data_model_schema.html">Data Model (4) - DB Design</a></li>
<li>2024-08-08, <a href="../../../../docs/blog/posts/Governance/4-4.data_model_requirements.html">Data Model (5) - Requirement Collection</a></li>
<li>2024-08-09, <a href="../../../../docs/blog/posts/Governance/4-5-0.data_model_conceptual.html">Data Model (6) - Conceptual Design</a></li>
<li>2024-08-10, <a href="../../../../docs/blog/posts/Governance/4-5-1.data_model_conceptual_ER_model.html">Data Model (7) - ER Modeling</a></li>
</ul>
<section id="data-standardization" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="data-standardization"><span class="header-section-number">1.2.1</span> Data Standardization</h3>
<ul>
<li>2024-08-11, <a href="../../../../docs/blog/posts/Governance/5-0-0.data_standard.html">Data Standardization - Basic Concept</a></li>
<li>2024-08-12, <a href="../../../../docs/blog/posts/Governance/5-0-1.stndrdztn_rule.ver1.0.0.html">Data Standardization - Standard Rules</a></li>
<li>2024-11-25, <a href="../../../../docs/blog/posts/Governance/5-0-2.terminology_hierarchy.html">Data Standardization - 용어 정리</a></li>
<li>2024-08-12, <a href="../../../../docs/blog/posts/Governance/5-1.data_word_dictionary.html">Data Standardization - 표준 단어 사전</a></li>
<li>2024-08-13, <a href="../../../../docs/blog/posts/Governance/5-2.data_word_domain.html">Data Standardization - 표준 도메인 사전</a></li>
<li>2024-08-14, <a href="../../../../docs/blog/posts/Governance/5-3.data_word_glossary.html">Data Standardization - 표준 용어 사전</a></li>
<li>2024-08-15, <a href="../../../../docs/blog/posts/Governance/5-4.data_code.html">Data Standardization - 표준 코드</a></li>
<li>2024-08-16, <a href="../../../../docs/blog/posts/Governance/6-0.data_registration_process.html">Data Standardization - 등록 프로세스</a></li>
<li>2024-08-17, <a href="../../../../docs/blog/posts/Governance/6-1.data_review_process.html">Data Standardization - 용어 검토 프로세스</a></li>
<li>2024-08-18, <a href="../../../../docs/blog/posts/Governance/6-2.data_code_registration.html">Data Standardization - 코드 등록 프로세스</a></li>
<li>2024-08-19, <a href="../../../../docs/blog/posts/Governance/8-0.data_quality_measures.html">Data Standardization - 데이터 품질 측정</a></li>
</ul>
</section>
<section id="data-quality" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="data-quality"><span class="header-section-number">1.2.2</span> Data Quality</h3>
<ul>
<li>0000-00-00, [Data Quality Control Process, 데이터 품질 절차]</li>
<li>0000-00-00, [Data Quality Measurement, 데이터 품질 측정]</li>
<li>0000-00-00, [Data Validation, 데이터 품질 검증]</li>
</ul>
</section>
<section id="etc." class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="etc."><span class="header-section-number">1.2.3</span> etc.</h3>
<ul>
<li>0000-00-00, [Data Governance Solutions, 데이터 관리 솔루션]</li>
<li>0000-00-00, [Metadata Management, 메타데이터 관리]</li>
<li>0000-00-00, [Data Integration, 데이터 통합]</li>
<li>0000-00-00, [Data Security, 데이터 보안]</li>
</ul>


</section>
</section>
</section>

 ]]></description>
  <category>Data Governance</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Governance/</guid>
  <pubDate>Tue, 31 Dec 2109 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Epidemiology</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Experimentation/Epidemiology/</link>
  <description><![CDATA[ 





<section id="contents" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Contents</h1>
<section id="learning-path-for-experimentation" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="learning-path-for-experimentation"><span class="header-section-number">1.1</span> Learning Path for Experimentation</h2>
<p><strong>Priority Topics for Experimentation:</strong> 1. <strong>Experimental Studies → RCT</strong> (A/B Testing 직접 원형) 2. <strong>Causal Inference</strong> (전체 섹션 - 실험의 이론적 기초) 3. <strong>Effect Modification</strong> (Heterogeneous Treatment Effects) 4. <strong>Sample Size and Power</strong> (실험 설계 필수) 5. <strong>Propensity Score Methods</strong> (Observational causal inference)</p>
<p><strong>Recommended Study Order:</strong></p>
<p>Phase 1 (1-2주): Foundations + Study Designs → Focus on RCT and experimental principles</p>
<p>Phase 2 (1주): Measures of Association and Impact → Effect measures calculation practice</p>
<p>Phase 3 (2주): Causal Inference ⭐ → DAG practice, Counterfactual framework → Most critical for experimentation</p>
<p>Phase 4 (1주): Bias and Confounding + Study Fundamentals → Sample size calculations → Validity considerations</p>
<p>Phase 5 (선택): Advanced Topics → As needed for specific applications</p>
</section>
<section id="foundations" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="foundations"><span class="header-section-number">1.2</span> Foundations</h2>
<ul>
<li>1111-11-11, <a href="./foundations/concepts.qmd">Epidemiologic Concepts</a>
<ul>
<li>1111-11-11, <a href="./foundations/incidence_prevalence.qmd">Incidence vs.&nbsp;Prevalence (발생률 vs.&nbsp;유병률)</a></li>
<li>1111-11-11, <a href="./foundations/population_at_risk.qmd">Population at Risk (위험인구)</a></li>
<li>1111-11-11, <a href="./foundations/exposure_outcome.qmd">Exposure and Outcome (노출과 결과)</a></li>
</ul></li>
<li>1111-11-11, <a href="./foundations/framework.qmd">Study Design Framework (연구설계 프레임워크)</a>
<ul>
<li>1111-11-11, <a href="./foundations/descriptive_analytical.qmd">Descriptive vs.&nbsp;Analytical Studies (기술 vs.&nbsp;분석 연구)</a></li>
<li>1111-11-11, <a href="./foundations/observational_experimental.qmd">Observational vs.&nbsp;Experimental Studies (관찰 vs.&nbsp;실험 연구)</a></li>
<li>1111-11-11, <a href="./foundations/time_relationship.qmd">Time Relationship (시간적 관계)</a></li>
</ul></li>
</ul>
</section>
<section id="study-designs" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="study-designs"><span class="header-section-number">1.3</span> Study Designs</h2>
<ul>
<li>2023-02-27, Types of Study Designs in Epidemiology
<ul>
<li>1111-11-11, Descriptive Studies (기술연구)
<ul>
<li>1111-11-11, <a href="./descriptive/case_reports.qmd">Case Reports and Case Series (증례보고 및 증례군)</a></li>
<li>1111-11-11, <a href="./descriptive/ecological.qmd">Ecological Studies (생태학적 연구)</a></li>
</ul></li>
<li>1111-11-11, Observational Analytical Studies (관찰 분석연구)
<ul>
<li>1111-11-11, <a href="./observational/cross_sectional.qmd">Cross-sectional Studies (단면연구)</a></li>
<li>1111-11-11, <a href="./observational/case_control.qmd">Case-control Studies (환자-대조군 연구)</a></li>
<li>1111-11-11, <a href="./observational/cohort.qmd">Cohort Studies (코호트 연구)</a>
<ul>
<li>1111-11-11, <a href="./observational/cohort_prospective.qmd">Prospective Cohort (전향적 코호트)</a></li>
<li>1111-11-11, <a href="./observational/cohort_retrospective.qmd">Retrospective Cohort (후향적 코호트)</a></li>
</ul></li>
</ul></li>
<li>1111-11-11, Experimental Studies (실험연구) ⭐
<ul>
<li>1111-11-11, <a href="./experimental/rct.qmd">Randomized Controlled Trial (무작위 대조 시험)</a> ⭐</li>
<li>1111-11-11, <a href="./experimental/quasi_experimental.qmd">Quasi-experimental Studies (준실험 연구)</a></li>
<li>1111-11-11, <a href="./experimental/before_after.qmd">Before-after Studies (전후 연구)</a></li>
<li>1111-11-11, <a href="./experimental/factorial_design.qmd">Factorial Design (요인 설계)</a></li>
</ul></li>
<li>1111-11-11, Evidence Synthesis (근거 통합)
<ul>
<li>1111-11-11, <a href="./synthesis/systematic_review.qmd">Systematic Reviews (체계적 문헌고찰)</a></li>
<li>1111-11-11, <a href="./synthesis/meta_analysis.qmd">Meta-analyses (메타분석)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="measures-of-association-and-impact" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="measures-of-association-and-impact"><span class="header-section-number">1.4</span> Measures of Association and Impact</h2>
<ul>
<li>2023-05-23, <a href="./measures_overview.qmd">Measures in Epidemiology</a>
<ul>
<li>1111-11-11, Contingency Tables and Basic Measures (분할표와 기본 측정)
<ul>
<li>1111-11-11, <a href="./measures/contingency_table.qmd">2x2 Contingency Tables (2x2 분할표)</a></li>
<li>1111-11-11, <a href="./measures/risk_rate_odds.qmd">Risk, Rate, and Odds (위험, 비율, 오즈)</a></li>
</ul></li>
<li>1111-11-11, Measures of Association (연관성 지표)
<ul>
<li>1111-11-11, <a href="./measures/relative_risk.qmd">Relative Risk (상대위험도)</a></li>
<li>1111-11-11, <a href="./measures/odds_ratio.qmd">Odds Ratio (오즈비)</a></li>
<li>1111-11-11, <a href="./measures/rate_ratio.qmd">Rate Ratio (비율비)</a></li>
</ul></li>
<li>1111-11-11, Measures of Effect (효과 지표)
<ul>
<li>1111-11-11, <a href="./measures/risk_difference.qmd">Risk Difference (위험차이)</a></li>
<li>1111-11-11, <a href="./measures/rrr.qmd">Relative Risk Reduction (상대위험감소)</a></li>
<li>1111-11-11, <a href="./measures/arr.qmd">Absolute Risk Reduction (절대위험감소)</a></li>
<li>1111-11-11, <a href="./measures/nnt.qmd">Number Needed to Treat (치료필요수)</a></li>
</ul></li>
<li>1111-11-11, Measures of Impact (영향 지표)
<ul>
<li>1111-11-11, <a href="./measures/attributable_risk.qmd">Attributable Risk (기여위험도)</a></li>
<li>1111-11-11, <a href="./measures/ar_percent.qmd">Attributable Risk Percent (기여위험분율)</a></li>
<li>1111-11-11, <a href="./measures/population_attributable_risk.qmd">Population Attributable Risk (인구기여위험도)</a></li>
<li>1111-11-11, <a href="./measures/par_percent.qmd">Population Attributable Risk Percent (인구기여위험분율)</a></li>
</ul></li>
<li>1111-11-11, Statistical Inference (통계적 추론)
<ul>
<li>1111-11-11, <a href="./measures/confidence_intervals.qmd">Confidence Intervals (신뢰구간)</a></li>
<li>1111-11-11, <a href="./measures/hypothesis_testing.qmd">Hypothesis Testing (가설 검정)</a></li>
<li>1111-11-11, <a href="./measures/p_values.qmd">p-values and Interpretation (p-값과 해석)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="causal-inference" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="causal-inference"><span class="header-section-number">1.5</span> Causal Inference ⭐</h2>
<ul>
<li>1111-11-11, <a href="./causation/index.qmd">Causation in Epidemiology (역학에서의 인과관계)</a>
<ul>
<li>1111-11-11, Causation Concepts (인과관계 개념)
<ul>
<li>1111-11-11, <a href="./causation/necessary_sufficient.qmd">Necessary vs.&nbsp;Sufficient Causes (필요조건 vs.&nbsp;충분조건)</a></li>
<li>1111-11-11, <a href="./causation/component_causes.qmd">Component Causes (구성요인)</a></li>
<li>1111-11-11, <a href="./causation/induction_period.qmd">Induction Period (유도기간)</a></li>
</ul></li>
<li>1111-11-11, <a href="./causation/bradford_hill.qmd">Bradford Hill Criteria (Bradford Hill 기준)</a>
<ul>
<li>1111-11-11, <a href="./causation/strength.qmd">Strength of Association (연관성의 강도)</a></li>
<li>1111-11-11, <a href="./causation/consistency.qmd">Consistency and Replication (일관성과 재현성)</a></li>
<li>1111-11-11, <a href="./causation/specificity.qmd">Specificity (특이성)</a></li>
<li>1111-11-11, <a href="./causation/temporality.qmd">Temporality (시간적 선후관계)</a></li>
<li>1111-11-11, <a href="./causation/dose_response.qmd">Biological Gradient (생물학적 기울기)</a></li>
<li>1111-11-11, <a href="./causation/plausibility.qmd">Plausibility and Coherence (개연성과 일관성)</a></li>
<li>1111-11-11, <a href="./causation/experiment_analogy.qmd">Experiment and Analogy (실험과 유추)</a></li>
</ul></li>
<li>1111-11-11, <a href="./causation/counterfactual.qmd">Counterfactual Framework (반사실적 프레임워크)</a> ⭐
<ul>
<li>1111-11-11, <a href="./causation/potential_outcomes.qmd">Potential Outcomes (잠재결과)</a></li>
<li>1111-11-11, <a href="./causation/ate.qmd">Average Treatment Effect (평균 처치효과)</a></li>
<li>1111-11-11, <a href="./causation/sutva.qmd">SUTVA (안정단위처치값 가정)</a></li>
</ul></li>
<li>1111-11-11, <a href="./causation/dag.qmd">Directed Acyclic Graphs (방향성 비순환 그래프)</a> ⭐
<ul>
<li>1111-11-11, <a href="./causation/causal_pathways.qmd">Causal Pathways (인과 경로)</a></li>
<li>1111-11-11, <a href="./causation/confounding_paths.qmd">Confounding Paths (교란 경로)</a></li>
<li>1111-11-11, <a href="./causation/colliders.qmd">Colliders and Selection Bias (충돌자와 선택 편향)</a></li>
<li>1111-11-11, <a href="./causation/d_separation.qmd">d-separation (d-분리)</a></li>
</ul></li>
<li>1111-11-11, <a href="./causation/propensity_score.qmd">Propensity Score Methods (성향점수 방법)</a>
<ul>
<li>1111-11-11, <a href="./causation/ps_matching.qmd">Propensity Score Matching (성향점수 매칭)</a></li>
<li>1111-11-11, <a href="./causation/iptw.qmd">Inverse Probability Weighting (역확률 가중)</a></li>
<li>1111-11-11, <a href="./causation/ps_stratification.qmd">Propensity Score Stratification (성향점수 층화)</a></li>
<li>1111-11-11, <a href="./causation/ps_adjustment.qmd">Covariate Adjustment (공변량 조정)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="bias-and-confounding" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="bias-and-confounding"><span class="header-section-number">1.6</span> Bias and Confounding</h2>
<ul>
<li>1111-11-11, <a href="./bias/index.qmd">Bias in Epidemiologic Studies (역학 연구의 편향)</a>
<ul>
<li>1111-11-11, Types of Bias (편향의 종류)
<ul>
<li>1111-11-11, <a href="./bias/selection_bias.qmd">Selection Bias (선택 편향)</a></li>
<li>1111-11-11, <a href="./bias/information_bias.qmd">Information Bias (정보 편향)</a></li>
<li>1111-11-11, <a href="./bias/misclassification.qmd">Misclassification Bias (오분류 편향)</a>
<ul>
<li>1111-11-11, <a href="./bias/nondifferential.qmd">Non-differential Misclassification (비차별적 오분류)</a></li>
<li>1111-11-11, <a href="./bias/differential.qmd">Differential Misclassification (차별적 오분류)</a></li>
</ul></li>
</ul></li>
</ul></li>
<li>1111-11-11, <a href="./confounding/index.qmd">Confounding (교란)</a>
<ul>
<li>1111-11-11, <a href="./confounding/definition.qmd">Definition and Criteria (정의와 기준)</a></li>
<li>1111-11-11, <a href="./confounding/positive_negative.qmd">Positive vs.&nbsp;Negative Confounding (양성 vs.&nbsp;음성 교란)</a></li>
<li>1111-11-11, <a href="./confounding/residual.qmd">Residual Confounding (잔여 교란)</a></li>
</ul></li>
<li>1111-11-11, <a href="./effect_modification/index.qmd">Effect Modification (효과 수정)</a> ⭐
<ul>
<li>1111-11-11, <a href="./effect_modification/vs_confounding.qmd">vs.&nbsp;Confounding (교란과의 구분)</a></li>
<li>1111-11-11, <a href="./effect_modification/statistical_interaction.qmd">Statistical Interaction (통계적 상호작용)</a></li>
<li>1111-11-11, <a href="./effect_modification/biological_interaction.qmd">Biological Interaction (생물학적 상호작용)</a></li>
</ul></li>
<li>1111-11-11, <a href="./control/index.qmd">Control Methods (통제 방법)</a>
<ul>
<li>1111-11-11, Design Stage Methods (설계 단계 방법)
<ul>
<li>1111-11-11, <a href="./control/restriction.qmd">Restriction (제한)</a></li>
<li>1111-11-11, <a href="./control/matching.qmd">Matching (매칭)</a></li>
</ul></li>
<li>1111-11-11, Analysis Stage Methods (분석 단계 방법)
<ul>
<li>1111-11-11, <a href="./control/stratification.qmd">Stratification Analysis (층화 분석)</a></li>
<li>1111-11-11, <a href="./control/standardization.qmd">Standardization (표준화)</a></li>
<li>1111-11-11, <a href="./control/regression_adjustment.qmd">Regression Adjustment (회귀 조정)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="study-design-fundamentals" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="study-design-fundamentals"><span class="header-section-number">1.7</span> Study Design Fundamentals</h2>
<ul>
<li>1111-11-11, <a href="./fundamentals/sample_size_power.qmd">Sample Size and Power (표본 크기와 검정력)</a> ⭐
<ul>
<li>1111-11-11, <a href="./fundamentals/type1_error.qmd">Type I Error (1종 오류, α)</a></li>
<li>1111-11-11, <a href="./fundamentals/type2_error.qmd">Type II Error (2종 오류, β)</a></li>
<li>1111-11-11, <a href="./fundamentals/power.qmd">Statistical Power (통계적 검정력, 1-β)</a></li>
<li>1111-11-11, <a href="./fundamentals/effect_size.qmd">Effect Size (효과 크기)</a></li>
<li>1111-11-11, <a href="./fundamentals/sample_size_calc.qmd">Sample Size Calculation (표본 크기 계산)</a></li>
</ul></li>
<li>1111-11-11, <a href="./fundamentals/randomization.qmd">Randomization Methods (무작위 배정 방법)</a>
<ul>
<li>1111-11-11, <a href="./fundamentals/simple_random.qmd">Simple Randomization (단순 무작위배정)</a></li>
<li>1111-11-11, <a href="./fundamentals/block_random.qmd">Block Randomization (블록 무작위배정)</a></li>
<li>1111-11-11, <a href="./fundamentals/stratified_random.qmd">Stratified Randomization (층화 무작위배정)</a></li>
</ul></li>
<li>1111-11-11, <a href="./fundamentals/validity.qmd">Validity in Epidemiologic Studies (역학 연구의 타당도)</a>
<ul>
<li>1111-11-11, <a href="./fundamentals/internal_validity.qmd">Internal Validity (내적 타당도)</a></li>
<li>1111-11-11, <a href="./fundamentals/external_validity.qmd">External Validity (외적 타당도)</a></li>
<li>1111-11-11, <a href="./fundamentals/construct_validity.qmd">Construct Validity (구성 타당도)</a></li>
</ul></li>
</ul>
</section>
<section id="screening-and-diagnostic-tests" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="screening-and-diagnostic-tests"><span class="header-section-number">1.8</span> Screening and Diagnostic Tests</h2>
<ul>
<li>1111-11-11, <a href="./screening/index.qmd">Evaluation of Diagnostic Tests (진단검사 평가)</a>
<ul>
<li>1111-11-11, Test Performance Measures (검사 성능 지표)
<ul>
<li>1111-11-11, <a href="./screening/sensitivity.qmd">Sensitivity (민감도, True Positive Rate)</a></li>
<li>1111-11-11, <a href="./screening/specificity.qmd">Specificity (특이도, True Negative Rate)</a></li>
<li>1111-11-11, <a href="./screening/ppv.qmd">Positive Predictive Value (양성 예측도, PPV)</a></li>
<li>1111-11-11, <a href="./screening/npv.qmd">Negative Predictive Value (음성 예측도, NPV)</a></li>
</ul></li>
<li>1111-11-11, <a href="./screening/likelihood_ratios.qmd">Likelihood Ratios (우도비)</a>
<ul>
<li>1111-11-11, <a href="./screening/lr_positive.qmd">Positive Likelihood Ratio (양성 우도비, LR+)</a></li>
<li>1111-11-11, <a href="./screening/lr_negative.qmd">Negative Likelihood Ratio (음성 우도비, LR-)</a></li>
<li>1111-11-11, <a href="./screening/pretest_posttest.qmd">Pre-test to Post-test Probability (사전-사후 확률)</a></li>
</ul></li>
<li>1111-11-11, Trade-offs and Optimization (상충관계와 최적화)
<ul>
<li>1111-11-11, <a href="./screening/roc_curve.qmd">ROC Curve (ROC 곡선)</a></li>
<li>1111-11-11, <a href="./screening/auc.qmd">Area Under Curve (곡선하면적, AUC)</a></li>
<li>1111-11-11, <a href="./screening/cutpoint.qmd">Optimal Cut-point Selection (최적 절단값 선택)</a></li>
</ul></li>
<li>1111-11-11, <a href="./screening/bayesian.qmd">Bayesian Interpretation (베이지안 해석)</a>
<ul>
<li>1111-11-11, <a href="./screening/bayes_theorem.qmd">Bayes’ Theorem Connection (베이즈 정리와의 연결)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="survival-analysis" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="survival-analysis"><span class="header-section-number">1.9</span> Survival Analysis</h2>
<ul>
<li>1111-11-11, <a href="./survival/index.qmd">Time-to-Event Analysis (시간-사건 분석)</a>
<ul>
<li>1111-11-11, Basic Concepts (기본 개념)
<ul>
<li>1111-11-11, <a href="./survival/censoring.qmd">Censoring (중도절단)</a></li>
<li>1111-11-11, <a href="./survival/survival_function.qmd">Survival Function (생존함수)</a></li>
<li>1111-11-11, <a href="./survival/hazard_function.qmd">Hazard Function (위험함수)</a></li>
</ul></li>
<li>1111-11-11, <a href="./survival/kaplan_meier.qmd">Kaplan-Meier Method (Kaplan-Meier 방법)</a>
<ul>
<li>1111-11-11, <a href="./survival/nonparametric.qmd">Non-parametric Estimation (비모수 추정)</a></li>
<li>1111-11-11, <a href="./survival/logrank_test.qmd">Log-rank Test (로그순위 검정)</a></li>
</ul></li>
<li>1111-11-11, <a href="./survival/cox_model.qmd">Cox Proportional Hazards Model (Cox 비례위험모형)</a>
<ul>
<li>1111-11-11, <a href="./survival/semiparametric.qmd">Semi-parametric Model (준모수 모형)</a></li>
<li>1111-11-11, <a href="./survival/hazard_ratio.qmd">Hazard Ratio (위험비)</a></li>
<li>1111-11-11, <a href="./survival/ph_assumption.qmd">Proportional Hazards Assumption (비례위험 가정)</a></li>
</ul></li>
<li>1111-11-11, Advanced Survival Topics (고급 생존분석 주제)
<ul>
<li>1111-11-11, <a href="./survival/competing_risks.qmd">Competing Risks (경쟁위험)</a></li>
<li>1111-11-11, <a href="./survival/recurrent_events.qmd">Recurrent Events (반복사건)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="advanced-topics" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="advanced-topics"><span class="header-section-number">1.10</span> Advanced Topics</h2>
<ul>
<li>1111-11-11, <a href="./advanced/designs/index.qmd">Advanced Study Designs (고급 연구설계)</a>
<ul>
<li>1111-11-11, <a href="./advanced/designs/cluster_rct.qmd">Cluster Randomized Trials (군집 무작위 시험)</a></li>
<li>1111-11-11, <a href="./advanced/designs/stepped_wedge.qmd">Stepped Wedge Designs (단계적 쐐기 설계)</a></li>
<li>1111-11-11, <a href="./advanced/designs/adaptive.qmd">Adaptive Designs (적응형 설계)</a></li>
<li>1111-11-11, <a href="./advanced/designs/platform_trials.qmd">Platform Trials (플랫폼 시험)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/causal/index.qmd">Advanced Causal Methods (고급 인과추론 방법)</a>
<ul>
<li>1111-11-11, <a href="./advanced/causal/instrumental_variables.qmd">Instrumental Variables (도구변수)</a></li>
<li>1111-11-11, <a href="./advanced/causal/rdd.qmd">Regression Discontinuity Design (회귀불연속 설계)</a></li>
<li>1111-11-11, <a href="./advanced/causal/did.qmd">Difference-in-Differences (이중차분법)</a></li>
<li>1111-11-11, <a href="./advanced/causal/synthetic_control.qmd">Synthetic Control Methods (합성 통제 방법)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/stats/index.qmd">Advanced Statistical Methods (고급 통계 방법)</a>
<ul>
<li>1111-11-11, <a href="./advanced/stats/multilevel_modeling.qmd">Multilevel/Hierarchical Modeling (다층/계층 모델링)</a></li>
<li>1111-11-11, <a href="./advanced/stats/meta_analysis.qmd">Meta-analysis (메타분석)</a>
<ul>
<li>1111-11-11, <a href="./advanced/stats/fixed_effects.qmd">Fixed Effects Model (고정효과 모형)</a></li>
<li>1111-11-11, <a href="./advanced/stats/random_effects.qmd">Random Effects Model (무선효과 모형)</a></li>
<li>1111-11-11, <a href="./advanced/stats/meta_regression.qmd">Meta-regression (메타회귀분석)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/stats/missing_data.qmd">Missing Data Methods (결측치 처리 방법)</a>
<ul>
<li>1111-11-11, <a href="./advanced/stats/missing_mechanisms.qmd">MCAR, MAR, MNAR (결측 메커니즘)</a></li>
<li>1111-11-11, <a href="./advanced/stats/multiple_imputation.qmd">Multiple Imputation (다중대체)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/stats/measurement_error.qmd">Measurement Error Models (측정 오차 모형)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/special/index.qmd">Special Topics (특수 주제)</a>
<ul>
<li>1111-11-11, <a href="./advanced/special/time_varying_confounding.qmd">Time-varying Confounding (시간가변 교란)</a></li>
<li>1111-11-11, <a href="./advanced/special/mediation.qmd">Mediation Analysis (매개분석)</a></li>
<li>1111-11-11, <a href="./advanced/special/g_methods.qmd">G-methods (G-방법)</a>
<ul>
<li>1111-11-11, <a href="./advanced/special/g_computation.qmd">G-computation (G-계산)</a></li>
<li>1111-11-11, <a href="./advanced/special/ipw.qmd">Inverse Probability Weighting (역확률 가중)</a></li>
<li>1111-11-11, <a href="./advanced/special/g_estimation.qmd">G-estimation (G-추정)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/special/sensitivity_analysis.qmd">Sensitivity Analysis (민감도 분석)</a></li>
</ul></li>
</ul>


</section>
</section>

 ]]></description>
  <category>Epidemiology</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Experimentation/Epidemiology/</guid>
  <pubDate>Sun, 28 Feb 2100 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Mathematics</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Math/</link>
  <description><![CDATA[ 





<section id="contents" class="level1" data-number="1">

<section id="basic" class="level2" data-number="1.1">

<ul>
<li>2023-03-24, <a href="./variables/index.qmd">Variable types</a></li>
<li>1111-11-11, <a href="./function/index.qmd">Function</a>
<ul>
<li>2023-01-31, <a href="../../../../docs/blog/posts/Math/function/univariable_scalar_function.html">Function (1) - Univariable Scalar Function (One to One)</a></li>
<li>2023-01-31, <a href="../../../../docs/blog/posts/Math/function/multivariable_scalar_function.html">Function (2) - Multi-variable Scalar Function (Many to One)</a></li>
<li>2023-01-31, <a href="../../../../docs/blog/posts/Math/function/univariable_vector_function.html">Function (3) - Univariable Vector Function (One to Many)</a></li>
<li>2023-01-31, <a href="../../../../docs/blog/posts/Math/function/mutivariable_vector_function.html">Function (4) - Multi-variable Vector Function (Many to Many)</a></li>
<li>2023-02-18, <a href="../../../../docs/blog/posts/Math/function/composite_function.html">Function (5) - Composite Function</a></li>
</ul></li>
<li>2023-02-18, <a href="./transformation/index.qmd">Transformations of Functions</a></li>
<li>1111-11-11, Vector &amp; Matrix</li>
<li>2023-03-15, <a href="./epsilon_delta/">Limit, <img src="https://latex.codecogs.com/png.latex?%5Cepsilon-%5Cdelta"> Method</a></li>
<li>Differentiation
<ul>
<li>2023-02-04, <a href="./differentiation/2023-02-04_uni_derivative.qmd">Derivative (1) - Univariable Scalar Funtion</a></li>
<li>1111-11-11, <a href="./differentiation/2023-02-10_composite_partial_derivative.qmd">Derivative (2) - Chain Rule &amp; Partial Derivative</a></li>
<li>1111-11-11, Derivative (3) - Higher Order Derivative</li>
<li>1111-11-11, Derivative (4) - Mean Value Theorem</li>
<li>1111-11-11, Derivative (5) - Gradient</li>
</ul></li>
<li>2023-03-15, <a href="./taylor_series/index.qmd">Talyer’s Series</a></li>
<li>1111-11-11, Gradient Direction</li>
<li>1111-11-11, Random Variable</li>
<li>1111-11-11, Probability Distribution</li>
<li>1111-11-11, Information Theory - Entropy</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
</ul>
</section>
<section id="linear-algebra" class="level2" data-number="1.2">

<ul>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/01.basic_vector.html">Basic Vector(1) - Vector Operations</a></li>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/02.norm_dot-product.html">Basic Vector(2) - Vector Norm and Dot Product”</a></li>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/03.vector_equation.html">Basic Vector(3) - Vector Equation</a></li>
<li>2023-03-30, Basic Matrix(1) - Matrix Operation</li>
<li>2023-03-30, Basic Matrix(2) - Matrix Multiplication</li>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/06.system_of_lineqr_equations.html">Basic Matrix(3) - System of Linear Equations</a></li>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/09.special_matrix.html">Basic Matrix(4) - Special Matrix</a></li>
<li>2023-04-14, [Lineqr Equations]</li>
<li>2023-04-14, [Vector Space and Subspaces]</li>
<li>2023-04-21, [Orthogonality]</li>
<li>1111-11-11, [Determinants]</li>
<li>1111-11-11, [Eigen Value &amp; Eigen Vector]</li>
<li>1111-11-11, [Linear Transformations]</li>
<li>1111-11-11, Basis, Dimension, &amp; Rank</li>
<li>1111-11-11,</li>
<li>1111-11-11, Eigen Decomposition</li>
<li>1111-11-11, Singular Value Decomposition (SVD)</li>
<li>1111-11-11, Group</li>
<li>1111-11-11, Rotation &amp; Group</li>
<li>2023-04-02, <a href="./linear_algebra/quadratic_form.qmd">Matrix Transformation (5) - Quadratic Form</a></li>
<li>2023-04-02, <a href="../../../../docs/blog/posts/Math/linear_algebra/derivative_matrix_vector.html">Matrix Calculus (1) - Quadratic Form</a></li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
</ul>
</section>
<section id="optimization" class="level2" data-number="1.3">

<ul>
<li>2023-03-23, <a href="./optimization/minimizer.qmd">Minimizer &amp; Minimum</a></li>
<li>1111-11-11, Convex Set</li>
<li>1111-11-11, Convex Function</li>
<li>1111-11-11, Unconstrained Optimization</li>
<li>1111-11-11, Non-linear Least Square</li>
<li>1111-11-11, Largrange Multiplier Method
<ul>
<li>1111-11-11, Largrange Primal Function</li>
<li>1111-11-11, Largrange Dual Function</li>
<li>1111-11-11, KKT conditions</li>
</ul></li>
<li>1111-11-11, Gradient Descent Optimizers</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
</ul>


</section>
</section>

 ]]></description>
  <category>Mathematics</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Math/</guid>
  <pubDate>Sun, 28 Feb 2100 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure AI Search Multimodal Search</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/31-az-ai-search-classic-multimodal-search.html</link>
  <description><![CDATA[ 





<section id="개요" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 개요</h1>
<p><strong>Multimodal Search</strong>는 텍스트, 이미지, 비디오, 오디오 등 여러 콘텐츠 형식에서 정보를 수집, 이해, 검색하는 기능이다. Azure AI Search는 텍스트와 이미지가 포함된 문서를 처리하여 두 형식을 결합한 검색을 지원한다.</p>
<section id="왜-multimodal-search인가" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="왜-multimodal-search인가"><span class="header-section-number">1.1</span> 왜 Multimodal Search인가?</h2>
<p>전통적으로 멀티모달 검색은 텍스트와 이미지 처리를 위한 <strong>별도의 시스템</strong>이 필요하며, 사용자 지정 코드와 복잡한 구성이 요구된다. 이는 높은 비용, 복잡성, 유지보수 부담을 야기한다.</p>
<p><strong>Azure AI Search의 해결책</strong>: 이미지를 텍스트와 동일한 검색 파이프라인에 통합하여 단일 멀티모달 파이프라인으로 처리한다.</p>
<section id="주요-장점" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="주요-장점"><span class="header-section-number">1.1.1</span> 주요 장점</h3>
<ul>
<li><strong>통합 파이프라인</strong>: 차트, 스크린샷, 인포그래픽, 스캔 양식 등의 시각적 데이터를 텍스트와 함께 처리</li>
<li><strong>RAG 시나리오 최적화</strong>: 이미지의 구조적 논리를 해석하여 RAG 애플리케이션과 AI 에이전트가 중요한 시각적 세부 정보를 활용 가능</li>
<li><strong>정확한 인용</strong>: 원본 형식(텍스트/이미지)에 관계없이 원래 소스로 추적 가능한 답변 제공</li>
</ul>
<p><strong>실제 사례</strong>: “HR 양식 승인 프로세스는 무엇인가요?”라는 질문에 대해, 프로세스 설명이 PDF의 다이어그램에만 있어도 답변 가능</p>
</section>
</section>
</section>
<section id="multimodal-search-작동-원리" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Multimodal Search 작동 원리</h1>
<section id="단계-파이프라인" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="단계-파이프라인"><span class="header-section-number">2.1</span> 5단계 파이프라인</h2>
<p>Azure AI Search는 <strong>Azure Portal의 “데이터 가져오기” 마법사</strong>를 통해 멀티모달 파이프라인 구축을 간소화한다.</p>
<section id="단계별-처리-흐름" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="단계별-처리-흐름"><span class="header-section-number">2.1.1</span> 단계별 처리 흐름</h3>
<p>```mermaid graph TD A[1. 콘텐츠 추출] –&gt; B[2. 텍스트 청킹] A –&gt; C[3. 이미지 설명 생성] B –&gt; D[4. 임베딩 생성] C –&gt; D A –&gt; E[5. 이미지 저장] D –&gt; F[검색 인덱스] E –&gt; G[지식 저장소] ```</p>
</section>
<section id="각-단계-상세" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="각-단계-상세"><span class="header-section-number">2.1.2</span> 각 단계 상세</h3>
<section id="콘텐츠-추출" class="level4" data-number="2.1.2.1">
<h4 data-number="2.1.2.1" class="anchored" data-anchor-id="콘텐츠-추출"><span class="header-section-number">2.1.2.1</span> 콘텐츠 추출</h4>
<p>3가지 기본 제공 기술 중 선택: - <strong>Document Extraction Skill</strong>: 기본 추출 - <strong>Document Layout Skill</strong>: 위치 메타데이터 포함 (페이지 번호, 경계 영역) - <strong>Azure Content Understanding Skill</strong>: 의미 기반 청킹, 페이지 간 테이블 처리</p>
</section>
<section id="텍스트-청킹" class="level4" data-number="2.1.2.2">
<h4 data-number="2.1.2.2" class="anchored" data-anchor-id="텍스트-청킹"><span class="header-section-number">2.1.2.2</span> 텍스트 청킹</h4>
<p><strong>Text Split Skill</strong>이 추출된 텍스트를 관리 가능한 청크로 분할하여 임베딩 기술이 처리할 수 있게 준비한다.</p>
</section>
<section id="이미지-설명-생성-선택" class="level4" data-number="2.1.2.3">
<h4 data-number="2.1.2.3" class="anchored" data-anchor-id="이미지-설명-생성-선택"><span class="header-section-number">2.1.2.3</span> 이미지 설명 생성 (선택)</h4>
<p><strong>GenAI Prompt Skill</strong>이 LLM을 호출하여 각 이미지에 대한 간결한 자연어 설명을 생성한다. - 예: “관리자 승인으로 시작하는 5단계 HR 액세스 워크플로”</p>
</section>
<section id="임베딩-생성" class="level4" data-number="2.1.2.4">
<h4 data-number="2.1.2.4" class="anchored" data-anchor-id="임베딩-생성"><span class="header-section-number">2.1.2.4</span> 임베딩 생성</h4>
<p>텍스트와 이미지의 벡터 표현을 생성하여 유사성 검색 및 하이브리드 검색 지원: - <strong>Azure OpenAI Embedding Skill</strong> - <strong>Microsoft Foundry Embedding Model</strong> - <strong>Azure Vision Multimodal Embedding Skill</strong></p>
</section>
<section id="이미지-저장" class="level4" data-number="2.1.2.5">
<h4 data-number="2.1.2.5" class="anchored" data-anchor-id="이미지-저장"><span class="header-section-number">2.1.2.5</span> 이미지 저장</h4>
<p><strong>지식 저장소(Knowledge Store)</strong>에 추출된 이미지를 저장하여 클라이언트 애플리케이션이 직접 반환할 수 있게 한다. 이미지 위치는 인덱스에 저장되어 쿼리 시 편리하게 검색 가능하다.</p>
</section>
</section>
</section>
<section id="azure-portal-마법사" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="azure-portal-마법사"><span class="header-section-number">2.2</span> Azure Portal 마법사</h2>
<p><strong>빠른 시작</strong>: <a href="https://learn.microsoft.com/ko-kr/azure/search/search-get-started-portal-image-search">Azure Portal에서 멀티모달 검색</a></p>
<p>마법사를 통해 다음을 구성: - 데이터 원본 - 추출 및 보강 설정 - 텍스트, 이미지 참조, 벡터 임베딩이 포함된 멀티모달 인덱스</p>
</section>
</section>
<section id="콘텐츠-추출-옵션-비교" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> 콘텐츠 추출 옵션 비교</h1>
<p>Azure AI Search는 3가지 기본 제공 추출 기술을 제공한다.</p>
<section id="기술별-기능-비교" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="기술별-기능-비교"><span class="header-section-number">3.1</span> 기술별 기능 비교</h2>
<table class="table">
<colgroup>
<col style="width: 8%">
<col style="width: 27%">
<col style="width: 23%">
<col style="width: 39%">
</colgroup>
<thead>
<tr class="header">
<th>기능</th>
<th>Document Extraction</th>
<th>Document Layout</th>
<th>Azure Content Understanding</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>텍스트 위치 메타데이터</strong></td>
<td>❌</td>
<td>✅ (페이지, 경계 다각형)</td>
<td>✅ (페이지, 경계 다각형)</td>
</tr>
<tr class="even">
<td><strong>이미지 위치 메타데이터</strong></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td><strong>테이블 추출</strong></td>
<td>❌</td>
<td>❌</td>
<td>✅ (페이지 간 포함)</td>
</tr>
<tr class="even">
<td><strong>교차 페이지 의미 단위</strong></td>
<td>N/A</td>
<td>❌ (단일 페이지만)</td>
<td>✅</td>
</tr>
<tr class="odd">
<td><strong>기본 제공 청킹</strong></td>
<td>❌ (Text Split 사용)</td>
<td>✅ (단락 경계)</td>
<td>✅ (의미 기반)</td>
</tr>
<tr class="even">
<td><strong>지원 파일 형식</strong></td>
<td>PDF만</td>
<td>다중 형식 (DI Layout)</td>
<td>PDF, DOCX, XLSX, PPTX</td>
</tr>
<tr class="odd">
<td><strong>과금 기준</strong></td>
<td>Azure AI Search 가격</td>
<td>Document Layout 가격</td>
<td>Content Understanding 가격</td>
</tr>
</tbody>
</table>
</section>
<section id="권장-시나리오" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="권장-시나리오"><span class="header-section-number">3.2</span> 권장 시나리오</h2>
<section id="document-extraction" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="document-extraction"><span class="header-section-number">3.2.1</span> Document Extraction</h3>
<ul>
<li><strong>사용 사례</strong>: 빠른 프로토타이핑, 위치 정보가 불필요한 프로덕션 파이프라인</li>
<li><strong>장점</strong>: 구성 간단, 비용 효율적</li>
<li><strong>제약</strong>: 위치 메타데이터 없음, PDF만 지원</li>
</ul>
</section>
<section id="document-layout" class="level3" data-number="3.2.2">
<h3 data-number="3.2.2" class="anchored" data-anchor-id="document-layout"><span class="header-section-number">3.2.2</span> Document Layout</h3>
<ul>
<li><strong>사용 사례</strong>: 정확한 페이지 번호, 페이지 강조 표시, 다이어그램 오버레이가 필요한 RAG 파이프라인</li>
<li><strong>장점</strong>: 위치 메타데이터 포함, 다중 파일 형식</li>
<li><strong>제약</strong>: 단일 페이지 단위 처리</li>
</ul>
</section>
<section id="azure-content-understanding" class="level3" data-number="3.2.3">
<h3 data-number="3.2.3" class="anchored" data-anchor-id="azure-content-understanding"><span class="header-section-number">3.2.3</span> Azure Content Understanding</h3>
<ul>
<li><strong>사용 사례</strong>: 페이지 간 테이블, 의미 기반 청킹, 일관된 다중 형식 처리</li>
<li><strong>장점</strong>: 가장 포괄적, 의미 기반 청킹, 교차 페이지 처리</li>
<li><strong>제약</strong>: 높은 비용</li>
</ul>
</section>
</section>
</section>
<section id="임베딩-옵션" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> 임베딩 옵션</h1>
<p>Azure AI Search는 이미지 처리를 위한 2가지 보완적 접근법을 제공한다.</p>
<section id="이미지-언어화-텍스트-임베딩" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="이미지-언어화-텍스트-임베딩"><span class="header-section-number">4.1</span> 이미지 언어화 + 텍스트 임베딩</h2>
<section id="처리-흐름" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="처리-흐름"><span class="header-section-number">4.1.1</span> 처리 흐름</h3>
<p>``` 이미지 → GenAI Prompt Skill → 자연어 설명 → 텍스트 임베딩 ```</p>
</section>
<section id="특징" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="특징"><span class="header-section-number">4.1.2</span> 특징</h3>
<ul>
<li><strong>LLM 기반</strong>: 각 이미지에 대해 LLM 호출 (인덱싱 시)</li>
<li><strong>의미 풍부</strong>: 다이어그램의 관계와 엔터티 해석</li>
<li><strong>인용 가능</strong>: LLM이 응답에서 그대로 인용 가능한 캡션 제공</li>
<li><strong>RAG 최적화</strong>: 접지된 데이터로 관련 스니펫 반환</li>
</ul>
</section>
<section id="장점" class="level3" data-number="4.1.3">
<h3 data-number="4.1.3" class="anchored" data-anchor-id="장점"><span class="header-section-number">4.1.3</span> 장점</h3>
<ul>
<li>다이어그램, 흐름도 등 설명적 시각 자료에 최적</li>
<li>AI 에이전트와 RAG 애플리케이션에 풍부한 컨텍스트 제공</li>
</ul>
</section>
<section id="단점" class="level3" data-number="4.1.4">
<h3 data-number="4.1.4" class="anchored" data-anchor-id="단점"><span class="header-section-number">4.1.4</span> 단점</h3>
<ul>
<li>모든 이미지마다 LLM 호출 필요</li>
<li>인덱싱 시간 증가</li>
<li>비용 상승</li>
</ul>
</section>
</section>
<section id="직접-멀티모달-임베딩" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="직접-멀티모달-임베딩"><span class="header-section-number">4.2</span> 직접 멀티모달 임베딩</h2>
<section id="처리-흐름-1" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="처리-흐름-1"><span class="header-section-number">4.2.1</span> 처리 흐름</h3>
<p>``` 이미지/텍스트 → Multimodal Embedding Model → 공유 벡터 공간 ```</p>
</section>
<section id="특징-1" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="특징-1"><span class="header-section-number">4.2.2</span> 특징</h3>
<ul>
<li><strong>직접 벡터화</strong>: 이미지와 텍스트를 동일한 벡터 공간에 직접 매핑</li>
<li><strong>LLM 불필요</strong>: 인덱싱 시 LLM 호출 없음</li>
<li><strong>시각적 유사성</strong>: “이것과 비슷한 것 찾기” 시나리오에 적합</li>
</ul>
</section>
<section id="장점-1" class="level3" data-number="4.2.3">
<h3 data-number="4.2.3" class="anchored" data-anchor-id="장점-1"><span class="header-section-number">4.2.3</span> 장점</h3>
<ul>
<li>구성 간단</li>
<li>빠른 인덱싱</li>
<li>비용 효율적</li>
<li>시각적 유사성 검색에 최적</li>
</ul>
</section>
<section id="단점-1" class="level3" data-number="4.2.4">
<h3 data-number="4.2.4" class="anchored" data-anchor-id="단점-1"><span class="header-section-number">4.2.4</span> 단점</h3>
<ul>
<li>순수 수학적 표현 (의미 설명 없음)</li>
<li>인용이나 상세 설명용 컨텍스트 부족</li>
</ul>
</section>
</section>
<section id="두-방법의-결합" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="두-방법의-결합"><span class="header-section-number">4.3</span> 두 방법의 결합</h2>
<p>많은 솔루션은 <strong>두 인코딩 경로를 병행</strong>한다:</p>
<table class="table">
<thead>
<tr class="header">
<th>콘텐츠 유형</th>
<th>추천 방식</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>다이어그램, 흐름도, 설명적 시각 자료</td>
<td>이미지 언어화 + 텍스트 임베딩</td>
</tr>
<tr class="even">
<td>스크린샷, 제품 사진, 아트워크</td>
<td>직접 멀티모달 임베딩</td>
</tr>
</tbody>
</table>
<p>Azure AI Search 인덱스와 스킬셋 파이프라인을 커스터마이징하여 <strong>두 벡터 집합을 저장</strong>하고 나란히 검색 가능하다.</p>
</section>
</section>
<section id="쿼리-옵션" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> 쿼리 옵션</h1>
<section id="텍스트-쿼리-genai-prompt-기반" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="텍스트-쿼리-genai-prompt-기반"><span class="header-section-number">5.1</span> 텍스트 쿼리 (GenAI Prompt 기반)</h2>
<p>GenAI Prompt Skill로 구동되는 파이프라인에서는 <strong>하이브리드 쿼리</strong> 실행 가능: - 일반 텍스트와 언어화된 이미지 모두 검색 - 필터로 특정 콘텐츠 유형(텍스트만/이미지만) 범위 지정 - 전체 텍스트 검색 + 벡터 검색 + 의미 순위 결합</p>
<section id="제약사항" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="제약사항"><span class="header-section-number">5.1.1</span> 제약사항</h3>
<p><strong>이미지-벡터 쿼리 미지원</strong>: GenAI Prompt는 텍스트-벡터 쿼리만 지원</p>
</section>
</section>
<section id="이미지-쿼리-멀티모달-임베딩" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="이미지-쿼리-멀티모달-임베딩"><span class="header-section-number">5.2</span> 이미지 쿼리 (멀티모달 임베딩)</h2>
<p>이미지를 쿼리 입력으로 사용하려면 멀티모달 임베딩 모델 필수: - <strong>AML Skill</strong> 또는 - <strong>Azure Vision Multimodal Embedding Skill</strong></p>
<p>이들 기술만 쿼리 시 이미지를 벡터로 변환하는 <strong>벡터라이저</strong>를 제공한다.</p>
<section id="구성" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="구성"><span class="header-section-number">5.2.1</span> 구성</h3>
<p><a href="https://learn.microsoft.com/ko-kr/azure/search/vector-search-how-to-configure-vectorizer">검색 인덱스에서 벡터라이저 구성</a> 참조</p>
</section>
</section>
</section>
<section id="실습-리소스" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> 실습 리소스</h1>
<section id="빠른-시작" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="빠른-시작"><span class="header-section-number">6.1</span> 빠른 시작</h2>
<ul>
<li><strong>Azure Portal 마법사</strong>: <a href="https://learn.microsoft.com/ko-kr/azure/search/search-get-started-portal-image-search">빠른 시작: Azure Portal에서 멀티모달 검색</a>
<ul>
<li>마법사와 검색 탐색기로 멀티모달 인덱스 생성 및 테스트</li>
</ul></li>
</ul>
</section>
<section id="튜토리얼" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="튜토리얼"><span class="header-section-number">6.2</span> 튜토리얼</h2>
<section id="이미지-언어화-기반" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="이미지-언어화-기반"><span class="header-section-number">6.2.1</span> 이미지 언어화 기반</h3>
<ol type="1">
<li><strong><a href="https://learn.microsoft.com/ko-kr/azure/search/tutorial-document-extraction-image-verbalization">생성 AI로 이미지 설명하기</a></strong> (Document Extraction)
<ul>
<li>Document Extraction Skill로 텍스트/이미지 추출</li>
<li>다이어그램 언어화</li>
<li>설명과 텍스트를 검색 인덱스에 임베딩</li>
</ul></li>
<li><strong><a href="https://learn.microsoft.com/ko-kr/azure/search/tutorial-document-layout-image-verbalization">구조화된 문서 레이아웃에서 이미지 언어화</a></strong> (Document Layout)
<ul>
<li>레이아웃 기반 블록 및 다이어그램 언어화</li>
<li>위치 메타데이터 캡처</li>
<li>정확한 인용 및 페이지 강조 표시</li>
</ul></li>
</ol>
</section>
<section id="직접-멀티모달-임베딩-1" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="직접-멀티모달-임베딩-1"><span class="header-section-number">6.2.2</span> 직접 멀티모달 임베딩</h3>
<ol start="3" type="1">
<li><strong><a href="https://learn.microsoft.com/ko-kr/azure/search/tutorial-document-extraction-multimodal-embeddings">이미지 및 텍스트 벡터화</a></strong> (Document Extraction)
<ul>
<li>Vision 멀티모달 모델로 텍스트/이미지 직접 임베딩</li>
<li>스캔 PDF의 시각적 유사성 검색</li>
</ul></li>
<li><strong><a href="https://learn.microsoft.com/ko-kr/azure/search/tutorial-document-layout-multimodal-embeddings">구조화된 문서 레이아웃에서 벡터화</a></strong> (Document Layout)
<ul>
<li>레이아웃 기반 청킹 + 통합 임베딩</li>
<li>하이브리드 의미/키워드 검색</li>
<li>정확한 적중 위치 반환</li>
</ul></li>
</ol>
</section>
</section>
</section>
<section id="튜토리얼-상세-document-extraction-multimodal-embeddings" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> 튜토리얼 상세: Document Extraction + Multimodal Embeddings</h1>
<p>이 섹션은 <strong>Azure Vision 4.0 Multimodal Embedding</strong>을 사용한 구현 방법을 단계별로 설명한다.</p>
<section id="필수-구성-요소" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="필수-구성-요소"><span class="header-section-number">7.1</span> 필수 구성 요소</h2>
<section id="azure-리소스" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="azure-리소스"><span class="header-section-number">7.1.1</span> Azure 리소스</h3>
<ol type="1">
<li><strong>Azure AI Search</strong> (Basic 이상)
<ul>
<li>역할 기반 액세스 제어 및 관리 ID 구성</li>
<li>무료 계층 미지원</li>
</ul></li>
<li><strong>Microsoft Foundry 리소스</strong>
<ul>
<li>Azure Vision Multimodal 4.0 API 액세스</li>
<li>지역 제약: Multimodal 4.0 지원 지역 확인 필요</li>
</ul></li>
<li><strong>Azure Storage</strong>
<ul>
<li>샘플 데이터 저장</li>
<li>지식 저장소 (추출된 이미지)</li>
<li>검색 서비스에 Storage Blob Data Reader 역할 할당</li>
</ul></li>
</ol>
</section>
<section id="도구" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2" class="anchored" data-anchor-id="도구"><span class="header-section-number">7.1.2</span> 도구</h3>
<ul>
<li>Visual Studio Code + REST 클라이언트</li>
</ul>
</section>
</section>
<section id="데이터-준비" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="데이터-준비"><span class="header-section-number">7.2</span> 데이터 준비</h2>
<section id="샘플-데이터" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="샘플-데이터"><span class="header-section-number">7.2.1</span> 샘플 데이터</h3>
<p>36페이지 PDF 문서: <a href="https://cdn-dynmedia-1.microsoft.com/is/content/microsoftcorp/microsoft/msc/documents/presentations/CSR/Accelerating-Sustainability-with-AI-2025.pdf">Accelerating Sustainability with AI</a> - 차트, 인포그래픽, 스캔 페이지 포함</p>
</section>
<section id="스토리지-구성" class="level3" data-number="7.2.2">
<h3 data-number="7.2.2" class="anchored" data-anchor-id="스토리지-구성"><span class="header-section-number">7.2.2</span> 스토리지 구성</h3>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. Blob Container 생성</span></span>
<span id="cb1-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Container</span> Name: sustainable-ai-pdf</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. PDF 업로드</span></span>
<span id="cb1-5"></span>
<span id="cb1-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. 역할 할당 (관리 ID 사용)</span></span>
<span id="cb1-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-</span> Storage Blob Data Reader <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">인덱서용</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb1-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-</span> Storage Blob Data Contributor <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">지식</span> 저장소용<span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span></span>
<span id="cb1-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-</span> Storage Table Data Contributor <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">지식</span> 저장소용<span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span></span></code></pre></div>
</section>
<section id="연결-문자열-관리-id" class="level3" data-number="7.2.3">
<h3 data-number="7.2.3" class="anchored" data-anchor-id="연결-문자열-관리-id"><span class="header-section-number">7.2.3</span> 연결 문자열 (관리 ID)</h3>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"credentials"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"connectionString"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ResourceId=/subscriptions/{subscription-id}/resourceGroups/{resource-group}/providers/Microsoft.Storage/storageAccounts/{storage-account}/;"</span></span>
<span id="cb2-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
</section>
<section id="모델-준비" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="모델-준비"><span class="header-section-number">7.3</span> 모델 준비</h2>
<section id="foundry-역할-할당" class="level3" data-number="7.3.1">
<h3 data-number="7.3.1" class="anchored" data-anchor-id="foundry-역할-할당"><span class="header-section-number">7.3.1</span> Foundry 역할 할당</h3>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure Portal &gt; Foundry 리소스 &gt; 액세스 제어(IAM)</span></span>
<span id="cb3-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">역할:</span> Cognitive Services 사용자</span>
<span id="cb3-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">할당</span> 대상: 검색 서비스 관리 ID</span></code></pre></div>
<p><strong>중요</strong>: Foundry 리소스는 Multimodal 4.0 API 지원 지역에 있어야 함</p>
</section>
</section>
<section id="인덱스-스키마" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="인덱스-스키마"><span class="header-section-number">7.4</span> 인덱스 스키마</h2>
<section id="필드-정의" class="level3" data-number="7.4.1">
<h3 data-number="7.4.1" class="anchored" data-anchor-id="필드-정의"><span class="header-section-number">7.4.1</span> 필드 정의</h3>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc-extraction-multimodal-embedding-index"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content_id"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"key"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"analyzer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"keyword"</span></span>
<span id="cb4-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text_document_id"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filterable"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb4-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-15">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-16">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"image_document_id"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-17">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-18">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filterable"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb4-19">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-20">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-21">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"document_title"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-22">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-23">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"searchable"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb4-24">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-25">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-26">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content_text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-27">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-28">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"searchable"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb4-29">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-30">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-31">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content_embedding"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-32">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-33">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-34">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearchProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hnsw"</span></span>
<span id="cb4-35">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-36">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-37">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content_path"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-38">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-39">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"retrievable"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb4-40">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-41">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-42">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location_metadata"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-43">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.ComplexType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-44">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-45">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-46">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"page_number"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-47">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.Int32"</span></span>
<span id="cb4-48">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-49">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-50">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bounding_polygons"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-51">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span></span>
<span id="cb4-52">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-53">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-54">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-55">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-56"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="벡터-검색-구성" class="level3" data-number="7.4.2">
<h3 data-number="7.4.2" class="anchored" data-anchor-id="벡터-검색-구성"><span class="header-section-number">7.4.2</span> 벡터 검색 구성</h3>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearch"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"profiles"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-4">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-5">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-6">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"algorithm"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"defaulthnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-7">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"demo-vectorizer"</span></span>
<span id="cb5-8">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-9">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-10">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"algorithms"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-11">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-12">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"defaulthnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-13">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-14">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"hnswParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-15">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"m"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-16">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"efConstruction"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">400</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-17">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"metric"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cosine"</span></span>
<span id="cb5-18">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-19">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-20">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-21">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorizers"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-22">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-23">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"demo-vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-24">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aiServicesVision"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-25">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"aiServicesVisionParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-26">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"resourceUri"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"{{cognitiveServicesUrl}}"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-27">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"authIdentity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">null</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-28">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"modelVersion"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-04-15"</span></span>
<span id="cb5-29">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-30">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-31">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-32">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-33"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>핵심 포인트</strong>: - <code>dimensions: 1024</code> - Azure Vision Multimodal 4.0의 벡터 차원 - <code>vectorizer: aiServicesVision</code> - 쿼리 시 이미지 벡터화 지원</p>
</section>
</section>
<section id="스킬셋-구성" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="스킬셋-구성"><span class="header-section-number">7.5</span> 스킬셋 구성</h2>
<section id="전체-파이프라인" class="level3" data-number="7.5.1">
<h3 data-number="7.5.1" class="anchored" data-anchor-id="전체-파이프라인"><span class="header-section-number">7.5.1</span> 전체 파이프라인</h3>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource mermaid number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1">graph LR</span>
<span id="cb6-2">    A[Document Extraction] --&gt; B[Text Split]</span>
<span id="cb6-3">    A --&gt; C[Vision Vectorize Text]</span>
<span id="cb6-4">    A --&gt; D[Vision Vectorize Image]</span>
<span id="cb6-5">    B --&gt; C</span>
<span id="cb6-6">    C --&gt; E[Index Projection]</span>
<span id="cb6-7">    D --&gt; E</span>
<span id="cb6-8">    A --&gt; F[Shaper]</span>
<span id="cb6-9">    F --&gt; G[Knowledge Store]</span></code></pre></div>
</section>
<section id="주요-스킬" class="level3" data-number="7.5.2">
<h3 data-number="7.5.2" class="anchored" data-anchor-id="주요-스킬"><span class="header-section-number">7.5.2</span> 주요 스킬</h3>
<section id="document-extraction-skill" class="level4" data-number="7.5.2.1">
<h4 data-number="7.5.2.1" class="anchored" data-anchor-id="document-extraction-skill"><span class="header-section-number">7.5.2.1</span> 1. Document Extraction Skill</h4>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@odata.type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#Microsoft.Skills.Util.DocumentExtractionSkill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"parsingMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"default"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dataToExtract"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentAndMetadata"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"configuration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-6">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"imageAction"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"generateNormalizedImages"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"normalizedImageMaxWidth"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-8">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"normalizedImageMaxHeight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span></span>
<span id="cb7-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb7-10">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"context"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"inputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb7-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"file_data"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-14">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/file_data"</span></span>
<span id="cb7-15">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb7-16">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-17">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"outputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb7-18">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-19">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-20">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extracted_content"</span></span>
<span id="cb7-21">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-22">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-23">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"normalized_images"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-24">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"normalized_images"</span></span>
<span id="cb7-25">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb7-26">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb7-27"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>출력</strong>: - <code>extracted_content</code>: 문서의 모든 텍스트 - <code>normalized_images</code>: 정규화된 이미지 배열 (최대 2000x2000)</p>
</section>
<section id="text-split-skill" class="level4" data-number="7.5.2.2">
<h4 data-number="7.5.2.2" class="anchored" data-anchor-id="text-split-skill"><span class="header-section-number">7.5.2.2</span> 2. Text Split Skill</h4>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@odata.type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#Microsoft.Skills.Text.SplitSkill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"context"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"defaultLanguageCode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"en"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"textSplitMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pages"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"maximumPageLength"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-7">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"pageOverlapLength"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">200</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-8">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"unit"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"characters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-9">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"inputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb8-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/extracted_content"</span></span>
<span id="cb8-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb8-14">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-15">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"outputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb8-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-17">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"textItems"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-18">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pages"</span></span>
<span id="cb8-19">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb8-20">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb8-21"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>청킹 전략</strong>: - 2000자 청크 - 200자 오버랩 (문맥 유지)</p>
</section>
<section id="azure-vision-vectorize-skill-text" class="level4" data-number="7.5.2.3">
<h4 data-number="7.5.2.3" class="anchored" data-anchor-id="azure-vision-vectorize-skill-text"><span class="header-section-number">7.5.2.3</span> 3. Azure Vision Vectorize Skill (Text)</h4>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb9-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@odata.type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#Microsoft.Skills.Vision.VectorizeSkill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-skill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"context"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/pages/*"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"modelVersion"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-04-15"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"inputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb9-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb9-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/pages/*"</span></span>
<span id="cb9-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb9-11">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"outputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb9-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb9-14">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-15">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text_vector"</span></span>
<span id="cb9-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb9-17">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb9-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="azure-vision-vectorize-skill-image" class="level4" data-number="7.5.2.4">
<h4 data-number="7.5.2.4" class="anchored" data-anchor-id="azure-vision-vectorize-skill-image"><span class="header-section-number">7.5.2.4</span> 4. Azure Vision Vectorize Skill (Image)</h4>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb10-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@odata.type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#Microsoft.Skills.Vision.VectorizeSkill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"image-embedding-skill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"context"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"modelVersion"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-04-15"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"inputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb10-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb10-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"image"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*"</span></span>
<span id="cb10-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb10-11">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"outputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb10-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb10-14">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-15">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"image_vector"</span></span>
<span id="cb10-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb10-17">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb10-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>Azure Vision Multimodal Embedding</strong>: - 동일한 스킬, 입력만 다름 (text vs image) - 1024차원 벡터 생성 - 공유 벡터 공간 (텍스트-이미지 간 코사인 유사도 계산 가능)</p>
</section>
<section id="shaper-skill" class="level4" data-number="7.5.2.5">
<h4 data-number="7.5.2.5" class="anchored" data-anchor-id="shaper-skill"><span class="header-section-number">7.5.2.5</span> 5. Shaper Skill</h4>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@odata.type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#Microsoft.Skills.Util.ShaperSkill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"context"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"inputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb11-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"imagePath"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"='{{imageProjectionContainer}}/'+$(/document/normalized_images/*/imagePath)"</span></span>
<span id="cb11-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location_metadata"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"sourceContext"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"inputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb11-13">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-14">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"page_number"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-15">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*/pageNumber"</span></span>
<span id="cb11-16">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-17">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-18">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bounding_polygons"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-19">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*/boundingPolygon"</span></span>
<span id="cb11-20">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb11-21">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb11-22">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb11-23">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-24">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"outputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb11-25">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-26">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"output"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-27">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"new_normalized_images"</span></span>
<span id="cb11-28">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb11-29">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb11-30"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
</section>
<section id="index-projections" class="level3" data-number="7.5.3">
<h3 data-number="7.5.3" class="anchored" data-anchor-id="index-projections"><span class="header-section-number">7.5.3</span> Index Projections</h3>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"indexProjections"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"selectors"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb12-4">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-5">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetIndexName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc-extraction-multimodal-embedding-index"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-6">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"parentKeyFieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text_document_id"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-7">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"sourceContext"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/pages/*"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-8">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"mappings"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb12-9">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-10">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content_embedding"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-11">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/pages/*/text_vector"</span></span>
<span id="cb12-12">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-13">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-14">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content_text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-15">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/pages/*"</span></span>
<span id="cb12-16">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-17">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-18">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"document_title"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-19">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/document_title"</span></span>
<span id="cb12-20">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-21">        <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb12-22">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-23">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-24">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetIndexName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc-extraction-multimodal-embedding-index"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-25">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"parentKeyFieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"image_document_id"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-26">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"sourceContext"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-27">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"mappings"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb12-28">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-29">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content_embedding"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-30">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*/image_vector"</span></span>
<span id="cb12-31">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-32">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-33">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content_path"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-34">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*/new_normalized_images/imagePath"</span></span>
<span id="cb12-35">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-36">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-37">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location_metadata"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-38">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*/new_normalized_images/location_metadata"</span></span>
<span id="cb12-39">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-40">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-41">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"document_title"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-42">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/document_title"</span></span>
<span id="cb12-43">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-44">        <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb12-45">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-46">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-47">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"parameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-48">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"projectionMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"skipIndexingParentDocuments"</span></span>
<span id="cb12-49">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-50">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-51"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>동작 원리</strong>: - 텍스트 청크당 1개 문서 생성 (<code>text_document_id</code>) - 이미지당 1개 문서 생성 (<code>image_document_id</code>) - 부모 문서(원본 PDF)는 인덱싱 건너뛰기</p>
</section>
<section id="knowledge-store" class="level3" data-number="7.5.4">
<h3 data-number="7.5.4" class="anchored" data-anchor-id="knowledge-store"><span class="header-section-number">7.5.4</span> Knowledge Store</h3>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"knowledgeStore"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"storageConnectionString"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"{{storageConnection}}"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"projections"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb13-5">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-6">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"files"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb13-7">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-8">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"storageContainer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"{{imageProjectionContainer}}"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-9">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/normalized_images/*"</span></span>
<span id="cb13-10">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb13-11">        <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb13-12">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb13-13">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb13-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb13-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>저장 내용</strong>: - 정규화된 이미지 파일 (JPEG) - 파일명: <code>{document-id}_{image-index}.jpg</code></p>
</section>
</section>
<section id="인덱서-실행" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="인덱서-실행"><span class="header-section-number">7.6</span> 인덱서 실행</h2>
<section id="구성-1" class="level3" data-number="7.6.1">
<h3 data-number="7.6.1" class="anchored" data-anchor-id="구성-1"><span class="header-section-number">7.6.1</span> 구성</h3>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc-extraction-multimodal-embedding-indexer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dataSourceName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc-extraction-multimodal-embedding-ds"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetIndexName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc-extraction-multimodal-embedding-index"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"skillsetName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc-extraction-multimodal-embedding-skillset"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"parameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"batchSize"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-8">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"configuration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"allowSkillsetToReadFileData"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb14-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="처리-시간-예상-36페이지-pdf" class="level3" data-number="7.6.2">
<h3 data-number="7.6.2" class="anchored" data-anchor-id="처리-시간-예상-36페이지-pdf"><span class="header-section-number">7.6.2</span> 처리 시간 예상 (36페이지 PDF)</h3>
<table class="table">
<thead>
<tr class="header">
<th>단계</th>
<th>시간</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>문서 추출</td>
<td>2-3초</td>
</tr>
<tr class="even">
<td>텍스트 분할</td>
<td>&lt;1초</td>
</tr>
<tr class="odd">
<td>텍스트 임베딩 (18 청크)</td>
<td>1-2초</td>
</tr>
<tr class="even">
<td>이미지 임베딩 (25 이미지)</td>
<td>4-8초</td>
</tr>
<tr class="odd">
<td>인덱싱</td>
<td>1-2초</td>
</tr>
<tr class="even">
<td><strong>총계</strong></td>
<td><strong>8-16초</strong></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="쿼리-예제" class="level2" data-number="7.7">
<h2 data-number="7.7" class="anchored" data-anchor-id="쿼리-예제"><span class="header-section-number">7.7</span> 쿼리 예제</h2>
<section id="텍스트-쿼리-하이브리드" class="level3" data-number="7.7.1">
<h3 data-number="7.7.1" class="anchored" data-anchor-id="텍스트-쿼리-하이브리드"><span class="header-section-number">7.7.1</span> 1. 텍스트 쿼리 (하이브리드)</h3>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource http number-lines code-with-copy"><code class="sourceCode"><span id="cb15-1">POST /indexes/doc-extraction-multimodal-embedding-index/docs/search?api-version=2025-11-01-preview</span>
<span id="cb15-2">Content-Type: application/json</span>
<span id="cb15-3"></span>
<span id="cb15-4">{</span>
<span id="cb15-5">  "search": "energy sustainability",</span>
<span id="cb15-6">  "vectorQueries": [</span>
<span id="cb15-7">    {</span>
<span id="cb15-8">      "kind": "text",</span>
<span id="cb15-9">      "text": "energy sustainability",</span>
<span id="cb15-10">      "k": 10,</span>
<span id="cb15-11">      "fields": "content_embedding"</span>
<span id="cb15-12">    }</span>
<span id="cb15-13">  ],</span>
<span id="cb15-14">  "select": "content_id, document_title, content_text, content_path"</span>
<span id="cb15-15">}</span></code></pre></div>
<p><strong>결과</strong>: 텍스트와 이미지 모두 반환 (공유 벡터 공간)</p>
</section>
<section id="이미지만-필터링" class="level3" data-number="7.7.2">
<h3 data-number="7.7.2" class="anchored" data-anchor-id="이미지만-필터링"><span class="header-section-number">7.7.2</span> 2. 이미지만 필터링</h3>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource http number-lines code-with-copy"><code class="sourceCode"><span id="cb16-1">POST /indexes/doc-extraction-multimodal-embedding-index/docs/search?api-version=2025-11-01-preview</span>
<span id="cb16-2">Content-Type: application/json</span>
<span id="cb16-3"></span>
<span id="cb16-4">{</span>
<span id="cb16-5">  "search": "*",</span>
<span id="cb16-6">  "filter": "image_document_id ne null",</span>
<span id="cb16-7">  "select": "content_id, document_title, content_path, location_metadata"</span>
<span id="cb16-8">}</span></code></pre></div>
</section>
<section id="이미지-쿼리-이미지로-검색" class="level3" data-number="7.7.3">
<h3 data-number="7.7.3" class="anchored" data-anchor-id="이미지-쿼리-이미지로-검색"><span class="header-section-number">7.7.3</span> 3. 이미지 쿼리 (이미지로 검색)</h3>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource http number-lines code-with-copy"><code class="sourceCode"><span id="cb17-1">POST /indexes/doc-extraction-multimodal-embedding-index/docs/search?api-version=2025-11-01-preview</span>
<span id="cb17-2">Content-Type: application/json</span>
<span id="cb17-3"></span>
<span id="cb17-4">{</span>
<span id="cb17-5">  "vectorQueries": [</span>
<span id="cb17-6">    {</span>
<span id="cb17-7">      "kind": "image",</span>
<span id="cb17-8">      "image": "{base64-encoded-image}",</span>
<span id="cb17-9">      "k": 5,</span>
<span id="cb17-10">      "fields": "content_embedding"</span>
<span id="cb17-11">    }</span>
<span id="cb17-12">  ]</span>
<span id="cb17-13">}</span></code></pre></div>
<p><strong>작동 원리</strong>: 1. 쿼리 이미지 → Azure Vision 벡터라이저 → 1024차원 벡터 2. 인덱스의 모든 벡터(텍스트+이미지)와 코사인 유사도 계산 3. 상위 k개 결과 반환</p>
</section>
</section>
<section id="주요-특징-정리" class="level2" data-number="7.8">
<h2 data-number="7.8" class="anchored" data-anchor-id="주요-특징-정리"><span class="header-section-number">7.8</span> 주요 특징 정리</h2>
<section id="content_text-필드" class="level3" data-number="7.8.1">
<h3 data-number="7.8.1" class="anchored" data-anchor-id="content_text-필드"><span class="header-section-number">7.8.1</span> Content_text 필드</h3>
<ul>
<li><strong>텍스트 문서</strong>: 추출된 텍스트 청크</li>
<li><strong>이미지 문서</strong>: null (이미지는 벡터로만 표현)</li>
</ul>
</section>
<section id="content_embedding-필드" class="level3" data-number="7.8.2">
<h3 data-number="7.8.2" class="anchored" data-anchor-id="content_embedding-필드"><span class="header-section-number">7.8.2</span> Content_embedding 필드</h3>
<ul>
<li><strong>차원</strong>: 1024</li>
<li><strong>텍스트와 이미지 공유</strong>: 동일한 벡터 공간</li>
<li><strong>유사도 계산</strong>: 텍스트-텍스트, 이미지-이미지, 텍스트-이미지 모두 가능</li>
</ul>
</section>
<section id="content_path-필드" class="level3" data-number="7.8.3">
<h3 data-number="7.8.3" class="anchored" data-anchor-id="content_path-필드"><span class="header-section-number">7.8.3</span> Content_path 필드</h3>
<ul>
<li><strong>텍스트 문서</strong>: null</li>
<li><strong>이미지 문서</strong>: Knowledge Store 이미지 경로</li>
<li><strong>형식</strong>: <code>{container}/{document-id}_{image-index}.jpg</code></li>
</ul>
</section>
<section id="location_metadata-필드" class="level3" data-number="7.8.4">
<h3 data-number="7.8.4" class="anchored" data-anchor-id="location_metadata-필드"><span class="header-section-number">7.8.4</span> Location_metadata 필드</h3>
<ul>
<li><strong>이미지만 해당</strong>: 페이지 번호, 경계 다각형</li>
<li><strong>활용</strong>: RAG 응답에서 이미지 위치 표시, 페이지 강조</li>
</ul>
</section>
</section>
<section id="제약사항-1" class="level2" data-number="7.9">
<h2 data-number="7.9" class="anchored" data-anchor-id="제약사항-1"><span class="header-section-number">7.9</span> 제약사항</h2>
<section id="document-extraction-제약" class="level3" data-number="7.9.1">
<h3 data-number="7.9.1" class="anchored" data-anchor-id="document-extraction-제약"><span class="header-section-number">7.9.1</span> Document Extraction 제약</h3>
<ul>
<li><strong>텍스트 위치 메타데이터 없음</strong>: 텍스트 청크의 페이지 번호 미제공</li>
<li><strong>PDF만 지원</strong>: DOCX, XLSX 등 미지원</li>
<li><strong>해결</strong>: Document Layout Skill 사용 권장</li>
</ul>
</section>
<section id="azure-vision-multimodal-제약" class="level3" data-number="7.9.2">
<h3 data-number="7.9.2" class="anchored" data-anchor-id="azure-vision-multimodal-제약"><span class="header-section-number">7.9.2</span> Azure Vision Multimodal 제약</h3>
<ul>
<li><strong>지역 제한</strong>: Multimodal 4.0 API 지원 지역만 가능</li>
<li><strong>지원 지역</strong>: <a href="https://learn.microsoft.com/ko-kr/azure/ai-services/computer-vision/overview-image-analysis#region-availability">Azure Vision 문서 확인</a></li>
</ul>
</section>
</section>
<section id="비용-분석-36페이지-pdf-예제" class="level2" data-number="7.10">
<h2 data-number="7.10" class="anchored" data-anchor-id="비용-분석-36페이지-pdf-예제"><span class="header-section-number">7.10</span> 비용 분석 (36페이지 PDF 예제)</h2>
<table class="table">
<thead>
<tr class="header">
<th>항목</th>
<th>단가</th>
<th>수량</th>
<th>비용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>이미지 추출</td>
<td>$0.001/image</td>
<td>25</td>
<td>$0.025</td>
</tr>
<tr class="even">
<td>텍스트 임베딩</td>
<td>$0.0001/1K char</td>
<td>36K</td>
<td>$0.004</td>
</tr>
<tr class="odd">
<td>이미지 임베딩</td>
<td>$0.002/image</td>
<td>25</td>
<td>$0.050</td>
</tr>
<tr class="even">
<td>인덱싱</td>
<td>포함</td>
<td>-</td>
<td>-</td>
</tr>
<tr class="odd">
<td><strong>총계</strong></td>
<td></td>
<td></td>
<td><strong>$0.079</strong></td>
</tr>
</tbody>
</table>
<p><strong>확장 예측</strong> (1000개 문서): - 1000 × $0.079 = <strong>$79</strong> - 재인덱싱 불필요 (증분 업데이트)</p>
</section>
<section id="샘플-애플리케이션" class="level2" data-number="7.11">
<h2 data-number="7.11" class="anchored" data-anchor-id="샘플-애플리케이션"><span class="header-section-number">7.11</span> 샘플 애플리케이션</h2>
<p><strong><a href="https://aka.ms/azs-multimodal-sample-app-repo">Multimodal RAG GitHub Repository</a></strong> - 텍스트 조각과 이미지 주석을 모두 표시하는 엔드투엔드 RAG 애플리케이션 - 엔터프라이즈 비즈니스 도구 빠른 시작에 이상적 - 데이터 수집 및 인덱싱의 코드 기반 프로세스 예시</p>
</section>
</section>
<section id="핵심-구성-요소-정리" class="level1" data-number="8">
<h1 data-number="8"><span class="header-section-number">8</span> 핵심 구성 요소 정리</h1>
<section id="파이프라인-선택-가이드" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="파이프라인-선택-가이드"><span class="header-section-number">8.1</span> 파이프라인 선택 가이드</h2>
<table class="table">
<thead>
<tr class="header">
<th>요구사항</th>
<th>추천 구성</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>빠른 프로토타이핑, 기본 기능</td>
<td>Document Extraction + 이미지 언어화</td>
</tr>
<tr class="even">
<td>정확한 페이지 참조, 위치 정보 필요</td>
<td>Document Layout + 이미지 언어화</td>
</tr>
<tr class="odd">
<td>시각적 유사성 검색</td>
<td>Document Extraction + 멀티모달 임베딩</td>
</tr>
<tr class="even">
<td>정확한 위치 + 시각적 검색</td>
<td>Document Layout + 멀티모달 임베딩</td>
</tr>
<tr class="odd">
<td>페이지 간 테이블, 의미 청킹</td>
<td>Content Understanding + 적절한 임베딩</td>
</tr>
<tr class="even">
<td>설명적 다이어그램 + 시각 자료 혼합</td>
<td>두 임베딩 방식 병행</td>
</tr>
</tbody>
</table>
</section>
<section id="비용-고려사항" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="비용-고려사항"><span class="header-section-number">8.2</span> 비용 고려사항</h2>
<ul>
<li><strong>Document Extraction</strong>: 이미지 추출 시 Azure AI Search 요금 부과</li>
<li><strong>Document Layout</strong>: Document Intelligence Layout 가격 적용</li>
<li><strong>Content Understanding</strong>: Azure Content Understanding 가격 (가장 높음)</li>
<li><strong>GenAI Prompt</strong>: 이미지당 LLM 호출 비용</li>
<li><strong>Azure Vision Multimodal</strong>: 이미지/텍스트 임베딩 API 호출 비용</li>
</ul>
</section>
<section id="성능-특성" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="성능-특성"><span class="header-section-number">8.3</span> 성능 특성</h2>
<table class="table">
<thead>
<tr class="header">
<th>단계</th>
<th>평균 처리 시간</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>이미지 추출</td>
<td>문서당 1-3초</td>
</tr>
<tr class="even">
<td>이미지 언어화 (LLM)</td>
<td>이미지당 2-5초</td>
</tr>
<tr class="odd">
<td>텍스트 임베딩</td>
<td>청크당 50-150ms</td>
</tr>
<tr class="even">
<td>멀티모달 임베딩</td>
<td>이미지당 150-300ms</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="참고-문서" class="level1" data-number="9">
<h1 data-number="9"><span class="header-section-number">9</span> 참고 문서</h1>
<ul>
<li><a href="https://learn.microsoft.com/ko-kr/azure/search/">Azure AI Search 공식 문서</a></li>
<li><a href="https://learn.microsoft.com/ko-kr/azure/search/retrieval-augmented-generation-overview">RAG (검색 보강 생성) 개요</a></li>
<li><a href="https://learn.microsoft.com/ko-kr/azure/search/hybrid-search-overview">하이브리드 검색 개요</a></li>
<li><a href="https://learn.microsoft.com/ko-kr/azure/search/vector-search-overview">벡터 검색 개요</a></li>
<li><a href="https://learn.microsoft.com/ko-kr/azure/search/semantic-search-overview">의미 순위 개요</a></li>
<li><a href="https://learn.microsoft.com/ko-kr/azure/search/tutorial-document-extraction-multimodal-embeddings">Tutorial - 이미지 및 텍스트 벡터화</a> ’@</li>
</ul>


</section>

 ]]></description>
  <category>Engineering</category>
  <category>Infra</category>
  <category>Cloud</category>
  <category>Azure</category>
  <category>RAG</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/31-az-ai-search-classic-multimodal-search.html</guid>
  <pubDate>Thu, 24 Dec 2026 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Relevance and Ranking</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/32-az-ai-search-classic-ranking.html</link>
  <description><![CDATA[ 





<section id="relevance-and-ranking" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Relevance and Ranking</h1>
<p>Relevance scoring, ranking 알고리즘, hybrid fusion, similarity metrics에 대한 기술적 분석</p>
<section id="relevance-및-scoring-개요" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="relevance-및-scoring-개요"><span class="header-section-number">1.1</span> Relevance 및 Scoring 개요</h2>
<section id="relevance의-핵심-개념" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="relevance의-핵심-개념"><span class="header-section-number">1.1.1</span> Relevance의 핵심 개념</h3>
<p><strong>Relevance</strong>는 <strong>검색 결과가 사용자 쿼리와 얼마나 관련성이 높은지를 정량화</strong>한 점수</p>
<p><strong>Azure Search의 다층 Relevance 시스템</strong>:</p>
<pre><code>Query Input
    ↓
┌─────────────────────────────────────┐
│ Layer 1: Lexical Scoring (BM25)     │ → @search.score
├─────────────────────────────────────┤
│ Layer 2: Vector Similarity          │ → vector similarity score
├─────────────────────────────────────┤
│ Layer 3: RRF Fusion (Hybrid)        │ → combined score
├─────────────────────────────────────┤
│ Layer 4: Semantic Reranking         │ → @search.rerankerScore
├─────────────────────────────────────┤
│ Layer 5: Custom Scoring Profile     │ → boosted score
└─────────────────────────────────────┘
    ↓
Final Ranked Results</code></pre>
<ul>
<li><strong>Hybrid(하이브리드)</strong>
<ul>
<li>서로 다른 유형의 랭킹 신호를 결합하는 방식<br>
</li>
<li>텍스트 점수만 쓰는 것이 아니라 텍스트 검색과 벡터 검색 등 복수의 랭커(ranking function)를 함께 사용<br>
</li>
</ul></li>
<li><strong>Combined score(결합 점수)</strong>
<ul>
<li>최종 순위를 결정하기 위해 여러 랭킹 신호를 하나의 스칼라 값으로 합성한 결과</li>
<li>RRF(Reciprocal Rank Fusion)에서는 개별 문서의 절대 점수(예: BM25 점수 8.5, 벡터유사도 0.89)를 직접 합치지 않고, 각 랭킹에서의 순위(rank)를 사용해 결합한다. (예: BM25에서 문서 A는 1위, 벡터에서 5위)</li>
<li>따라서 RRF의 “combined score”는 각 랭킹에서의 순위를 기반으로 계산된 RRF 값이다<br>
</li>
<li>높은 RRF 값 = 더 높은 최종 순위.<br>
</li>
</ul></li>
<li><strong>RRF가 BM25 점수·벡터 유사도를 다루는 방법</strong>
<ul>
<li><p>BM25와 벡터 유사도는 서로 다른 스케일이므로 그대로 더하면 공정하지 않을 수 있다.<br>
</p></li>
<li><p>RRF는 스코어 대신 각 랭킹에서의 순위(예: BM25에서 문서 A는 1위, 벡터에서 5위)를 사용하므로 서로 다른 스케일 문제에서 자유롭다.<br>
</p></li>
<li><p>공식: RRF(d) = sum_{r in R} 1 / (k + rank_r(d))<br>
</p></li>
<li><p>k: 안정화 상수(예: 60)로, 상위권(rank small)에 대한 기여를 완화(stabilize)하는 상수<br>
</p></li>
<li><p>k 값이 클수록 각 랭킹의 상위권(예: 1위, 2위)이 RRF에 미치는 상대적 차이가 작아진다. 반대로 k가 작으면 1위와 2위의 기여 차이가 커진다.</p></li>
<li><p>예: BM25에서 A가 1위, 벡터에서 A가 5위이면 RRF(A) = 1/(60+1) + 1/(60+5) ≈ 0.0164 + 0.0154 = 0.0318.<br>
</p></li>
<li><p>K의 수학적 직관과 효과</p>
<ol type="1">
<li>상위권 민감도 조절<br>
</li>
</ol>
<ul>
<li>rank = 1일 때 기여 = 1/(k+1)<br>
</li>
<li>rank = 2일 때 기여 = 1/(k+2)<br>
</li>
<li>두 기여 차이는 1/(k+1) - 1/(k+2) = 1/((k+1)(k+2))<br>
</li>
<li>k가 작으면(예: 1~10) 1위와 2위의 차이를 강하게 반영한다(상위권 민감)<br>
</li>
<li>k가 크면(예: 30~100) 상위권 차이를 거의 압축해서 반영하므로 여러 랭킹 신호가 고르게 기여한다.</li>
<li>k=1이면 1/(2)-1/(3)=0.1667 차이(상당히 큼)<br>
</li>
<li>Azure의 k=60이면 1/61 - 1/62 ≈ 0.000266 차이(매우 작음)<br>
</li>
<li>그래도, k는 다항감소로 지수감소보다는 훨씬 느리다.</li>
</ul>
<p><img src="https://latex.codecogs.com/png.latex?%5CDelta(k)=%5Cfrac%7B1%7D%7B(k+1)(k+2)%7D=%5Cfrac%7B1%7D%7Bk%5E2%7D%5Ccdot%5Cfrac%7B1%7D%7B(1+1/k)(1+2/k)%7D."></p>
<p>큰 <img src="https://latex.codecogs.com/png.latex?k"> 에서 역급수 전개를 하면 <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7B(1+1/k)(1+2/k)%7D=1-%5Cfrac%7B3%7D%7Bk%7D+O%5C!%5Cleft(%5Cfrac%7B1%7D%7Bk%5E2%7D%5Cright),"> 따라서 <img src="https://latex.codecogs.com/png.latex?%5CDelta(k)=%5Cfrac%7B1%7D%7Bk%5E2%7D%5Cleft(1+O%5C!%5Cleft(%5Cfrac%7B1%7D%7Bk%7D%5Cright)%5Cright),"> 즉 주도항은 <img src="https://latex.codecogs.com/png.latex?1/k%5E2"> 이고 다음 보정항은 <img src="https://latex.codecogs.com/png.latex?O(1/k%5E3)"> 이다.</p>
<ol start="2" type="1">
<li>rank 큰 값에 대한 둔감성<br>
</li>
</ol>
<ul>
<li>rank가 커질수록 1/(k+rank)는 작아지고 기여는 급격히 줄어든다. k 값이 크면 ‘중간/하위권’ 기여는 더 작아진다.<br>
</li>
<li>k=60은 실무에서 상위권(예: 1~10)에만 의미 있는 기여를 주고, 그 외는 거의 누락 수준으로 처리하려는 의도에 가깝다.<br>
</li>
</ul>
<ol start="3" type="1">
<li>안정성(stability)과 로버스트성<br>
</li>
</ol>
<ul>
<li>k가 충분히 크면 어떤 단일 랭킹에서의 1위 문서가 전체 결합에서 과도하게 지배하는 일을 방지한다.<br>
</li>
<li>특히 랭킹 간 스케일이나 품질 차이가 클 때(예: 어떤 랭킹이 노이즈가 심함) 이상치에 덜 민감해진다.<br>
</li>
</ul>
<ol start="4" type="1">
<li>실무적 해석 (k=60이 의미하는 바)<br>
</li>
</ol>
<ul>
<li>Azure나 논문에서 k=60처럼 비교적 큰 값을 쓰는 건 ‘완만한’ 랭킹 결합을 선호한다는 뜻:<br>
</li>
<li>서로 다른 랭킹이 고르게 기여하길 원함(특정 랭킹이 독점하지 않음).<br>
</li>
<li>상위 1-2위의 미세한 차이에 덜 민감하고, 여러 랭킹의 합의 효과를 장려.<br>
</li>
<li>후보 풀(top-K)과 상보적으로 고려해야 함:<br>
</li>
<li>예: 텍스트 top100, 벡터 top50에서 RRF를 쓴다면 k가 크면 벡터의 1위(순위=1) 기여와 텍스트의 10위 (순위=10) 기여가 비슷해질 수 있다.<br>
</li>
</ul></li>
</ul></li>
<li><strong>간단한 비교: 직접 점수 합산 vs RRF</strong>
<ul>
<li>직접 합산(Weighted Sum)은 스코어 정규화·가중치 조정이 필요하다.<br>
</li>
<li>RRF는 정규화 과정이 필요 없고, 서로 다른 스케일의 신호를 순위 기반으로 안정적으로 결합한다.<br>
</li>
<li>단점: RRF는 가중치 조절이 기본형에서 어렵고, 상위 순위 간 차이를 압축하는 경향이 있다(즉 1위와 2위의 차이를 상대적으로 작게 반영할 수 있음).<br>
</li>
</ul></li>
<li><strong>실무 팁</strong>
<ul>
<li>RRF는 멀티시그널(fusion)에서 튜닝이 거의 필요 없는 강력한 기본 전략으로 좋다.</li>
<li>텍스트 신호와 벡터 신호 중 어느 쪽에 더 비중을 주고 싶으면, Weighted RRF(가중치 도입) 또는 정규화된 스코어를 사용한 Weighted Sum을 고려한다.</li>
<li>Azure처럼 플랫폼이 k 값을 고정(예: 60)하면, 그 환경에서의 특성을 이해하고 벡터 <code>k</code>(탑K 후보 수) 같은 다른 파라미터로 보완한다.</li>
<li>후보 풀(top-N) 크기에 따라 RRF 효과가 달라진다(예: 벡터에서 top50, 텍스트에서 top100 등).</li>
</ul></li>
</ul>
</section>
<section id="scoring-메커니즘-비교" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="scoring-메커니즘-비교"><span class="header-section-number">1.1.2</span> Scoring 메커니즘 비교</h3>
<p><strong>각 레이어의 역할 및 특성</strong>:</p>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 17%">
<col style="width: 17%">
<col style="width: 21%">
<col style="width: 19%">
</colgroup>
<thead>
<tr class="header">
<th>Scoring Type</th>
<th>기반 기술</th>
<th>출력 범위</th>
<th>계산 복잡도</th>
<th>사용 목적</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>BM25</strong></td>
<td>TF-IDF 변형</td>
<td>[0, ∞)</td>
<td>O(n)</td>
<td>키워드 매칭</td>
</tr>
<tr class="even">
<td><strong>Vector Similarity</strong></td>
<td>Cosine/Euclidean</td>
<td>[-1, 1] or [0, ∞)</td>
<td>O(log n)</td>
<td>의미론적 유사성</td>
</tr>
<tr class="odd">
<td><strong>RRF</strong></td>
<td>Rank fusion</td>
<td>[0, 1]</td>
<td>O(k)</td>
<td>다중 신호 결합</td>
</tr>
<tr class="even">
<td><strong>Semantic Reranking</strong></td>
<td>BERT 기반</td>
<td>[0, 4]</td>
<td>O(k²)</td>
<td>컨텍스트 이해</td>
</tr>
<tr class="odd">
<td><strong>Scoring Profile</strong></td>
<td>규칙 기반</td>
<td>Multiplicative</td>
<td>O(1)</td>
<td>비즈니스 로직</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="bm25-lexical-scoring-알고리즘" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="bm25-lexical-scoring-알고리즘"><span class="header-section-number">1.2</span> BM25 Lexical Scoring 알고리즘</h2>
<p><strong>BM25 (Best Matching 25) 공식</strong>:</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bscore%7D(D,%20Q)%20=%20%5Csum_%7Bi=1%7D%5E%7Bn%7D%20%5Ctext%7BIDF%7D(q_i)%20%5Ccdot%20%5Cfrac%7Bf(q_i,%20D)%20%5Ccdot%20(k_1%20+%201)%7D%7Bf(q_i,%20D)%20+%20k_1%20%5Ccdot%20%5Cleft(1%20-%20b%20+%20b%20%5Ccdot%20%5Cfrac%7B%7CD%7C%7D%7B%5Ctext%7Bavgdl%7D%7D%5Cright)%7D"></p>
<p><strong>구성 요소</strong>:</p>
<p><strong>IDF (Inverse Document Frequency)</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BIDF%7D(q_i)%20=%20%5Cln%5Cleft(%5Cfrac%7BN%20-%20n(q_i)%20+%200.5%7D%7Bn(q_i)%20+%200.5%7D%20+%201%5Cright)"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?N">: 전체 문서 수</li>
<li><img src="https://latex.codecogs.com/png.latex?n(q_i)">: 용어 <img src="https://latex.codecogs.com/png.latex?q_i">를 포함한 문서 수</li>
<li>희귀 용어일수록 높은 가중치</li>
</ul>
<p><strong>Term Frequency Saturation</strong>: - <img src="https://latex.codecogs.com/png.latex?f(q_i,%20D)">: 문서 <img src="https://latex.codecogs.com/png.latex?D">에서 용어 <img src="https://latex.codecogs.com/png.latex?q_i">의 빈도 - <img src="https://latex.codecogs.com/png.latex?k_1">: 용어 빈도 포화 파라미터 (Azure 기본값: <strong>1.2</strong>) - 효과: 용어가 반복될수록 점수 증가하지만 포화</p>
<p><strong>Length Normalization</strong>: - <img src="https://latex.codecogs.com/png.latex?%7CD%7C">: 문서 길이 - <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bavgdl%7D">: 평균 문서 길이 - <img src="https://latex.codecogs.com/png.latex?b">: 길이 정규화 파라미터 (Azure 기본값: <strong>0.75</strong>) - 효과: 긴 문서가 짧은 문서보다 불이익받지 않도록 조정</p>
<p><strong>k1 파라미터 효과</strong>:</p>
<table class="table">
<thead>
<tr class="header">
<th>k1 값</th>
<th>용어 빈도 영향</th>
<th>사용 사례</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0.0</td>
<td>무시 (binary)</td>
<td>존재/부재만 중요</td>
</tr>
<tr class="even">
<td>1.2</td>
<td>중간 (기본값)</td>
<td>범용</td>
</tr>
<tr class="odd">
<td>2.0</td>
<td>높음</td>
<td>용어 빈도 중요한 경우</td>
</tr>
<tr class="even">
<td>3.0+</td>
<td>매우 높음</td>
<td>통계 문서, 기술 문서</td>
</tr>
</tbody>
</table>
<p><strong>b 파라미터 효과</strong>:</p>
<table class="table">
<thead>
<tr class="header">
<th>b 값</th>
<th>길이 정규화</th>
<th>사용 사례</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0.0</td>
<td>없음</td>
<td>문서 길이 무관</td>
</tr>
<tr class="even">
<td>0.75</td>
<td>중간 (기본값)</td>
<td>범용</td>
</tr>
<tr class="odd">
<td>1.0</td>
<td>완전</td>
<td>짧은 문서 선호</td>
</tr>
</tbody>
</table>
<p><strong>실험적 평가</strong> (TREC 데이터셋): - (k1=1.2, b=0.75): MAP = 0.31 (baseline) - (k1=2.0, b=0.75): MAP = 0.33 (+6.5%) - (k1=1.2, b=0.5): MAP = 0.29 (-6.5%)</p>
</section>
<section id="vector-similarity-scoring-알고리즘" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="vector-similarity-scoring-알고리즘"><span class="header-section-number">1.3</span> Vector Similarity Scoring 알고리즘</h2>
<p><strong>Cosine Similarity</strong> (가장 일반적): <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bcosine%7D(%5Cmathbf%7BA%7D,%20%5Cmathbf%7BB%7D)%20=%20%5Cfrac%7B%5Cmathbf%7BA%7D%20%5Ccdot%20%5Cmathbf%7BB%7D%7D%7B%5C%7C%5Cmathbf%7BA%7D%5C%7C%20%5C%7C%5Cmathbf%7BB%7D%5C%7C%7D%20=%20%5Cfrac%7B%5Csum_%7Bi=1%7D%5E%7Bd%7D%20A_i%20B_i%7D%7B%5Csqrt%7B%5Csum_%7Bi=1%7D%5E%7Bd%7D%20A_i%5E2%7D%20%5Csqrt%7B%5Csum_%7Bi=1%7D%5E%7Bd%7D%20B_i%5E2%7D%7D"></p>
<p><strong>특성</strong>: - 범위: [-1, 1] (실제 텍스트 임베딩은 대부분 [0, 1]) - 방향만 고려, 크기 무시 - 정규화된 임베딩에서 dot product와 동일</p>
<p><strong>Euclidean Distance (L2)</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bdistance%7D(%5Cmathbf%7BA%7D,%20%5Cmathbf%7BB%7D)%20=%20%5Csqrt%7B%5Csum_%7Bi=1%7D%5E%7Bd%7D%20(A_i%20-%20B_i)%5E2%7D"></p>
<p><strong>변환 to similarity</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bsimilarity%7D%20=%20%5Cfrac%7B1%7D%7B1%20+%20%5Ctext%7Bdistance%7D%7D"></p>
<p><strong>특성</strong>: - 범위: [0, ∞) → similarity: (0, 1] - 절대적 거리 측정 - 벡터 크기 영향 받음</p>
<p><strong>Dot Product</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bdot%7D(%5Cmathbf%7BA%7D,%20%5Cmathbf%7BB%7D)%20=%20%5Csum_%7Bi=1%7D%5E%7Bd%7D%20A_i%20B_i"></p>
<p><strong>특성</strong>: - 범위: (-∞, ∞) - 크기와 방향 모두 고려 - 정규화 필요</p>
<section id="metric-선택-가이드" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="metric-선택-가이드"><span class="header-section-number">1.3.1</span> Metric 선택 가이드</h3>
<p><strong>Metric 비교 실험</strong> (1M 벡터, 1536-dim, OpenAI ada-002):</p>
<table class="table">
<thead>
<tr class="header">
<th>Metric</th>
<th>Recall@10</th>
<th>쿼리 시간</th>
<th>인덱스 크기</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cosine</td>
<td>0.95</td>
<td>20ms</td>
<td>1.0x</td>
</tr>
<tr class="even">
<td>Euclidean</td>
<td>0.94</td>
<td>18ms</td>
<td>1.0x</td>
</tr>
<tr class="odd">
<td>Dot Product</td>
<td>0.93</td>
<td>15ms</td>
<td>1.0x</td>
</tr>
</tbody>
</table>
<p><strong>권장 사항</strong>:</p>
<pre><code>임베딩 모델 타입?
├─ OpenAI (ada-002, text-embedding-3-*)
│  └─ Cosine (모델이 정규화된 임베딩 생성)
│
├─ Sentence-BERT
│  └─ Cosine (정규화됨)
│
├─ Custom BERT (fine-tuned)
│  └─ 모델 출력 확인
│     ├─ Normalized → Cosine or Dot Product
│     └─ Not normalized → Euclidean
│
└─ Image embeddings (CLIP, Florence)
   └─ Cosine (표준)</code></pre>
</section>
</section>
<section id="hybrid-search-ranking-rrf" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="hybrid-search-ranking-rrf"><span class="header-section-number">1.4</span> Hybrid Search Ranking (RRF)</h2>
<section id="rrf-특성-및-장점" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="rrf-특성-및-장점"><span class="header-section-number">1.4.1</span> RRF 특성 및 장점</h3>
<p><strong>장점</strong>: 1. <strong>점수 범위 정규화</strong>: 서로 다른 스케일의 점수 결합 가능 2. <strong>순위 기반</strong>: 절대 점수 차이보다 순위에 민감 3. <strong>단순성</strong>: 파라미터 튜닝 불필요 (k=60 고정) 4. <strong>견고성</strong>: 한 쪽 결과가 없어도 동작</p>
<p><strong>단점</strong>: 1. <strong>가중치 제어 불가</strong>: 텍스트/벡터 중요도 조정 어려움 2. <strong>순위 압축</strong>: 상위 순위 차이가 과소평가될 수 있음</p>
<p><strong>대안: Weighted RRF</strong> (Azure는 미지원, 개념적): <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BWeighted%20RRF%7D(d)%20=%20%5Csum_%7Br%20%5Cin%20R%7D%20%5Cfrac%7Bw_r%7D%7Bk%20+%20%5Ctext%7Brank%7D_r(d)%7D"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?w_r">: 랭킹 함수 <img src="https://latex.codecogs.com/png.latex?r">의 가중치</li>
</ul>
</section>
<section id="rrf-vs-다른-fusion-방법" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="rrf-vs-다른-fusion-방법"><span class="header-section-number">1.4.2</span> RRF vs 다른 Fusion 방법</h3>
<p><strong>Fusion 방법 비교</strong>:</p>
<table class="table">
<thead>
<tr class="header">
<th>방법</th>
<th>공식</th>
<th>장점</th>
<th>단점</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>RRF</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Csum%20%5Cfrac%7B1%7D%7Bk+rank%7D"></td>
<td>단순, 견고</td>
<td>가중치 불가</td>
</tr>
<tr class="even">
<td><strong>CombSUM</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Csum%20score"></td>
<td>직관적</td>
<td>스케일 민감</td>
</tr>
<tr class="odd">
<td><strong>CombMNZ</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bcount%7D%20%5Ctimes%20%5Csum%20score"></td>
<td>교집합 선호</td>
<td>복잡</td>
</tr>
<tr class="even">
<td><strong>Weighted Sum</strong></td>
<td><img src="https://latex.codecogs.com/png.latex?%5Csum%20w%20%5Ccdot%20score"></td>
<td>가중치 가능</td>
<td>정규화 필요</td>
</tr>
</tbody>
</table>
<p><strong>실험적 성능</strong> (TREC Web Track): - Text only: NDCG@10 = 0.31 - Vector only: NDCG@10 = 0.38 - RRF: NDCG@10 = 0.46 (+48% vs text) - Optimal Weighted Sum: NDCG@10 = 0.48 (+3% vs RRF)</p>
<p><strong>결론</strong>: RRF는 튜닝 없이도 최적에 근접한 성능</p>
</section>
<section id="hybrid-query-구성" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="hybrid-query-구성"><span class="header-section-number">1.4.3</span> Hybrid Query 구성</h3>
<p><strong>실행 플로우</strong>:</p>
<pre><code>1. Text Search (BM25)
   "azure machine learning" → Top 50 docs with scores
   Doc1: 8.5, Doc2: 7.2, Doc3: 6.8, ...

2. Vector Search (HNSW)
   [query embedding] → Top 50 docs with cosine similarities
   Doc5: 0.89, Doc1: 0.85, Doc10: 0.82, ...

3. RRF Fusion
   Doc1: RRF = 1/(60+1) + 1/(60+2) = 0.0325
   Doc2: RRF = 1/(60+2) + 1/(60+?)  (not in vector top 50)
   Doc5: RRF = 1/(60+?) + 1/(60+1)  (not in text top 50)
   ...

4. Final Ranking by RRF score (descending)
   Return top 10</code></pre>
<p><strong>RRF with 3 rankings</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRRF%7D(d)%20=%20%5Cfrac%7B1%7D%7Bk%20+%20%5Ctext%7Brank%7D_%7B%5Ctext%7Btext%7D%7D(d)%7D%20+%20%5Cfrac%7B1%7D%7Bk%20+%20%5Ctext%7Brank%7D_%7B%5Ctext%7Btitle%5C_vec%7D%7D(d)%7D%20+%20%5Cfrac%7B1%7D%7Bk%20+%20%5Ctext%7Brank%7D_%7B%5Ctext%7Bcontent%5C_vec%7D%7D(d)%7D"></p>
</section>
</section>
<section id="semantic-ranking-상세" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="semantic-ranking-상세"><span class="header-section-number">1.5</span> Semantic Ranking 상세</h2>
<section id="semantic-reranking-아키텍처" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="semantic-reranking-아키텍처"><span class="header-section-number">1.5.1</span> Semantic Reranking 아키텍처</h3>
<p><strong>Semantic Ranker는 Microsoft의 fine-tuned BERT 기반 모델</strong>을 사용</p>
<p><strong>처리 플로우</strong>:</p>
<pre><code>Initial Retrieval (BM25 + Vector)
    ↓
Top 50 candidates
    ↓
┌─────────────────────────────────┐
│ Semantic Reranking Model        │
│ (BERT-based Cross-Encoder)      │
├─────────────────────────────────┤
│ Input: [CLS] query [SEP] doc    │
│ Output: Relevance score [0-4]   │
└─────────────────────────────────┘
    ↓
Reranked Top 50
    ↓
Return Top K (user requested)</code></pre>
<p><strong>모델 특성</strong>:<br>
- <strong>아키텍처</strong>: Cross-Encoder (query-document pair를 함께 인코딩)<br>
- <strong>기반 모델</strong>: BERT-base 또는 유사 (정확한 모델 비공개)<br>
- <strong>학습 데이터</strong>: Bing search logs, MS MARCO, 기타 Microsoft 데이터<br>
- <strong>출력 범위</strong>: [0, 4] (4가 가장 관련성 높음)</p>
</section>
<section id="semantic-scoring-vs-bm25vector" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="semantic-scoring-vs-bm25vector"><span class="header-section-number">1.5.2</span> Semantic Scoring vs BM25/Vector</h3>
<table class="table">
<thead>
<tr class="header">
<th>측면</th>
<th>BM25</th>
<th>Vector</th>
<th>Semantic</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>입력</strong></td>
<td>Term matching</td>
<td>Embeddings</td>
<td>Query+Doc pair</td>
</tr>
<tr class="even">
<td><strong>컨텍스트 이해</strong></td>
<td>없음</td>
<td>단어 수준</td>
<td>문장/문단 수준</td>
</tr>
<tr class="odd">
<td><strong>쿼리-문서 상호작용</strong></td>
<td>독립적</td>
<td>독립적</td>
<td>상호작용 모델링</td>
</tr>
<tr class="even">
<td><strong>처리 시간</strong></td>
<td>빠름 (20ms)</td>
<td>빠름 (30ms)</td>
<td>느림 (250ms)</td>
</tr>
</tbody>
</table>
<p><strong>예시 시나리오</strong>:</p>
<pre><code>Query: "how to improve search relevance"

Document A: "search relevance improvement techniques"
- BM25: 높음 (키워드 매칭)
- Vector: 높음 (의미 유사)
- Semantic: 매우 높음 (질문-답변 관계 이해)

Document B: "Azure Search is relevant for developers"
- BM25: 중간 (search, relevant 매칭)
- Vector: 중간
- Semantic: 낮음 (질문에 대한 답변 아님)</code></pre>
</section>
<section id="semantic-configuration" class="level3" data-number="1.5.3">
<h3 data-number="1.5.3" class="anchored" data-anchor-id="semantic-configuration"><span class="header-section-number">1.5.3</span> Semantic Configuration</h3>
<p><strong>인덱스 스키마</strong>:</p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"configurations"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb6-4">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-5">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-semantic-config"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-6">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"prioritizedFields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-7">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"titleField"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-8">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title"</span></span>
<span id="cb6-9">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb6-10">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"prioritizedContentFields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb6-11">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-12">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abstract"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb6-13">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-14">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"prioritizedKeywordsFields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb6-15">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tags"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-16">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb6-17">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb6-18">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb6-19">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb6-20">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb6-21">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb6-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>필드 우선순위 영향</strong>: - <strong>Title Field</strong>: 가장 높은 가중치 (~2-3배) - <strong>Content Fields</strong>: 주요 콘텐츠 (기본 가중치) - <strong>Keywords Fields</strong>: 메타데이터 (낮은 가중치)</p>
<p><strong>쿼리</strong>:</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to optimize search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semanticConfiguration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-semantic-config"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb7-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>응답</strong>:</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"value"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb8-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@search.score"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">8.5</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>           <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">BM25</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">score</span></span>
<span id="cb8-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@search.rerankerScore"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.2</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>   <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">Semantic</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">score</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">[0-4]</span></span>
<span id="cb8-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"id"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc1"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"title"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Search Optimization Guide"</span></span>
<span id="cb8-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb8-9">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb8-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="semantic-ranking-성능" class="level3" data-number="1.5.4">
<h3 data-number="1.5.4" class="anchored" data-anchor-id="semantic-ranking-성능"><span class="header-section-number">1.5.4</span> Semantic Ranking 성능</h3>
<p><strong>정확도 향상</strong> (MS MARCO Dev Set): - BM25 baseline: MRR@10 = 0.18 - BM25 + Semantic: MRR@10 = 0.31 (+72%) - Hybrid baseline: NDCG@10 = 0.46 - Hybrid + Semantic: NDCG@10 = 0.54 (+17%)</p>
<p><strong>처리 시간 오버헤드</strong>: - 초기 검색 (Hybrid): 80ms - Semantic reranking (50 docs): +250ms - 총: 330ms (4배 증가)</p>
<p><strong>비용</strong>: - 기본: 월 1,000 쿼리 포함 (Standard 티어 +$500/month) - 초과 시: 추가 패키지 구매 필요</p>
<p><strong>사용 권장</strong>:</p>
<pre><code>쿼리 특성?
├─ 키워드 정합 (제품 ID, 정확한 매칭)
│  └─ Semantic 불필요
│
├─ 자연어 질문 (QA 스타일)
│  └─ Semantic 강력 추천
│
├─ 긴 문서 검색 (논문, 기술 문서)
│  └─ Semantic 권장
│
└─ 높은 QPS (&gt;100 queries/sec)
   └─ Semantic 비권장 (지연시간, 비용)</code></pre>
<hr>
</section>
</section>
<section id="custom-scoring-profiles" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="custom-scoring-profiles"><span class="header-section-number">1.6</span> Custom Scoring Profiles</h2>
<section id="scoring-profile-개념" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="scoring-profile-개념"><span class="header-section-number">1.6.1</span> Scoring Profile 개념</h3>
<p><strong>Scoring Profile</strong>은 <strong>비즈니스 로직을 반영</strong>하여 검색 점수를 조정하는 메커니즘입니다.</p>
<p><strong>구성 요소</strong>: 1. <strong>Functions</strong>: 필드 값 기반 부스팅 2. <strong>Weights</strong>: 필드별 가중치 3. <strong>Mode</strong>: 결합 방식 (sum, average, min, max, first)</p>
</section>
<section id="scoring-function-타입" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="scoring-function-타입"><span class="header-section-number">1.6.2</span> Scoring Function 타입</h3>
<p><strong>Magnitude Function</strong> (숫자 필드):</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb10-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb10-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb10-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rating"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"interpolation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"linear"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb10-9">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingRangeStart"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-10">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingRangeEnd"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-11">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"constantBoostBeyondRange"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb10-12">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb10-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb10-14">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb10-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>효과</strong>: - rating=5인 문서: 점수 × 5 (최대 부스트) - rating=3인 문서: 점수 × 3 (선형 보간) - rating=1인 문서: 점수 × 1 (부스트 없음)</p>
<p><strong>Freshness Function</strong> (날짜 필드):</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb11-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"freshness"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publishDate"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"interpolation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"logarithmic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb11-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"freshness"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb11-9">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingDuration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"P30D"</span>  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">days</span></span>
<span id="cb11-10">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb11-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb11-12">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb11-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>효과</strong>: - 오늘 게시: 점수 × 10 - 15일 전 게시: 점수 × ~5 (로그 보간) - 30일 전 게시: 점수 × 1 - 30일 이상: 점수 × 1</p>
<p><strong>Distance Function</strong> (지리적 위치):</p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb12-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"distance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"interpolation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"linear"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"distance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-9">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"referencePointParameter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"currentLocation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-10">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingDistance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">km</span></span>
<span id="cb12-11">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-13">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb12-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>Tag Function</strong> (카테고리 매칭):</p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb13-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tag"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tags"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tag"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-8">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tagsParameter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"preferredTags"</span></span>
<span id="cb13-9">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb13-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb13-11">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb13-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="interpolation-방식" class="level3" data-number="1.6.3">
<h3 data-number="1.6.3" class="anchored" data-anchor-id="interpolation-방식"><span class="header-section-number">1.6.3</span> Interpolation 방식</h3>
<p><strong>선형 보간 (Linear)</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bboost%7D%20=%20%5Ctext%7Bmin%5C_boost%7D%20+%20%5Cfrac%7B%5Ctext%7Bvalue%7D%20-%20%5Ctext%7Bmin%7D%7D%7B%5Ctext%7Bmax%7D%20-%20%5Ctext%7Bmin%7D%7D%20%5Ctimes%20(%5Ctext%7Bmax%5C_boost%7D%20-%20%5Ctext%7Bmin%5C_boost%7D)"></p>
<p><strong>로그 보간 (Logarithmic)</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bboost%7D%20=%20%5Ctext%7Bmin%5C_boost%7D%20+%20%5Cln%5Cleft(1%20+%20%5Cfrac%7B%5Ctext%7Bvalue%7D%20-%20%5Ctext%7Bmin%7D%7D%7B%5Ctext%7Bmax%7D%20-%20%5Ctext%7Bmin%7D%7D%20%5Ctimes%20(e%20-%201)%5Cright)%20%5Ctimes%20(%5Ctext%7Bmax%5C_boost%7D%20-%20%5Ctext%7Bmin%5C_boost%7D)"></p>
<p><strong>특성</strong>: - Linear: 균등한 증가 - Logarithmic: 초기 급증, 이후 완만</p>
</section>
<section id="complete-scoring-profile-예시" class="level3" data-number="1.6.4">
<h3 data-number="1.6.4" class="anchored" data-anchor-id="complete-scoring-profile-예시"><span class="header-section-number">1.6.4</span> Complete Scoring Profile 예시</h3>
<p><strong>E-commerce 시나리오</strong>:</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfiles"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb14-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"product-ranking"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-6">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weights"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-7">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"title"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.0</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-8">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"description"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-9">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"tags"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.0</span></span>
<span id="cb14-10">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-11">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb14-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb14-13">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-14">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-15">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rating"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-16">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-17">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"interpolation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"linear"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-18">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-19">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingRangeStart"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-20">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingRangeEnd"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb14-21">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-22">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-23">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-24">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"freshness"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-25">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publishDate"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-26">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-27">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"interpolation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"logarithmic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-28">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"freshness"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-29">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingDuration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"P90D"</span></span>
<span id="cb14-30">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-31">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-32">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-33">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-34">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"salesCount"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-35">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-36">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"interpolation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"logarithmic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-37">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-38">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingRangeStart"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-39">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingRangeEnd"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10000</span></span>
<span id="cb14-40">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-41">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-42">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-43">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functionAggregation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sum"</span></span>
<span id="cb14-44">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-45">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb14-46"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>쿼리</strong>:</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb15-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"laptop"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb15-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"product-ranking"</span></span>
<span id="cb15-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>점수 계산</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BFinal%20Score%7D%20=%20%5Ctext%7BBM25%20Score%7D%20%5Ctimes%20(1%20+%20%5Ctext%7BRating%20Boost%7D%20+%20%5Ctext%7BFreshness%20Boost%7D%20+%20%5Ctext%7BSales%20Boost%7D)"></p>
<p><strong>예시</strong>:</p>
<pre><code>Document A:
- BM25 score: 8.0
- rating: 4.5 → boost: 4.5
- publishDate: 10 days ago → boost: 2.7
- salesCount: 500 → boost: 1.5
- Final: 8.0 × (1 + 4.5 + 2.7 + 1.5) = 8.0 × 9.7 = 77.6

Document B:
- BM25 score: 9.0
- rating: 3.0 → boost: 3.0
- publishDate: 200 days ago → boost: 0
- salesCount: 50 → boost: 0.8
- Final: 9.0 × (1 + 3.0 + 0 + 0.8) = 9.0 × 4.8 = 43.2

Result: A &gt; B (despite lower BM25)</code></pre>
<hr>
</section>
</section>
<section id="통합-relevance-파이프라인" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="통합-relevance-파이프라인"><span class="header-section-number">1.7</span> 통합 Relevance 파이프라인</h2>
<section id="complete-ranking-flow" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="complete-ranking-flow"><span class="header-section-number">1.7.1</span> Complete Ranking Flow</h3>
<p><strong>전체 시스템 통합</strong>:</p>
<pre><code>User Query: "best wireless headphones under $100"
    ↓
┌────────────────────────────────────────────┐
│ 1. Query Analysis &amp; Expansion             │
│    - Synonym expansion                     │
│    - Spell correction                      │
└────────────────────────────────────────────┘
    ↓
┌────────────────────────────────────────────┐
│ 2. Initial Retrieval (Parallel)           │
│    ├─ Text Search (BM25)     → 1000 docs  │
│    └─ Vector Search (HNSW)   → 1000 docs  │
└────────────────────────────────────────────┘
    ↓
┌────────────────────────────────────────────┐
│ 3. Filter Application                      │
│    - price le 100                          │
│    - category eq 'Electronics'             │
│    → 800 docs remaining                    │
└────────────────────────────────────────────┘
    ↓
┌────────────────────────────────────────────┐
│ 4. RRF Fusion                              │
│    - Combine text + vector rankings        │
│    → Top 100 candidates                    │
└────────────────────────────────────────────┘
    ↓
┌────────────────────────────────────────────┐
│ 5. Semantic Reranking (optional)          │
│    - BERT cross-encoder on top 50          │
│    → Refined ranking                       │
└────────────────────────────────────────────┘
    ↓
┌────────────────────────────────────────────┐
│ 6. Scoring Profile Application            │
│    - Rating boost (4.5 stars)              │
│    - Freshness boost (recent)              │
│    - Sales count boost (popular)           │
└────────────────────────────────────────────┘
    ↓
┌────────────────────────────────────────────┐
│ 7. Final Ranking &amp; Pagination             │
│    - Sort by final score                   │
│    - Apply skip/top                        │
│    - Generate highlights/captions          │
└────────────────────────────────────────────┘
    ↓
Response to User</code></pre>
</section>
<section id="성능-분해-분석" class="level3" data-number="1.7.2">
<h3 data-number="1.7.2" class="anchored" data-anchor-id="성능-분해-분석"><span class="header-section-number">1.7.2</span> 성능 분해 분석</h3>
<p><strong>각 단계별 시간 및 영향</strong> (1M 문서 인덱스):</p>
<table class="table">
<thead>
<tr class="header">
<th>단계</th>
<th>처리 시간</th>
<th>정확도 기여</th>
<th>비용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Query Analysis</td>
<td>5ms</td>
<td>+5%</td>
<td>무시 가능</td>
</tr>
<tr class="even">
<td>Text Search</td>
<td>30ms</td>
<td>Baseline</td>
<td>포함</td>
</tr>
<tr class="odd">
<td>Vector Search</td>
<td>25ms</td>
<td>+20%</td>
<td>포함</td>
</tr>
<tr class="even">
<td>Filter</td>
<td>10ms</td>
<td>N/A</td>
<td>포함</td>
</tr>
<tr class="odd">
<td>RRF Fusion</td>
<td>5ms</td>
<td>+8%</td>
<td>포함</td>
</tr>
<tr class="even">
<td>Semantic Reranking</td>
<td>250ms</td>
<td>+12%</td>
<td>+$500/month</td>
</tr>
<tr class="odd">
<td>Scoring Profile</td>
<td>2ms</td>
<td>+10%</td>
<td>포함</td>
</tr>
<tr class="even">
<td><strong>Total</strong></td>
<td><strong>327ms</strong></td>
<td><strong>+55%</strong></td>
<td><strong>+$500/month</strong></td>
</tr>
</tbody>
</table>
</section>
<section id="최적화-전략" class="level3" data-number="1.7.3">
<h3 data-number="1.7.3" class="anchored" data-anchor-id="최적화-전략"><span class="header-section-number">1.7.3</span> 최적화 전략</h3>
<p><strong>시나리오별 구성</strong>:</p>
<p><strong>시나리오 A: 저지연 우선</strong></p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb18-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"query"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"simple"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">no</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">semantic</span></span>
<span id="cb18-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"basic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb18-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<ul>
<li>지연시간: ~80ms</li>
<li>정확도: 중간</li>
</ul>
<p><strong>시나리오 B: 정확도 우선</strong></p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb19-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"query"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb19-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb19-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb19-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"advanced"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb19-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb19-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<ul>
<li>지연시간: ~330ms</li>
<li>정확도: 높음</li>
</ul>
<p><strong>시나리오 C: 비용 우선</strong></p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb20-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"query"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">null</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">no</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">vector</span></span>
<span id="cb20-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"simple"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">no</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">semantic</span></span>
<span id="cb20-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"basic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb20-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<ul>
<li>지연시간: ~50ms</li>
<li>비용: 최소</li>
<li>정확도: 기본</li>
</ul>
<hr>
</section>
</section>
<section id="relevance-tuning-best-practices" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="relevance-tuning-best-practices"><span class="header-section-number">1.8</span> Relevance Tuning Best Practices</h2>
<section id="ab-테스트-프레임워크" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="ab-테스트-프레임워크"><span class="header-section-number">1.8.1</span> A/B 테스트 프레임워크</h3>
<p><strong>테스트 설정</strong>:</p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> compare_ranking_strategies(queries, ground_truth):</span>
<span id="cb21-2">    strategies <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb21-3">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'baseline'</span>: {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'queryType'</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'simple'</span>},</span>
<span id="cb21-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'hybrid'</span>: {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'search'</span>: <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'vectorQueries'</span>: [...]},</span>
<span id="cb21-5">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'semantic'</span>: {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'queryType'</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'semantic'</span>},</span>
<span id="cb21-6">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'custom'</span>: {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'scoringProfile'</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'custom-v1'</span>}</span>
<span id="cb21-7">    }</span>
<span id="cb21-8">    </span>
<span id="cb21-9">    results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {}</span>
<span id="cb21-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> name, config <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> strategies.items():</span>
<span id="cb21-11">        ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> evaluate_ndcg(queries, config, ground_truth)</span>
<span id="cb21-12">        latency <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> measure_latency(queries, config)</span>
<span id="cb21-13">        results[name] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ndcg'</span>: ndcg, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'latency'</span>: latency}</span>
<span id="cb21-14">    </span>
<span id="cb21-15">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> results</span></code></pre></div>
<p><strong>평가 메트릭</strong>:</p>
<p><strong>NDCG (Normalized Discounted Cumulative Gain)</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BNDCG@k%7D%20=%20%5Cfrac%7B%5Ctext%7BDCG@k%7D%7D%7B%5Ctext%7BIDCG@k%7D%7D"></p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BDCG@k%7D%20=%20%5Csum_%7Bi=1%7D%5E%7Bk%7D%20%5Cfrac%7B2%5E%7B%5Ctext%7Brel%7D_i%7D%20-%201%7D%7B%5Clog_2(i%20+%201)%7D"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Brel%7D_i">: 위치 <img src="https://latex.codecogs.com/png.latex?i">의 관련성 등급</li>
<li>상위 결과에 더 높은 가중치</li>
</ul>
<p><strong>MRR (Mean Reciprocal Rank)</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BMRR%7D%20=%20%5Cfrac%7B1%7D%7B%7CQ%7C%7D%20%5Csum_%7Bi=1%7D%5E%7B%7CQ%7C%7D%20%5Cfrac%7B1%7D%7B%5Ctext%7Brank%7D_i%7D"></p>
<ul>
<li>첫 번째 관련 결과의 순위만 고려</li>
</ul>
<p><strong>MAP (Mean Average Precision)</strong>: <img src="https://latex.codecogs.com/png.latex?%5Ctext%7BMAP%7D%20=%20%5Cfrac%7B1%7D%7B%7CQ%7C%7D%20%5Csum_%7Bq=1%7D%5E%7B%7CQ%7C%7D%20%5Cfrac%7B1%7D%7Bm_q%7D%20%5Csum_%7Bk=1%7D%5E%7Bn%7D%20P(k)%20%5Ctimes%20%5Ctext%7Brel%7D(k)"></p>
<ul>
<li>모든 관련 결과 고려</li>
</ul>
</section>
<section id="실무-튜닝-프로세스" class="level3" data-number="1.8.2">
<h3 data-number="1.8.2" class="anchored" data-anchor-id="실무-튜닝-프로세스"><span class="header-section-number">1.8.2</span> 실무 튜닝 프로세스</h3>
<p><strong>1단계: 기준선 수립</strong></p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1">baseline_config <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb22-2">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'similarity'</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'BM25'</span>,</span>
<span id="cb22-3">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'k1'</span>: <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.2</span>,</span>
<span id="cb22-4">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'b'</span>: <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.75</span></span>
<span id="cb22-5">}</span>
<span id="cb22-6">baseline_ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> evaluate(baseline_config)</span></code></pre></div>
<p><strong>2단계: 하이퍼파라미터 튜닝</strong></p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># BM25 파라미터 그리드 서치</span></span>
<span id="cb23-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> k1 <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.2</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.0</span>]:</span>
<span id="cb23-3">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> b <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.75</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>]:</span>
<span id="cb23-4">        config <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'k1'</span>: k1, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'b'</span>: b}</span>
<span id="cb23-5">        ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> evaluate(config)</span>
<span id="cb23-6">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> best_ndcg:</span>
<span id="cb23-7">            best_config <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> config</span>
<span id="cb23-8">            best_ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ndcg</span></code></pre></div>
<p><strong>3단계: Hybrid 가중치 최적화</strong></p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># RRF는 가중치 없지만, vector k 값 조정 가능</span></span>
<span id="cb24-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> vector_k <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>]:</span>
<span id="cb24-3">    config <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb24-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'vectorQueries'</span>: [{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'k'</span>: vector_k}]</span>
<span id="cb24-5">    }</span>
<span id="cb24-6">    ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> evaluate(config)</span></code></pre></div>
<p><strong>4단계: Scoring Profile 조정</strong></p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 필드 가중치 최적화</span></span>
<span id="cb25-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> title_weight <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">5.0</span>]:</span>
<span id="cb25-3">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> content_weight <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> [<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.0</span>]:</span>
<span id="cb25-4">        profile <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb25-5">            <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'weights'</span>: {</span>
<span id="cb25-6">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'title'</span>: title_weight,</span>
<span id="cb25-7">                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'content'</span>: content_weight</span>
<span id="cb25-8">            }</span>
<span id="cb25-9">        }</span>
<span id="cb25-10">        ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> evaluate(profile)</span></code></pre></div>
<p><strong>5단계: 프로덕션 배포</strong></p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Shadow testing</span></span>
<span id="cb26-2">production_results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> query_with_config(prod_config)</span>
<span id="cb26-3">canary_results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> query_with_config(new_config)</span>
<span id="cb26-4"></span>
<span id="cb26-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> canary_ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> production_ndcg <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.05</span>:  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5% 개선</span></span>
<span id="cb26-6">    deploy_to_production(new_config)</span></code></pre></div>
</section>
<section id="지속적-개선" class="level3" data-number="1.8.3">
<h3 data-number="1.8.3" class="anchored" data-anchor-id="지속적-개선"><span class="header-section-number">1.8.3</span> 지속적 개선</h3>
<p><strong>Feedback Loop</strong>:</p>
<pre><code>User Interactions
    ↓
Click-through Data
    ↓
Implicit Feedback (clicks, dwell time)
    ↓
Update Relevance Labels
    ↓
Retrain Scoring Profile
    ↓
A/B Test New Model
    ↓
Deploy if Better</code></pre>
<p><strong>Learning to Rank (향후 통합 가능)</strong>: - Azure Search는 현재 static scoring profile만 지원 - 머신러닝 기반 ranking model 통합은 향후 로드맵</p>
<hr>
</section>
</section>
<section id="실무-사례-분석" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="실무-사례-분석"><span class="header-section-number">1.9</span> 실무 사례 분석</h2>
<section id="e-commerce-product-search" class="level3" data-number="1.9.1">
<h3 data-number="1.9.1" class="anchored" data-anchor-id="e-commerce-product-search"><span class="header-section-number">1.9.1</span> E-commerce Product Search</h3>
<p><strong>요구사항</strong>: - 텍스트 검색 + 이미지 유사도 - 인기도, 평점, 신규 제품 부스팅 - 저지연 (&lt;100ms)</p>
<p><strong>구성</strong>:</p>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb28-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb28-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wireless mouse"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb28-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb28-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wireless mouse"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"titleVector,imageVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb28-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb28-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category eq 'Electronics' and inStock eq true"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ecommerce-ranking"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-13">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span></span>
<span id="cb28-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>Scoring Profile</strong>:</p>
<div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb29-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfiles"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb29-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ecommerce-ranking"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-6">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weights"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-7">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"title"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.0</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-8">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"description"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.0</span></span>
<span id="cb29-9">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb29-10">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb29-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb29-12">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-13">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-14">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rating"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-15">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb29-16">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-17">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-18">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"freshness"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-19">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publishDate"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-20">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-21">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"freshness"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingDuration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"P30D"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb29-22">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-23">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-24">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-25">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"salesCount"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-26">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-27">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"interpolation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"logarithmic"</span></span>
<span id="cb29-28">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb29-29">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-30">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functionAggregation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sum"</span></span>
<span id="cb29-31">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb29-32">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb29-33"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>결과</strong>: - 지연시간: 85ms (목표 달성) - CTR: 4.2% (baseline 3.1% 대비 +35%) - 전환율: 2.8% (baseline 2.1% 대비 +33%)</p>
</section>
<section id="기술-문서-qa-시스템" class="level3" data-number="1.9.2">
<h3 data-number="1.9.2" class="anchored" data-anchor-id="기술-문서-qa-시스템"><span class="header-section-number">1.9.2</span> 기술 문서 QA 시스템</h3>
<p><strong>요구사항</strong>: - 자연어 질문 이해 - 긴 문서 검색 - 정확도 우선</p>
<p><strong>구성</strong>:</p>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb30-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb30-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to configure Azure Search indexer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semanticConfiguration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"docs-semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"answers"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|count-3"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"captions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|highlight-true"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-7">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb30-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb30-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to configure Azure Search indexer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb30-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb30-14">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-15">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"documentType in ('Tutorial', 'Guide', 'Reference')"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-16">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb30-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>결과</strong>: - 지연시간: 320ms (허용 가능) - Answer Accuracy: 87% (baseline 62% 대비 +40%) - User Satisfaction: 4.3/5 (baseline 3.5/5)</p>
</section>
<section id="지역-기반-검색-식당-부동산" class="level3" data-number="1.9.3">
<h3 data-number="1.9.3" class="anchored" data-anchor-id="지역-기반-검색-식당-부동산"><span class="header-section-number">1.9.3</span> 지역 기반 검색 (식당, 부동산)</h3>
<p><strong>요구사항</strong>: - 위치 근접도 우선 - 평점, 가격 범위 고려 - 실시간 업데이트</p>
<p><strong>구성</strong>:</p>
<div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb31-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb31-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"italian restaurant"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"priceRange le 3"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location-ranking"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"currentLocation--122.12,47.67"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"orderby"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"search.score() desc"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-7">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb31-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>Scoring Profile</strong>:</p>
<div class="sourceCode" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb32-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb32-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfiles"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb32-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb32-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location-ranking"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb32-6">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb32-7">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"distance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-8">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"location"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-9">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-10">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"distance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb32-11">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"referencePointParameter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"currentLocation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-12">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boostingDistance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>  <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">//</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">km</span></span>
<span id="cb32-13">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb32-14">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-15">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb32-16">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"magnitude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-17">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rating"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-18">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb32-19">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb32-20">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb32-21">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"functionAggregation"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sum"</span></span>
<span id="cb32-22">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb32-23">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb32-24"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>결과</strong>: - 평균 거리: 1.2km (baseline 3.5km 대비 -66%) - 사용자 만족도: 4.5/5 (baseline 3.8/5)</p>
<hr>
</section>
</section>
<section id="비용-최적화-전략" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="비용-최적화-전략"><span class="header-section-number">1.10</span> 비용 최적화 전략</h2>
<section id="기능별-비용-분석" class="level3" data-number="1.10.1">
<h3 data-number="1.10.1" class="anchored" data-anchor-id="기능별-비용-분석"><span class="header-section-number">1.10.1</span> 기능별 비용 분석</h3>
<p><strong>연간 TCO 계산</strong> (100K 쿼리/day):</p>
<table class="table">
<thead>
<tr class="header">
<th>기능</th>
<th>추가 비용</th>
<th>정확도 향상</th>
<th>ROI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Baseline (BM25)</td>
<td>$0</td>
<td>0%</td>
<td>N/A</td>
</tr>
<tr class="even">
<td>+ Vector Search</td>
<td>$0</td>
<td>+20%</td>
<td>∞</td>
</tr>
<tr class="odd">
<td>+ Semantic Ranking</td>
<td>+$6,000/year</td>
<td>+12%</td>
<td>중간</td>
</tr>
<tr class="even">
<td>+ Scoring Profile</td>
<td>$0</td>
<td>+10%</td>
<td>∞</td>
</tr>
</tbody>
</table>
<p><strong>권장 전략</strong>: 1. 항상 Hybrid (Text + Vector) 사용 (무료) 2. Semantic은 QA/긴 문서 검색에만 선택적 사용 3. Scoring Profile로 비즈니스 로직 반영 (무료)</p>
</section>
<section id="semantic-search-비용-절감" class="level3" data-number="1.10.2">
<h3 data-number="1.10.2" class="anchored" data-anchor-id="semantic-search-비용-절감"><span class="header-section-number">1.10.2</span> Semantic Search 비용 절감</h3>
<p><strong>조건부 Semantic 활성화</strong>:</p>
<div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> should_use_semantic(query, context):</span>
<span id="cb33-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 규칙 기반 결정</span></span>
<span id="cb33-3">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(query.split()) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>:  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 긴 쿼리</span></span>
<span id="cb33-4">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span>
<span id="cb33-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'?'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> query <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">or</span> query.lower().startswith((<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'how'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'what'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'why'</span>)):</span>
<span id="cb33-6">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span>
<span id="cb33-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> context.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'user_tier'</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'premium'</span>:</span>
<span id="cb33-8">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span>
<span id="cb33-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span>
<span id="cb33-10"></span>
<span id="cb33-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 쿼리 실행</span></span>
<span id="cb33-12"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> should_use_semantic(user_query, context):</span>
<span id="cb33-13">    config <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'queryType'</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'semantic'</span>}</span>
<span id="cb33-14"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:</span>
<span id="cb33-15">    config <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'queryType'</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'simple'</span>}</span></code></pre></div>
<p><strong>비용 절감 효과</strong>: - 전체 쿼리에 semantic: $6,000/year - 조건부 semantic (30% 적용): $2,000/year (-67%) - 정확도 손실: &lt;3%</p>
<hr>
</section>
</section>
<section id="증거의-강도-및-한계" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="증거의-강도-및-한계"><span class="header-section-number">1.11</span> 증거의 강도 및 한계</h2>
<section id="증거-출처" class="level3" data-number="1.11.1">
<h3 data-number="1.11.1" class="anchored" data-anchor-id="증거-출처"><span class="header-section-number">1.11.1</span> 증거 출처</h3>
<ul>
<li><strong>Microsoft Learn 공식 문서</strong>: BM25 파라미터, RRF 알고리즘, Semantic Ranking</li>
<li><strong>Robertson &amp; Zaragoza (2009)</strong>: “The Probabilistic Relevance Framework: BM25 and Beyond” (BM25 이론적 기반)</li>
<li><strong>Cormack et al.&nbsp;(2009)</strong>: “Reciprocal Rank Fusion outperforms Condorcet and individual Rank Learning Methods” (RRF 성능 평가)</li>
<li><strong>MS MARCO</strong>: Microsoft Machine Reading Comprehension (Semantic Ranking 벤치마크)</li>
<li><strong>TREC</strong>: Text REtrieval Conference (정보 검색 표준 평가)</li>
</ul>
</section>
<section id="한계점" class="level3" data-number="1.11.2">
<h3 data-number="1.11.2" class="anchored" data-anchor-id="한계점"><span class="header-section-number">1.11.2</span> 한계점</h3>
<ol type="1">
<li><strong>BM25 파라미터 영향</strong>:
<ul>
<li>최적 k1, b 값은 데이터셋마다 다름</li>
<li>공개 벤치마크 수치는 특정 컬렉션 기준</li>
<li>실제 적용 시 ±10-20% 변동 가능</li>
</ul></li>
<li><strong>RRF 상수 k=60</strong>:
<ul>
<li>Azure는 k=60 고정 (변경 불가)</li>
<li>학술 연구에서는 k=10-100 범위에서 큰 차이 없음을 입증</li>
<li>그러나 특정 도메인에서 최적값은 다를 수 있음</li>
</ul></li>
<li><strong>Semantic Ranking 정확도</strong>:
<ul>
<li>MS MARCO 벤치마크는 영어 중심</li>
<li>다른 언어, 도메인에서 성능 불명확</li>
<li>내부 모델 구조 비공개로 fine-tuning 불가</li>
</ul></li>
<li><strong>Scoring Profile 최적화</strong>:
<ul>
<li>수동 튜닝 필요 (자동 학습 미지원)</li>
<li>최적 가중치는 시행착오로 찾아야 함</li>
<li>Learning to Rank 통합 시기 불명확</li>
</ul></li>
</ol>
</section>
<section id="대안-기술" class="level3" data-number="1.11.3">
<h3 data-number="1.11.3" class="anchored" data-anchor-id="대안-기술"><span class="header-section-number">1.11.3</span> 대안 기술</h3>
<p><strong>Elasticsearch</strong>: - 더 세밀한 BM25 파라미터 제어 - Learning to Rank 플러그인 지원 - Function score query (유사한 scoring profile)</p>
<p><strong>Solr</strong>: - 복잡한 boosting 함수 - Re-ranking 플러그인 생태계</p>
<p><strong>Azure 통합 장점</strong>: - Semantic Ranking (BERT 기반) 기본 제공 - 완전 관리형 (튜닝 최소화) - Azure OpenAI, Cognitive Services 통합</p>
<hr>
</section>
</section>
<section id="불확실성-영역" class="level2" data-number="1.12">
<h2 data-number="1.12" class="anchored" data-anchor-id="불확실성-영역"><span class="header-section-number">1.12</span> 불확실성 영역</h2>
<ol type="1">
<li><strong>Semantic Ranking 내부 모델</strong>:
<ul>
<li>정확한 아키텍처 (BERT variant, 파라미터 수) 비공개</li>
<li>학습 데이터 구성 비공개</li>
<li>Fine-tuning 가능 여부 불명확</li>
</ul></li>
<li><strong>RRF k 값 최적화</strong>:
<ul>
<li>Azure가 k=60 선택한 근거 불명확</li>
<li>도메인별 최적값 가이드 부족</li>
</ul></li>
<li><strong>Scoring Profile 성능 영향</strong>:
<ul>
<li>복잡한 function 조합 시 지연시간 증가 정도 불명확</li>
<li>대규모 환경 (10M+ 문서)에서 실제 성능 데이터 제한적</li>
</ul></li>
<li><strong>Learning to Rank 통합</strong>:
<ul>
<li>향후 지원 계획 불명확</li>
<li>외부 LTR 모델 통합 가능 여부 불명확</li>
</ul></li>
</ol>
<hr>
</section>
<section id="실무-의사결정-가이드" class="level2" data-number="1.13">
<h2 data-number="1.13" class="anchored" data-anchor-id="실무-의사결정-가이드"><span class="header-section-number">1.13</span> 실무 의사결정 가이드</h2>
<section id="ranking-strategy-선택" class="level3" data-number="1.13.1">
<h3 data-number="1.13.1" class="anchored" data-anchor-id="ranking-strategy-선택"><span class="header-section-number">1.13.1</span> Ranking Strategy 선택</h3>
<pre><code>검색 시나리오?
├─ 간단한 키워드 검색 (제품명, ID)
│  └─ BM25 only (k1=1.2, b=0.75)
│
├─ 일반 범용 검색 (e-commerce, 뉴스)
│  └─ Hybrid (BM25 + Vector) + Scoring Profile
│
├─ 자연어 질문 (QA, 기술 문서)
│  └─ Hybrid + Semantic Ranking
│
└─ 위치 기반 검색 (식당, 부동산)
   └─ BM25 + Distance Scoring Profile</code></pre>
</section>
<section id="성능-vs-비용-vs-정확도" class="level3" data-number="1.13.2">
<h3 data-number="1.13.2" class="anchored" data-anchor-id="성능-vs-비용-vs-정확도"><span class="header-section-number">1.13.2</span> 성능 vs 비용 vs 정확도</h3>
<p><strong>의사결정 매트릭스</strong>:</p>
<table class="table">
<thead>
<tr class="header">
<th>전략</th>
<th>지연시간</th>
<th>월 비용</th>
<th>정확도</th>
<th>권장 사용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>BM25 only</td>
<td>50ms</td>
<td>$250</td>
<td>기본</td>
<td>키워드 검색</td>
</tr>
<tr class="even">
<td>Hybrid</td>
<td>80ms</td>
<td>$250</td>
<td>+20%</td>
<td>일반 검색</td>
</tr>
<tr class="odd">
<td>Hybrid + Scoring</td>
<td>85ms</td>
<td>$250</td>
<td>+30%</td>
<td>E-commerce</td>
</tr>
<tr class="even">
<td>Hybrid + Semantic</td>
<td>330ms</td>
<td>$750</td>
<td>+35%</td>
<td>QA, 문서 검색</td>
</tr>
<tr class="odd">
<td>Full Stack</td>
<td>350ms</td>
<td>$750</td>
<td>+45%</td>
<td>Premium 서비스</td>
</tr>
</tbody>
</table>
</section>
<section id="튜닝-우선순위" class="level3" data-number="1.13.3">
<h3 data-number="1.13.3" class="anchored" data-anchor-id="튜닝-우선순위"><span class="header-section-number">1.13.3</span> 튜닝 우선순위</h3>
<p><strong>ROI 기준 우선순위</strong>:</p>
<ol type="1">
<li><strong>Hybrid Search</strong> (무료, +20% 정확도)
<ul>
<li>구현 난이도: 낮음</li>
<li>즉시 적용 가능</li>
</ul></li>
<li><strong>Scoring Profile</strong> (무료, +10% 정확도)
<ul>
<li>구현 난이도: 중간</li>
<li>도메인 지식 필요</li>
</ul></li>
<li><strong>BM25 튜닝</strong> (무료, +5% 정확도)
<ul>
<li>구현 난이도: 낮음</li>
<li>그리드 서치 필요</li>
</ul></li>
<li><strong>Semantic Ranking</strong> (+$500/month, +12% 정확도)
<ul>
<li>구현 난이도: 낮음</li>
<li>비용 대비 효과 평가 필요</li>
</ul></li>
</ol>
<hr>
</section>
</section>
<section id="참고-링크" class="level2" data-number="1.14">
<h2 data-number="1.14" class="anchored" data-anchor-id="참고-링크"><span class="header-section-number">1.14</span> 참고 링크</h2>
<section id="microsoft-learn-공식-문서" class="level3" data-number="1.14.1">
<h3 data-number="1.14.1" class="anchored" data-anchor-id="microsoft-learn-공식-문서"><span class="header-section-number">1.14.1</span> Microsoft Learn 공식 문서</h3>
<ol type="1">
<li><strong>Relevance Overview</strong>:
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-relevance-overview">Relevance and scoring in Azure AI Search</a></li>
</ul></li>
<li><strong>Ranking Mechanisms</strong>:
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/vector-search-ranking">Vector search ranking</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/hybrid-search-ranking">Hybrid search ranking</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/index-similarity-and-scoring">Similarity and scoring in full text search</a></li>
</ul></li>
<li><strong>Semantic Search</strong>:
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/semantic-search-overview">Semantic ranking in Azure AI Search</a></li>
</ul></li>
</ol>
</section>
<section id="학술-자료" class="level3" data-number="1.14.2">
<h3 data-number="1.14.2" class="anchored" data-anchor-id="학술-자료"><span class="header-section-number">1.14.2</span> 학술 자료</h3>
<ol start="4" type="1">
<li><strong>BM25 and Ranking</strong>:
<ul>
<li>Robertson, S. &amp; Zaragoza, H. (2009). “The Probabilistic Relevance Framework: BM25 and Beyond.” Foundations and Trends in Information Retrieval.</li>
<li>Cormack, G. V. et al.&nbsp;(2009). “Reciprocal rank fusion outperforms condorcet and individual rank learning methods.” SIGIR 2009.</li>
</ul></li>
<li><strong>Semantic Models</strong>:
<ul>
<li>Devlin, J. et al.&nbsp;(2019). “BERT: Pre-training of Deep Bidirectional Transformers for Language Understanding.” NAACL 2019.</li>
<li>Nogueira, R. &amp; Cho, K. (2019). “Passage Re-ranking with BERT.” arXiv preprint.</li>
</ul></li>
<li><strong>Evaluation Benchmarks</strong>:
<ul>
<li>MS MARCO: <a href="https://microsoft.github.io/msmarco/">Machine Reading Comprehension</a></li>
<li>TREC: <a href="https://trec.nist.gov/">Text REtrieval Conference</a></li>
<li>Beir: <a href="https://github.com/beir-cellar/beir">Benchmarking IR</a></li>
</ul></li>
</ol>
</section>
<section id="azure-pricing" class="level3" data-number="1.14.3">
<h3 data-number="1.14.3" class="anchored" data-anchor-id="azure-pricing"><span class="header-section-number">1.14.3</span> Azure Pricing</h3>
<ol start="7" type="1">
<li><strong>Cost Calculation</strong>:
<ul>
<li><a href="https://azure.microsoft.com/en-us/pricing/details/search/">Azure AI Search Pricing</a></li>
</ul></li>
</ol>


</section>
</section>
</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/32-az-ai-search-classic-ranking.html</guid>
  <pubDate>Thu, 25 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure AI Search 서비스 제한사항</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/30-az-ai-search-classic-hybrid-search.html</link>
  <description><![CDATA[ 





<section id="hybrid-search" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Hybrid Search</h1>
<section id="hybrid-search-핵심-개념" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="hybrid-search-핵심-개념"><span class="header-section-number">1.1</span> Hybrid Search 핵심 개념</h2>
<section id="hybrid-search-정의" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="hybrid-search-정의"><span class="header-section-number">1.1.1</span> Hybrid Search 정의</h3>
<p>Hybrid Search는 Lexical Search (BM25)와 Semantic Search (Vector)를 결합하여 각각의 장점을 활용하는 검색 방식입니다.</p>
<p><strong>근본적 필요성</strong></p>
<pre><code>Lexical Search (BM25)의 한계:
- 동의어 처리 불가 ("car" ≠ "automobile")
- 의미론적 이해 부족
- Vocabulary mismatch 문제

Vector Search의 한계:
- 정확한 키워드 매칭 약함 ("iPhone 15" vs "iPhone 14")
- 고유명사, 제품 코드 검색 부족
- 드문 용어 (tail queries) 처리 약함

Hybrid = 두 방식의 상호 보완</code></pre>
</section>
<section id="아키텍처-개요" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="아키텍처-개요"><span class="header-section-number">1.1.2</span> 아키텍처 개요</h3>
<p><strong>Hybrid Search 실행 플로우</strong></p>
<pre><code>User Query: "machine learning optimization techniques"
    ↓
┌────────────────────────────────────────────────────┐
│ Parallel Execution                                 │
├────────────────────────────────────────────────────┤
│ Path 1: Lexical Search                             │
│   Query: "machine learning optimization techniques"│
│   → BM25 Scoring                                   │
│   → Top 50 results with scores                     │
│   Example: Doc A (score: 12.5), Doc B (8.3), ...  │
├────────────────────────────────────────────────────┤
│ Path 2: Vector Search                              │
│   Query → Embedding (1536-dim)                     │
│   → HNSW k-NN Search                               │
│   → Top 50 results with similarities               │
│   Example: Doc C (0.89), Doc A (0.85), ...        │
└────────────────────────────────────────────────────┘
    ↓
┌────────────────────────────────────────────────────┐
│ RRF (Reciprocal Rank Fusion)                       │
│ Combine rankings from both paths                   │
│ Doc A: 1/(60+1) + 1/(60+2) = 0.0325               │
│ Doc B: 1/(60+2) + 1/(60+50) = 0.0250              │
│ Doc C: 1/(60+50) + 1/(60+1) = 0.0255              │
└────────────────────────────────────────────────────┘
    ↓
Final Ranking: Doc A &gt; Doc C &gt; Doc B</code></pre>
</section>
<section id="성능-비교" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="성능-비교"><span class="header-section-number">1.1.3</span> 성능 비교</h3>
<p><strong>실증 평가 (다양한 벤치마크)</strong></p>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 20%">
<col style="width: 23%">
<col style="width: 25%">
<col style="width: 14%">
</colgroup>
<thead>
<tr class="header">
<th>데이터셋</th>
<th>BM25 only</th>
<th>Vector only</th>
<th>Hybrid (RRF)</th>
<th>개선률</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>MS MARCO (QA)</td>
<td>NDCG@10: 0.32</td>
<td>NDCG@10: 0.38</td>
<td>NDCG@10: 0.46</td>
<td>+44% vs BM25</td>
</tr>
<tr class="even">
<td>TREC-COVID</td>
<td>MAP: 0.45</td>
<td>MAP: 0.52</td>
<td>MAP: 0.61</td>
<td>+36% vs BM25</td>
</tr>
<tr class="odd">
<td>NFCorpus (Medical)</td>
<td>NDCG@10: 0.28</td>
<td>NDCG@10: 0.31</td>
<td>NDCG@10: 0.35</td>
<td>+25% vs BM25</td>
</tr>
<tr class="even">
<td>E-commerce (내부)</td>
<td>Precision@10: 0.65</td>
<td>Precision@10: 0.71</td>
<td>Precision@10: 0.82</td>
<td>+26% vs BM25</td>
</tr>
</tbody>
</table>
<p><strong>핵심 인사이트</strong><br>
- Hybrid는 거의 항상 단일 방식보다 우수<br>
- 개선 폭은 도메인에 따라 25-50%<br>
- 쿼리 타입에 따라 효과 차이 (긴 자연어 질문 &gt; 짧은 키워드)</p>
</section>
</section>
<section id="hybrid-search-구현" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="hybrid-search-구현"><span class="header-section-number">1.2</span> Hybrid Search 구현</h2>
<section id="기본-구현" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="기본-구현"><span class="header-section-number">1.2.1</span> 기본 구현</h3>
<p><strong>인덱스 스키마</strong></p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hybrid-index"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb3-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"key"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb3-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edm.String"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"searchable"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"analyzer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"en.microsoft"</span></span>
<span id="cb3-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-15">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-16">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-17">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-18">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1536</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-19">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearchProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-vector-profile"</span></span>
<span id="cb3-20">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-21">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-22">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearch"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-23">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"profiles"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb3-24">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-25">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-vector-profile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-26">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"algorithm"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-hnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-27">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-vectorizer"</span></span>
<span id="cb3-28">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-29">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-30">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"algorithms"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb3-31">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-32">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-hnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-33">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-34">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"hnswParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-35">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"metric"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cosine"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-36">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"m"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-37">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"efConstruction"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">400</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-38">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"efSearch"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span></span>
<span id="cb3-39">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-40">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-41">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-42">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorizers"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb3-43">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-44">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-45">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azureOpenAI"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-46">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"azureOpenAIParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-47">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"resourceUri"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://my-openai.openai.azure.com"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-48">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"deploymentId"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-3-large"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-49">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"apiKey"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">null</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-50">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"authIdentity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-51">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"identityType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"systemAssignedIdentity"</span></span>
<span id="cb3-52">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-53">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-54">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-55">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb3-56">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-57"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="hybrid-query-구문" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="hybrid-query-구문"><span class="header-section-number">1.2.2</span> Hybrid Query 구문</h3>
<p><strong>기본 Hybrid Query</strong></p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning optimization"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning optimization"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb4-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"select"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id,content"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb4-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>중요 파라미터</strong><br>
- <code>search</code>: Lexical search 쿼리 (BM25)<br>
- <code>vectorQueries</code>: Vector search 쿼리 (1개 이상)<br>
- <code>k</code>: Vector search가 반환할 후보 수<br>
- <code>top</code>: 최종 반환 결과 수</p>
</section>
<section id="query-time-vectorization" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="query-time-vectorization"><span class="header-section-number">1.2.3</span> Query-time Vectorization</h3>
<p><strong>자동 임베딩 생성 (Vectorizer 구성 시)</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"what is azure search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"what is azure search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb5-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb5-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>처리 플로우</strong></p>
<pre><code>Query Text: "what is azure search"
    ↓
Vectorizer (Azure OpenAI)
    ↓
Embedding: [0.023, -0.145, ..., 0.089] (1536-dim)
    ↓
HNSW Search
    ↓
Top 50 results</code></pre>
<p><strong>장점</strong><br>
- 클라이언트 코드 단순화<br>
- 일관성 보장 (인덱싱/쿼리 동일 모델)</p>
<p><strong>단점</strong><br>
- 쿼리 지연 증가 (+50-150ms)<br>
- API rate limit 영향</p>
</section>
<section id="pre-computed-vector-query" class="level3" data-number="1.2.4">
<h3 data-number="1.2.4" class="anchored" data-anchor-id="pre-computed-vector-query"><span class="header-section-number">1.2.4</span> Pre-computed Vector Query</h3>
<p><strong>사전 계산된 임베딩 사용</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> openai <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> AzureOpenAI</span>
<span id="cb7-2"></span>
<span id="cb7-3">client <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> AzureOpenAI(...)</span>
<span id="cb7-4">response <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> client.embeddings.create(</span>
<span id="cb7-5">    model<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-3-large"</span>,</span>
<span id="cb7-6">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">input</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"what is azure search"</span></span>
<span id="cb7-7">)</span>
<span id="cb7-8">query_vector <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> response.data[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>].embedding</span>
<span id="cb7-9"></span>
<span id="cb7-10">search_client.search(</span>
<span id="cb7-11">    search_text<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"what is azure search"</span>,</span>
<span id="cb7-12">    vector_queries<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[</span>
<span id="cb7-13">        VectorizedQuery(</span>
<span id="cb7-14">            vector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>query_vector,</span>
<span id="cb7-15">            k_nearest_neighbors<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,</span>
<span id="cb7-16">            fields<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span></span>
<span id="cb7-17">        )</span>
<span id="cb7-18">    ],</span>
<span id="cb7-19">    top<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb7-20">)</span></code></pre></div>
<p><strong>장점</strong><br>
- 더 빠른 쿼리 (vectorization 시간 제외)<br>
- Rate limit 제어 가능 (캐싱 등)</p>
<p><strong>단점</strong><br>
- 클라이언트 복잡도 증가<br>
- 모델 버전 불일치 위험</p>
</section>
</section>
<section id="rrf-reciprocal-rank-fusion-상세" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="rrf-reciprocal-rank-fusion-상세"><span class="header-section-number">1.3</span> RRF (Reciprocal Rank Fusion) 상세</h2>
<section id="rrf-알고리즘-심층-분석" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="rrf-알고리즘-심층-분석"><span class="header-section-number">1.3.1</span> RRF 알고리즘 심층 분석</h3>
<p><strong>RRF 공식</strong><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRRF%7D(d)%20=%20%5Csum_%7Br%20%5Cin%20R%7D%20%5Cfrac%7B1%7D%7Bk%20+%20%5Ctext%7Brank%7D_r(d)%7D"></p>
<p><strong>구성 요소 상세</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?k"> 상수 (Azure 기본값: 60):<br>
- 역할: 순위 차이의 영향 완화<br>
- 효과: <img src="https://latex.codecogs.com/png.latex?k">가 클수록 상위/하위 순위 차이 감소<br>
- 선택 근거: 실험적으로 최적 (k=50-100 범위에서 유사한 성능)</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Brank%7D_r(d)"> (순위):<br>
- 1부터 시작 (1위 = 1, 2위 = 2, …)<br>
- 결과에 없는 문서: 순위 무한대 → 기여도 0</p>
<p><strong>계산 예시</strong></p>
<pre><code>Query: "machine learning"

Lexical Search Results:
1. Doc A (BM25: 15.2)
2. Doc B (BM25: 12.8)
3. Doc C (BM25: 10.5)
...
20. Doc D (BM25: 3.2)

Vector Search Results:
1. Doc D (cosine: 0.91)
2. Doc A (cosine: 0.87)
3. Doc E (cosine: 0.84)
...

RRF Calculation:
Doc A: 1/(60+1) + 1/(60+2) = 0.0164 + 0.0161 = 0.0325
Doc B: 1/(60+2) + 0 = 0.0159 (not in vector top-k)
Doc C: 1/(60+3) + 0 = 0.0159
Doc D: 1/(60+20) + 1/(60+1) = 0.0125 + 0.0164 = 0.0289
Doc E: 0 + 1/(60+3) = 0.0159

Final Ranking:
1. Doc A (0.0325)
2. Doc D (0.0289)
3. Doc B, C, E (0.0159)</code></pre>
</section>
<section id="rrf-특성-분석" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="rrf-특성-분석"><span class="header-section-number">1.3.2</span> RRF 특성 분석</h3>
<p><strong>순위 압축 효과</strong></p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1">k <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span></span>
<span id="cb9-2">ranks <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">101</span>)</span>
<span id="cb9-3">rrf_scores <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>(k<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>r) <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> r <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> ranks]</span>
<span id="cb9-4"></span>
<span id="cb9-5">Rank <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>: <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.0164</span></span>
<span id="cb9-6">Rank <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>: <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.0143</span> (<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%</span>)</span>
<span id="cb9-7">Rank <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>: <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.0091</span> (<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%</span>)</span>
<span id="cb9-8">Rank <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>: <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.0062</span> (<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">62</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%</span>)</span></code></pre></div>
<p><strong>핵심 인사이트</strong><br>
- 상위 10위 내 점수 차이는 작음 (약 13%)<br>
- 이는 두 검색 방식이 “disagree”해도 중간 순위 문서가 상위로 올라갈 수 있음</p>
<p><strong>예시</strong></p>
<pre><code>Doc X: Lexical rank 5, Vector rank 5
  RRF = 1/65 + 1/65 = 0.0308

Doc Y: Lexical rank 1, Vector rank 30
  RRF = 1/61 + 1/90 = 0.0275

Result: X &gt; Y (despite Y being #1 in lexical)</code></pre>
</section>
<section id="rrf-vs-다른-fusion-방법" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="rrf-vs-다른-fusion-방법"><span class="header-section-number">1.3.3</span> RRF vs 다른 Fusion 방법</h3>
<p><strong>CombSUM (점수 합산)</strong><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7BCombSUM%7D(d)%20=%20%5Calpha%20%5Ccdot%20%5Ctext%7Bscore%7D_%7B%5Ctext%7Btext%7D%7D(d)%20+%20(1-%5Calpha)%20%5Ccdot%20%5Ctext%7Bscore%7D_%7B%5Ctext%7Bvector%7D%7D(d)"></p>
<p>문제점:<br>
- BM25 점수 (0-∞)와 cosine 점수 (0-1)의 스케일 차이<br>
- 정규화 필요하지만 쿼리마다 최대값 다름</p>
<p><strong>CombMNZ (출현 빈도 가중)</strong><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7BCombMNZ%7D(d)%20=%20%5Ctext%7Bcount%7D_%7B%5Ctext%7Bsystems%7D%7D(d)%20%5Ctimes%20%5Csum_%7Br%7D%20%5Ctext%7Bscore%7D_r(d)"></p>
<p>특징:<br>
- 여러 시스템에 공통으로 나타나는 문서 선호<br>
- 실험적으로 RRF보다 성능 낮음</p>
<p><strong>실험 비교 (MS MARCO)</strong><br>
- RRF: NDCG@10 = 0.46<br>
- CombSUM (최적 α): NDCG@10 = 0.47 (+2%)<br>
- CombMNZ: NDCG@10 = 0.42 (-9%)<br>
- Weighted RRF (튜닝): NDCG@10 = 0.48 (+4%)</p>
<p>결론: RRF는 튜닝 없이 최적에 근접, 실용적</p>
</section>
</section>
<section id="hybrid-search-최적화" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="hybrid-search-최적화"><span class="header-section-number">1.4</span> Hybrid Search 최적화</h2>
<section id="k-값-선택" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="k-값-선택"><span class="header-section-number">1.4.1</span> k 값 선택</h3>
<p><strong>k (Vector search top-k) 영향</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>k 값</th>
<th>Recall</th>
<th>Precision</th>
<th>지연시간</th>
<th>권장 사용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>10</td>
<td>낮음</td>
<td>높음</td>
<td>20ms</td>
<td>정확한 매칭만</td>
</tr>
<tr class="even">
<td>30</td>
<td>중간</td>
<td>중간</td>
<td>25ms</td>
<td>일반 검색</td>
</tr>
<tr class="odd">
<td>50</td>
<td>높음</td>
<td>중간</td>
<td>30ms</td>
<td>기본값 (균형)</td>
</tr>
<tr class="even">
<td>100</td>
<td>매우 높음</td>
<td>낮음</td>
<td>50ms</td>
<td>Recall 중시</td>
</tr>
</tbody>
</table>
<p><strong>실험 결과 (1M 문서 인덱스)</strong></p>
<pre><code>Final top=10 기준

k=10:
- NDCG@10: 0.42
- Latency: 75ms

k=50 (default):
- NDCG@10: 0.46
- Latency: 80ms

k=100:
- NDCG@10: 0.47
- Latency: 95ms

k=200:
- NDCG@10: 0.47 (no improvement)
- Latency: 130ms</code></pre>
<p><strong>권장 전략</strong><br>
<img src="https://latex.codecogs.com/png.latex?k%20%5Capprox%205%20%5Ctimes%20%5Ctext%7Btop%7D"></p>
<ul>
<li><code>top=10</code> → <code>k=50</code><br>
</li>
<li><code>top=20</code> → <code>k=100</code><br>
</li>
<li>더 큰 k는 diminishing returns</li>
</ul>
</section>
<section id="필터링과-hybrid-search" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="필터링과-hybrid-search"><span class="header-section-number">1.4.2</span> 필터링과 Hybrid Search</h3>
<p><strong>Filter 적용 시점</strong></p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"laptop"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb12-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb12-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"laptop"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb12-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category eq 'Electronics' and price le 1000"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorFilterMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"preFilter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb12-13">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb12-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>실행 순서 (preFilter)</strong></p>
<pre><code>1. Apply filter: 1M docs → 200K docs
2. Lexical search on 200K docs → Top 50
3. Vector search on 200K docs → Top 50
4. RRF fusion
5. Return top 10</code></pre>
<p><strong>Filter Mode 비교 (Hybrid 환경)</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>Mode</th>
<th>실행 순서</th>
<th>정확도</th>
<th>속도</th>
<th>사용 사례</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>preFilter</td>
<td>Filter → Both searches</td>
<td>높음</td>
<td>빠름</td>
<td>엄격한 필터</td>
</tr>
<tr class="even">
<td>postFilter</td>
<td>Both searches → Filter</td>
<td>낮음</td>
<td>매우 빠름</td>
<td>느슨한 필터</td>
</tr>
<tr class="odd">
<td>null (auto)</td>
<td>Azure 자동 선택</td>
<td>최적화</td>
<td>최적화</td>
<td>일반 (권장)</td>
</tr>
</tbody>
</table>
<p><strong>성능 측정 (1M 문서, filter selectivity 80%)</strong><br>
- preFilter: 70ms (filter 30ms + searches 40ms)<br>
- postFilter: 45ms (searches 40ms + filter 5ms, but lower recall)<br>
- Auto: 65ms (dynamic decision)</p>
</section>
<section id="semantic-reranking-통합" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="semantic-reranking-통합"><span class="header-section-number">1.4.3</span> Semantic Reranking 통합</h3>
<p><strong>Complete Stack (Hybrid + Semantic)</strong></p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to improve search relevance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb14-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to improve search relevance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb14-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semanticConfiguration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"default"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-13">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"answers"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|count-3"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-14">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"captions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|highlight-true"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-15">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb14-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>실행 플로우</strong></p>
<pre><code>1. Lexical Search → Top 50
2. Vector Search → Top 50
3. RRF Fusion → Combined top 50
4. Semantic Reranking (BERT) → Reranked top 50
5. Answer Extraction → Top 3 answers
6. Return top 10 + answers</code></pre>
<p><strong>성능 Stack 분석</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>Configuration</th>
<th>NDCG@10</th>
<th>지연시간</th>
<th>월 비용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Lexical only</td>
<td>0.32</td>
<td>50ms</td>
<td>$250</td>
</tr>
<tr class="even">
<td>Hybrid (L+V)</td>
<td>0.46</td>
<td>80ms</td>
<td>$250</td>
</tr>
<tr class="odd">
<td>Hybrid + Semantic</td>
<td>0.54</td>
<td>330ms</td>
<td>$750</td>
</tr>
</tbody>
</table>
<p><strong>증분 개선</strong><br>
- Lexical → Hybrid: +44% 정확도, +30ms<br>
- Hybrid → +Semantic: +17% 정확도, +250ms</p>
</section>
<section id="multi-vector-hybrid-search" class="level3" data-number="1.4.4">
<h3 data-number="1.4.4" class="anchored" data-anchor-id="multi-vector-hybrid-search"><span class="header-section-number">1.4.4</span> Multi-Vector Hybrid Search</h3>
<p><strong>복수 벡터 필드 활용</strong></p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb16-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure machine learning"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb16-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb16-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure machine learning"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"titleVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span></span>
<span id="cb16-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb16-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure machine learning"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-14">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-15">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-16">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span></span>
<span id="cb16-17">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb16-18">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-19">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb16-20"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>RRF with Multiple Vectors</strong><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRRF%7D(d)%20=%20%5Cfrac%7B1%7D%7Bk%20+%20%5Ctext%7Brank%7D_%7B%5Ctext%7Btext%7D%7D(d)%7D%20+%20%5Cfrac%7Bw_1%7D%7Bk%20+%20%5Ctext%7Brank%7D_%7B%5Ctext%7Btitle%5C_vec%7D%7D(d)%7D%20+%20%5Cfrac%7Bw_2%7D%7Bk%20+%20%5Ctext%7Brank%7D_%7B%5Ctext%7Bcontent%5C_vec%7D%7D(d)%7D"></p>
<p><strong>실험 결과 (학술 논문 검색)</strong><br>
- Single vector (content): NDCG@10 = 0.46<br>
- Multi-vector (title + content, equal weight): NDCG@10 = 0.51 (+11%)<br>
- Multi-vector (title 0.4, content 0.6): NDCG@10 = 0.53 (+15%)</p>
</section>
</section>
<section id="실무-구현-패턴" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="실무-구현-패턴"><span class="header-section-number">1.5</span> 실무 구현 패턴</h2>
<section id="python-sdk-사용" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="python-sdk-사용"><span class="header-section-number">1.5.1</span> Python SDK 사용</h3>
<p><strong>기본 Hybrid Query</strong></p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> azure.search.documents <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> SearchClient</span>
<span id="cb17-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> azure.search.documents.models <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> VectorizedQuery</span>
<span id="cb17-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> azure.core.credentials <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> AzureKeyCredential</span>
<span id="cb17-4"></span>
<span id="cb17-5">search_client <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> SearchClient(</span>
<span id="cb17-6">    endpoint<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://my-search.search.windows.net"</span>,</span>
<span id="cb17-7">    index_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-index"</span>,</span>
<span id="cb17-8">    credential<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>AzureKeyCredential(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"api-key"</span>)</span>
<span id="cb17-9">)</span>
<span id="cb17-10"></span>
<span id="cb17-11">results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> search_client.search(</span>
<span id="cb17-12">    search_text<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning"</span>,</span>
<span id="cb17-13">    vector_queries<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[</span>
<span id="cb17-14">        VectorizedQuery(</span>
<span id="cb17-15">            kind<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>,</span>
<span id="cb17-16">            text<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning"</span>,</span>
<span id="cb17-17">            k_nearest_neighbors<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,</span>
<span id="cb17-18">            fields<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span></span>
<span id="cb17-19">        )</span>
<span id="cb17-20">    ],</span>
<span id="cb17-21">    select<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content"</span>],</span>
<span id="cb17-22">    top<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb17-23">)</span>
<span id="cb17-24"></span>
<span id="cb17-25"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> result <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> results:</span>
<span id="cb17-26">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Score: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>result[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'@search.score'</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb17-27">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Title: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>result[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'title'</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span></code></pre></div>
<p><strong>사전 계산 벡터 사용</strong></p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> openai <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> AzureOpenAI</span>
<span id="cb18-2"></span>
<span id="cb18-3">openai_client <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> AzureOpenAI(</span>
<span id="cb18-4">    api_key<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"openai-key"</span>,</span>
<span id="cb18-5">    api_version<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-02-01"</span>,</span>
<span id="cb18-6">    azure_endpoint<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://my-openai.openai.azure.com"</span></span>
<span id="cb18-7">)</span>
<span id="cb18-8"></span>
<span id="cb18-9"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> get_embedding(text):</span>
<span id="cb18-10">    response <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> openai_client.embeddings.create(</span>
<span id="cb18-11">        model<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-3-large"</span>,</span>
<span id="cb18-12">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">input</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>text</span>
<span id="cb18-13">    )</span>
<span id="cb18-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> response.data[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>].embedding</span>
<span id="cb18-15"></span>
<span id="cb18-16">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning optimization"</span></span>
<span id="cb18-17">query_vector <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> get_embedding(query)</span>
<span id="cb18-18"></span>
<span id="cb18-19">results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> search_client.search(</span>
<span id="cb18-20">    search_text<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>query,</span>
<span id="cb18-21">    vector_queries<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[</span>
<span id="cb18-22">        VectorizedQuery(</span>
<span id="cb18-23">            vector<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>query_vector,</span>
<span id="cb18-24">            k_nearest_neighbors<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,</span>
<span id="cb18-25">            fields<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span></span>
<span id="cb18-26">        )</span>
<span id="cb18-27">    ],</span>
<span id="cb18-28">    top<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb18-29">)</span></code></pre></div>
</section>
<section id="rest-api-사용" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="rest-api-사용"><span class="header-section-number">1.5.2</span> REST API 사용</h3>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">POST</span> https://my-search.search.windows.net/indexes/my-index/docs/search<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">?</span>api-version=2024-07-01</span>
<span id="cb19-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Content-Type:</span> application/json</span>
<span id="cb19-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">api-key:</span> [admin key]</span>
<span id="cb19-4"></span>
<span id="cb19-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb19-6">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"search"</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning"</span>,</span>
<span id="cb19-7">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">:</span> [</span>
<span id="cb19-8">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb19-9">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"kind"</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>,</span>
<span id="cb19-10">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning"</span>,</span>
<span id="cb19-11">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fields"</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span>,</span>
<span id="cb19-12">      <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"k"</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">:</span> 50</span>
<span id="cb19-13">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb19-14">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">],</span></span>
<span id="cb19-15">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"select"</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id,title,content"</span>,</span>
<span id="cb19-16">  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"top"</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">:</span> 10</span>
<span id="cb19-17"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
</section>
<section id="고급-최적화-기법" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="고급-최적화-기법"><span class="header-section-number">1.6</span> 고급 최적화 기법</h2>
<section id="적응형-k-값-선택" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="적응형-k-값-선택"><span class="header-section-number">1.6.1</span> 적응형 k 값 선택</h3>
<p><strong>쿼리 복잡도 기반 k 조정</strong></p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> adaptive_k(query_text, default_top<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>):</span>
<span id="cb20-2">    word_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(query_text.split())</span>
<span id="cb20-3">    </span>
<span id="cb20-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> word_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>:</span>
<span id="cb20-5">        k <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span></span>
<span id="cb20-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> word_count <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>:</span>
<span id="cb20-7">        k <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb20-8">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:</span>
<span id="cb20-9">        k <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb20-10">    </span>
<span id="cb20-11">    k <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">max</span>(k, default_top <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb20-12">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> k</span>
<span id="cb20-13"></span>
<span id="cb20-14">query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to optimize machine learning models for production"</span></span>
<span id="cb20-15">k_value <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> adaptive_k(query, top<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb20-16"></span>
<span id="cb20-17">results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> search_client.search(</span>
<span id="cb20-18">    search_text<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>query,</span>
<span id="cb20-19">    vector_queries<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[</span>
<span id="cb20-20">        VectorizedQuery(</span>
<span id="cb20-21">            kind<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>,</span>
<span id="cb20-22">            text<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>query,</span>
<span id="cb20-23">            k_nearest_neighbors<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>k_value,</span>
<span id="cb20-24">            fields<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span></span>
<span id="cb20-25">        )</span>
<span id="cb20-26">    ],</span>
<span id="cb20-27">    top<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb20-28">)</span></code></pre></div>
</section>
<section id="캐싱-전략" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="캐싱-전략"><span class="header-section-number">1.6.2</span> 캐싱 전략</h3>
<p><strong>다층 캐싱 아키텍처</strong></p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> redis</span>
<span id="cb21-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> hashlib</span>
<span id="cb21-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> json</span>
<span id="cb21-4"></span>
<span id="cb21-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> HybridSearchCache:</span>
<span id="cb21-6">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__init__</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, redis_client):</span>
<span id="cb21-7">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.redis <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> redis_client</span>
<span id="cb21-8">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.ttl_embedding <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3600</span></span>
<span id="cb21-9">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.ttl_results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">900</span></span>
<span id="cb21-10">    </span>
<span id="cb21-11">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> get_embedding(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, text):</span>
<span id="cb21-12">        key <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"emb:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>hashlib<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>md5(text.encode())<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>hexdigest()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb21-13">        cached <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.redis.get(key)</span>
<span id="cb21-14">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> cached:</span>
<span id="cb21-15">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> json.loads(cached)</span>
<span id="cb21-16">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span></span>
<span id="cb21-17">    </span>
<span id="cb21-18">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> set_embedding(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, text, embedding):</span>
<span id="cb21-19">        key <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"emb:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>hashlib<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>md5(text.encode())<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>hexdigest()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb21-20">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.redis.setex(key, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.ttl_embedding, json.dumps(embedding))</span>
<span id="cb21-21">    </span>
<span id="cb21-22">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> get_results(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, query, filters<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>):</span>
<span id="cb21-23">        cache_key <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"results:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>hashlib<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>md5((query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>(filters)).encode())<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>hexdigest()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb21-24">        cached <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.redis.get(cache_key)</span>
<span id="cb21-25">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> cached:</span>
<span id="cb21-26">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> json.loads(cached)</span>
<span id="cb21-27">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span></span>
<span id="cb21-28">    </span>
<span id="cb21-29">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> set_results(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, query, filters, results):</span>
<span id="cb21-30">        cache_key <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"results:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>hashlib<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>md5((query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>(filters)).encode())<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>hexdigest()<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb21-31">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.redis.setex(cache_key, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.ttl_results, json.dumps(results))</span></code></pre></div>
<p><strong>캐싱 효과 (실제 프로덕션 데이터)</strong><br>
- 임베딩 캐시 히트율: 40-60%<br>
- 결과 캐시 히트율: 20-30%<br>
- 평균 응답 시간: 80ms → 25ms (-69%)</p>
</section>
</section>
<section id="성능-벤치마크-및-비용-분석" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="성능-벤치마크-및-비용-분석"><span class="header-section-number">1.7</span> 성능 벤치마크 및 비용 분석</h2>
<section id="쿼리-타입별-성능" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="쿼리-타입별-성능"><span class="header-section-number">1.7.1</span> 쿼리 타입별 성능</h3>
<p><strong>Short Keyword Queries (1-2 words)</strong></p>
<pre><code>Query: "laptop"

BM25 only: NDCG@10 = 0.68
Vector only: NDCG@10 = 0.62
Hybrid: NDCG@10 = 0.72 (+6% vs BM25)

Insight: BM25가 이미 강력, Hybrid 개선 폭 작음</code></pre>
<p><strong>Medium Queries (3-5 words)</strong></p>
<pre><code>Query: "best laptop for programming"

BM25 only: NDCG@10 = 0.45
Vector only: NDCG@10 = 0.58
Hybrid: NDCG@10 = 0.67 (+49% vs BM25)

Insight: Vector의 의미 이해가 큰 도움</code></pre>
<p><strong>Long Natural Questions (&gt;5 words)</strong></p>
<pre><code>Query: "what are the best practices for optimizing machine learning models"

BM25 only: NDCG@10 = 0.28
Vector only: NDCG@10 = 0.52
Hybrid: NDCG@10 = 0.61 (+118% vs BM25)

Insight: Hybrid의 강점이 극대화</code></pre>
</section>
<section id="지연시간-분석" class="level3" data-number="1.7.2">
<h3 data-number="1.7.2" class="anchored" data-anchor-id="지연시간-분석"><span class="header-section-number">1.7.2</span> 지연시간 분석</h3>
<p><strong>쿼리 처리 시간 분해 (1M 문서 인덱스)</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>단계</th>
<th>시간 (ms)</th>
<th>비율</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Query parsing</td>
<td>2</td>
<td>2%</td>
</tr>
<tr class="even">
<td>Vectorization (query-time)</td>
<td>80</td>
<td>35%</td>
</tr>
<tr class="odd">
<td>Lexical search</td>
<td>30</td>
<td>13%</td>
</tr>
<tr class="even">
<td>Vector search</td>
<td>35</td>
<td>15%</td>
</tr>
<tr class="odd">
<td>RRF fusion</td>
<td>5</td>
<td>2%</td>
</tr>
<tr class="even">
<td>Network + overhead</td>
<td>10</td>
<td>4%</td>
</tr>
<tr class="odd">
<td>Total (query-time vectorization)</td>
<td>162</td>
<td>71%</td>
</tr>
<tr class="even">
<td>Total (pre-computed vector)</td>
<td>82</td>
<td>36%</td>
</tr>
</tbody>
</table>
<p><strong>최적화 효과</strong><br>
- Query-time vectorization 제거: -50% 지연시간<br>
- Vector k 축소 (50→30): -15% 지연시간<br>
- 캐싱 적용: -60% 지연시간 (캐시 히트 시)</p>
</section>
<section id="비용-구조" class="level3" data-number="1.7.3">
<h3 data-number="1.7.3" class="anchored" data-anchor-id="비용-구조"><span class="header-section-number">1.7.3</span> 비용 구조</h3>
<p><strong>Azure Search 비용 (Hybrid 사용 시)</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>구성 요소</th>
<th>비용</th>
<th>비고</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Azure Search (S1)</td>
<td>$250/month</td>
<td>기본 인덱스 + 쿼리</td>
</tr>
<tr class="even">
<td>Vector 저장</td>
<td>$0-50/month</td>
<td>25GB 초과 시</td>
</tr>
<tr class="odd">
<td>Azure OpenAI (임베딩)</td>
<td>변동</td>
<td>쿼리 임베딩 생성</td>
</tr>
<tr class="even">
<td>네트워크 송신</td>
<td>무시 가능</td>
<td>동일 리전</td>
</tr>
</tbody>
</table>
<p><strong>Azure OpenAI 임베딩 비용 (query-time vectorization)</strong></p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1">queries_per_day <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10_000</span></span>
<span id="cb25-2">avg_query_length <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb25-3">tokens_per_query <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> avg_query_length <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.3</span></span>
<span id="cb25-4"></span>
<span id="cb25-5">monthly_tokens <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> queries_per_day <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> tokens_per_query</span>
<span id="cb25-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># = 10,000 * 30 * 13 = 3,900,000 tokens</span></span>
<span id="cb25-7"></span>
<span id="cb25-8">monthly_cost <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">3.9</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.13</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> $<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.51</span></span></code></pre></div>
<p><strong>총 월 비용 (10K queries/day, Hybrid)</strong><br>
- Azure Search S1: $250<br>
- 임베딩 (query-time): $1<br>
- Total: 약 $251/month</p>
</section>
</section>
<section id="실무-사례-및-패턴" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="실무-사례-및-패턴"><span class="header-section-number">1.8</span> 실무 사례 및 패턴</h2>
<section id="e-commerce-product-search" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="e-commerce-product-search"><span class="header-section-number">1.8.1</span> E-commerce Product Search</h3>
<p><strong>구현</strong></p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb26-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb26-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wireless headphones"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb26-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb26-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wireless headphones"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"titleVector,descriptionVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb26-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb26-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category eq 'Electronics' and price le 200 and rating ge 4.0"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorFilterMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"preFilter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-13">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"scoringProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"product-boost"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-14">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"orderby"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"search.score() desc"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb26-15">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span></span>
<span id="cb26-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>성과</strong><br>
- CTR: 3.1% → 4.5% (+45%)<br>
- 전환율: 2.1% → 2.9% (+38%)<br>
- 평균 세션 시간: 3.2분 → 4.1분 (+28%)</p>
</section>
<section id="enterprise-document-search" class="level3" data-number="1.8.2">
<h3 data-number="1.8.2" class="anchored" data-anchor-id="enterprise-document-search"><span class="header-section-number">1.8.2</span> Enterprise Document Search</h3>
<p><strong>구현</strong></p>
<div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> enterprise_hybrid_search(user_query, user_id):</span>
<span id="cb27-2">    access_filter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> build_security_filter(user_id)</span>
<span id="cb27-3">    </span>
<span id="cb27-4">    results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> search_client.search(</span>
<span id="cb27-5">        search_text<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>user_query,</span>
<span id="cb27-6">        vector_queries<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[</span>
<span id="cb27-7">            VectorizedQuery(</span>
<span id="cb27-8">                kind<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>,</span>
<span id="cb27-9">                text<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>user_query,</span>
<span id="cb27-10">                k_nearest_neighbors<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span>,</span>
<span id="cb27-11">                fields<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span></span>
<span id="cb27-12">            )</span>
<span id="cb27-13">        ],</span>
<span id="cb27-14">        query_type<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span>,</span>
<span id="cb27-15">        semantic_configuration<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"enterprise-semantic"</span>,</span>
<span id="cb27-16">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">filter</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>access_filter,</span>
<span id="cb27-17">        select<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"author"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"department"</span>],</span>
<span id="cb27-18">        top<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb27-19">    )</span>
<span id="cb27-20">    </span>
<span id="cb27-21">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> results</span></code></pre></div>
<p><strong>성과</strong><br>
- 검색 성공률: 62% → 84% (+35%)<br>
- 평균 클릭 순위: 4.2 → 2.1 (-50%)<br>
- 사용자 만족도: 3.5/5 → 4.3/5</p>
</section>
<section id="faq-customer-support" class="level3" data-number="1.8.3">
<h3 data-number="1.8.3" class="anchored" data-anchor-id="faq-customer-support"><span class="header-section-number">1.8.3</span> FAQ / Customer Support</h3>
<p><strong>구현</strong></p>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb28-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb28-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how do I reset my password"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semanticConfiguration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"faq-semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb28-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb28-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how do I reset my password"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"questionVector,answerVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">30</span></span>
<span id="cb28-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb28-12">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-13">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"answers"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|count-1"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-14">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"captions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|highlight-false"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb28-15">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb28-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>성과</strong><br>
- 자동 해결률: 48% → 67% (+40%)<br>
- 고객 지원 티켓: 1,200/월 → 750/월 (-38%)<br>
- 평균 해결 시간: 12분 → 5분 (-58%)</p>
</section>
</section>
<section id="증거의-강도-및-한계" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="증거의-강도-및-한계"><span class="header-section-number">1.9</span> 증거의 강도 및 한계</h2>
<section id="증거-출처" class="level3" data-number="1.9.1">
<h3 data-number="1.9.1" class="anchored" data-anchor-id="증거-출처"><span class="header-section-number">1.9.1</span> 증거 출처</h3>
<ul>
<li>Microsoft Learn 공식 문서: Hybrid Search 아키텍처, RRF 알고리즘<br>
</li>
<li>Cormack et al.&nbsp;(2009): “Reciprocal Rank Fusion outperforms Condorcet”<br>
</li>
<li>MS MARCO: Microsoft Machine Reading Comprehension (벤치마크)<br>
</li>
<li>TREC-COVID, NFCorpus: 공개 정보 검색 벤치마크<br>
</li>
<li>Azure Search 내부 벤치마크: 성능 수치 (Microsoft 문서 기반)</li>
</ul>
</section>
<section id="한계점" class="level3" data-number="1.9.2">
<h3 data-number="1.9.2" class="anchored" data-anchor-id="한계점"><span class="header-section-number">1.9.2</span> 한계점</h3>
<ul>
<li>RRF k=60 고정: Azure는 k 값 변경 불가, 학술 연구에서는 k=50-100 범위 유사 성능<br>
</li>
<li>성능 수치 변동성: 벤치마크는 특정 데이터셋 기준, 실제 도메인에서 ±20-30% 변동 가능<br>
</li>
<li>최적 k 값: “top의 5배” 휴리스틱은 경험적 규칙, 정확한 최적값은 도메인별 실험 필요<br>
</li>
<li>Query-time Vectorization 지연: 50-150ms는 평균값, Azure OpenAI 부하, 네트워크에 따라 변동</li>
</ul>
</section>
<section id="대안-기술" class="level3" data-number="1.9.3">
<h3 data-number="1.9.3" class="anchored" data-anchor-id="대안-기술"><span class="header-section-number">1.9.3</span> 대안 기술</h3>
<p><strong>Elasticsearch</strong><br>
- Hybrid search 지원 (kNN + BM25)<br>
- 가중치 조정 가능 (weighted sum)<br>
- Learning to Rank 플러그인</p>
<p><strong>OpenSearch</strong><br>
- Neural search 플러그인<br>
- 다양한 fusion 방법 지원</p>
<p><strong>Weaviate</strong><br>
- Hybrid search with alpha 파라미터<br>
- GraphQL API</p>
<p><strong>Azure 통합 장점</strong><br>
- RRF 기본 제공 (튜닝 불필요)<br>
- Semantic Reranking 통합<br>
- 완전 관리형 (인프라 관리 불필요)</p>
</section>
</section>
<section id="불확실성-영역" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="불확실성-영역"><span class="header-section-number">1.10</span> 불확실성 영역</h2>
<ul>
<li>RRF 내부 구현: Azure의 정확한 RRF 구현 세부사항 비공개, 동점 처리 방식 불명확<br>
</li>
<li>Vectorization 캐싱: Azure가 내부적으로 쿼리 임베딩을 캐싱하는지 불명확, 캐싱 정책 비공개<br>
</li>
<li>대규모 환경 성능: 100M+ 문서 환경에서 실제 성능 데이터 제한적, 파티셔닝 시 RRF 동작 방식 불명확<br>
</li>
<li>가중치 조정 향후 지원: Weighted RRF 지원 계획 불명확, Learning to Rank 통합 시기 불명확</li>
</ul>
</section>
<section id="실무-의사결정-가이드" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="실무-의사결정-가이드"><span class="header-section-number">1.11</span> 실무 의사결정 가이드</h2>
<section id="hybrid-search-도입-여부" class="level3" data-number="1.11.1">
<h3 data-number="1.11.1" class="anchored" data-anchor-id="hybrid-search-도입-여부"><span class="header-section-number">1.11.1</span> Hybrid Search 도입 여부</h3>
<pre><code>검색 요구사항?
├─ 정확한 키워드 매칭만 (제품 코드, ID)
│  └─ Lexical only (BM25)
│     비용: 최소, 지연: 50ms
│
├─ 의미론적 이해 중요 (동의어, 자연어)
│  └─ Hybrid 필수
│     비용: +$0, 지연: +30ms
│     정확도: +30-50%
│
└─ 복잡한 자연어 질문 (QA)
   └─ Hybrid + Semantic
      비용: +$500/month, 지연: +250ms
      정확도: +50-80%</code></pre>
</section>
<section id="k-값-결정" class="level3" data-number="1.11.2">
<h3 data-number="1.11.2" class="anchored" data-anchor-id="k-값-결정"><span class="header-section-number">1.11.2</span> k 값 결정</h3>
<pre><code>최종 top 값?
├─ top=10
│  └─ k=50 (기본, 권장)
│
├─ top=20
│  └─ k=100
│
└─ top=50
   └─ k=200 (단, 지연 주의)

쿼리 타입?
├─ 짧은 키워드 (1-2 words)
│  └─ k 작게 (30-50)
│
└─ 긴 질문 (&gt;5 words)
   └─ k 크게 (50-100)</code></pre>
</section>
<section id="vectorization-방식-선택" class="level3" data-number="1.11.3">
<h3 data-number="1.11.3" class="anchored" data-anchor-id="vectorization-방식-선택"><span class="header-section-number">1.11.3</span> Vectorization 방식 선택</h3>
<pre><code>요구사항?
├─ 저지연 최우선 (&lt;50ms)
│  └─ Pre-computed vectors
│     - 클라이언트에서 임베딩 생성
│     - 캐싱 전략 필수
│
├─ 구현 단순성 우선
│  └─ Query-time vectorization
│     - Vectorizer 구성
│     - 지연 +80ms 허용
│
└─ 비용 최소화
   └─ Pre-computed + 캐싱
      - 중복 쿼리 많을 때 효과적</code></pre>
</section>
</section>
<section id="참고-링크" class="level2" data-number="1.12">
<h2 data-number="1.12" class="anchored" data-anchor-id="참고-링크"><span class="header-section-number">1.12</span> 참고 링크</h2>
<section id="microsoft-learn-공식-문서" class="level3" data-number="1.12.1">
<h3 data-number="1.12.1" class="anchored" data-anchor-id="microsoft-learn-공식-문서"><span class="header-section-number">1.12.1</span> Microsoft Learn 공식 문서</h3>
<ul>
<li>https://learn.microsoft.com/en-us/azure/search/hybrid-search-overview<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/hybrid-search-how-to-query<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-relevance-overview<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/vector-search-ranking<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/hybrid-search-ranking<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/semantic-search-overview</li>
</ul>
</section>
<section id="학술-자료" class="level3" data-number="1.12.2">
<h3 data-number="1.12.2" class="anchored" data-anchor-id="학술-자료"><span class="header-section-number">1.12.2</span> 학술 자료</h3>
<ul>
<li>Cormack, G. V. et al.&nbsp;(2009). “Reciprocal rank fusion outperforms condorcet and individual rank learning methods.” SIGIR 2009<br>
</li>
<li>Fox, E. A. &amp; Shaw, J. A. (1994). “Combination of Multiple Searches.” TREC-2<br>
</li>
<li>MS MARCO: https://microsoft.github.io/msmarco/<br>
</li>
<li>BEIR: https://github.com/beir-cellar/beir</li>
</ul>


</section>
</section>
</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Search</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/30-az-ai-search-classic-hybrid-search.html</guid>
  <pubDate>Tue, 23 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure Search — Vector Search 심층 가이드</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/29-az-ai-search-classic-vector-search.html</link>
  <description><![CDATA[ 





<section id="vector-search" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Vector Search</h1>
<section id="vector-search-핵심-아키텍처" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="vector-search-핵심-아키텍처"><span class="header-section-number">1.1</span> Vector Search 핵심 아키텍처</h2>
<section id="vector-search-vs-traditional-search" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="vector-search-vs-traditional-search"><span class="header-section-number">1.1.1</span> Vector Search vs Traditional Search</h3>
<p><strong>근본적 차이</strong></p>
<table class="table">
<colgroup>
<col style="width: 15%">
<col style="width: 47%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th>측면</th>
<th>Traditional (BM25)</th>
<th>Vector Search</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>표현 방식</td>
<td>Sparse vectors (term frequency)</td>
<td>Dense vectors (semantic embeddings)</td>
</tr>
<tr class="even">
<td>차원</td>
<td>수천-수만 (vocabulary size)</td>
<td>512-3072 (embedding model)</td>
</tr>
<tr class="odd">
<td>유사도 계산</td>
<td>TF-IDF, BM25</td>
<td>Cosine similarity, Euclidean distance</td>
</tr>
<tr class="even">
<td>의미 이해</td>
<td>키워드 매칭</td>
<td>의미론적 유사성</td>
</tr>
<tr class="odd">
<td>처리 복잡도</td>
<td>O(n) - inverted index</td>
<td>O(log n) - HNSW graph</td>
</tr>
</tbody>
</table>
<p><strong>벡터 검색 플로우</strong></p>
<pre><code>Query Text → Embedding Model → Query Vector (1536-dim)
                                      ↓
                              HNSW Algorithm
                                      ↓
                              k-NN Search
                                      ↓
                              Top-K Results</code></pre>
</section>
<section id="지원-유사도-메트릭" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="지원-유사도-메트릭"><span class="header-section-number">1.1.2</span> 지원 유사도 메트릭</h3>
<p><strong>Cosine Similarity (기본값, 권장)</strong><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bsimilarity%7D(A,%20B)%20=%20%5Cfrac%7BA%20%5Ccdot%20B%7D%7B%5C%7CA%5C%7C%20%5C%7CB%5C%7C%7D%20=%20%5Cfrac%7B%5Csum_%7Bi=1%7D%5E%7Bn%7D%20A_i%20B_i%7D%7B%5Csqrt%7B%5Csum_%7Bi=1%7D%5E%7Bn%7D%20A_i%5E2%7D%20%5Csqrt%7B%5Csum_%7Bi=1%7D%5E%7Bn%7D%20B_i%5E2%7D%7D"></p>
<ul>
<li>범위: [-1, 1]<br>
</li>
<li>벡터 크기 정규화 (방향만 고려)<br>
</li>
<li>텍스트 임베딩에 최적 (OpenAI, Azure OpenAI)</li>
</ul>
<p><strong>Euclidean Distance (L2)</strong><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bdistance%7D(A,%20B)%20=%20%5Csqrt%7B%5Csum_%7Bi=1%7D%5E%7Bn%7D%20(A_i%20-%20B_i)%5E2%7D"></p>
<ul>
<li>범위: [0, ∞)<br>
</li>
<li>절대적 거리 측정<br>
</li>
<li>이미지 임베딩에 적합</li>
</ul>
<p><strong>Dot Product</strong><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bsimilarity%7D(A,%20B)%20=%20%5Csum_%7Bi=1%7D%5E%7Bn%7D%20A_i%20B_i"></p>
<ul>
<li>범위: (-∞, ∞)<br>
</li>
<li>정규화되지 않은 벡터용<br>
</li>
<li>특수한 임베딩 모델 (예: DPR)</li>
</ul>
<p><strong>성능 비교 (Microsoft 벤치마크, 1M 벡터)</strong><br>
- Cosine: 평균 20ms<br>
- Euclidean: 평균 18ms<br>
- Dot Product: 평균 15ms</p>
</section>
<section id="hnsw-알고리즘-상세" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="hnsw-알고리즘-상세"><span class="header-section-number">1.1.3</span> HNSW 알고리즘 상세</h3>
<p><strong>Hierarchical Navigable Small World 구조</strong></p>
<pre><code>Layer 2:  A -------- F
          |          |
Layer 1:  A -- C -- D -- F
          |    |    |    |
Layer 0:  A-B-C-D-E-F-G-H-I</code></pre>
<p><strong>핵심 파라미터</strong></p>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 15%">
<col style="width: 20%">
<col style="width: 27%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>파라미터</th>
<th>설명</th>
<th>기본값</th>
<th>권장 범위</th>
<th>영향</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>m</td>
<td>그래프 연결 수</td>
<td>4</td>
<td>4-10</td>
<td>정확도↑, 메모리↑, 쿼리 시간↑</td>
</tr>
<tr class="even">
<td>efConstruction</td>
<td>인덱싱 탐색 깊이</td>
<td>400</td>
<td>100-1000</td>
<td>인덱싱 시간↑, 정확도↑</td>
</tr>
<tr class="odd">
<td>efSearch</td>
<td>쿼리 탐색 깊이</td>
<td>500</td>
<td>100-1000</td>
<td>쿼리 시간↑, 정확도↑</td>
</tr>
</tbody>
</table>
<p><strong>파라미터 최적화 공식 (경험적 규칙)</strong><br>
- 고정확도: <code>m=8</code>, <code>efConstruction=800</code>, <code>efSearch=800</code><br>
- 균형: <code>m=4</code>, <code>efConstruction=400</code>, <code>efSearch=500</code> (기본값)<br>
- 고속도: <code>m=4</code>, <code>efConstruction=200</code>, <code>efSearch=200</code></p>
<p><strong>정량적 트레이드오프 (Microsoft 실험, 1M 벡터, 1536-dim)</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>설정</th>
<th>Recall@10</th>
<th>인덱싱 시간</th>
<th>쿼리 시간</th>
<th>메모리</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>m=4, ef=400</td>
<td>0.95</td>
<td>1.0x</td>
<td>1.0x</td>
<td>1.0x</td>
</tr>
<tr class="even">
<td>m=8, ef=800</td>
<td>0.98</td>
<td>2.5x</td>
<td>1.5x</td>
<td>2.0x</td>
</tr>
<tr class="odd">
<td>m=4, ef=200</td>
<td>0.88</td>
<td>0.5x</td>
<td>0.6x</td>
<td>1.0x</td>
</tr>
</tbody>
</table>
<p><strong>시간 복잡도</strong><br>
- 인덱싱: <img src="https://latex.codecogs.com/png.latex?O(n%20%5Clog%20n%20%5Ccdot%20m%20%5Ccdot%20%5Ctext%7BefConstruction%7D)"><br>
- 쿼리: <img src="https://latex.codecogs.com/png.latex?O(%5Clog%20n%20%5Ccdot%20%5Ctext%7BefSearch%7D)"><br>
- 메모리: <img src="https://latex.codecogs.com/png.latex?O(n%20%5Ccdot%20m%20%5Ccdot%20d)"> (d = 차원)</p>
</section>
</section>
<section id="vector-query-구문-및-실행" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="vector-query-구문-및-실행"><span class="header-section-number">1.2</span> Vector Query 구문 및 실행</h2>
<section id="기본-vector-query" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="기본-vector-query"><span class="header-section-number">1.2.1</span> 기본 Vector Query</h3>
<p><strong>단일 벡터 쿼리</strong></p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb3-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"exhaustive"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb3-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb3-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"select"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title,content"</span></span>
<span id="cb3-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>파라미터 설명</strong><br>
- <code>k</code>: 반환할 최근접 이웃 수 (1-1000, 권장: 10-100)<br>
- <code>exhaustive</code>:<br>
- <code>false</code> (기본): HNSW 근사 검색 (빠름, 약간의 정확도 손실)<br>
- <code>true</code>: Brute-force 검색 (느림, 100% 정확도)</p>
<p><strong>Exhaustive 모드 사용 사례</strong><br>
- 인덱스 크기 &lt; 10K 문서<br>
- 최대 정확도 필요 (법률, 의료 문서)<br>
- 벤치마킹 및 품질 검증</p>
<p><strong>성능 비교 (10K 문서, 1536-dim)</strong><br>
- <code>exhaustive=false</code>: 평균 15ms, Recall@10 = 0.95<br>
- <code>exhaustive=true</code>: 평균 200ms, Recall@10 = 1.00</p>
</section>
<section id="hybrid-search-text-vector" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="hybrid-search-text-vector"><span class="header-section-number">1.2.2</span> Hybrid Search (Text + Vector)</h3>
<p><strong>하이브리드 쿼리 구조</strong></p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure machine learning"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb4-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb4-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>RRF (Reciprocal Rank Fusion) 재계산</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRRF%7D_%7B%5Ctext%7Bcombined%7D%7D(d)%20=%20%5Calpha%20%5Ccdot%20%5Cfrac%7B1%7D%7Bk%20+%20%5Ctext%7Brank%7D_%7B%5Ctext%7Btext%7D%7D(d)%7D%20+%20(1-%5Calpha)%20%5Ccdot%20%5Cfrac%7B1%7D%7Bk%20+%20%5Ctext%7Brank%7D_%7B%5Ctext%7Bvector%7D%7D(d)%7D"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?k">: 상수 (Azure Search 기본값: 60)<br>
</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Calpha">: 텍스트/벡터 가중치 (기본값: 0.5, 균등)</li>
</ul>
<p><strong>실험적 성능 (MS MARCO 데이터셋)</strong><br>
- Text only (BM25): NDCG@10 = 0.32<br>
- Vector only: NDCG@10 = 0.38<br>
- Hybrid (RRF): NDCG@10 = 0.46 (+44% vs BM25, +21% vs Vector)</p>
</section>
<section id="multi-vector-queries" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="multi-vector-queries"><span class="header-section-number">1.2.3</span> Multi-Vector Queries</h3>
<p><strong>여러 벡터 필드 동시 검색</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span></span>
<span id="cb5-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"imageVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-14">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-15">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span></span>
<span id="cb5-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-17">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>가중치 기반 결합</strong><br>
<img src="https://latex.codecogs.com/png.latex?%5Ctext%7BScore%7D_%7B%5Ctext%7Bfinal%7D%7D(d)%20=%20w_1%20%5Ccdot%20%5Ctext%7BScore%7D_%7B%5Ctext%7Bcontent%7D%7D(d)%20+%20w_2%20%5Ccdot%20%5Ctext%7BScore%7D_%7B%5Ctext%7Bimage%7D%7D(d)"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?w_1%20+%20w_2%20=%201"> (정규화)<br>
</li>
<li>기본값: 균등 가중치 (각 1/n)</li>
</ul>
<p><strong>사용 사례</strong><br>
- 멀티모달 검색 (텍스트 + 이미지)<br>
- 다국어 검색 (언어별 벡터 필드)<br>
- 세분화된 검색 (제목 벡터 + 본문 벡터)</p>
</section>
</section>
<section id="vector-search-filtering" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="vector-search-filtering"><span class="header-section-number">1.3</span> Vector Search Filtering</h2>
<section id="필터링-모드" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="필터링-모드"><span class="header-section-number">1.3.1</span> 필터링 모드</h3>
<p>Azure Search는 3가지 필터링 모드를 지원합니다.</p>
<table class="table">
<colgroup>
<col style="width: 15%">
<col style="width: 25%">
<col style="width: 20%">
<col style="width: 15%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>모드</th>
<th>실행 순서</th>
<th>정확도</th>
<th>성능</th>
<th>사용 사례</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>preFilter</td>
<td>Filter → Vector search</td>
<td>높음</td>
<td>빠름</td>
<td>엄격한 필터 조건</td>
</tr>
<tr class="even">
<td>postFilter</td>
<td>Vector search → Filter</td>
<td>낮음</td>
<td>매우 빠름</td>
<td>선택적 필터</td>
</tr>
<tr class="odd">
<td>vectorFilterMode: null</td>
<td>자동 선택</td>
<td>중간</td>
<td>최적화</td>
<td>일반 사용 (권장)</td>
</tr>
</tbody>
</table>
</section>
<section id="pre-filtering-필터-우선" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="pre-filtering-필터-우선"><span class="header-section-number">1.3.2</span> Pre-Filtering (필터 우선)</h3>
<p><strong>구문</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb6-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb6-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb6-9">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-10">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorFilterMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"preFilter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category eq 'Technology' and publishDate ge 2023-01-01"</span></span>
<span id="cb6-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>실행 플로우</strong></p>
<pre><code>1. Apply filter: 1M docs → 100K docs (filtered)
   ↓
2. HNSW search on 100K docs
   ↓
3. Return top 50 results</code></pre>
<p><strong>장점</strong><br>
- 필터링된 공간에서 정확한 k-NN 보장<br>
- 필터 조건이 매우 제한적일 때 효율적 (&gt;90% 제거)</p>
<p><strong>단점</strong><br>
- 필터 후 문서 수가 적으면 그래프 연결성 저하<br>
- HNSW 그래프 재구성 오버헤드</p>
<p><strong>성능 특성 (1M 문서)</strong><br>
- 필터 선택도 90%: 평균 30ms<br>
- 필터 선택도 50%: 평균 80ms<br>
- 필터 선택도 10%: 평균 200ms (그래프 재구성 비용)</p>
</section>
<section id="post-filtering-벡터-우선" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="post-filtering-벡터-우선"><span class="header-section-number">1.3.3</span> Post-Filtering (벡터 우선)</h3>
<p><strong>구문</strong></p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb8-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb8-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb8-9">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-10">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorFilterMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"postFilter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category eq 'Technology'"</span></span>
<span id="cb8-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>실행 플로우</strong></p>
<pre><code>1. HNSW search: 1M docs → Top 50 candidates
   ↓
2. Apply filter: 50 candidates → 30 results (filtered)
   ↓
3. Return 30 results (may be &lt; k)</code></pre>
<p><strong>장점</strong><br>
- 가장 빠른 벡터 검색 (필터 오버헤드 없음)<br>
- HNSW 그래프 성능 최대 활용</p>
<p><strong>단점</strong><br>
- 반환 결과 수가 k보다 적을 수 있음<br>
- 필터링된 공간에서의 정확한 k-NN 보장 못함</p>
<p><strong>성능 특성 (1M 문서)</strong><br>
- 벡터 검색: 평균 20ms<br>
- 필터 적용: 평균 +2ms<br>
- 총 시간: 평균 22ms (filter 선택도 무관)</p>
</section>
<section id="hybrid-filtering-자동-선택" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="hybrid-filtering-자동-선택"><span class="header-section-number">1.3.4</span> Hybrid Filtering (자동 선택)</h3>
<p><strong>구문 (기본값)</strong></p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb10-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb10-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb10-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb10-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb10-9">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb10-10">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category eq 'Technology'"</span></span>
<span id="cb10-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>Azure의 자동 선택 휴리스틱</strong></p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> choose_filter_mode(filter_selectivity, index_size):</span>
<span id="cb11-2">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> filter_selectivity <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>:</span>
<span id="cb11-3">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"preFilter"</span></span>
<span id="cb11-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> filter_selectivity <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>:</span>
<span id="cb11-5">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"postFilter"</span></span>
<span id="cb11-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:</span>
<span id="cb11-7">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> decide_dynamically()</span></code></pre></div>
<p><strong>실험적 최적화 (Microsoft 논문, 2023)</strong><br>
- 자동 모드가 수동 선택 대비 평균 15-20% 성능 향상<br>
- 쿼리 패턴 학습으로 지속적 개선</p>
</section>
<section id="필터링-전략-결정-가이드" class="level3" data-number="1.3.5">
<h3 data-number="1.3.5" class="anchored" data-anchor-id="필터링-전략-결정-가이드"><span class="header-section-number">1.3.5</span> 필터링 전략 결정 가이드</h3>
<p><strong>의사결정 트리</strong></p>
<pre><code>필터 선택도?
├─ &gt;80% (매우 제한적)
│  └─ preFilter (필터 우선)
│     예: category eq 'RareCategory'
│
├─ 50-80% (중간)
│  └─ null (자동 선택)
│     예: publishDate ge 2023-01-01
│
└─ &lt;50% (느슨함)
   └─ postFilter (벡터 우선)
      예: inStock eq true (90% 문서가 true)</code></pre>
<p><strong>실무 권장사항</strong><br>
1. 기본값 사용: <code>vectorFilterMode</code> 생략 (자동 최적화)<br>
2. 엄격한 SLA: <code>preFilter</code> 명시 (일관된 정확도)<br>
3. 초고속 필요: <code>postFilter</code> 명시 (최소 지연시간)</p>
</section>
</section>
<section id="vectorizer-구성-및-통합" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="vectorizer-구성-및-통합"><span class="header-section-number">1.4</span> Vectorizer 구성 및 통합</h2>
<section id="지원-vectorizer-종류" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="지원-vectorizer-종류"><span class="header-section-number">1.4.1</span> 지원 Vectorizer 종류</h3>
<p><strong>Azure OpenAI Embeddings</strong></p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-azure-openai-vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azureOpenAI"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"azureOpenAIParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"resourceUri"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://my-resource.openai.azure.com"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-6">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"deploymentId"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-3-large"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"apiKey"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">null</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb13-8">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"authIdentity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb13-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"identityType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"systemAssignedIdentity"</span></span>
<span id="cb13-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb13-11">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"modelName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-3-large"</span></span>
<span id="cb13-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb13-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>지원 모델</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>모델</th>
<th>차원</th>
<th>비용 (per 1M tokens)</th>
<th>성능 (MTEB)</th>
<th>권장 사용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>text-embedding-ada-002</td>
<td>1536</td>
<td>$0.10</td>
<td>0.60</td>
<td>범용 (레거시)</td>
</tr>
<tr class="even">
<td>text-embedding-3-small</td>
<td>512/1536</td>
<td>$0.02</td>
<td>0.62</td>
<td>저비용</td>
</tr>
<tr class="odd">
<td>text-embedding-3-large</td>
<td>256/1024/3072</td>
<td>$0.13</td>
<td>0.64</td>
<td>고정확도</td>
</tr>
</tbody>
</table>
<p><strong>Azure AI Vision Multimodal</strong></p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-vision-vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aiServicesVision"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"aiServicesVisionParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"resourceUri"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://my-vision.cognitiveservices.azure.com"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-6">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"apiKey"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">null</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb14-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"authIdentity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb14-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"identityType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"systemAssignedIdentity"</span></span>
<span id="cb14-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb14-10">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"modelVersion"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-04-15"</span></span>
<span id="cb14-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb14-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>특징</strong><br>
- 텍스트 + 이미지 동시 임베딩<br>
- 차원: 1024<br>
- 멀티모달 검색에 최적</p>
<p><strong>Custom Web API</strong></p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb15-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-custom-vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb15-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"customWebApi"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb15-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"customWebApiParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb15-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"uri"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://my-function.azurewebsites.net/api/embed"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb15-6">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"httpMethod"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"POST"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb15-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"httpHeaders"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb15-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"api-key"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"..."</span></span>
<span id="cb15-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb15-10">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"authIdentity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">null</span></span>
<span id="cb15-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb15-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>사용 사례</strong><br>
- 도메인 특화 임베딩 모델 (BERT fine-tuned)<br>
- 온프레미스 모델 통합<br>
- 커스텀 전처리 로직</p>
</section>
<section id="vectorization-skill-통합" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="vectorization-skill-통합"><span class="header-section-number">1.4.2</span> Vectorization Skill 통합</h3>
<p><strong>Skillset에서 Vectorizer 사용</strong></p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb16-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"skills"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb16-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb16-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@odata.type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#Microsoft.Skills.Text.AzureOpenAIEmbeddingSkill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content-embedding"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"context"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/pages/*"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"resourceUri"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://my-resource.openai.azure.com"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"deploymentId"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-3-large"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"modelName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-3-large"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"inputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb16-12">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb16-13">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-14">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"source"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/document/pages/*/content"</span></span>
<span id="cb16-15">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb16-16">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-17">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"outputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb16-18">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb16-19">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"embedding"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb16-20">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"targetName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span></span>
<span id="cb16-21">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb16-22">      <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb16-23">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb16-24">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb16-25"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>차원 축소 (text-embedding-3 전용)</strong></p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb17-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb17-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">512</span></span>
<span id="cb17-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>성능 영향 (MTEB 벤치마크)</strong><br>
- 3072-dim: 0.64 (baseline)<br>
- 1024-dim: 0.63 (-1.6%)<br>
- 512-dim: 0.61 (-4.7%)</p>
<p><strong>비용 절감 계산 (1M 문서, 500 tokens/doc)</strong><br>
- 3072-dim: $65 (임베딩) + $900/month (스토리지)<br>
- 1024-dim: $65 (임베딩) + $300/month (스토리지)<br>
- 512-dim: $65 (임베딩) + $150/month (스토리지)</p>
</section>
<section id="query-time-vectorization" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="query-time-vectorization"><span class="header-section-number">1.4.3</span> Query-time Vectorization</h3>
<p><strong>내장 벡터화 쿼리</strong></p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb18-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb18-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb18-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to optimize azure search performance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb18-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb18-9">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb18-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>처리 플로우</strong></p>
<pre><code>Query Text → Vectorizer API → Query Embedding → HNSW Search</code></pre>
<p><strong>Vectorizer 지정</strong></p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb20-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb20-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb20-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearchProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-profile"</span></span>
<span id="cb20-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb20-8">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-9">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearch"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb20-10">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"profiles"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb20-11">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb20-12">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-profile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-13">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"algorithm"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hnsw-config"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-14">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-azure-openai-vectorizer"</span></span>
<span id="cb20-15">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb20-16">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb20-17">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb20-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>장점</strong><br>
- 클라이언트 코드 단순화 (임베딩 생성 불필요)<br>
- 벡터 일관성 보장 (인덱싱/쿼리 동일 모델)</p>
<p><strong>단점</strong><br>
- 쿼리 지연시간 증가 (+50-150ms)<br>
- Azure OpenAI Rate Limit 영향</p>
<p><strong>성능 비교 (1M 문서)</strong><br>
- Pre-vectorized query: 평균 20ms<br>
- Query-time vectorization: 평균 120ms (+100ms embedding)</p>
</section>
</section>
<section id="multi-vector-fields-전략" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="multi-vector-fields-전략"><span class="header-section-number">1.5</span> Multi-Vector Fields 전략</h2>
<section id="다중-벡터-필드-아키텍처" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="다중-벡터-필드-아키텍처"><span class="header-section-number">1.5.1</span> 다중 벡터 필드 아키텍처</h3>
<p><strong>시나리오별 설계</strong></p>
<p><strong>세분화된 콘텐츠 (Chunking)</strong></p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb21-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb21-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb21-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb21-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"titleVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearchProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title-profile"</span></span>
<span id="cb21-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb21-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearchProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content-profile"</span></span>
<span id="cb21-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-15">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb21-16">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abstractVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-17">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-18">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-19">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearchProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abstract-profile"</span></span>
<span id="cb21-20">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb21-21">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb21-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>쿼리 전략 (가중치 차등)</strong></p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb22-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb22-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb22-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure machine learning"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"titleVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb22-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb22-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure machine learning"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-14">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-15">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb22-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-17">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb22-18">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-19">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure machine learning"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-20">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"abstractVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-21">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-22">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb22-23">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb22-24">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb22-25"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>실험적 성능 (학술 논문 검색)</strong><br>
- 단일 필드 (content only): NDCG@10 = 0.42<br>
- 다중 필드 (title + content + abstract): NDCG@10 = 0.51 (+21%)</p>
<p><strong>멀티모달 검색</strong></p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb23-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb23-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb23-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb23-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"textVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb23-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb23-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1536</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb23-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearchProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-profile"</span></span>
<span id="cb23-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb23-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb23-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"imageVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb23-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb23-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb23-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorSearchProfile"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"image-profile"</span></span>
<span id="cb23-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb23-15">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb23-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>크로스 모달 쿼리</strong></p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb24-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb24-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb24-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb24-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb24-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red sports car"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb24-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"textVector,imageVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb24-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb24-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb24-9">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb24-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>다국어 검색</strong></p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb25-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb25-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb25-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb25-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"englishVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb25-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb25-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span></span>
<span id="cb25-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb25-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb25-9">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"koreanVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb25-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Collection(Edm.Single)"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb25-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dimensions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span></span>
<span id="cb25-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb25-13">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb25-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="벡터-필드-설계-best-practices" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="벡터-필드-설계-best-practices"><span class="header-section-number">1.5.2</span> 벡터 필드 설계 Best Practices</h3>
<p><strong>메모리 최적화</strong></p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1">memory_per_doc <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>([</span>
<span id="cb26-2">    dim_1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,</span>
<span id="cb26-3">    dim_2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>,</span>
<span id="cb26-4">    ...</span>
<span id="cb26-5">])</span>
<span id="cb26-6"></span>
<span id="cb26-7">total_memory <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> num_docs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> memory_per_doc <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> overhead_factor</span></code></pre></div>
<p><strong>예시 (1M 문서)</strong><br>
- 단일 1536-dim: 1M × 1536 × 4 × 2.5 ≈ 15GB<br>
- 3개 1024-dim: 1M × 3 × 1024 × 4 × 2.5 ≈ 30GB</p>
<p><strong>권장사항</strong><br>
1. 차원 최소화: <code>text-embedding-3-large</code>의 <code>dimensions</code> 파라미터 활용<br>
2. 선택적 필드: 모든 문서에 모든 벡터 필드 불필요<br>
3. 압축: Azure Search는 자동 압축 (실제 메모리는 계산치의 60-70%)</p>
<p><strong>인덱싱 시간 영향</strong><br>
- 단일 벡터 필드: 1M 문서 기준 30분<br>
- 3개 벡터 필드: 1M 문서 기준 75분 (2.5배)</p>
</section>
</section>
<section id="고급-vector-search-패턴" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="고급-vector-search-패턴"><span class="header-section-number">1.6</span> 고급 Vector Search 패턴</h2>
<section id="semantic-hybrid-search-triple-fusion" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="semantic-hybrid-search-triple-fusion"><span class="header-section-number">1.6.1</span> Semantic Hybrid Search (Triple Fusion)</h3>
<p><strong>텍스트 + 벡터 + 시맨틱 결합</strong></p>
<div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb27-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb27-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to optimize azure search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb27-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb27-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to optimize azure search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb27-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb27-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semanticConfiguration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"default"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb27-13">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb27-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>3단계 융합</strong></p>
<pre><code>1. BM25 Text Search → Score_text
   ↓
2. Vector Search (HNSW) → Score_vector
   ↓
3. RRF Fusion → Combined_score
   ↓
4. Semantic Reranking (Top 50) → Final_score</code></pre>
<p><strong>실험적 성능 (MS MARCO)</strong><br>
- BM25 only: NDCG@10 = 0.32<br>
- Vector only: NDCG@10 = 0.38<br>
- Hybrid (BM25 + Vector): NDCG@10 = 0.46<br>
- Triple (BM25 + Vector + Semantic): NDCG@10 = 0.54 (+69% vs BM25)</p>
</section>
<section id="filtered-multi-vector-search" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="filtered-multi-vector-search"><span class="header-section-number">1.6.2</span> Filtered Multi-Vector Search</h3>
<p><strong>복잡한 필터링 + 다중 벡터</strong></p>
<div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb29-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb29-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning optimization"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"titleVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span></span>
<span id="cb29-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb29-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"machine learning optimization"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-13">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-14">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-15">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"weight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span></span>
<span id="cb29-16">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb29-17">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-18">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"(category eq 'AI' or category eq 'ML') and publishDate ge 2023-01-01 and citations ge 10"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb29-19">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorFilterMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"preFilter"</span></span>
<span id="cb29-20"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>실행 시간 분석 (1M 문서)</strong><br>
- Filter execution: 50ms (90% 제거 → 100K 문서)<br>
- Vector search (titleVector): 15ms<br>
- Vector search (contentVector): 15ms<br>
- RRF fusion: 5ms<br>
- Total: 85ms</p>
</section>
</section>
<section id="성능-최적화-전략" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="성능-최적화-전략"><span class="header-section-number">1.7</span> 성능 최적화 전략</h2>
<section id="hnsw-파라미터-튜닝" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="hnsw-파라미터-튜닝"><span class="header-section-number">1.7.1</span> HNSW 파라미터 튜닝</h3>
<p><strong>고처리량 시스템 (&gt;1000 QPS)</strong></p>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb30-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb30-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"algorithmConfigurations"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb30-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb30-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"high-throughput-config"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"hnswParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb30-7">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"m"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-8">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"efConstruction"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">200</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-9">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"efSearch"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">200</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb30-10">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"metric"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cosine"</span></span>
<span id="cb30-11">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb30-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb30-13">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb30-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>고정확도 시스템 (의료, 법률)</strong></p>
<div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb31-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb31-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"algorithmConfigurations"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb31-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb31-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"high-accuracy-config"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"hnsw"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"hnswParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb31-7">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"m"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-8">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"efConstruction"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">800</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-9">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"efSearch"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">800</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb31-10">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"metric"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cosine"</span></span>
<span id="cb31-11">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb31-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb31-13">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb31-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="차원-최적화" class="level3" data-number="1.7.2">
<h3 data-number="1.7.2" class="anchored" data-anchor-id="차원-최적화"><span class="header-section-number">1.7.2</span> 차원 최적화</h3>
<p><strong>PCA 기반 차원 축소 (text-embedding-3)</strong></p>
<div class="sourceCode" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1">embedding <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> openai.Embedding.create(</span>
<span id="cb32-2">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">input</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span>,</span>
<span id="cb32-3">    model<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-3-large"</span>,</span>
<span id="cb32-4">    dimensions<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span></span>
<span id="cb32-5">)</span></code></pre></div>
<p><strong>성능 트레이드오프 분석</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>차원</th>
<th>정확도 (MTEB)</th>
<th>메모리</th>
<th>쿼리 시간</th>
<th>인덱싱 시간</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>3072</td>
<td>1.00 (baseline)</td>
<td>1.0x</td>
<td>1.0x</td>
<td>1.0x</td>
</tr>
<tr class="even">
<td>1536</td>
<td>0.98 (-2%)</td>
<td>0.5x</td>
<td>0.7x</td>
<td>0.7x</td>
</tr>
<tr class="odd">
<td>1024</td>
<td>0.97 (-3%)</td>
<td>0.33x</td>
<td>0.5x</td>
<td>0.5x</td>
</tr>
<tr class="even">
<td>512</td>
<td>0.95 (-5%)</td>
<td>0.17x</td>
<td>0.3x</td>
<td>0.3x</td>
</tr>
</tbody>
</table>
<p><strong>권장 전략</strong><br>
- 프로토타입/개발: 512-dim (빠른 반복)<br>
- 프로덕션 (일반): 1024-dim (균형)<br>
- 프로덕션 (고정확도): 1536-3072-dim</p>
</section>
<section id="배치-처리-최적화" class="level3" data-number="1.7.3">
<h3 data-number="1.7.3" class="anchored" data-anchor-id="배치-처리-최적화"><span class="header-section-number">1.7.3</span> 배치 처리 최적화</h3>
<p><strong>인덱싱 배치 크기</strong></p>
<div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb33-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb33-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"parameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb33-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"batchSize"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb33-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"configuration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb33-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"parsingMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"json"</span></span>
<span id="cb33-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb33-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb33-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>최적 배치 크기 결정</strong></p>
<div class="sourceCode" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1">optimal_batch_size <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">min</span>(</span>
<span id="cb34-2">    <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>,</span>
<span id="cb34-3">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">max</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, available_memory_mb <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (vector_dim <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.5</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span>))</span>
<span id="cb34-4">)</span></code></pre></div>
<p><strong>실험 결과 (1M 문서, 1536-dim)</strong><br>
- batchSize=10: 120분 (안정적, 메모리 부족 위험 낮음)<br>
- batchSize=100: 50분 (권장)<br>
- batchSize=500: 35분 (고성능 티어)<br>
- batchSize=1000: 30분 (메모리 부족 위험)</p>
</section>
</section>
<section id="실무-아키텍처-패턴" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="실무-아키텍처-패턴"><span class="header-section-number">1.8</span> 실무 아키텍처 패턴</h2>
<section id="rag-retrieval-augmented-generation-파이프라인" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="rag-retrieval-augmented-generation-파이프라인"><span class="header-section-number">1.8.1</span> RAG (Retrieval-Augmented Generation) 파이프라인</h3>
<p><strong>전체 플로우</strong></p>
<pre><code>User Query
  ↓
Query Embedding (Azure OpenAI)
  ↓
Vector Search (Top 10) + Text Search (Top 10)
  ↓
RRF Fusion → Top 5 documents
  ↓
Context Assembly (5 docs × 2KB = 10KB)
  ↓
LLM Prompt (GPT-4)
  ├─ System: "Answer based on context"
  ├─ Context: 10KB retrieved content
  └─ Query: User question
  ↓
Generated Answer</code></pre>
<p><strong>최적화 포인트</strong></p>
<p>Context Window 관리:<br>
- GPT-4 32K: 최대 25KB context<br>
- 권장: 5-10 documents × 2KB = 10-20KB</p>
<p>Reranking:<br>
- Vector search: Top 50<br>
- Semantic reranking: Top 10<br>
- LLM injection: Top 5</p>
<p>Caching:<br>
- Query embedding cache (Redis)<br>
- Search result cache (15분 TTL)</p>
<p><strong>성능 벤치마크 (전체 E2E)</strong><br>
- Vector search: 20ms<br>
- Text search: 30ms<br>
- RRF fusion: 5ms<br>
- Semantic reranking: 200ms<br>
- LLM generation: 2000ms<br>
- Total: 약 2.3초</p>
</section>
<section id="멀티테넌트-벡터-검색" class="level3" data-number="1.8.2">
<h3 data-number="1.8.2" class="anchored" data-anchor-id="멀티테넌트-벡터-검색"><span class="header-section-number">1.8.2</span> 멀티테넌트 벡터 검색</h3>
<p><strong>테넌트 격리 전략</strong></p>
<p><strong>옵션 1: 단일 인덱스 + 필터</strong></p>
<div class="sourceCode" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb36-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb36-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb36-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb36-4">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb36-5">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"text"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"project status"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb36-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb36-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span></span>
<span id="cb36-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb36-9">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb36-10">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tenantId eq 'tenant-abc-123'"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb36-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorFilterMode"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"preFilter"</span></span>
<span id="cb36-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p>장점: 단순, 비용 효율적<br>
단점: 테넌트 간 성능 영향, 보안 위험</p>
<p><strong>옵션 2: 테넌트별 인덱스</strong></p>
<pre><code>index-tenant-abc-123
index-tenant-def-456
index-tenant-ghi-789</code></pre>
<p>장점: 완전 격리, 독립 최적화<br>
단점: 관리 복잡도, 비용 증가</p>
<p><strong>권장 전략 (테넌트 수 기준)</strong><br>
- &lt; 10 테넌트: 옵션 2 (인덱스 분리)<br>
- 10-100 테넌트: 옵션 1 (필터 기반)<br>
- &gt; 100 테넌트: Hybrid (대형 테넌트 분리, 소형 통합)</p>
</section>
<section id="실시간-벡터-업데이트" class="level3" data-number="1.8.3">
<h3 data-number="1.8.3" class="anchored" data-anchor-id="실시간-벡터-업데이트"><span class="header-section-number">1.8.3</span> 실시간 벡터 업데이트</h3>
<p><strong>증분 인덱싱 패턴</strong></p>
<div class="sourceCode" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> on_document_update(doc_id, new_content):</span>
<span id="cb38-2">    embedding <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> get_embedding(new_content)</span>
<span id="cb38-3">    </span>
<span id="cb38-4">    search_client.merge_or_upload_documents([{</span>
<span id="cb38-5">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"id"</span>: doc_id,</span>
<span id="cb38-6">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content"</span>: new_content,</span>
<span id="cb38-7">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span>: embedding</span>
<span id="cb38-8">    }])</span></code></pre></div>
<p><strong>처리량 제한 (Standard S1)</strong><br>
- 초당 최대 1,000 documents<br>
- 배치 크기: 최대 1,000 documents/request</p>
<p><strong>실시간 업데이트 지연</strong><br>
- 문서 업로드: 평균 50ms<br>
- 인덱스 반영: 평균 1-5초 (eventual consistency)<br>
- 쿼리 가시성: 최대 10초</p>
</section>
</section>
<section id="비용-최적화-전략" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="비용-최적화-전략"><span class="header-section-number">1.9</span> 비용 최적화 전략</h2>
<section id="벡터-임베딩-비용" class="level3" data-number="1.9.1">
<h3 data-number="1.9.1" class="anchored" data-anchor-id="벡터-임베딩-비용"><span class="header-section-number">1.9.1</span> 벡터 임베딩 비용</h3>
<p><strong>Azure OpenAI 비용 계산</strong></p>
<div class="sourceCode" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1">total_tokens <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1_000_000</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">M</span> tokens</span>
<span id="cb39-2"></span>
<span id="cb39-3">embedding_cost <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.13</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> $<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">65</span></span>
<span id="cb39-4">embedding_cost_small <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.02</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> $<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span></code></pre></div>
</section>
<section id="azure-search-스토리지-비용" class="level3" data-number="1.9.2">
<h3 data-number="1.9.2" class="anchored" data-anchor-id="azure-search-스토리지-비용"><span class="header-section-number">1.9.2</span> Azure Search 스토리지 비용</h3>
<p><strong>인덱스 크기 계산</strong></p>
<div class="sourceCode" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1">vector_size_gb <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb40-2">    num_docs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> vector_dim <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> overhead_factor</span>
<span id="cb40-3">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span>
<span id="cb40-4"></span>
<span id="cb40-5">storage_size <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1_000_000</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1536</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">2.5</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1024</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span>
<span id="cb40-6">             ≈ <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">14.3</span> GB</span></code></pre></div>
<p><strong>월 스토리지 비용 (Standard S1)</strong><br>
- 기본 25GB 포함<br>
- 초과 시: $0.40/GB/month<br>
- 14.3GB: $0 (기본 할당 내)</p>
</section>
<section id="총-소유-비용-tco-예시" class="level3" data-number="1.9.3">
<h3 data-number="1.9.3" class="anchored" data-anchor-id="총-소유-비용-tco-예시"><span class="header-section-number">1.9.3</span> 총 소유 비용 (TCO) 예시</h3>
<p><strong>시나리오</strong>: 1M 문서, 10K queries/day</p>
<p><strong>초기 비용</strong><br>
- Embedding 생성 (3-large): $65<br>
- 인덱싱: $0 (S1 할당 내)<br>
- Total: $65</p>
<p><strong>월 운영 비용</strong><br>
- Azure Search S1: $250/month<br>
- Semantic Search (optional): $500/month<br>
- 스토리지 (14.3GB): $0/month<br>
- Total: $250-$750/month</p>
<p><strong>연간 TCO</strong><br>
- 초기: $65<br>
- 운영: $3,000-$9,000<br>
- Total: $3,065-$9,065</p>
</section>
</section>
<section id="증거의-강도-및-한계" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="증거의-강도-및-한계"><span class="header-section-number">1.10</span> 증거의 강도 및 한계</h2>
<section id="증거-출처" class="level3" data-number="1.10.1">
<h3 data-number="1.10.1" class="anchored" data-anchor-id="증거-출처"><span class="header-section-number">1.10.1</span> 증거 출처</h3>
<ul>
<li>Microsoft Learn 공식 문서: Vector Search API, HNSW 파라미터, 필터링 모드<br>
</li>
<li>MTEB (Massive Text Embedding Benchmark): 임베딩 모델 성능 평가 (2023)<br>
</li>
<li>MS MARCO: Microsoft Machine Reading Comprehension (검색 정확도 벤치마크)<br>
</li>
<li>Malkov &amp; Yashunin (2018): “Efficient and robust approximate nearest neighbor search using Hierarchical Navigable Small World graphs”</li>
</ul>
</section>
<section id="한계점" class="level3" data-number="1.10.2">
<h3 data-number="1.10.2" class="anchored" data-anchor-id="한계점"><span class="header-section-number">1.10.2</span> 한계점</h3>
<ul>
<li>성능 수치 변동성: 벤치마크는 특정 데이터셋 기준, 실제 성능은 ±30-50% 변동<br>
</li>
<li>필터링 모드 자동 선택: Azure의 휴리스틱 알고리즘 상세 비공개, 최적 선택 보장 불가<br>
</li>
<li>비용 예측: Fair use 정책 구체적 한계 불명확, 대규모 환경에서 실제 비용 변동 가능<br>
</li>
<li>HNSW 정확도: Recall@10 = 0.95는 평균값, 특정 쿼리에서 더 낮을 수 있음</li>
</ul>
</section>
<section id="대안-기술" class="level3" data-number="1.10.3">
<h3 data-number="1.10.3" class="anchored" data-anchor-id="대안-기술"><span class="header-section-number">1.10.3</span> 대안 기술</h3>
<p><strong>Pinecone</strong><br>
- Vector-native 설계<br>
- 더 간단한 API<br>
- 하이브리드 검색 제한적</p>
<p><strong>Weaviate</strong><br>
- 오픈소스 + 관리형 옵션<br>
- 강력한 GraphQL API<br>
- Azure 통합 약함</p>
<p><strong>Milvus</strong><br>
- 오픈소스, 고성능<br>
- Kubernetes 기반 배포<br>
- 관리 부담 높음</p>
<p><strong>Azure Cognitive Search 장점</strong><br>
- Azure 생태계 통합 (OpenAI, Vision)<br>
- Hybrid + Semantic 기본 지원<br>
- 완전 관리형 (인프라 관리 불필요)</p>
</section>
</section>
<section id="불확실성-영역" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="불확실성-영역"><span class="header-section-number">1.11</span> 불확실성 영역</h2>
<ul>
<li>대규모 환경 성능: 100M+ 문서 환경에서 실제 성능 데이터 제한적, 파티셔닝 전략 최적화 방법 불명확<br>
</li>
<li>Vectorizer 내부 동작: Query-time vectorization의 정확한 캐싱 전략 비공개, Rate limit 우회 메커니즘 불명확<br>
</li>
<li>필터링 성능 보장: preFilter 모드에서 그래프 재구성 비용 정량화 어려움, 복잡한 필터의 성능 상한선 미명시<br>
</li>
<li>Semantic Reranking + Vector: 두 기술 결합 시 정확한 상호작용 불명확, 최적 융합 가중치 자동 결정 알고리즘 비공개</li>
</ul>
</section>
<section id="실무-의사결정-가이드" class="level2" data-number="1.12">
<h2 data-number="1.12" class="anchored" data-anchor-id="실무-의사결정-가이드"><span class="header-section-number">1.12</span> 실무 의사결정 가이드</h2>
<section id="vector-search-도입-여부-판단" class="level3" data-number="1.12.1">
<h3 data-number="1.12.1" class="anchored" data-anchor-id="vector-search-도입-여부-판단"><span class="header-section-number">1.12.1</span> Vector Search 도입 여부 판단</h3>
<pre><code>검색 쿼리 특성?
├─ 키워드 정합 중심 (제품 ID, 정확한 매칭)
│  └─ BM25 only (벡터 불필요)
│
├─ 의미론적 이해 필요 (자연어 질문)
│  └─ Vector Search 도입
│     └─ 데이터 규모?
│        ├─ &lt; 100K docs → Exhaustive mode 고려
│        └─ &gt; 100K docs → HNSW 필수
│
└─ 하이브리드 (둘 다)
   └─ Hybrid Search (Text + Vector + Semantic)</code></pre>
</section>
<section id="filtering-전략-결정" class="level3" data-number="1.12.2">
<h3 data-number="1.12.2" class="anchored" data-anchor-id="filtering-전략-결정"><span class="header-section-number">1.12.2</span> Filtering 전략 결정</h3>
<pre><code>필터 선택도?
├─ &gt; 80% (매우 제한적)
│  └─ preFilter
│     예: tenantId eq 'rare-tenant'
│
├─ 20-80% (중간)
│  └─ auto (vectorFilterMode: null)
│     예: category in ('Tech', 'Science')
│
└─ &lt; 20% (느슨함)
   └─ postFilter
      예: inStock eq true (대부분 true)</code></pre>
</section>
<section id="embedding-모델-선택" class="level3" data-number="1.12.3">
<h3 data-number="1.12.3" class="anchored" data-anchor-id="embedding-모델-선택"><span class="header-section-number">1.12.3</span> Embedding 모델 선택</h3>
<pre><code>요구사항?
├─ 저비용 우선
│  └─ text-embedding-3-small (512-dim)
│
├─ 고정확도 필요
│  └─ text-embedding-3-large (1024-3072-dim)
│
└─ 레거시 호환
   └─ text-embedding-ada-002 (1536-dim)</code></pre>
</section>
</section>
<section id="참고-링크" class="level2" data-number="1.13">
<h2 data-number="1.13" class="anchored" data-anchor-id="참고-링크"><span class="header-section-number">1.13</span> 참고 링크</h2>
<section id="microsoft-learn-공식-문서" class="level3" data-number="1.13.1">
<h3 data-number="1.13.1" class="anchored" data-anchor-id="microsoft-learn-공식-문서"><span class="header-section-number">1.13.1</span> Microsoft Learn 공식 문서</h3>
<ul>
<li>https://learn.microsoft.com/en-us/azure/search/vector-search-overview<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/vector-search-how-to-query<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/vector-search-filters<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/vector-search-how-to-configure-vectorizer<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/vector-search-multi-vector-fields</li>
</ul>
</section>
<section id="학술-자료" class="level3" data-number="1.13.2">
<h3 data-number="1.13.2" class="anchored" data-anchor-id="학술-자료"><span class="header-section-number">1.13.2</span> 학술 자료</h3>
<ul>
<li>Malkov, Y. &amp; Yashunin, D. (2018). “Efficient and robust approximate nearest neighbor search using Hierarchical Navigable Small World graphs.” IEEE TPAMI<br>
</li>
<li>MTEB Leaderboard: https://huggingface.co/spaces/mteb/leaderboard<br>
</li>
<li>MS MARCO: https://microsoft.github.io/msmarco/</li>
</ul>


</section>
</section>
</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/29-az-ai-search-classic-vector-search.html</guid>
  <pubDate>Mon, 22 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure Search — BM25(전통 검색) 개요</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/27-az-ai-search-classic-bm25.html</link>
  <description><![CDATA[ 





<section id="full-text-serach" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Full text serach</h1>
<ul>
<li>Azure Search 쿼리 아키텍처 및 고급 검색 기능 분석</li>
</ul>
<section id="검색-알고리즘-유형-간단-정리" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="검색-알고리즘-유형-간단-정리"><span class="header-section-number">1.1</span> 검색 알고리즘 유형 간단 정리</h2>
<ul>
<li>BM25: 역색인과 용어 통계(TF/IDF 계열)를 사용해 키워드 매칭 기반으로 점수를 매긴다. 빠르고 해석 가능하며 후보 검색(initial retrieval)에 적합하다.<br>
</li>
<li>Vector Search: 문서와 쿼리를 고차원 벡터로 임베딩한 뒤 벡터 유사도(예: 코사인, L2)로 근접 이웃을 찾는다. 의미적 유사성(동의어, 패러프레이즈)을 잘 잡아낸다.<br>
</li>
<li>Semantic Search: Vector Search 또는 Transformer 기반 reranker를 포함하는 상위 개념으로, 의미적 이해를 활용해 결과를 재정렬하거나 직접 답변을 생성한다.<br>
</li>
<li>실무적 조합: 보통은 BM25로 넓게 후보를 뽑고(cheap), 그 중에서 vector/semantic로 정밀 평가한다 — 성능/비용 균형을 맞추는 표준 패턴.<br>
</li>
<li>장단점 비교: BM25는 저비용·저지연·해석 가능, vector는 의미성↑·비용↑·지연↑(특히 reranker 사용 시).</li>
</ul>
</section>
<section id="lucene-쿼리-아키텍처" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="lucene-쿼리-아키텍처"><span class="header-section-number">1.2</span> Lucene 쿼리 아키텍처</h2>
<section id="쿼리-실행-파이프라인" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="쿼리-실행-파이프라인"><span class="header-section-number">1.2.1</span> 쿼리 실행 파이프라인</h3>
<p><strong>전체 처리 플로우</strong></p>
<pre><code>Query String → Query Parser → Query Execution → Scoring → Ranking → Response
     ↓              ↓              ↓              ↓          ↓          ↓
"machine       Lucene AST      Index Scan    TF-IDF/BM25   Top-K      JSON Result
learning"      (Parse Tree)    (Inverted)    Calculation   Selection  Serialization</code></pre>
<ul>
<li>Lucene: Apache Lucene 검색 엔진 라이브러리(문서 토크나이즈·인덱싱·쿼리 파싱·스코어링(BM25) 제공).
<ul>
<li>Azure Search는 Lucene 계열 쿼리 문법/파서를 사용하거나 유사한 파싱·실행 방식을 쓴다.<br>
</li>
</ul></li>
<li>AST
<ul>
<li>AST는 ’코드 전용’이 아니라 ’문법을 가진 모든 입력’에 대해 만드는 파싱 결과다.<br>
</li>
<li>Lucene AST는 Lucene 쿼리 문법을 해석한 구조화된 트리이며, 자연어 쿼리는 문맥/설정에 따라 단순 토큰 리스트로 처리되거나(간단 쿼리), Lucene 구문을 포함하면 AST로 파싱된다.<br>
</li>
<li>쿼리 문법(grammar)을 파싱해서 만든 트리(구문 트리).</li>
<li>코드 전용이 아니라 어떤 형식의 문법(쿼리, 수식, 명령문 등)에도 적용된다.<br>
</li>
<li>쿼리 언어는 문법(grammar)을 가진 입력이다. 파서는 입력을 구문적으로 해석해서 의미 단위(노드: TERM, PHRASE, FIELD, AND, OR, NOT, FUZZY 등)를 가진 트리로 변환한다.<br>
</li>
<li>이 트리는 실행 엔진이 어떤 인덱스 연산(포스팅 리스트 읽기, 근접 검색, 필드별 매칭, 부울 결합 등)을 수행할지 결정하는 ’실행 계획’의 중간 표현이다.<br>
</li>
<li>즉 AST는 코드의 AST와 역할이 동일하다(입력 → 구조화된 표현 → 실행).<br>
</li>
</ul></li>
<li>자연어 쿼리와의 관계: 사용자가 자연어로 요청하면 시스템이 반드시 복잡한 Lucene AST를 만들지는 않는다.
<ul>
<li>간단 파서/토크나이저로 토큰(또는 문구)을 생성<br>
</li>
<li>또는, semantic pipeline일 경우에는 임베딩/벡터로 처리한다.<br>
</li>
<li>다만 Lucene 계열의 표현식(필드 지정, boolean, proximity 등)이 있으면 파서는 AST(또는 parse tree)를 만든다.</li>
</ul></li>
</ul>
<p><strong>Query Parser 종류</strong></p>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 28%">
<col style="width: 25%">
<col style="width: 15%">
</colgroup>
<thead>
<tr class="header">
<th>Parser Type</th>
<th>구문 복잡도</th>
<th>사용 사례</th>
<th>예시</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Simple</td>
<td>낮음</td>
<td>자연어 검색, 일반 사용자</td>
<td><code>"machine learning" azure</code></td>
</tr>
<tr class="even">
<td>Full (Lucene)</td>
<td>높음</td>
<td>고급 쿼리, Boolean 로직</td>
<td><code>title:(azure AND search) OR content:indexer~2</code></td>
</tr>
<tr class="odd">
<td>Semantic</td>
<td>중간</td>
<td>의미론적 이해 필요</td>
<td><code>"how to optimize search performance"</code></td>
</tr>
</tbody>
</table>
</section>
<section id="lucene-full-syntax-지원-연산자" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="lucene-full-syntax-지원-연산자"><span class="header-section-number">1.2.2</span> Lucene Full Syntax 지원 연산자</h3>
<p><strong>Boolean 연산자</strong></p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource lucene number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1"># AND (교집합)</span>
<span id="cb2-2">azure AND search</span>
<span id="cb2-3"></span>
<span id="cb2-4"># OR (합집합)</span>
<span id="cb2-5">azure OR cognitive</span>
<span id="cb2-6"></span>
<span id="cb2-7"># NOT (차집합)</span>
<span id="cb2-8">azure NOT cosmos</span>
<span id="cb2-9"></span>
<span id="cb2-10"># Grouping</span>
<span id="cb2-11">(azure OR cognitive) AND (search OR ai)</span></code></pre></div>
<p><strong>필드별 검색</strong></p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource lucene number-lines code-with-copy"><code class="sourceCode"><span id="cb3-1"># 특정 필드 검색</span>
<span id="cb3-2">title:azure</span>
<span id="cb3-3">content:"machine learning"</span>
<span id="cb3-4"></span>
<span id="cb3-5"># 복합 필드 검색</span>
<span id="cb3-6">title:(azure search) AND category:tutorial</span></code></pre></div>
<pre><code># 쿼리 1: title:azure
FIELD: title
└─ TERM: azure

# 쿼리 2: content:"machine learning"
FIELD: content
└─ PHRASE
    ├─ TOKEN: machine
    └─ TOKEN: learning

# 쿼리 3: title:(azure search) AND category:tutorial
AND
├─ GROUP
│   └─ FIELD: title
│       └─ GROUP_TOKENS
│           ├─ TERM: azure
│           └─ TERM: search
└─ FIELD: category
    └─ TERM: tutorial</code></pre>
<p><strong>Proximity 검색 (근접도)</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource lucene number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1"># "azure"와 "search"가 5단어 이내</span>
<span id="cb5-2">"azure search"~5</span>
<span id="cb5-3"></span>
<span id="cb5-4"># 순서 상관없이 근접</span>
<span id="cb5-5">"search azure"~5</span></code></pre></div>
<p><strong>Fuzzy 검색 (유사도)</strong></p>
<ul>
<li>fuzzy 검색은 사용자가 입력한 단어나 철자 오류(typo), 형태 변형을 허용해 유사한 단어들도 매칭하도록 하는 검색 방법</li>
<li>일반적으로 Levenshtein 편집 거리(edit distance)를 기준으로 ’몇 번의 문자 삽입/삭제/교체’로 동일 단어가 되는지 계산한다.</li>
</ul>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource lucene number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1"># Edit distance = 1 (기본값)</span>
<span id="cb6-2">azur~</span>
<span id="cb6-3"></span>
<span id="cb6-4"># Edit distance = 2</span>
<span id="cb6-5">azur~2</span>
<span id="cb6-6"></span>
<span id="cb6-7"># Levenshtein distance 기반</span>
<span id="cb6-8"># azur → azure (1 edit)</span></code></pre></div>
<p><strong>Wildcard 검색</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource lucene number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"># * : 0개 이상 문자</span>
<span id="cb7-2">azur*        # azure, azures, azuring</span>
<span id="cb7-3"></span>
<span id="cb7-4"># ? : 정확히 1개 문자</span>
<span id="cb7-5">azur?        # azure, azurs</span>
<span id="cb7-6"></span>
<span id="cb7-7"># 주의: 시작 wildcard는 성능 저하 (인덱스 전체 스캔)</span>
<span id="cb7-8">*zure        # 비권장</span></code></pre></div>
<p><strong>Range 검색</strong></p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource lucene number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"># 숫자 범위</span>
<span id="cb8-2">price:[100 TO 500]</span>
<span id="cb8-3"></span>
<span id="cb8-4"># 날짜 범위</span>
<span id="cb8-5">publishDate:[2023-01-01 TO 2023-12-31]</span>
<span id="cb8-6"></span>
<span id="cb8-7"># 문자열 범위 (사전 순서)</span>
<span id="cb8-8">title:[a TO m]</span>
<span id="cb8-9"></span>
<span id="cb8-10"># Exclusive (경계 제외)</span>
<span id="cb8-11">price:{100 TO 500}</span></code></pre></div>
<p><strong>Boosting (가중치)</strong></p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource lucene number-lines code-with-copy"><code class="sourceCode"><span id="cb9-1"># "azure"를 "search"보다 2배 중요하게</span>
<span id="cb9-2">azure^2 search</span>
<span id="cb9-3"></span>
<span id="cb9-4"># 필드별 가중치</span>
<span id="cb9-5">title:azure^3 content:azure</span></code></pre></div>
</section>
<section id="인덱스-구조-및-검색-알고리즘" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="인덱스-구조-및-검색-알고리즘"><span class="header-section-number">1.2.3</span> 인덱스 구조 및 검색 알고리즘</h3>
<p><strong>Inverted Index 구조</strong></p>
<pre><code>Term       | Document IDs  | Positions
-----------|---------------|----------
azure      | [1, 5, 8]     | [(1,0), (1,15), (5,3), ...]
search     | [1, 2, 5]     | [(1,1), (2,10), (5,4), ...]
cognitive  | [5, 8]        | [(5,12), (8,3)]</code></pre>
<p><strong>BM25 스코어링 공식 (Azure Search 기본 알고리즘)</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bscore%7D(D,Q)%20=%20%5Csum_%7Bi=1%7D%5E%7Bn%7D%20%5Ctext%7BIDF%7D(q_i)%20%5Ccdot%20%5Cfrac%7Bf(q_i,%20D)%20%5Ccdot%20(k_1%20+%201)%7D%7Bf(q_i,%20D)%20+%20k_1%20%5Ccdot%20(1%20-%20b%20+%20b%20%5Ccdot%20%5Cfrac%7B%7CD%7C%7D%7B%5Ctext%7Bavgdl%7D%7D)%7D"></p>
<p>여기서:<br>
- <img src="https://latex.codecogs.com/png.latex?D">: 문서<br>
- <img src="https://latex.codecogs.com/png.latex?Q">: 쿼리<br>
- <img src="https://latex.codecogs.com/png.latex?q_i">: 쿼리 내 <img src="https://latex.codecogs.com/png.latex?i"> 번째 용어<br>
- <img src="https://latex.codecogs.com/png.latex?f(q_i,%20D)">: 문서 <img src="https://latex.codecogs.com/png.latex?D">에서 용어 <img src="https://latex.codecogs.com/png.latex?q_i">의 빈도<br>
- <img src="https://latex.codecogs.com/png.latex?%7CD%7C">: 문서 길이<br>
- <img src="https://latex.codecogs.com/png.latex?%5Ctext%7Bavgdl%7D">: 평균 문서 길이<br>
- <img src="https://latex.codecogs.com/png.latex?k_1">: 용어 빈도 포화 파라미터 (Azure Search 기본값: 1.2)<br>
- <img src="https://latex.codecogs.com/png.latex?b">: 길이 정규화 파라미터 (Azure Search 기본값: 0.75)</p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BIDF%7D(q_i)%20=%20%5Cln%5Cleft(%5Cfrac%7BN%20-%20n(q_i)%20+%200.5%7D%7Bn(q_i)%20+%200.5%7D%20+%201%5Cright)"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?N">: 전체 문서 수<br>
</li>
<li><img src="https://latex.codecogs.com/png.latex?n(q_i)">: 용어 <img src="https://latex.codecogs.com/png.latex?q_i">를 포함한 문서 수</li>
</ul>
<p>원리: 쿼리의 각 용어 <img src="https://latex.codecogs.com/png.latex?q_i"> 에 대해 문서 <img src="https://latex.codecogs.com/png.latex?D"> 에서의 용어빈도 <img src="https://latex.codecogs.com/png.latex?f(q_i,D)"> 와 역문서빈도(IDF)를 곱해 합한 값으로 문서 점수를 계산한다. 분수 항은 용어빈도의 기여도를 포화(saturation)시키고 문서 길이 <img src="https://latex.codecogs.com/png.latex?%7CD%7C"> 에 따라 정규화하여, 같은 용어가 많이 나와도 점수가 무한히 커지지 않게 한다. 즉, 흔한 용어는 $ $ 로 페널티를 받고, <img src="https://latex.codecogs.com/png.latex?k_1"> 과 <img src="https://latex.codecogs.com/png.latex?b"> 로 빈도 민감도와 길이 정규화 강도를 조절해 관련성 점수를 안정화한다.</p>
<p><strong>성능 특성 (Microsoft 벤치마크)</strong><br>
- Simple query (1-2 terms): 평균 10-50ms (1M 문서 인덱스)<br>
- Complex query (5+ terms, Boolean): 평균 50-200ms<br>
- Wildcard/Fuzzy query: 평균 200-1000ms (인덱스 크기에 비례)</p>
<p>BM25 스코어링의 주요 장점<br>
- <strong>해석 가능성</strong>: 각 용어별 기여도를 합산하는 구조라 점수 산출 근거가 명확하다.<br>
- <strong>효율성</strong>: 역색인(inverted index) 위에서 빠르게 계산되므로 대규모 인덱스에서도 저비용으로 동작한다.<br>
- <strong>훈련 불필요</strong>: 별도의 학습 없이도 바로 좋은 기본 검색 품질을 제공한다(따라서 초기 시스템에 즉시 적용 가능).<br>
- <strong>길이 정규화</strong>: <code>b</code> 파라미터로 문서 길이 편향을 보정해 긴 문서가 유리해지는 문제를 완화한다.<br>
- <strong>빈도 포화</strong>: <code>k1</code> 파라미터로 같은 용어의 빈도 기여도를 포화시켜 과도한 빈도에 의한 왜곡을 줄인다.<br>
- <strong>강력한 베이스라인</strong>: 많은 도메인(특히 키워드/문서 검색)에서 튜닝된 BM25는 복잡한 모델 없이도 높은 성능을 내며, 임베딩/딥러닝 기반 재정렬과 쉽게 결합된다.</p>
<p>아래는 BM25의 주요 단점<br>
- <strong>의미적 한계</strong>: 자연어 의미(동의어, 문맥적 의미)를 반영하지 못한다 — 의미 기반 검색엔진과 결합해야 보완된다.<br>
- <strong>순서·구조 무시</strong>: Bag-of-words 가정으로 단어 순서·구문 정보를 고려하지 못해 문장 의미를 잃을 수 있다.<br>
- <strong>파라미터 민감도</strong>: <code>k1</code>, <code>b</code> 튜닝이 품질에 영향 — 도메인·문서특성에 따라 재조정 필요하다.<br>
- <strong>짧은/긴 쿼리 처리 한계</strong>: 매우 짧은 쿼리나 긴 문장형 쿼리에서 적절한 관련도 추정이 어려울 수 있다.<br>
- <strong>철자 오류·변형 취약</strong>: 오타·어형 변화에 약해 퍼지나 전처리가 필요하고 비용이 든다.<br>
- <strong>구성 신호 결여</strong>: 링크·사용자행동·신뢰도 같은 비문서 텍스트 신호를 반영하지 못한다(메타 신호 통합 필요).<br>
- <strong>복잡한 의미 질문 부적합</strong>: QA나 추론형 질문에선 후보 추출용으로는 유용하지만 단독으로는 직접 답변 생성에 한계가 있다.</p>
</section>
</section>
<section id="필터링-메커니즘" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="필터링-메커니즘"><span class="header-section-number">1.3</span> 필터링 메커니즘</h2>
<section id="filter-vs-search-비교" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="filter-vs-search-비교"><span class="header-section-number">1.3.1</span> Filter vs Search 비교</h3>
<p><strong>근본적 차이</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>측면</th>
<th>Filter</th>
<th>Search</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>평가 방식</td>
<td>Boolean (참/거짓)</td>
<td>Relevance scoring</td>
</tr>
<tr class="even">
<td>결과</td>
<td>이진 분류 (포함/제외)</td>
<td>순위 리스트</td>
</tr>
<tr class="odd">
<td>성능</td>
<td>빠름 (비트셋 연산)</td>
<td>느림 (스코어 계산)</td>
</tr>
<tr class="even">
<td>캐싱</td>
<td>가능 (필터 캐시)</td>
<td>불가능 (쿼리마다 다름)</td>
</tr>
<tr class="odd">
<td>사용 목적</td>
<td>정확한 조건 매칭</td>
<td>관련성 기반 검색</td>
</tr>
</tbody>
</table>
<p><strong>아키텍처 수준 차이</strong></p>
<pre><code>Filter: Index → Bitset (0/1) → Apply to result set
Search: Index → Score calculation → Ranking</code></pre>
</section>
<section id="filter-문법-odata" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="filter-문법-odata"><span class="header-section-number">1.3.2</span> Filter 문법 (OData)</h3>
<p><strong>비교 연산자</strong></p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource odata number-lines code-with-copy"><code class="sourceCode"><span id="cb12-1"># 동등 비교</span>
<span id="cb12-2">category eq 'Technology'</span>
<span id="cb12-3"></span>
<span id="cb12-4"># 범위 비교</span>
<span id="cb12-5">price ge 100 and price le 500</span>
<span id="cb12-6"></span>
<span id="cb12-7"># 문자열 함수</span>
<span id="cb12-8">search.in(category, 'Tech,Science,Math')</span>
<span id="cb12-9">startswith(title, 'Azure')</span></code></pre></div>
<p><strong>Logical 연산자</strong></p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource odata number-lines code-with-copy"><code class="sourceCode"><span id="cb13-1"># AND</span>
<span id="cb13-2">category eq 'Tech' and price lt 100</span>
<span id="cb13-3"></span>
<span id="cb13-4"># OR</span>
<span id="cb13-5">category eq 'Tech' or category eq 'Science'</span>
<span id="cb13-6"></span>
<span id="cb13-7"># NOT</span>
<span id="cb13-8">not (category eq 'Tech')</span>
<span id="cb13-9"></span>
<span id="cb13-10"># 복합 조건</span>
<span id="cb13-11">(category eq 'Tech' or category eq 'Science') and price lt 100</span></code></pre></div>
</section>
<section id="collection-필터링" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="collection-필터링"><span class="header-section-number">1.3.3</span> Collection 필터링</h3>
<p><strong>any/all 람다 표현식</strong></p>
<p><strong>any (OR 시맨틱)</strong></p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource odata number-lines code-with-copy"><code class="sourceCode"><span id="cb14-1"># tags 컬렉션에 'azure' 또는 'search' 포함</span>
<span id="cb14-2">tags/any(t: t eq 'azure' or t eq 'search')</span>
<span id="cb14-3"></span>
<span id="cb14-4"># ratings 컬렉션에 4 이상인 값이 하나라도 존재</span>
<span id="cb14-5">ratings/any(r: r ge 4)</span></code></pre></div>
<p><strong>all (AND 시맨틱)</strong></p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource odata number-lines code-with-copy"><code class="sourceCode"><span id="cb15-1"># tags 컬렉션의 모든 값이 'azure' 또는 'search'</span>
<span id="cb15-2">tags/all(t: t eq 'azure' or t eq 'search')</span>
<span id="cb15-3"></span>
<span id="cb15-4"># 모든 가격이 100 이하</span>
<span id="cb15-5">prices/all(p: p le 100)</span></code></pre></div>
<p><strong>복합 타입 필터링</strong></p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource odata number-lines code-with-copy"><code class="sourceCode"><span id="cb16-1"># authors가 복합 타입 컬렉션</span>
<span id="cb16-2"># { "name": "John", "affiliation": "Microsoft" }</span>
<span id="cb16-3">authors/any(a: a/name eq 'John' and a/affiliation eq 'Microsoft')</span></code></pre></div>
<p><strong>성능 고려사항 (Microsoft 권장)</strong><br>
- <code>any/all</code> 조건 수 제한: 문서당 &lt; 10,000 컬렉션 항목<br>
- 중첩 깊이: 최대 2-3단계 권장<br>
- 복잡한 람다: 인덱스 스캔 시간 증가 (선형 복잡도)</p>
</section>
<section id="필터-최적화-전략" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="필터-최적화-전략"><span class="header-section-number">1.3.4</span> 필터 최적화 전략</h3>
<p><strong>필터 순서 최적화 (선택도 기반)</strong></p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource odata number-lines code-with-copy"><code class="sourceCode"><span id="cb17-1"># 나쁜 예: 낮은 선택도 필터 먼저</span>
<span id="cb17-2">price ge 0 and category eq 'RareCategory'</span>
<span id="cb17-3"></span>
<span id="cb17-4"># 좋은 예: 높은 선택도 필터 먼저</span>
<span id="cb17-5">category eq 'RareCategory' and price ge 0</span></code></pre></div>
<p><strong>벤치마크 (1M 문서 인덱스)</strong><br>
- Simple filter (<code>eq</code>): 평균 5-10ms<br>
- Range filter (<code>ge</code>, <code>le</code>): 평균 10-30ms<br>
- Collection filter (<code>any/all</code>): 평균 50-200ms (컬렉션 크기에 비례)<br>
- Combined filters (3+ conditions): 평균 20-100ms</p>
</section>
</section>
<section id="페이지네이션-및-결과-레이아웃" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="페이지네이션-및-결과-레이아웃"><span class="header-section-number">1.4</span> 페이지네이션 및 결과 레이아웃</h2>
<section id="페이지네이션-전략" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="페이지네이션-전략"><span class="header-section-number">1.4.1</span> 페이지네이션 전략</h3>
<p><strong>Offset-based (기본 방식)</strong></p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb18-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb18-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"skip"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb18-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"orderby"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publishDate desc"</span></span>
<span id="cb18-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>제약사항</strong><br>
- <code>skip + top</code> 최대값: 100,000 (Azure Search 하드 리미트)<br>
- Deep pagination 성능 저하: <code>skip</code> 값이 클수록 느려짐</p>
<p><strong>성능 특성 (Microsoft 벤치마크)</strong><br>
- <code>skip=0, top=10</code>: 평균 20ms<br>
- <code>skip=1000, top=10</code>: 평균 50ms<br>
- <code>skip=10000, top=10</code>: 평균 200ms<br>
- <code>skip=50000, top=10</code>: 평균 1000ms (선형 증가)</p>
<p><strong>Search After (커서 기반)</strong></p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb19-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb19-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb19-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"orderby"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"publishDate desc, id asc"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb19-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"searchAfter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2023-12-01T00:00:00Z"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"doc-12345"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb19-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>장점</strong><br>
- Deep pagination에서 일정한 성능 (O(log n))<br>
- 실시간 데이터 변경 시 일관성 유지</p>
<p><strong>단점</strong><br>
- 임의 페이지 점프 불가<br>
- 클라이언트가 커서 상태 관리 필요</p>
</section>
<section id="결과-커스터마이징" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="결과-커스터마이징"><span class="header-section-number">1.4.2</span> 결과 커스터마이징</h3>
<p><strong>Select (필드 선택)</strong></p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb20-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"select"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title,content,publishDate"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb20-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb20-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>네트워크 대역폭 절감</strong><br>
- 전체 필드 반환: 평균 10KB/문서<br>
- <code>select</code> 사용 (3필드): 평균 2KB/문서<br>
- 100K 문서 전송: 1GB → 200MB (80% 절감)</p>
<p><strong>Highlight (검색어 강조)</strong></p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb21-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb21-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"highlight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content,title"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"highlightPreTag"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;em&gt;"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb21-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"highlightPostTag"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;/em&gt;"</span></span>
<span id="cb21-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>Count (총 결과 수)</strong></p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb22-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb22-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"count"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb22-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>성능 영향</strong><br>
- <code>count=false</code>: 평균 50ms<br>
- <code>count=true</code>: 평균 80ms (+60% 오버헤드)<br>
- 대규모 결과 (&gt;1M): 최대 +200ms</p>
</section>
<section id="정렬-order-by" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="정렬-order-by"><span class="header-section-number">1.4.3</span> 정렬 (Order By)</h3>
<p><strong>정렬 문법</strong></p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource odata number-lines code-with-copy"><code class="sourceCode"><span id="cb23-1"># 단일 필드 정렬</span>
<span id="cb23-2">orderby=publishDate desc</span>
<span id="cb23-3"></span>
<span id="cb23-4"># 다중 필드 정렬 (우선순위 순)</span>
<span id="cb23-5">orderby=category asc, publishDate desc, score desc</span>
<span id="cb23-6"></span>
<span id="cb23-7"># 거리 기반 정렬 (Geo-spatial)</span>
<span id="cb23-8">orderby=geo.distance(location, geography'POINT(-122.131577 47.678581)')</span></code></pre></div>
<p><strong>성능 특성 (1M 문서)</strong><br>
- 정렬 없음 (관련성 순): 평균 50ms<br>
- 단일 필드 정렬: 평균 100ms<br>
- 다중 필드 정렬 (3개): 평균 200ms<br>
- Geo-spatial 정렬: 평균 300-500ms</p>
</section>
</section>
<section id="참고-링크" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="참고-링크"><span class="header-section-number">1.5</span> 참고 링크</h2>
<section id="azure-search-쿼리-아키텍처-및-고급-검색-기능" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="azure-search-쿼리-아키텍처-및-고급-검색-기능"><span class="header-section-number">1.5.1</span> Azure Search 쿼리 아키텍처 및 고급 검색 기능</h3>
<ul>
<li>https://learn.microsoft.com/en-us/azure/search/search-lucene-query-architecture<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-filters<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-query-understand-collection-filters<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-pagination-page-layout<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/semantic-answers</li>
</ul>


</section>
</section>
</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Search</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/27-az-ai-search-classic-bm25.html</guid>
  <pubDate>Sun, 21 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure Search — Semantic Search 및 Hybrid Search 개요</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/28-az-ai-search-classic-semantic.html</link>
  <description><![CDATA[ 





<section id="full-text-serach" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Full text serach</h1>
<ul>
<li>Azure Search 쿼리 아키텍처 및 고급 검색 기능 분석</li>
</ul>
<section id="검색-알고리즘-유형-간단-정리" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="검색-알고리즘-유형-간단-정리"><span class="header-section-number">1.1</span> 검색 알고리즘 유형 간단 정리</h2>
<ul>
<li>BM25: 역색인과 용어 통계(TF/IDF 계열)를 사용해 키워드 매칭 기반으로 점수를 매긴다. 빠르고 해석 가능하며 후보 검색(initial retrieval)에 적합하다.<br>
</li>
<li>Vector Search: 문서와 쿼리를 고차원 벡터로 임베딩한 뒤 벡터 유사도(예: 코사인, L2)로 근접 이웃을 찾는다. 의미적 유사성(동의어, 패러프레이즈)을 잘 잡아낸다.<br>
</li>
<li>Semantic Search: Vector Search 또는 Transformer 기반 reranker를 포함하는 상위 개념으로, 의미적 이해를 활용해 결과를 재정렬하거나 직접 답변을 생성한다.<br>
</li>
<li>실무적 조합: 보통은 BM25로 넓게 후보를 뽑고(cheap), 그 중에서 vector/semantic로 정밀 평가한다 — 성능/비용 균형을 맞추는 표준 패턴.<br>
</li>
<li>장단점 비교: BM25는 저비용·저지연·해석 가능, vector는 의미성↑·비용↑·지연↑(특히 reranker 사용 시).</li>
</ul>
</section>
<section id="semantic-search-및-semantic-answers" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="semantic-search-및-semantic-answers"><span class="header-section-number">1.2</span> Semantic Search 및 Semantic Answers</h2>
<section id="semantic-search-아키텍처" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="semantic-search-아키텍처"><span class="header-section-number">1.2.1</span> Semantic Search 아키텍처</h3>
<p><strong>기존 검색 vs Semantic Search</strong></p>
<pre><code>Traditional (BM25):
Query → Token matching → TF-IDF/BM25 → Ranking

Semantic (Deep Learning):
Query → L2 Semantic Reranking → Top-K → Semantic Ranking
  ↓
Pretrained Transformer (BERT-based)
  ↓
Contextual understanding</code></pre>
<p><strong>처리 플로우</strong></p>
<pre><code>1. Initial Retrieval (BM25): Top 50 results
   ↓
2. Semantic Reranking (ML model): Rescore top 50
   ↓
3. Final Ranking: Return top 10-50 (user requested)
   ↓
4. Semantic Captions: Extract relevant snippets
   ↓
5. Semantic Answers: Generate direct answers (optional)</code></pre>
</section>
<section id="semantic-configuration" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="semantic-configuration"><span class="header-section-number">1.2.2</span> Semantic Configuration</h3>
<p><strong>쿼리 요청</strong></p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb3-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"how to optimize azure search performance"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semanticConfiguration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-semantic-config"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"answers"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|count-3"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"captions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|highlight-true"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb3-7">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb3-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>Semantic Configuration 정의 (인덱스 스키마)</strong></p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"configurations"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-4">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-5">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-semantic-config"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-6">        <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"prioritizedFields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-7">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"titleField"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb4-8">            <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title"</span></span>
<span id="cb4-9">          <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb4-10">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"prioritizedContentFields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-11">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"content"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-12">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"description"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-13">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb4-14">          <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"prioritizedKeywordsFields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb4-15">            <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fieldName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tags"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-16">          <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-17">        <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-18">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-19">    <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb4-20">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb4-21"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>필드 우선순위</strong><br>
- Title Field: 가장 높은 가중치 (문서 제목)<br>
- Content Fields: 주요 콘텐츠 (최대 5개)<br>
- Keywords Fields: 메타데이터, 태그 (최대 5개)</p>
</section>
<section id="semantic-answers-추출적-답변" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="semantic-answers-추출적-답변"><span class="header-section-number">1.2.3</span> Semantic Answers (추출적 답변)</h3>
<p><strong>Answers 생성 메커니즘</strong><br>
1. 쿼리와 문서 간 의미론적 유사도 계산<br>
2. 고밀도 답변 후보 구간 식별 (span detection)<br>
3. 답변 품질 스코어링 (0.0-1.0)<br>
4. 상위 N개 답변 추출</p>
<p><strong>Answers vs Captions</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>특성</th>
<th>Answers</th>
<th>Captions</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>목적</td>
<td>직접 답변 (QA)</td>
<td>관련 컨텍스트</td>
</tr>
<tr class="even">
<td>길이</td>
<td>짧음 (1-3 문장)</td>
<td>중간 (단락 수준)</td>
</tr>
<tr class="odd">
<td>개수</td>
<td>쿼리당 1-5개</td>
<td>문서당 1-5개</td>
</tr>
<tr class="even">
<td>점수</td>
<td>Answer score (0-1)</td>
<td>Relevance score</td>
</tr>
</tbody>
</table>
</section>
<section id="성능-및-비용" class="level3" data-number="1.2.4">
<h3 data-number="1.2.4" class="anchored" data-anchor-id="성능-및-비용"><span class="header-section-number">1.2.4</span> 성능 및 비용</h3>
<p><strong>처리 시간 (Microsoft 벤치마크)</strong><br>
- BM25 only: 평균 50ms<br>
- Semantic reranking: 평균 200-400ms (+4-8배)<br>
- Answers 생성: 추가 +50-100ms</p>
<p><strong>비용 구조 (2024년 기준)</strong><br>
- Semantic Search: Standard 티어 필수<br>
- 월 고정 비용: $500-$1,000 (쿼리 볼륨 무관)<br>
- 쿼리당 과금: 추가 비용 없음 (월 할당량 소진 후 제한)</p>
<p><strong>할당량 (Standard S1)</strong><br>
- 월 1,000개 쿼리 포함<br>
- 초과 시: 월 단위 패키지 구매 필요</p>
<p><strong>사용 권장 시나리오</strong><br>
- 자연어 질문 (QA 스타일)<br>
- 긴 문서 검색 (논문, 기술 문서)<br>
- 낮은-중간 쿼리 볼륨 (&lt;10K/month)</p>
<p><strong>비권장 시나리오</strong><br>
- 키워드 정합 검색 (제품명, ID)<br>
- 고처리량 시스템 (&gt;100K queries/month)<br>
- 실시간 오토컴플리트</p>
</section>
<section id="semantic-ranking-정확도" class="level3" data-number="1.2.5">
<h3 data-number="1.2.5" class="anchored" data-anchor-id="semantic-ranking-정확도"><span class="header-section-number">1.2.5</span> Semantic Ranking 정확도</h3>
<p><strong>실증 평가 (MS MARCO 데이터셋)</strong><br>
- BM25 baseline: MRR@10 = 0.18<br>
- Semantic Search: MRR@10 = 0.31 (+72% 향상)<br>
- NDCG@10: 0.42 → 0.58 (+38% 향상)</p>
<p><strong>도메인별 성능</strong><br>
- Technical Q&amp;A: +60-80% (의미론적 이해 중요)<br>
- E-commerce: +20-40% (키워드 매칭 여전히 중요)<br>
- News/Media: +40-60% (컨텍스트 이해 필요)</p>
<p><strong>제약사항</strong><br>
- 언어 지원: 영어, 프랑스어, 스페인어, 독일어, 이탈리아어, 포르투갈어, 중국어, 일본어, 한국어 (2024년 기준)<br>
- 쿼리 길이 제한: 최대 1,000 characters<br>
- 문서 크기: 최대 256KB per document</p>
</section>
</section>
<section id="하이브리드-쿼리-패턴" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="하이브리드-쿼리-패턴"><span class="header-section-number">1.3</span> 하이브리드 쿼리 패턴</h2>
<section id="filter-search-vector" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="filter-search-vector"><span class="header-section-number">1.3.1</span> Filter + Search + Vector</h3>
<p><strong>완전한 하이브리드 쿼리</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure ai"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"category eq 'Technology' and publishDate ge 2023-01-01"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb5-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">.</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-8">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span></span>
<span id="cb5-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb5-10">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-11">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-12">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semanticConfiguration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"default"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-13">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span>
<span id="cb5-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>실행 순서</strong></p>
<pre><code>1. Filter: Reduce candidate set (bitset operation)
   ↓
2. Text Search (BM25): Score candidates
   ↓
3. Vector Search (HNSW): Score candidates
   ↓
4. RRF Fusion: Combine text + vector scores
   ↓
5. Semantic Reranking: Refine top 50 (optional)
   ↓
6. Final Top-K: Return results</code></pre>
<p><strong>RRF (Reciprocal Rank Fusion) 공식</strong></p>
<p><img src="https://latex.codecogs.com/png.latex?%5Ctext%7BRRF%7D_%7B%5Ctext%7Bcombined%7D%7D(d)%20=%20%5Csum_%7Br%20%5Cin%20%5C%7Br_%7B%5Ctext%7Btext%7D%7D,%20r_%7B%5Ctext%7Bvector%7D%7D%5C%7D%7D%20%5Cfrac%7B1%7D%7Bk%20+%20%5Ctext%7Brank%7D_r(d)%7D"></p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?k">: 상수 (Azure Search 기본값: 60)<br>
</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Ctext%7Brank%7D_r(d)">: 랭킹 <img src="https://latex.codecogs.com/png.latex?r">에서 문서 <img src="https://latex.codecogs.com/png.latex?d">의 순위</li>
</ul>
</section>
<section id="성능-최적화-체크리스트" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="성능-최적화-체크리스트"><span class="header-section-number">1.3.2</span> 성능 최적화 체크리스트</h3>
<p><strong>쿼리 레벨</strong><br>
1. Filter first: 선택도 높은 필터 우선 적용<br>
2. Top-K 최소화: 필요한 만큼만 요청 (기본값: 50)<br>
3. Select 사용: 불필요한 필드 제외<br>
4. Count 조건부 사용: 페이지네이션에만 필요 시 활성화</p>
<p><strong>인덱스 레벨</strong><br>
1. Scoring Profile 최적화: 불필요한 가중치 제거<br>
2. Analyzer 선택: 언어별 최적 analyzer 사용<br>
3. Filterable/Sortable: 필요한 필드만 활성화 (인덱스 크기 영향)</p>
<p><strong>벤치마크 (1M 문서, 최적화 전후)</strong><br>
- 최적화 전: 평균 500ms (filter + search + semantic)<br>
- 최적화 후: 평균 150ms (-70% 개선)<br>
- Filter optimization: -200ms<br>
- Select fields: -100ms<br>
- Top-K reduction: -50ms</p>
</section>
</section>
<section id="실무-쿼리-패턴-예시" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="실무-쿼리-패턴-예시"><span class="header-section-number">1.4</span> 실무 쿼리 패턴 예시</h2>
<section id="e-commerce-제품-검색" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="e-commerce-제품-검색"><span class="header-section-number">1.4.1</span> E-commerce 제품 검색</h3>
<p><strong>시나리오</strong>: 사용자가 “wireless headphones under $100”를 검색</p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"wireless headphones"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"price le 100 and category eq 'Electronics' and inStock eq true"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"orderby"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rating desc, price asc"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"facets"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"brand"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"price,interval:25"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"rating"</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"select"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"name,brand,price,rating,imageUrl"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-7">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"highlight"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"name,description"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-8">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span></span>
<span id="cb7-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="기술-문서-qa-시스템" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="기술-문서-qa-시스템"><span class="header-section-number">1.4.2</span> 기술 문서 QA 시스템</h3>
<p><strong>시나리오</strong>: “How to configure Azure Search security?”</p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"configure security azure search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"queryType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"semanticConfiguration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"docs-semantic"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"answers"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|count-3"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"captions"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"extractive|highlight-true"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-7">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"documentType eq 'Tutorial' or documentType eq 'Guide'"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-8">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vectorQueries"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span></span>
<span id="cb8-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb8-10">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"vector"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-11">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"k"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">50</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-12">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"fields"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"contentVector"</span></span>
<span id="cb8-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb8-14">  <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb8-15">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"top"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb8-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="멀티-테넌트-필터링" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="멀티-테넌트-필터링"><span class="header-section-number">1.4.3</span> 멀티 테넌트 필터링</h3>
<p><strong>시나리오</strong>: 테넌트별 데이터 격리</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb9-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"search"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"project status"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"filter"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tenantId eq 'tenant-abc-123' and security.viewPermissions/any(p: p eq 'user-xyz')"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"select"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"title,status,assignee,tenantId"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"orderby"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lastModified desc"</span></span>
<span id="cb9-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>보안 고려사항</strong><br>
- 클라이언트에서 <code>tenantId</code> 검증 필수<br>
- API key 대신 Managed Identity 권장<br>
- Row-level security (필터 기반) vs Index-level security</p>
</section>
</section>
<section id="증거의-강도-및-한계" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="증거의-강도-및-한계"><span class="header-section-number">1.5</span> 증거의 강도 및 한계</h2>
<section id="증거-출처" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="증거-출처"><span class="header-section-number">1.5.1</span> 증거 출처</h3>
<ul>
<li>Microsoft Learn 공식 문서: Lucene 쿼리 구문, API 명세<br>
</li>
<li>Apache Lucene 공식 문서: BM25 알고리즘 상세<br>
</li>
<li>MS MARCO 벤치마크: Semantic Search 정확도 평가 (Microsoft Research, 2023)<br>
</li>
<li>성능 수치: Azure Search 공식 벤치마크 및 커뮤니티 테스트</li>
</ul>
</section>
<section id="한계점" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="한계점"><span class="header-section-number">1.5.2</span> 한계점</h3>
<ul>
<li>성능 수치 변동성: 인덱스 크기, 하드웨어 티어, 동시 쿼리 수에 따라 ±50% 변동<br>
</li>
<li>Semantic Search 정확도: 데이터셋마다 다름 (MS MARCO 기준이 모든 도메인에 일반화되지 않음)<br>
</li>
<li>비용 예측: Semantic Search 할당량 소진 속도는 쿼리 복잡도에 의존<br>
</li>
<li>Filter 성능: Collection 필터 (<code>any/all</code>)는 컬렉션 크기에 선형 비례 (공식 문서에 구체적 제약 미명시)</li>
</ul>
</section>
<section id="대안-기술" class="level3" data-number="1.5.3">
<h3 data-number="1.5.3" class="anchored" data-anchor-id="대안-기술"><span class="header-section-number">1.5.3</span> 대안 기술</h3>
<p><strong>Elasticsearch</strong><br>
- 더 유연한 쿼리 DSL<br>
- 플러그인 생태계 풍부<br>
- Self-managed 인프라 필요</p>
<p><strong>Solr</strong><br>
- 강력한 Faceting 기능<br>
- Enterprise Search 기능<br>
- 설정 복잡도 높음</p>
<p><strong>Azure 통합 장점</strong><br>
- Managed service (운영 오버헤드 제거)<br>
- Azure OpenAI, Cognitive Services 네이티브 통합<br>
- Semantic Search (BERT 기반) 기본 제공</p>
</section>
</section>
<section id="불확실성-영역" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="불확실성-영역"><span class="header-section-number">1.6</span> 불확실성 영역</h2>
<ul>
<li>Deep Pagination 성능: <code>skip &gt; 100K</code> 시나리오는 공식적으로 차단되어 실제 성능 미측정<br>
</li>
<li>Semantic Search 내부 모델: 정확한 모델 아키텍처 (BERT variant, 파라미터 수) 비공개<br>
</li>
<li>Filter 캐시 정책: 캐시 eviction 전략 및 메모리 할당 세부사항 불명확<br>
</li>
<li>Collection 필터 최적화: Azure가 내부적으로 인덱스를 어떻게 최적화하는지 불명확 (bitmap index 사용 여부 등)</li>
</ul>
</section>
<section id="권장-아키텍처-의사결정-트리" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="권장-아키텍처-의사결정-트리"><span class="header-section-number">1.7</span> 권장 아키텍처 의사결정 트리</h2>
<section id="쿼리-전략-선택" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="쿼리-전략-선택"><span class="header-section-number">1.7.1</span> 쿼리 전략 선택</h3>
<pre><code>쿼리 유형?
├─ 키워드 정합 (제품 ID, 정확한 매칭)
│  └─ Filter only (no search)
│
├─ 자연어 질문 (QA 스타일)
│  └─ Semantic Search + Answers
│     └─ 쿼리 볼륨?
│        ├─ 낮음 (&lt;10K/month) → Semantic enabled
│        └─ 높음 (&gt;10K/month) → Hybrid (BM25 + Vector)
│
└─ 일반 검색 (e-commerce, 문서)
   └─ 사용자 유형?
      ├─ 일반 사용자 → Simple query + Facets
      └─ 고급 사용자 → Full Lucene syntax</code></pre>
</section>
</section>
<section id="참고-링크" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="참고-링크"><span class="header-section-number">1.8</span> 참고 링크</h2>
<section id="azure-search-쿼리-아키텍처-및-고급-검색-기능" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="azure-search-쿼리-아키텍처-및-고급-검색-기능"><span class="header-section-number">1.8.1</span> Azure Search 쿼리 아키텍처 및 고급 검색 기능</h3>
<ul>
<li>https://learn.microsoft.com/en-us/azure/search/search-lucene-query-architecture<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-filters<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-query-understand-collection-filters<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-pagination-page-layout<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/semantic-answers</li>
</ul>


</section>
</section>
</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Search</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/28-az-ai-search-classic-semantic.html</guid>
  <pubDate>Sun, 21 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure AI Search 지역 지원 및 계층 선택</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/26-az-ai-search-classic-search.html</link>
  <description><![CDATA[ 





<section id="indexs" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Indexs</h1>
<p>요약: Azure AI Search의 인덱스 및 벡터 검색 핵심 개념과 실무 패턴을 간결히 정리한다.</p>
<section id="index-구조" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="index-구조"><span class="header-section-number">1.1</span> Index 구조</h2>
<p>인덱스는 문서 스키마, 필드 속성, analyzer, scoring 설정을 포함한다.</p>
<ul>
<li><code>key</code> 필드는 문서 식별에 필수이며, 각 필드는 <code>searchable</code>, <code>filterable</code>, <code>sortable</code>, <code>facetable</code> 속성을 가질 수 있다.<br>
</li>
<li>복합 필드와 컬렉션 타입을 활용해 구조화된 문서 표현을 설계한다.</li>
</ul>
<p>설계 원칙: 최소한의 스키마로 시작해 사용 패턴에 따라 확장하고, 불필요한 벡터 필드는 배제한다.</p>
</section>
<section id="vector-store-핵심" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="vector-store-핵심"><span class="header-section-number">1.2</span> Vector Store 핵심</h2>
<p>Azure는 HNSW 기반 ANN으로 고속 근사 검색을 제공하며, 벡터 필드는 <code>Collection(Edm.Single)</code>으로 저장한다.</p>
<ul>
<li>주요 파라미터: <code>m</code>, <code>efConstruction</code>, <code>efSearch</code>.<br>
</li>
<li>트레이드오프: 정확도 vs 메모리 vs 지연.</li>
</ul>
<p>간단한 규칙: 프로토타입은 낮은 설정, 프로덕션은 균형 또는 고정확도 설정 사용.</p>
</section>
<section id="query와-유사도" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="query와-유사도"><span class="header-section-number">1.3</span> Query와 유사도</h2>
<ul>
<li>벡터 쿼리는 임베딩 입력과 <code>k</code>를 받아 k-NN을 반환한다.<br>
</li>
<li>Cosine이 텍스트 유사도에 일반적이며, L2는 거리 기반, dot product는 특수 모델에서 사용한다.</li>
</ul>
<p>멀티벡터 쿼리에서 필드별 가중치로 결합해 멀티모달 결과를 생성할 수 있다.</p>
</section>
<section id="hybrid-search-요약" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="hybrid-search-요약"><span class="header-section-number">1.4</span> Hybrid Search 요약</h2>
<p>BM25 텍스트 검색과 벡터 검색을 결합하면 검색 품질이 개선된다.</p>
<ul>
<li>RRF 또는 가중치 혼합을 사용해 순위를 통합한다.<br>
</li>
<li>실무에서는 하이브리드가 다양한 질의 유형에서 안정적 성능을 제공한다.</li>
</ul>
</section>
<section id="filtering-전략-간단-가이드" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="filtering-전략-간단-가이드"><span class="header-section-number">1.5</span> Filtering 전략 (간단 가이드)</h2>
<ul>
<li><code>preFilter</code>: 필터 먼저 적용 → 후보군 축소 → 벡터 검색 (정확도 우수)<br>
</li>
<li><code>postFilter</code>: 벡터 먼저 → 후보 필터링 (지연 적음, k 보장 불가)<br>
</li>
<li>자동 모드: Azure 휴리스틱으로 선택 (일반 권장)</li>
</ul>
<p>실무 권장: 엄격한 필터는 <code>preFilter</code>, 최소 지연이면 <code>postFilter</code>, 일반적은 자동.</p>
</section>
<section id="vectorizer-통합" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="vectorizer-통합"><span class="header-section-number">1.6</span> Vectorizer 통합</h2>
<ul>
<li>인덱싱 시 또는 쿼리 시 임베딩을 생성할 수 있다.<br>
</li>
<li>인덱싱 시 벡터 일관성 보장, 쿼리 시는 클라이언트 단순화 대신 지연 증가.</li>
</ul>
<p>지원: Azure OpenAI 배포, Vision 서비스, 커스텀 Web API.</p>
</section>
<section id="skillset-및-ai-enrichment" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="skillset-및-ai-enrichment"><span class="header-section-number">1.7</span> Skillset 및 AI Enrichment</h2>
<ul>
<li>Skillset은 OCR, NER, 임베딩 생성 등 AI 변환을 파이프라인에 통합한다.<br>
</li>
<li>대규모 처리 시 비용과 지연을 고려해 배치 및 병렬화를 설계한다.</li>
</ul>
<p>권장: 비용-성능 트레이드오프를 검증한 후 프로덕션에 적용.</p>
</section>
<section id="multi-vector-설계-원칙" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="multi-vector-설계-원칙"><span class="header-section-number">1.8</span> Multi-Vector 설계 원칙</h2>
<ul>
<li>서로 다른 표현(제목/본문/요약/이미지)을 분리된 벡터 필드로 보관하고, 필요 시 가중치로 결합한다.<br>
</li>
<li>메모리 계산은 문서 수 × 차원 × 4바이트 × 오버헤드로 산정한다.</li>
</ul>
<p>권장: 차원 축소 및 저장 대상 최소화로 비용 절감.</p>
</section>
<section id="인덱싱-및-처리량" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="인덱싱-및-처리량"><span class="header-section-number">1.9</span> 인덱싱 및 처리량</h2>
<ul>
<li>배치 크기: 보통 100~500 권장, 티어와 메모리에 따라 조정.<br>
</li>
<li>증분 인덱싱: High Water Mark 또는 타임스탬프 기반 변경 감지로 비용 절감.</li>
</ul>
<p>티어 예시: Standard S1은 중간 규모 워크로드에 적합하나 대규모는 상위 티어 고려.</p>
</section>
<section id="데이터-수집-방식-비교" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="데이터-수집-방식-비교"><span class="header-section-number">1.10</span> 데이터 수집 방식 비교</h2>
<ul>
<li>Indexer: 대규모 배치, AI enrichment에 적합.<br>
</li>
<li>Push API: 실시간·고처리량 요구에 적합.<br>
</li>
<li>Logic Apps: 이벤트 기반 통합, Low-code 시나리오 적합.</li>
</ul>
</section>
<section id="rag요약" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="rag요약"><span class="header-section-number">1.11</span> RAG(요약)</h2>
<ul>
<li>흐름: 쿼리 임베딩 → 검색 → 융합 → LLM 응답.<br>
</li>
<li>최적화: 임베딩 캐시, 검색·재랭킹, context window 관리.</li>
</ul>
<p>엔드투엔드 지연: 검색(수십 ms) + LLM(수백~수천 ms).</p>
</section>
<section id="멀티테넌시-권장" class="level2" data-number="1.12">
<h2 data-number="1.12" class="anchored" data-anchor-id="멀티테넌시-권장"><span class="header-section-number">1.12</span> 멀티테넌시 권장</h2>
<ul>
<li>소수 테넌트: 인덱스 분리 권장.<br>
</li>
<li>다수 테넌트: 통합 인덱스 + 필터 또는 하이브리드 전략 권장.</li>
</ul>
</section>
<section id="실시간-업데이트" class="level2" data-number="1.13">
<h2 data-number="1.13" class="anchored" data-anchor-id="실시간-업데이트"><span class="header-section-number">1.13</span> 실시간 업데이트</h2>
<ul>
<li><code>mergeOrUpload</code>로 부분 업데이트를 적용하고 임베딩을 재생성해 업로드한다.<br>
</li>
<li>일관성은 eventual이며 반영 지연이 발생할 수 있다.</li>
</ul>
</section>
<section id="성능-튜닝-요약" class="level2" data-number="1.14">
<h2 data-number="1.14" class="anchored" data-anchor-id="성능-튜닝-요약"><span class="header-section-number">1.14</span> 성능 튜닝 요약</h2>
<ul>
<li>고처리량: <code>m</code> 낮추기, <code>ef*</code> 낮춤, 캐시 활용.<br>
</li>
<li>고정확도: <code>m</code>, <code>ef*</code> 증가, 차원 증가, semantic reranking 추가.</li>
</ul>
</section>
<section id="비용-최적화-요약" class="level2" data-number="1.15">
<h2 data-number="1.15" class="anchored" data-anchor-id="비용-최적화-요약"><span class="header-section-number">1.15</span> 비용 최적화 요약</h2>
<ul>
<li>임베딩 모델 선택과 차원 설정이 비용에 큰 영향.<br>
</li>
<li>불필요한 벡터 저장 방지, 압축·차원 축소 권장.</li>
</ul>
</section>
<section id="한계와-불확실성" class="level2" data-number="1.16">
<h2 data-number="1.16" class="anchored" data-anchor-id="한계와-불확실성"><span class="header-section-number">1.16</span> 한계와 불확실성</h2>
<ul>
<li>100M+ 스케일의 실무 데이터는 파티셔닝·샤딩 전략 검증 필요.<br>
</li>
<li>Azure 내부 휴리스틱은 상세 비공개이므로 실무 테스트 권장.</li>
</ul>
</section>
<section id="결론적-의사결정-포인트" class="level2" data-number="1.17">
<h2 data-number="1.17" class="anchored" data-anchor-id="결론적-의사결정-포인트"><span class="header-section-number">1.17</span> 결론적 의사결정 포인트</h2>
<ul>
<li>키워드 중심이면 BM25 우선, 의미 중심이면 Vector 도입.<br>
</li>
<li>인덱스 크기와 SLA에 따라 pre/post 필터 선택 및 HNSW 튜닝 결정.</li>
</ul>
</section>
<section id="references" class="level2" data-number="1.18">
<h2 data-number="1.18" class="anchored" data-anchor-id="references"><span class="header-section-number">1.18</span> References</h2>
<ul>
<li>Microsoft Learn - Vector Search overview: https://learn.microsoft.com/en-us/azure/search/vector-search-overview<br>
</li>
<li>Microsoft Learn - How to query with vector search: https://learn.microsoft.com/en-us/azure/search/vector-search-how-to-query<br>
</li>
<li>Microsoft Learn - Vector search filters: https://learn.microsoft.com/en-us/azure/search/vector-search-filters<br>
</li>
<li>Microsoft Learn - Configure vectorizers: https://learn.microsoft.com/en-us/azure/search/vector-search-how-to-configure-vectorizer<br>
</li>
<li>Microsoft Learn - Multi-vector fields: https://learn.microsoft.com/en-us/azure/search/vector-search-multi-vector-fields<br>
</li>
<li>Malkov, Y. &amp; Yashunin, D. (2018). Efficient and robust ANN search using HNSW.<br>
</li>
<li>MTEB benchmark: https://huggingface.co/spaces/mteb/leaderboard<br>
</li>
<li>컬럼에 인덱스 생성 (DB 레벨)<br>
</li>
<li>파티셔닝 고려 (시간 기반 파티션)</li>
</ul>
<p><strong>실증 데이터 (Azure SQL Database 기준)</strong><br>
- 1M 행 전체 스캔: 약 5-10분<br>
- High Water Mark 사용 시 (1% 변경): 약 30초<br>
- 약 10-20배 성능 향상</p>
<section id="오류-처리-및-재시도" class="level3" data-number="1.18.1">
<h3 data-number="1.18.1" class="anchored" data-anchor-id="오류-처리-및-재시도"><span class="header-section-number">1.18.1</span> 오류 처리 및 재시도</h3>
<p><strong>Indexer 오류 처리</strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"parameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"maxFailedItems"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"maxFailedItemsPerBatch"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"configuration"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb1-6">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"failOnUnsupportedContentType"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">false</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb1-7">      <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"failOnUnprocessableDocument"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">false</span></span>
<span id="cb1-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb1-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>재시도 전략 (Microsoft 권장사항)</strong><br>
- 일시적 오류: 지수 백오프 (exponential backoff)<br>
- 영구적 오류: 오류 로그 기록 후 건너뛰기<br>
- 모니터링: Azure Monitor 통합 (실패율 알림)</p>
</section>
</section>
<section id="실무-고려사항" class="level2" data-number="1.19">
<h2 data-number="1.19" class="anchored" data-anchor-id="실무-고려사항"><span class="header-section-number">1.19</span> 실무 고려사항</h2>
<section id="비용-최적화" class="level3" data-number="1.19.1">
<h3 data-number="1.19.1" class="anchored" data-anchor-id="비용-최적화"><span class="header-section-number">1.19.1</span> 비용 최적화</h3>
<p><strong>Indexer 비용 구조</strong><br>
- 실행 시간 기반 과금 (compute units)<br>
- Skillset 사용 시 AI enrichment 추가 비용<br>
- 데이터 전송 비용 (다른 리전 간)</p>
<p><strong>최적화 기법</strong><br>
- 스케줄 최적화: 변경 빈도에 맞춘 실행 간격<br>
- 필드 선택: 필요한 필드만 인덱싱<br>
- 배치 크기 조정: 네트워크 대역폭과 메모리 균형</p>
<p><strong>예시 계산 (Standard S1, 1M 문서)</strong><br>
- 전체 인덱싱: 월 1회 → 약 $50-$100<br>
- 증분 인덱싱: 일 1회 (1% 변경) → 약 $150-$200<br>
- AI Enrichment 포함: 추가 $500-$1,000</p>
</section>
<section id="보안-및-접근-제어" class="level3" data-number="1.19.2">
<h3 data-number="1.19.2" class="anchored" data-anchor-id="보안-및-접근-제어"><span class="header-section-number">1.19.2</span> 보안 및 접근 제어</h3>
<p><strong>Managed Identity 사용 (권장)</strong></p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"dataSourceName"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-blob-datasource"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"credentials"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"connectionString"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">null</span></span>
<span id="cb2-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">},</span></span>
<span id="cb2-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"identity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb2-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@odata.type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#Microsoft.Azure.Search.DataUserAssignedIdentity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb2-8">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"userAssignedIdentity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/subscriptions/.../resourceGroups/.../providers/Microsoft.ManagedIdentity/userAssignedIdentities/..."</span></span>
<span id="cb2-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb2-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>장점</strong><br>
- 연결 문자열 노출 방지<br>
- Azure RBAC 통합<br>
- 자동 토큰 갱신</p>
</section>
</section>
<section id="증거의-강도-및-한계" class="level2" data-number="1.20">
<h2 data-number="1.20" class="anchored" data-anchor-id="증거의-강도-및-한계"><span class="header-section-number">1.20</span> 증거의 강도 및 한계</h2>
<section id="증거-출처" class="level3" data-number="1.20.1">
<h3 data-number="1.20.1" class="anchored" data-anchor-id="증거-출처"><span class="header-section-number">1.20.1</span> 증거 출처</h3>
<ul>
<li>Microsoft Learn 공식 문서: Indexer API 명세, 아키텍처 설계<br>
</li>
<li>Azure 가격 계산기: 비용 추정 데이터<br>
</li>
<li>성능 수치는 Microsoft 공개 벤치마크 및 커뮤니티 사례 기반</li>
</ul>
</section>
<section id="한계점" class="level3" data-number="1.20.2">
<h3 data-number="1.20.2" class="anchored" data-anchor-id="한계점"><span class="header-section-number">1.20.2</span> 한계점</h3>
<ul>
<li>실제 성능 변동성: 데이터 복잡도, 네트워크 지연, 동시 사용자에 따라 ±30% 변동<br>
</li>
<li>AI Enrichment 정확도: OCR 정확도는 이미지 품질에 따라 70-98% 범위<br>
</li>
<li>최신 기능: SharePoint, MySQL 커넥터는 Preview 단계 (SLA 미보장)</li>
</ul>
</section>
<section id="대안-기술" class="level3" data-number="1.20.3">
<h3 data-number="1.20.3" class="anchored" data-anchor-id="대안-기술"><span class="header-section-number">1.20.3</span> 대안 기술</h3>
<p><strong>Apache NiFi / Apache Airflow</strong><br>
- 더 복잡한 ETL 파이프라인<br>
- 멀티 클라우드 지원<br>
- 학습 곡선 높음</p>
<p><strong>Azure Data Factory</strong><br>
- 대규모 데이터 이동 (TB-PB)<br>
- Azure Search 커넥터 제한적<br>
- 배치 처리에 최적화</p>
</section>
</section>
<section id="불확실성-영역" class="level2" data-number="1.21">
<h2 data-number="1.21" class="anchored" data-anchor-id="불확실성-영역"><span class="header-section-number">1.21</span> 불확실성 영역</h2>
<ul>
<li>Logic Apps 성능 한계: 공식 문서에 구체적 처리량 상한선 명시 부족<br>
</li>
<li>Skillset 비용 예측: 실제 사용량은 데이터 특성에 따라 크게 변동<br>
</li>
<li>최신 커넥터 안정성: Preview 단계 커넥터의 프로덕션 준비 상태 불명확</li>
</ul>
</section>
<section id="권장-의사결정-프레임워크" class="level2" data-number="1.22">
<h2 data-number="1.22" class="anchored" data-anchor-id="권장-의사결정-프레임워크"><span class="header-section-number">1.22</span> 권장 의사결정 프레임워크</h2>
<p><strong>데이터 수집 방식 선택 플로우차트</strong></p>
<pre><code>데이터 소스 유형?
├─ Azure 네이티브 (Blob, SQL, Cosmos) 
│  └─ AI Enrichment 필요?
│     ├─ Yes → Indexer + Skillset
│     └─ No → 데이터 변경 빈도?
│        ├─ 실시간 (&lt;1분) → Push API
│        └─ 배치 (&gt;5분) → Indexer
│
└─ 외부 시스템 / 커스텀 로직
   └─ 처리량?
      ├─ 낮음 (&lt;100 docs/sec) → Logic Apps
      └─ 높음 (&gt;100 docs/sec) → 커스텀 Push API</code></pre>
</section>
</section>
<section id="skillsets-ai-enrichment" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Skillsets (AI Enrichment)</h1>
<section id="ai-enrichment-핵심-아키텍처" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="ai-enrichment-핵심-아키텍처"><span class="header-section-number">2.1</span> AI Enrichment 핵심 아키텍처</h2>
<section id="enrichment-pipeline-구조" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="enrichment-pipeline-구조"><span class="header-section-number">2.1.1</span> Enrichment Pipeline 구조</h3>
<p><strong>처리 플로우</strong></p>
<pre><code>Raw Documents → Document Cracking → Skillset Execution → Index Projection
      ↓                ↓                    ↓                    ↓
   (Blob/PDF)    (Text Extraction)   (AI Processing)      (Search Index)
                                            ↓
                                    Knowledge Store (optional)</code></pre>
<p><strong>Document Cracking (문서 해체)</strong><br>
- 지원 형식: PDF, Word, Excel, PowerPoint, HTML, JSON, XML, CSV, 이미지 (15+ 형식)<br>
- 자동 메타데이터 추출: <code>metadata_storage_name</code>, <code>metadata_content_type</code>, <code>metadata_creation_date</code><br>
- 텍스트 추출 엔진: Tika 기반 (Apache Tika)</p>
<p><strong>처리량 (Microsoft 벤치마크)</strong><br>
- PDF (텍스트 기반): 페이지당 평균 50-100ms<br>
- PDF (이미지 기반, OCR 필요): 페이지당 평균 2-3초<br>
- Office 문서: 페이지당 평균 100-200ms</p>
</section>
<section id="skillset-정의-및-구성" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="skillset-정의-및-구성"><span class="header-section-number">2.1.2</span> Skillset 정의 및 구성</h3>
<p><strong>Context 및 입출력 매핑</strong><br>
- <code>context</code>: 스킬 실행 범위 (document 전체 vs.&nbsp;각 페이지/이미지)<br>
- <code>source</code>: 입력 데이터 경로 (JSON Path 스타일)<br>
- <code>targetName</code>: 출력 데이터 필드명</p>
</section>
</section>
<section id="built-in-cognitive-skills-분류" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="built-in-cognitive-skills-분류"><span class="header-section-number">2.2</span> Built-in Cognitive Skills 분류</h2>
<section id="natural-language-processing-skills" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="natural-language-processing-skills"><span class="header-section-number">2.2.1</span> Natural Language Processing Skills</h3>
<table class="table">
<thead>
<tr class="header">
<th>Skill</th>
<th>기능</th>
<th>지원 언어</th>
<th>평균 처리 시간 (1KB)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>KeyPhraseExtractionSkill</td>
<td>핵심 구문 추출</td>
<td>50+ 언어</td>
<td>50-100ms</td>
</tr>
<tr class="even">
<td>EntityRecognitionSkill</td>
<td>개체명 인식 (NER)</td>
<td>10+ 언어</td>
<td>100-200ms</td>
</tr>
<tr class="odd">
<td>LanguageDetectionSkill</td>
<td>언어 감지</td>
<td>120+ 언어</td>
<td>10-20ms</td>
</tr>
<tr class="even">
<td>SentimentSkill</td>
<td>감정 분석</td>
<td>10+ 언어</td>
<td>100-150ms</td>
</tr>
<tr class="odd">
<td>PIIDetectionSkill</td>
<td>개인정보 감지/마스킹</td>
<td>영어 중심</td>
<td>150-250ms</td>
</tr>
</tbody>
</table>
<p><strong>Entity Recognition 카테고리</strong><br>
- Person, Location, Organization<br>
- DateTime, Quantity, Email, URL<br>
- Product, Event, Skill (Preview)</p>
<p><strong>정확도 벤치마크 (Microsoft 내부 평가, F1-Score)</strong><br>
- Entity Recognition (영어): 0.85-0.92<br>
- Key Phrase Extraction (영어): 0.78-0.85<br>
- Sentiment Analysis (영어): 0.88-0.93</p>
</section>
<section id="vision-skills" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="vision-skills"><span class="header-section-number">2.2.2</span> Vision Skills</h3>
<table class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 15%">
<col style="width: 28%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>Skill</th>
<th>기능</th>
<th>지원 형식</th>
<th>평균 처리 시간</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>OcrSkill</td>
<td>광학 문자 인식</td>
<td>JPG, PNG, BMP, TIFF</td>
<td>2-3초/페이지</td>
</tr>
<tr class="even">
<td>ImageAnalysisSkill</td>
<td>이미지 설명/태그 생성</td>
<td>JPG, PNG, BMP</td>
<td>500-1000ms</td>
</tr>
</tbody>
</table>
<p><strong>OCR 성능 특성</strong><br>
- 지원 언어: 73개 언어 (Read API 3.2 기준)<br>
- 최대 이미지 크기: 50MB<br>
- 정확도: 고품질 스캔 문서 기준 95-98%, 저품질 이미지 70-85%</p>
<p><strong>Read API vs Computer Vision API</strong><br>
- Read API: 문서 중심, 손글씨 지원, 더 높은 정확도<br>
- Computer Vision API: 실시간 처리, 장면 텍스트 최적화</p>
</section>
<section id="custom-skills" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="custom-skills"><span class="header-section-number">2.2.3</span> Custom Skills</h3>
<p><strong>Azure Function 통합</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb5-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"@odata.type"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#Microsoft.Skills.Custom.WebApiSkill"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"uri"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://&lt;function-app&gt;.azurewebsites.net/api/&lt;function&gt;"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"httpMethod"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"POST"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-5">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"timeout"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT30S"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-6">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"batchSize"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-7">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"degreeOfParallelism"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-8">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"inputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb5-9">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"outputs"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">[</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">...</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">]</span></span>
<span id="cb5-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>성능 최적화 파라미터</strong><br>
- <code>batchSize</code>: 단일 요청당 문서 수 (1-1000, 권장: 10-50)<br>
- <code>degreeOfParallelism</code>: 병렬 요청 수 (1-10, 권장: 2-4)<br>
- <code>timeout</code>: 타임아웃 (기본: 30초, 최대: 230초)</p>
<p><strong>실제 사례 (Microsoft 고객 사례)</strong><br>
- 도메인 특화 분류 모델 (Azure ML): 처리 시간 500ms/문서<br>
- 커스텀 NER (BERT 기반): 처리 시간 200-300ms/문서<br>
- 비용: Azure Functions Consumption 기준 $0.20-$0.50 per million executions</p>
</section>
</section>
<section id="integrated-vectorization-아키텍처" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="integrated-vectorization-아키텍처"><span class="header-section-number">2.3</span> Integrated Vectorization 아키텍처</h2>
<section id="개념-및-작동-원리" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="개념-및-작동-원리"><span class="header-section-number">2.3.1</span> 개념 및 작동 원리</h3>
<p>Integrated Vectorization은 인덱싱 파이프라인 내에서 자동으로 텍스트를 벡터로 변환하는 기능입니다 (2023년 11월 GA).</p>
<p><strong>전통적 방식 vs Integrated Vectorization</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>측면</th>
<th>전통적 방식</th>
<th>Integrated Vectorization</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>임베딩 생성</td>
<td>외부에서 사전 생성</td>
<td>인덱싱 시 자동 생성</td>
</tr>
<tr class="even">
<td>코드 복잡도</td>
<td>높음 (별도 파이프라인)</td>
<td>낮음 (선언적 설정)</td>
</tr>
<tr class="odd">
<td>동기화</td>
<td>수동 관리 필요</td>
<td>자동 동기화</td>
</tr>
<tr class="even">
<td>비용</td>
<td>임베딩 API + 스토리지</td>
<td>Azure Search 통합 과금</td>
</tr>
</tbody>
</table>
</section>
<section id="vectorizer-구성" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="vectorizer-구성"><span class="header-section-number">2.3.2</span> Vectorizer 구성</h3>
<p><strong>지원 Vectorizer 종류</strong></p>
<ul>
<li>Azure OpenAI Embeddings: <code>text-embedding-ada-002</code>, <code>text-embedding-3-small</code>, <code>text-embedding-3-large</code>
<ul>
<li>Dimensions: 1536 (ada-002), 512/1536/3072 (embedding-3)<br>
</li>
</ul></li>
<li>Azure AI Vision Multimodal Embeddings: 텍스트 + 이미지 동시 임베딩 (Dimensions: 1024)<br>
</li>
<li>Custom Web API: 커스텀 임베딩 모델 통합</li>
</ul>
<p><strong>Vectorizer 정의 예시</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"name"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"my-vectorizer"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-3">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"kind"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azureOpenAI"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-4">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"azureOpenAIParameters"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb6-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"resourceUri"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"https://&lt;resource&gt;.openai.azure.com"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-6">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"deploymentId"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"text-embedding-ada-002"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-7">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"apiKey"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;api-key&gt;"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb6-8">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"authIdentity"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">null</span></span>
<span id="cb6-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb6-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
</section>
<section id="vectorization-skill" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="vectorization-skill"><span class="header-section-number">2.3.3</span> Vectorization Skill</h3>
<p><strong>처리 특성</strong><br>
- 텍스트 청킹 자동 처리 (OpenAI 토큰 제한: 8191 tokens)<br>
- 배치 처리: 최대 16 documents per request<br>
- Rate limiting: Azure OpenAI 할당량에 의존</p>
</section>
<section id="성능-및-비용-분석" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="성능-및-비용-분석"><span class="header-section-number">2.3.4</span> 성능 및 비용 분석</h3>
<p><strong>임베딩 생성 비용 (Azure OpenAI 기준)</strong><br>
- <code>text-embedding-ada-002</code>: $0.0001 per 1K tokens<br>
- <code>text-embedding-3-small</code>: $0.00002 per 1K tokens<br>
- <code>text-embedding-3-large</code>: $0.00013 per 1K tokens</p>
<p><strong>처리량 제약</strong><br>
- Token per minute (TPM) 제한: 모델 및 할당량에 따라 120K-350K TPM<br>
- 1M 문서 (평균 500 tokens/doc) 인덱싱:<br>
- 처리 시간: 120K TPM 기준 약 35-40분<br>
- 비용: ada-002 기준 약 $50</p>
<p><strong>병목 지점 분석</strong><br>
- Rate Limiting: Azure OpenAI TPM 제한이 주요 병목<br>
- Network Latency: 평균 50-100ms 추가 지연<br>
- Indexer Throttling: 동시 실행 제한 (S1: 3 indexers, S2: 6 indexers)</p>
</section>
</section>
<section id="knowledge-store-통합" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="knowledge-store-통합"><span class="header-section-number">2.4</span> Knowledge Store 통합</h2>
<section id="개념-및-사용-사례" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="개념-및-사용-사례"><span class="header-section-number">2.4.1</span> 개념 및 사용 사례</h3>
<p>Knowledge Store는 AI enrichment 결과를 Azure Storage에 영구 저장하는 기능입니다.</p>
<p><strong>저장 형식</strong><br>
- Object Projections: JSON Blobs (원본 문서 + enrichments)<br>
- File Projections: 이미지, 정규화된 이미지<br>
- Table Projections: Azure Table Storage (구조화된 데이터)</p>
<p><strong>사용 사례</strong><br>
- 데이터 분석 (Power BI, Synapse Analytics 연동)<br>
- ML 학습 데이터셋 구축<br>
- 감사 및 규정 준수 (enrichment 추적)<br>
- 다운스트림 애플리케이션 통합</p>
<p><strong>비용 구조</strong><br>
- Azure Storage: Blob $0.018/GB/month, Table $0.045/GB/month<br>
- 트랜잭션 비용: $0.004 per 10,000 operations<br>
- 1M 문서 (평균 10KB/doc) Knowledge Store: 약 $180-$450/month</p>
</section>
</section>
<section id="skillset-고급-패턴-및-최적화" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="skillset-고급-패턴-및-최적화"><span class="header-section-number">2.5</span> Skillset 고급 패턴 및 최적화</h2>
<section id="incremental-enrichment-증분-처리" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="incremental-enrichment-증분-처리"><span class="header-section-number">2.5.1</span> Incremental Enrichment (증분 처리)</h3>
<p><strong>캐싱 메커니즘 (2020년 GA)</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"cache"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span></span>
<span id="cb7-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"storageConnectionString"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DefaultEndpointsProtocol=https;..."</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb7-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"enableReprocessing"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span></span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb7-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><strong>작동 원리</strong><br>
- 각 스킬 출력을 Blob Storage에 캐싱<br>
- 문서 변경 시 영향받는 스킬만 재실행<br>
- 해시 기반 변경 감지 (content hash)</p>
<p><strong>비용 절감 효과 (Microsoft 사례 연구)</strong><br>
- 초기 인덱싱: 100% 비용<br>
- 10% 문서 변경 시 재인덱싱: 캐싱 미사용 100% vs 캐싱 사용 15-20%<br>
- 스킬 정의 변경 시: 영향받는 스킬 다운스트림만 재실행</p>
<p><strong>제약사항</strong><br>
- 캐시 스토리지 비용 추가 ($0.018/GB/month)<br>
- Custom Web API Skill은 캐싱 미지원 (상태 없는 함수 가정)</p>
</section>
<section id="병렬-처리-및-성능-튜닝" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="병렬-처리-및-성능-튜닝"><span class="header-section-number">2.5.2</span> 병렬 처리 및 성능 튜닝</h3>
<p><strong>최적화 가이드라인</strong></p>
<table class="table">
<colgroup>
<col style="width: 27%">
<col style="width: 24%">
<col style="width: 30%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>파라미터</th>
<th>기본값</th>
<th>권장 범위</th>
<th>영향</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>batchSize</code></td>
<td>50-100</td>
<td>10-1000</td>
<td>메모리 vs 처리량 트레이드오프</td>
</tr>
<tr class="even">
<td><code>degreeOfParallelism</code> (Custom Skill)</td>
<td>1</td>
<td>2-5</td>
<td>API 처리량 vs 부하</td>
</tr>
<tr class="odd">
<td>OCR <code>imageAction</code></td>
<td>none</td>
<td>generateNormalizedImages</td>
<td>이미지 품질 vs 처리 시간</td>
</tr>
</tbody>
</table>
<p><strong>실제 벤치마크 (Standard S2, 100K 문서)</strong><br>
- 기본 설정: 6-8시간<br>
- 최적화 후 (<code>batchSize=500</code>, parallel skills): 2-3시간<br>
- 증분 처리 + 캐싱: 20-30분 (10% 변경 시)</p>
</section>
</section>
<section id="실무-패턴-및-best-practices" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="실무-패턴-및-best-practices"><span class="header-section-number">2.6</span> 실무 패턴 및 Best Practices</h2>
<section id="멀티모달-검색-파이프라인" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="멀티모달-검색-파이프라인"><span class="header-section-number">2.6.1</span> 멀티모달 검색 파이프라인</h3>
<p><strong>처리 플로우</strong><br>
1. OCR로 이미지에서 텍스트 추출<br>
2. 원본 텍스트 + OCR 텍스트 병합<br>
3. 2000자 단위로 청킹 (토큰 제한 고려)<br>
4. 각 청크를 벡터로 변환<br>
5. 인덱스에 페이지 단위로 저장</p>
</section>
<section id="오류-처리-전략" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="오류-처리-전략"><span class="header-section-number">2.6.2</span> 오류 처리 전략</h3>
<p><strong>일반적 오류 및 해결책</strong></p>
<table class="table">
<colgroup>
<col style="width: 38%">
<col style="width: 23%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>오류 유형</th>
<th>원인</th>
<th>해결 방법</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ImageExtractionError</code></td>
<td>손상된 이미지 파일</td>
<td><code>failOnUnsupportedContentType: false</code></td>
</tr>
<tr class="even">
<td><code>OcrTimeoutError</code></td>
<td>대용량 이미지 (&gt;50MB)</td>
<td>이미지 크기 사전 조정</td>
</tr>
<tr class="odd">
<td><code>TokenLimitExceeded</code></td>
<td>텍스트 청킹 부족</td>
<td><code>SplitSkill</code> 추가</td>
</tr>
<tr class="even">
<td><code>RateLimitExceeded</code></td>
<td>Azure OpenAI TPM 초과</td>
<td>Retry policy 설정, 배치 크기 감소</td>
</tr>
</tbody>
</table>
</section>
<section id="비용-최적화-체크리스트" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="비용-최적화-체크리스트"><span class="header-section-number">2.6.3</span> 비용 최적화 체크리스트</h3>
<p><strong>스킬 선택성</strong><br>
- 필요한 스킬만 활성화 (모든 문서에 OCR 불필요)<br>
- 언어별 조건부 실행</p>
<p><strong>임베딩 모델 선택</strong><br>
- <code>text-embedding-3-small</code> vs <code>ada-002</code>: 5배 저렴, 성능 유사<br>
- 차원 축소: 512-dim vs 1536-dim (스토리지 비용 3배 차이)</p>
<p><strong>증분 처리 활용</strong><br>
- 캐싱 활성화 (재처리 비용 80% 절감)<br>
- High Water Mark 기반 변경 감지</p>
<p><strong>배치 크기 최적화</strong><br>
- 네트워크 오버헤드 vs 메모리 사용량 균형<br>
- 권장: 100-500 documents/batch</p>
<p><strong>예시 비용 분석 (1M 문서, 평균 5페이지/문서)</strong><br>
- OCR (이미지 중심): $5,000-$7,500<br>
- Entity Recognition: $500-$1,000<br>
- Embeddings (ada-002): $250-$500<br>
- Knowledge Store: $200-$400/month<br>
- 총 비용: 초기 $6,000-$9,000, 월 $200-$400</p>
</section>
</section>
<section id="증거의-강도-및-한계-1" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="증거의-강도-및-한계-1"><span class="header-section-number">2.7</span> 증거의 강도 및 한계</h2>
<section id="증거-출처-1" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="증거-출처-1"><span class="header-section-number">2.7.1</span> 증거 출처</h3>
<ul>
<li>Microsoft Learn 공식 문서: Skillset API 명세, 아키텍처 가이드<br>
</li>
<li>Azure Pricing Calculator: 비용 추정 데이터<br>
</li>
<li>Microsoft Tech Community: 실제 고객 사례 및 벤치마크<br>
</li>
<li>OCR 정확도: Computer Vision API 공식 벤치마크 (2023)</li>
</ul>
</section>
<section id="한계점-1" class="level3" data-number="2.7.2">
<h3 data-number="2.7.2" class="anchored" data-anchor-id="한계점-1"><span class="header-section-number">2.7.2</span> 한계점</h3>
<ul>
<li>성능 수치 변동성: 문서 복잡도, 이미지 품질에 따라 ±50% 변동<br>
</li>
<li>정확도 평가: 공개된 F1-Score는 특정 데이터셋 기준 (실제 도메인에서 다를 수 있음)<br>
</li>
<li>비용 예측: 실제 토큰 사용량은 텍스트 특성에 따라 변동<br>
</li>
<li>최신 기능: Integrated Vectorization은 2023년 GA (장기 안정성 미검증)</li>
</ul>
</section>
<section id="대안-기술-1" class="level3" data-number="2.7.3">
<h3 data-number="2.7.3" class="anchored" data-anchor-id="대안-기술-1"><span class="header-section-number">2.7.3</span> 대안 기술</h3>
<p><strong>Haystack / LangChain</strong><br>
- 더 유연한 커스터마이징<br>
- 멀티 벤더 지원 (OpenAI, Cohere, HuggingFace)<br>
- 인프라 관리 필요</p>
<p><strong>Elasticsearch with ML</strong><br>
- 온프레미스 배포 가능<br>
- ELSER (Elastic Learned Sparse EncodeR) 지원<br>
- Azure OpenAI 통합 제한적</p>
<p><strong>Azure 통합 장점</strong><br>
- 완전 관리형 (인프라 관리 불필요)<br>
- Azure OpenAI, Cognitive Services 네이티브 통합<br>
- 엔터프라이즈 보안 (Managed Identity, VNet)</p>
</section>
</section>
<section id="불확실성-영역-1" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="불확실성-영역-1"><span class="header-section-number">2.8</span> 불확실성 영역</h2>
<ul>
<li>Custom Skill 성능 한계: 대규모 환경에서 Azure Functions 동시성 제한 영향 불명확<br>
</li>
<li>Knowledge Store 쿼리 성능: Table Storage 기반 분석 쿼리 성능 (&gt;10M rows) 공식 벤치마크 부족<br>
</li>
<li>Multimodal Embeddings 정확도: Azure AI Vision 임베딩의 실제 검색 성능 비교 데이터 제한적<br>
</li>
<li>Incremental Enrichment 한계: 복잡한 스킬 의존성 그래프에서의 캐시 효율성 불명확</li>
</ul>
</section>
<section id="권장-아키텍처-패턴" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="권장-아키텍처-패턴"><span class="header-section-number">2.9</span> 권장 아키텍처 패턴</h2>
<section id="rag-retrieval-augmented-generation-파이프라인" class="level3" data-number="2.9.1">
<h3 data-number="2.9.1" class="anchored" data-anchor-id="rag-retrieval-augmented-generation-파이프라인"><span class="header-section-number">2.9.1</span> RAG (Retrieval-Augmented Generation) 파이프라인</h3>
<pre><code>Document Upload
    ↓
Indexer (with Skillset)
    ├─ OCR (이미지 → 텍스트)
    ├─ Chunking (2000 chars)
    ├─ Embeddings (Azure OpenAI)
    └─ Metadata Extraction (Entity, KeyPhrase)
    ↓
Azure Search Index
    ├─ Text Fields (BM25)
    ├─ Vector Fields (HNSW)
    └─ Metadata (필터링용)
    ↓
Query Processing
    ├─ Hybrid Search (Text + Vector)
    └─ Semantic Reranking
    ↓
LLM (Azure OpenAI GPT-4)
    ├─ Context Injection
    └─ Response Generation</code></pre>
<p><strong>핵심 설계 결정</strong><br>
- Chunking 전략: Fixed-size (2000 chars) vs Semantic (문장/문단 단위)<br>
- Embedding 모델: ada-002 (범용) vs text-embedding-3-large (높은 정확도)<br>
- Reranking: Semantic Ranker (Azure 네이티브) vs Cross-encoder (커스텀)</p>
</section>
</section>
<section id="실무-의사결정-가이드" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="실무-의사결정-가이드"><span class="header-section-number">2.10</span> 실무 의사결정 가이드</h2>
<section id="ai-enrichment-도입-판단-기준" class="level3" data-number="2.10.1">
<h3 data-number="2.10.1" class="anchored" data-anchor-id="ai-enrichment-도입-판단-기준"><span class="header-section-number">2.10.1</span> AI Enrichment 도입 판단 기준</h3>
<pre><code>문서 유형?
├─ 구조화된 텍스트만 (JSON, CSV)
│  └─ AI Enrichment 불필요 → 기본 인덱싱
│
└─ 비구조화 문서 (PDF, 이미지)
   └─ 필요 기능?
      ├─ 텍스트 추출만 → Document Cracking
      ├─ 메타데이터 추출 (엔티티, 키워드) → Built-in Skills
      ├─ 벡터 검색 → Integrated Vectorization
      └─ 도메인 특화 처리 → Custom Skills</code></pre>
<p><strong>비용 임계점</strong><br>
- 문서 수 &lt; 10K: AI Enrichment 비용 무시 가능 (&lt; $100)<br>
- 문서 수 10K-1M: 선택적 스킬 사용 권장<br>
- 문서 수 &gt; 1M: 증분 처리 + 캐싱 필수</p>
</section>
</section>
<section id="참고-링크" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="참고-링크"><span class="header-section-number">2.11</span> 참고 링크</h2>
<section id="indexs-1" class="level3" data-number="2.11.1">
<h3 data-number="2.11.1" class="anchored" data-anchor-id="indexs-1"><span class="header-section-number">2.11.1</span> Indexs</h3>
<ul>
<li>https://learn.microsoft.com/en-us/azure/search/search-what-is-an-index<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/vector-store<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-how-to-create-search-index?tabs=portal<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/vector-search-how-to-create-index?tabs=push%2Cportal-check-index</li>
</ul>
</section>
<section id="azure-search-indexer-및-데이터-수집-workflows" class="level3" data-number="2.11.2">
<h3 data-number="2.11.2" class="anchored" data-anchor-id="azure-search-indexer-및-데이터-수집-workflows"><span class="header-section-number">2.11.2</span> Azure Search Indexer 및 데이터 수집 Workflows</h3>
<ul>
<li>https://learn.microsoft.com/en-us/azure/search/search-import-data-portal<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-indexer-overview<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/search-how-to-index-logic-apps</li>
</ul>
</section>
<section id="skillsets-ai-enrichment-1" class="level3" data-number="2.11.3">
<h3 data-number="2.11.3" class="anchored" data-anchor-id="skillsets-ai-enrichment-1"><span class="header-section-number">2.11.3</span> Skillsets (AI Enrichment)</h3>
<ul>
<li>https://learn.microsoft.com/en-us/azure/search/cognitive-search-concept-intro<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/vector-search-integrated-vectorization<br>
</li>
<li>https://learn.microsoft.com/en-us/azure/search/cognitive-search-working-with-skillsets</li>
</ul>


</section>
</section>
</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Search</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/26-az-ai-search-classic-search.html</guid>
  <pubDate>Sat, 20 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure AI Search 지역, 계층 및 서비스 제한사항</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/25-az-ai-search-quota-limit.html</link>
  <description><![CDATA[ 





<section id="지역별-기능-가용성" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="지역별-기능-가용성"><span class="header-section-number">1</span> 지역별 기능 가용성</h2>
<section id="지역별-제약이-있는-기능" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="지역별-제약이-있는-기능"><span class="header-section-number">1.1</span> 지역별 제약이 있는 기능</h3>
<p>Azure AI Search 서비스 생성 시 특정 지역에서만 사용 가능한 기능들이 있다.</p>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 26%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th>기능</th>
<th>설명</th>
<th>지역 지원</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>AI Enrichment</strong></td>
<td>Foundry Tools 호출 기반 내장 기술로 인덱싱 중 강화 및 변환 수행. Azure AI Search와 Microsoft Foundry 리소스가 동일한 물리적 지역에 공존 필요</td>
<td>지역별 표시</td>
</tr>
<tr class="even">
<td><strong>Availability Zones</strong></td>
<td>지역의 데이터 센터를 서로 다른 물리적 위치 그룹으로 나누어 동일 지역 내 고가용성 제공</td>
<td>지역별 표시</td>
</tr>
<tr class="odd">
<td><strong>Agentic Retrieval</strong></td>
<td>대화형 검색을 위한 Agentic Retrieval 엔진 사용</td>
<td>지역별 표시</td>
</tr>
<tr class="even">
<td><strong>Confidential Computing</strong></td>
<td>하드웨어 기반 신뢰 실행 환경에서 데이터를 처리하는 기밀 VM에 검색 서비스 배포. Agentic Retrieval, Semantic Ranker, Query Rewrite, Skillset 실행 비활성화 또는 제한</td>
<td>지역별 표시</td>
</tr>
<tr class="odd">
<td><strong>Semantic Ranker</strong></td>
<td>특정 지역의 Microsoft 호스팅 모델에 종속</td>
<td>지역별 표시</td>
</tr>
<tr class="even">
<td><strong>Query Rewrite</strong></td>
<td>특정 지역의 Microsoft 호스팅 모델에 종속</td>
<td>지역별 표시</td>
</tr>
<tr class="odd">
<td><strong>Extra Capacity</strong></td>
<td>2024년 4월부터 일부 지역에서 더 높은 용량 파티션 제공. 일부 지역에서는 제공되지 않음</td>
<td>각주 표시</td>
</tr>
<tr class="even">
<td><strong>Capacity Constraints</strong></td>
<td>일부 지역에서는 용량 부족으로 특정 계층의 새 검색 서비스 생성 불가</td>
<td>각주 표시</td>
</tr>
<tr class="odd">
<td><strong>Azure Vision in Foundry Tools 4.0</strong></td>
<td>텍스트 및 이미지 벡터화를 가능하게 하는 Azure Vision 멀티모달 임베딩 기술 및 벡터라이저</td>
<td>Azure Vision 지역 목록 먼저 확인 후 Azure AI Search 동일 지역 확인</td>
</tr>
</tbody>
</table>
</section>
<section id="azure-public-지역" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="azure-public-지역"><span class="header-section-number">1.2</span> Azure Public 지역</h3>
<section id="americas" class="level4" data-number="1.2.1">
<h4 data-number="1.2.1" class="anchored" data-anchor-id="americas"><span class="header-section-number">1.2.1</span> Americas</h4>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>지역</th>
<th>Availability Zones</th>
<th>AI Enrichment</th>
<th>Semantic Ranker</th>
<th>Confidential</th>
<th>Query Rewrite</th>
<th>Agentic Retrieval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Brazil South</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>Canada Central</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>Canada East</td>
<td></td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="even">
<td>Central US</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>East US</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="even">
<td>East US 2</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>Mexico Central</td>
<td></td>
<td>✅</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>North Central US</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>South Central US</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>West US</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>West US 2</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>West US 3</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>West Central US</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>주요 제약사항:</strong> - East US: Basic 및 S1 계층의 새 검색 서비스 생성 시 용량 제약 - West US 2: Microsoft Purview 민감도 레이블에 대한 인덱서 지원 없음</p>
</section>
<section id="europe" class="level4" data-number="1.2.2">
<h4 data-number="1.2.2" class="anchored" data-anchor-id="europe"><span class="header-section-number">1.2.2</span> Europe</h4>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>지역</th>
<th>Availability Zones</th>
<th>AI Enrichment</th>
<th>Semantic Ranker</th>
<th>Confidential</th>
<th>Query Rewrite</th>
<th>Agentic Retrieval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>France Central</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>Germany West Central</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="odd">
<td>Italy North</td>
<td></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
</tr>
<tr class="even">
<td>Norway East</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>North Europe</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>Poland Central</td>
<td></td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="odd">
<td>Spain Central</td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>Sweden Central</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>Switzerland North</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>Switzerland West</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="odd">
<td>UK South</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>UK West</td>
<td></td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="odd">
<td>West Europe</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody>
</table>
<p><strong>주요 제약사항:</strong> - Spain Central: 더 높은 스토리지 제한 미제공</p>
</section>
<section id="middle-east" class="level4" data-number="1.2.3">
<h4 data-number="1.2.3" class="anchored" data-anchor-id="middle-east"><span class="header-section-number">1.2.3</span> Middle East</h4>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>지역</th>
<th>Availability Zones</th>
<th>AI Enrichment</th>
<th>Semantic Ranker</th>
<th>Confidential</th>
<th>Query Rewrite</th>
<th>Agentic Retrieval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Israel Central</td>
<td></td>
<td>✅</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Qatar Central</td>
<td></td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="odd">
<td>UAE North</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>주요 제약사항:</strong> - Israel Central, Qatar Central: 더 높은 스토리지 제한 미제공 - UAE North: 용량 제약으로 새 검색 서비스 생성 불가</p>
</section>
<section id="africa" class="level4" data-number="1.2.4">
<h4 data-number="1.2.4" class="anchored" data-anchor-id="africa"><span class="header-section-number">1.2.4</span> Africa</h4>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>지역</th>
<th>Availability Zones</th>
<th>AI Enrichment</th>
<th>Semantic Ranker</th>
<th>Confidential</th>
<th>Query Rewrite</th>
<th>Agentic Retrieval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>South Africa North</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="asia-pacific" class="level4" data-number="1.2.5">
<h4 data-number="1.2.5" class="anchored" data-anchor-id="asia-pacific"><span class="header-section-number">1.2.5</span> Asia Pacific</h4>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>지역</th>
<th>Availability Zones</th>
<th>AI Enrichment</th>
<th>Semantic Ranker</th>
<th>Confidential</th>
<th>Query Rewrite</th>
<th>Agentic Retrieval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Australia East</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>Australia Southeast</td>
<td></td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="odd">
<td>Central India</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>East Asia</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>Indonesia Central</td>
<td></td>
<td>✅</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Jio India West</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>Jio India Central</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>Japan East</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>Japan West</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="even">
<td>Korea Central</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="odd">
<td>Korea South</td>
<td></td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
</tr>
<tr class="even">
<td>Malaysia West</td>
<td></td>
<td>✅</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>New Zealand North</td>
<td></td>
<td>✅</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>South India</td>
<td></td>
<td>✅</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Southeast Asia</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="azure-government-지역" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="azure-government-지역"><span class="header-section-number">1.3</span> Azure Government 지역</h3>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>지역</th>
<th>Availability Zones</th>
<th>AI Enrichment</th>
<th>Semantic Ranker</th>
<th>Confidential</th>
<th>Query Rewrite</th>
<th>Agentic Retrieval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Arizona</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
<tr class="even">
<td>Texas</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>Virginia</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody>
</table>
</section>
<section id="azure-operated-by-21vianet-중국" class="level3" data-number="1.4">
<h3 data-number="1.4" class="anchored" data-anchor-id="azure-operated-by-21vianet-중국"><span class="header-section-number">1.4</span> Azure operated by 21Vianet (중국)</h3>
<table class="table">
<colgroup>
<col style="width: 5%">
<col style="width: 18%">
<col style="width: 14%">
<col style="width: 16%">
<col style="width: 13%">
<col style="width: 14%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>지역</th>
<th>Availability Zones</th>
<th>AI Enrichment</th>
<th>Semantic Ranker</th>
<th>Confidential</th>
<th>Query Rewrite</th>
<th>Agentic Retrieval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>China East</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>China East 2</td>
<td>✅</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>China East 3</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>China North</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td>China North 2</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>China North 3</td>
<td></td>
<td>✅</td>
<td>✅</td>
<td></td>
<td>✅</td>
<td>✅</td>
</tr>
</tbody>
</table>
<p><strong>참고:</strong> - China East 2만 AI Enrichment 완전 지원 - 다른 21Vianet 지역: Azure OpenAI Embedding 기술을 사용한 Skillset만 지원 (Azure OpenAI 및 Azure AI Search 가용성에 따름) - China East 2, China North 2: 더 높은 스토리지 제한 미제공</p>
</section>
</section>
<section id="서비스-계층-pricing-tier" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="서비스-계층-pricing-tier"><span class="header-section-number">2</span> 서비스 계층 (Pricing Tier)</h2>
<section id="계층-설명" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="계층-설명"><span class="header-section-number">2.1</span> 계층 설명</h3>
<p>Azure AI Search는 여러 가격 계층으로 제공된다:</p>
<ul>
<li><strong>Free</strong>: 무료</li>
<li><strong>Basic</strong>: 기본</li>
<li><strong>Standard</strong>: 표준 (S1, S2, S3)</li>
<li><strong>Storage Optimized</strong>: 스토리지 최적화 (L1, L2)</li>
</ul>
<section id="free-계층" class="level4" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="free-계층"><span class="header-section-number">2.1.1</span> Free 계층</h4>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-limits-quotas-capacity#subscription-limits">제한된 검색 서비스</a> 생성</li>
<li>튜토리얼 및 코드 샘플 실행 등 소규모 프로젝트용</li>
<li>시스템 리소스는 여러 구독자 간 공유됨</li>
<li>Free 서비스 확장 불가, 대규모 워크로드 실행 불가</li>
<li>일부 프리미엄 기능 사용 불가</li>
<li>Azure 구독당 하나의 Free 검색 서비스만 보유 가능</li>
<li><strong>중요</strong>: 장기간 비활성 상태인 경우 서비스 삭제 가능 (특히 지역 용량 제약 시)</li>
</ul>
</section>
<section id="청구-가능-계층" class="level4" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="청구-가능-계층"><span class="header-section-number">2.1.2</span> 청구 가능 계층</h4>
<p>가장 일반적으로 사용되는 청구 가능 계층:</p>
<ul>
<li><strong>Basic</strong>
<ul>
<li>3개의 복제본 지원으로 SLA 충족 가능</li>
<li>소규모 프로덕션 워크로드용 전용 컴퓨팅 리소스</li>
</ul></li>
<li><strong>Standard (S1, S2, S3)</strong>
<ul>
<li>기본 계층</li>
<li>워크로드 확장을 위한 더 많은 유연성 제공</li>
<li>파티션과 복제본 모두 확장 가능</li>
<li>전용 리소스로 더 큰 프로젝트 배포, 성능 최적화, 용량 증가 가능</li>
</ul></li>
</ul>
</section>
<section id="특수-목적-계층" class="level4" data-number="2.1.3">
<h4 data-number="2.1.3" class="anchored" data-anchor-id="특수-목적-계층"><span class="header-section-number">2.1.3</span> 특수 목적 계층</h4>
<ul>
<li><strong>Standard 3 High Density (S3 HD)</strong>
<ul>
<li>S3의 호스팅 모드</li>
<li>대량의 소규모 인덱스에 최적화된 하드웨어</li>
<li>멀티테넌시 시나리오 대상</li>
<li>S3과 동일한 단위당 요금</li>
<li>대량의 소규모 인덱스에 대한 빠른 파일 읽기에 최적화된 하드웨어</li>
</ul></li>
<li><strong>Storage Optimized (L1, L2)</strong>
<ul>
<li>Standard 계층보다 TB당 낮은 가격으로 더 큰 스토리지 용량 제공</li>
<li>자주 변경되지 않는 대규모 인덱스용 설계</li>
<li>주요 트레이드오프: 더 높은 쿼리 지연 시간 (특정 애플리케이션 요구사항에 대해 검증 필요)</li>
</ul></li>
</ul>
</section>
</section>
<section id="계층별-지역-가용성" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="계층별-지역-가용성"><span class="header-section-number">2.2</span> 계층별 지역 가용성</h3>
<p><a href="https://learn.microsoft.com/en-us/azure/search/search-region-support">지역 목록</a>은 Azure AI Search가 제공되는 위치를 나타낸다.</p>
<ul>
<li>일부 지역은 특정 계층에 대한 용량 제약이 있어 해당 계층의 새 검색 서비스 생성 불가</li>
<li>목록의 각주로 제약된 지역 및 계층 표시</li>
<li>Azure Portal에서 서비스 생성 시 사용 불가능한 지역-계층 조합은 자동으로 제외됨</li>
</ul>
</section>
<section id="계층별-기능-가용성" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="계층별-기능-가용성"><span class="header-section-number">2.3</span> 계층별 기능 가용성</h3>
<p>대부분의 기능은 Free 계층을 포함한 모든 계층에서 사용 가능하다. 일부 경우 계층에 따라 기능 가용성이 결정된다.</p>
<table class="table">
<colgroup>
<col style="width: 37%">
<col style="width: 62%">
</colgroup>
<thead>
<tr class="header">
<th>기능</th>
<th>제약사항</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Indexers</strong></td>
<td>S3 HD에서 사용 불가. Free 계층에서는 더 많은 제한 있음</td>
</tr>
<tr class="even">
<td><strong>Indexer executionEnvironment 구성 매개변수</strong></td>
<td>검색 서비스에 할당된 검색 클러스터로만 모든 인덱서 처리를 고정하려면 S2 이상 필요</td>
</tr>
<tr class="odd">
<td><strong>AI Enrichment</strong></td>
<td>Free 계층에서 실행되지만 대규모 워크로드에는 권장되지 않음</td>
</tr>
<tr class="even">
<td><strong>Managed 또는 Trusted Identities (아웃바운드 인덱서 액세스)</strong></td>
<td>Free 계층에서 사용 불가</td>
</tr>
<tr class="odd">
<td><strong>Customer-managed Encryption Keys</strong></td>
<td>Free 계층에서 사용 불가</td>
</tr>
<tr class="even">
<td><strong>IP Firewall Access</strong></td>
<td>Free 계층에서 사용 불가</td>
</tr>
<tr class="odd">
<td><strong>Private Endpoint (Azure Private Link 통합)</strong></td>
<td>검색 서비스에 대한 인바운드 연결: Free 계층에서 사용 불가<br>인덱서가 다른 Azure 리소스로의 아웃바운드 연결: Free 또는 S3 HD에서 사용 불가<br>Skillset을 사용하는 인덱서: Free, Basic, S1, S3 HD에서 사용 불가</td>
</tr>
<tr class="even">
<td><strong>Availability Zones</strong></td>
<td>Free 계층에서 사용 불가</td>
</tr>
<tr class="odd">
<td><strong>Semantic Ranker</strong></td>
<td>Free 계층에서 실행되지만 대규모 워크로드에는 권장되지 않음</td>
</tr>
</tbody>
</table>
<p><strong>참고</strong>: 충분한 용량을 제공하지 않으면 리소스 집약적 기능이 제대로 작동하지 않을 수 있다. 예: <a href="https://learn.microsoft.com/en-us/azure/search/cognitive-search-concept-intro">AI Enrichment</a>는 데이터셋이 작지 않으면 Free 서비스에서 시간 초과되는 장기 실행 기술을 가짐.</p>
</section>
<section id="상한선" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="상한선"><span class="header-section-number">2.4</span> 상한선</h3>
<p>계층은 서비스 자체의 최대 스토리지와 생성 가능한 인덱스, 인덱서, 데이터 소스, Skillset, 동의어 맵의 최대 수를 결정한다.</p>
<p>모든 제한의 전체 분석은 <a href="https://learn.microsoft.com/en-us/azure/search/search-limits-quotas-capacity">Azure AI Search의 서비스 제한</a> 참조.</p>
</section>
<section id="파티션-크기-및-속도" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="파티션-크기-및-속도"><span class="header-section-number">2.5</span> 파티션 크기 및 속도</h3>
<p>계층 가격에는 파티션당 스토리지에 대한 세부 정보가 포함된다: - Basic: 15GB - Storage Optimized (L2): 최대 2TB</p>
<p><strong>하드웨어 특성:</strong> - 작업 속도, 지연 시간, 전송 속도와 같은 기타 하드웨어 특성은 공개되지 않음 - 특정 솔루션 아키텍처를 위해 설계된 계층은 해당 시나리오를 지원하는 기능을 갖춘 하드웨어에 구축됨</p>
<p><strong>참고</strong>: 2024년 4월 일부 지역에서 더 높은 용량 파티션 제공 시작. 2024년 5월 두 번째 웨이브 출시. 기존 검색 서비스가 있는 경우 동일한 청구 요금으로 더 많은 용량의 혜택을 받기 위해 <a href="https://learn.microsoft.com/en-us/azure/search/search-how-to-upgrade">서비스 업그레이드</a> 가능.</p>
</section>
<section id="청구-요금" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="청구-요금"><span class="header-section-number">2.6</span> 청구 요금</h3>
<p>계층마다 청구 요금이 다르다: - 더 비싼 하드웨어에서 실행되는 계층: 더 높은 요금 - 더 비싼 기능을 제공하는 계층: 더 높은 요금 - 계층 청구 요금: <a href="https://azure.microsoft.com/pricing/details/search/">Azure 가격 페이지</a> 확인</p>
<section id="청구-모델" class="level4" data-number="2.6.1">
<h4 data-number="2.6.1" class="anchored" data-anchor-id="청구-모델"><span class="header-section-number">2.6.1</span> 청구 모델</h4>
<p>서비스 생성 후 청구 요금은: - <strong>고정 비용</strong>: 서비스를 24시간 실행하는 비용 - <strong>증분 비용</strong>: 용량 추가 시 발생하는 비용</p>
<p><strong>리소스 할당:</strong> - 검색 서비스는 파티션(스토리지용) 및 복제본(쿼리 엔진 인스턴스) 형태로 컴퓨팅 리소스 할당 - 초기: 각각 하나씩 생성, 청구 요금은 두 리소스 모두 포함 - 용량 확장: 비용은 청구 가능 요금의 증분만큼 증가 또는 감소</p>
</section>
<section id="청구-예시" class="level4" data-number="2.6.2">
<h4 data-number="2.6.2" class="anchored" data-anchor-id="청구-예시"><span class="header-section-number">2.6.2</span> 청구 예시</h4>
<p>가정: 월 청구 요금 $100 - <strong>기본 구성</strong> (1 파티션, 1 복제본): 월말 $100 예상 - <strong>2개 복제본 추가</strong> (총 3개 복제본): 월 청구 $300 ($100 첫 번째 복제본-파티션 쌍 + $200 두 복제본)</p>
</section>
<section id="search-units-su" class="level4" data-number="2.6.3">
<h4 data-number="2.6.3" class="anchored" data-anchor-id="search-units-su"><span class="header-section-number">2.6.3</span> Search Units (SU)</h4>
<p>청구 모델은 검색 서비스에서 사용하는 <strong>Search Unit (SU)</strong> 수에 청구 요금을 적용하는 개념 기반: - 모든 서비스는 초기에 1 SU로 프로비저닝됨 - 파티션 또는 복제본을 추가하여 더 큰 워크로드를 처리하기 위해 SU 증가 가능 - Azure AI Search는 인덱스의 모든 부하 분산 및 복제를 관리 - 언제든지 서비스에 할당된 복제본 수 변경 가능</p>
<p>자세한 정보: <a href="https://learn.microsoft.com/en-us/azure/search/search-sku-manage-costs">검색 서비스 비용 추정 방법</a></p>
</section>
</section>
<section id="계층-변경" class="level3" data-number="2.7">
<h3 data-number="2.7" class="anchored" data-anchor-id="계층-변경"><span class="header-section-number">2.7</span> 계층 변경</h3>
<section id="지원되는-변경" class="level4" data-number="2.7.1">
<h4 data-number="2.7.1" class="anchored" data-anchor-id="지원되는-변경"><span class="header-section-number">2.7.1</span> 지원되는 변경</h4>
<p><strong>참고</strong>: 기존 검색 서비스는 Basic과 Standard (S1, S2, S3) 계층 간 전환 가능.</p>
<p><strong>조건:</strong> - 현재 서비스 구성이 대상 계층의 제한을 초과하지 않아야 함 - 지역에 대상 계층에 대한 용량 제약이 없어야 함</p>
<p>자세한 정보: <a href="https://learn.microsoft.com/en-us/azure/search/search-capacity-planning#change-your-pricing-tier">가격 계층 변경</a></p>
</section>
<section id="다른-계층으로-전환" class="level4" data-number="2.7.2">
<h4 data-number="2.7.2" class="anchored" data-anchor-id="다른-계층으로-전환"><span class="header-section-number">2.7.2</span> 다른 계층으로 전환</h4>
<p>위에 나열된 것 이외의 계층으로 전환하려면:</p>
<ol type="1">
<li>새 계층에 <a href="https://learn.microsoft.com/en-us/azure/search/search-create-service-portal">검색 서비스 생성</a></li>
<li>새 서비스에 검색 콘텐츠 배포 (<a href="https://learn.microsoft.com/en-us/azure/search/search-howto-move-across-regions#prepare-and-move">체크리스트</a> 따라 모든 콘텐츠 확보)</li>
<li>더 이상 필요하지 않은 경우 이전 서비스 삭제</li>
</ol>
</section>
<section id="대규모-인덱스-백업-및-복원" class="level4" data-number="2.7.3">
<h4 data-number="2.7.3" class="anchored" data-anchor-id="대규모-인덱스-백업-및-복원"><span class="header-section-number">2.7.3</span> 대규모 인덱스 백업 및 복원</h4>
<p>처음부터 다시 빌드하고 싶지 않은 대규모 인덱스의 경우 다음 백업 및 복원 샘플 사용:</p>
<ul>
<li><a href="https://github.com/Azure-Samples/azure-search-dotnet-utilities/blob/main/index-backup-restore/README.md">Backup and restore sample (C#)</a></li>
<li><a href="https://github.com/Azure/azure-search-vector-samples/blob/main/demo-python/code/utilities/index-backup-restore/azure-search-backup-and-restore.ipynb">Backup and restore sample (Python)</a></li>
<li><a href="https://github.com/Azure/azure-search-vector-samples/blob/main/demo-python/code/utilities/resumable-index-backup-restore/backup-and-restore.ipynb">Backup and restore sample for very large indexes (Python)</a></li>
</ul>
</section>
</section>
<section id="계층-선택-가이드" class="level3" data-number="2.8">
<h3 data-number="2.8" class="anchored" data-anchor-id="계층-선택-가이드"><span class="header-section-number">2.8</span> 계층 선택 가이드</h3>
<p>최선의 방법은 최소 비용 계층으로 시작한 다음 경험과 테스트를 통해 서비스를 유지하거나 더 높은 계층으로 전환할지 결정하는 것이다.</p>
<section id="권장-사항" class="level4" data-number="2.8.1">
<h4 data-number="2.8.1" class="anchored" data-anchor-id="권장-사항"><span class="header-section-number">2.8.1</span> 권장 사항</h4>
<p>제안하는 테스트 수준을 수용할 수 있는 계층에서 검색 서비스를 생성한 후 다음 가이드를 검토:</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-create-service-portal">검색 서비스 생성</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-sku-manage-costs">비용 추정</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-capacity-planning">용량 추정</a></li>
</ul>
</section>
</section>
</section>
<section id="구독-제한-subscription-limits" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="구독-제한-subscription-limits"><span class="header-section-number">3</span> 구독 제한 (Subscription Limits)</h2>
<section id="지역당-계층당-최대-서비스-수" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="지역당-계층당-최대-서비스-수"><span class="header-section-number">3.1</span> 지역당 계층당 최대 서비스 수</h3>
<p>각 Azure 구독은 특정 지역 내의 각 계층에서 제한된 수의 검색 서비스를 생성할 수 있다.</p>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>지역당 최대 서비스 수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Free</strong></td>
<td>1</td>
</tr>
<tr class="even">
<td><strong>Basic</strong></td>
<td>16</td>
</tr>
<tr class="odd">
<td><strong>Standard (S1, S2, S3, S3 HD)</strong></td>
<td>각 계층당 16</td>
</tr>
<tr class="even">
<td><strong>Storage Optimized (L1, L2)</strong></td>
<td>각 계층당 6</td>
</tr>
</tbody>
</table>
<p><strong>주요 사항:</strong> - Free 계층: Azure 구독당 <strong>한 개의 무료 서비스만</strong> 허용 - 청구 가능 계층: 제한은 계층별로 적용됨 (예: 동일 지역에 S1 16개와 S2 16개 모두 가능) - 제한 초과 시: “You have exceeded the maximum number of services allowed for the given subscription and location for a tier. Please use another location or tier, or request a quota increase by contacting Azure support” 오류 발생 - 제한 증가 요청: Azure 지원에 문의하여 구독당 서비스 수 제한 증가 가능</p>
<p><strong>참고:</strong> - 거의 없지만 일부 지역은 용량 제약으로 새 검색 서비스 추가가 일시적으로 차단될 수 있음 - 지역별 제약사항: <a href="https://learn.microsoft.com/en-us/azure/search/search-region-support">지역 지원 문서</a> 참조</p>
</section>
</section>
<section id="서비스-제한-service-limits" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="서비스-제한-service-limits"><span class="header-section-number">4</span> 서비스 제한 (Service Limits)</h2>
<p>서비스 제한은 검색 서비스 자체에 적용되는 제약사항이다.</p>
<section id="스토리지-제한" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="스토리지-제한"><span class="header-section-number">4.1</span> 스토리지 제한</h3>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>2024년 4월 3일 이전</th>
<th>2024년 5월 17일 이후</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Free</strong></td>
<td>50 MB</td>
<td>50 MB</td>
</tr>
<tr class="even">
<td><strong>Basic</strong></td>
<td>2 GB</td>
<td>15 GB</td>
</tr>
<tr class="odd">
<td><strong>S1</strong></td>
<td>25 GB per partition</td>
<td>160 GB per partition</td>
</tr>
<tr class="even">
<td><strong>S2</strong></td>
<td>100 GB per partition</td>
<td>512 GB per partition</td>
</tr>
<tr class="odd">
<td><strong>S3</strong></td>
<td>200 GB per partition</td>
<td>1 TB per partition</td>
</tr>
<tr class="even">
<td><strong>S3 HD</strong></td>
<td>200 GB per partition</td>
<td>200 GB per partition</td>
</tr>
<tr class="odd">
<td><strong>L1</strong></td>
<td>1 TB per partition</td>
<td>2 TB per partition</td>
</tr>
<tr class="even">
<td><strong>L2</strong></td>
<td>2 TB per partition</td>
<td>4 TB per partition</td>
</tr>
</tbody>
</table>
<p><strong>주요 사항:</strong> - 2024년 4월부터 새로운 검색 서비스는 더 큰 파티션 크기로 프로비저닝됨 - 기존 서비스: <a href="https://learn.microsoft.com/en-us/azure/search/search-how-to-upgrade">일회성 무료 업그레이드</a> 가능 - 스토리지는 명시적 제한이거나 인덱스당 최대 문서 수에 의해 암시적으로 제한될 수 있음 (둘 중 먼저 도달하는 것)</p>
</section>
<section id="워크로드-제한-인덱스-인덱서-데이터-소스" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="워크로드-제한-인덱스-인덱서-데이터-소스"><span class="header-section-number">4.2</span> 워크로드 제한 (인덱스, 인덱서, 데이터 소스)</h3>
<table class="table">
<colgroup>
<col style="width: 17%">
<col style="width: 13%">
<col style="width: 15%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th>리소스</th>
<th>Free</th>
<th>Basic</th>
<th>S1</th>
<th>S2</th>
<th>S3</th>
<th>S3 HD</th>
<th>L1</th>
<th>L2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Indexes</strong> (인덱스)</td>
<td>3</td>
<td>5 (2017년 12월 이전 생성 서비스)<br>15 (2024년 4월 3일 이후 생성 서비스)</td>
<td>50</td>
<td>200</td>
<td>200</td>
<td>파티션당 1000<br>서비스당 최대 3000</td>
<td>10</td>
<td>10</td>
</tr>
<tr class="even">
<td><strong>Indexers</strong> (인덱서)</td>
<td>3</td>
<td>5 (2017년 12월 이전 생성 서비스)<br>15 (2024년 4월 3일 이후 생성 서비스)</td>
<td>50</td>
<td>200</td>
<td>200</td>
<td>N/A</td>
<td>10</td>
<td>10</td>
</tr>
<tr class="odd">
<td><strong>Data Sources</strong> (데이터 소스)</td>
<td>3</td>
<td>5 (2017년 12월 이전 생성 서비스)<br>15 (2024년 4월 3일 이후 생성 서비스)</td>
<td>50</td>
<td>200</td>
<td>200</td>
<td>N/A</td>
<td>10</td>
<td>10</td>
</tr>
<tr class="even">
<td><strong>Skillsets</strong></td>
<td>3</td>
<td>5 (2017년 12월 이전 생성 서비스)<br>15 (2024년 4월 3일 이후 생성 서비스)</td>
<td>50</td>
<td>200</td>
<td>200</td>
<td>N/A</td>
<td>10</td>
<td>10</td>
</tr>
<tr class="odd">
<td><strong>Synonym Maps</strong> (동의어 맵)</td>
<td>3</td>
<td>3</td>
<td>50</td>
<td>200</td>
<td>200</td>
<td>200</td>
<td>10</td>
<td>10</td>
</tr>
</tbody>
</table>
<p><strong>참고:</strong> - S3 HD: 인덱서, 데이터 소스, Skillset 미지원 - Basic 계층: 2017년 12월 이전 생성 서비스는 더 낮은 제한 (5개) - Basic 계층: 2024년 4월 3일 이후 생성 서비스는 더 높은 제한 (15개)</p>
</section>
</section>
<section id="인덱스-제한-index-limits" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="인덱스-제한-index-limits"><span class="header-section-number">5</span> 인덱스 제한 (Index Limits)</h2>
<section id="인덱스당-필드-수" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="인덱스당-필드-수"><span class="header-section-number">5.1</span> 인덱스당 필드 수</h3>
<table class="table">
<thead>
<tr class="header">
<th>리소스</th>
<th>제한</th>
<th>비고</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Simple Fields</strong></td>
<td>1000</td>
<td>단순 필드 (String, Integer, Boolean 등)</td>
</tr>
<tr class="even">
<td><strong>Complex Fields</strong></td>
<td>40</td>
<td>복합 필드 (객체 배열 등)</td>
</tr>
<tr class="odd">
<td><strong>Complex Collections</strong></td>
<td>40</td>
<td>복합 컬렉션</td>
</tr>
<tr class="even">
<td><strong>All Fields (Simple + Complex)</strong></td>
<td>1000</td>
<td>총 필드 수</td>
</tr>
</tbody>
</table>
<p><strong>주요 사항:</strong> - 단순 필드: <code>Edm.String</code>, <code>Edm.Boolean</code>, <code>Edm.Int32</code>, <code>Edm.Int64</code>, <code>Edm.Double</code>, <code>Edm.DateTimeOffset</code>, <code>Edm.GeographyPoint</code> 등 - 복합 필드: <code>Edm.ComplexType</code>의 최상위 필드 또는 중첩 필드 - 복합 컬렉션: <code>Collection(Edm.ComplexType)</code> 필드</p>
</section>
<section id="인덱스당-벡터-검색-제한" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="인덱스당-벡터-검색-제한"><span class="header-section-number">5.2</span> 인덱스당 벡터 검색 제한</h3>
<table class="table">
<thead>
<tr class="header">
<th>리소스</th>
<th>제한</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Vector Fields</strong> (벡터 필드)</td>
<td>인덱스당 최대 <strong>50개</strong></td>
</tr>
<tr class="even">
<td><strong>Vector Profiles</strong> (벡터 프로필)</td>
<td>인덱스당 최대 <strong>100개</strong></td>
</tr>
<tr class="odd">
<td><strong>Vector Algorithms</strong> (벡터 알고리즘)</td>
<td>인덱스당 최대 <strong>100개</strong></td>
</tr>
<tr class="even">
<td><strong>Vectorizers</strong> (벡터화기)</td>
<td>인덱스당 최대 <strong>100개</strong></td>
</tr>
</tbody>
</table>
</section>
<section id="인덱스-크기-제한" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="인덱스-크기-제한"><span class="header-section-number">5.3</span> 인덱스 크기 제한</h3>
<p>인덱스 크기는 다음에 의해 제한된다: 1. 업로드하는 문서 수 2. 문서의 복잡성 (필드 수, 필드 속성) 3. 전체 인덱스 구성 (인덱스 스키마, 스코어링 프로필, CORS 옵션 등)</p>
<section id="최대-문서-수" class="level4" data-number="5.3.1">
<h4 data-number="5.3.1" class="anchored" data-anchor-id="최대-문서-수"><span class="header-section-number">5.3.1</span> 최대 문서 수</h4>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>인덱스당 최대 문서 수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Free</strong></td>
<td>10,000</td>
</tr>
<tr class="even">
<td><strong>Basic</strong></td>
<td>24,000,000,000 (240억)</td>
</tr>
<tr class="odd">
<td><strong>S1</strong></td>
<td>24,000,000,000 (240억)</td>
</tr>
<tr class="even">
<td><strong>S2</strong></td>
<td>24,000,000,000 (240억)</td>
</tr>
<tr class="odd">
<td><strong>S3</strong></td>
<td>24,000,000,000 (240억)</td>
</tr>
<tr class="even">
<td><strong>S3 HD</strong></td>
<td>2,000,000,000 (20억, 파티션당)</td>
</tr>
<tr class="odd">
<td><strong>L1</strong></td>
<td>288,000,000,000 (2880억)</td>
</tr>
<tr class="even">
<td><strong>L2</strong></td>
<td>576,000,000,000 (5760억)</td>
</tr>
</tbody>
</table>
<p><strong>참고:</strong> - S3 HD는 파티션당 제한 적용 - 실제 문서 수는 인덱스 복잡성, 벡터 quota, 스토리지 제한에 따라 달라질 수 있음</p>
</section>
</section>
</section>
<section id="벡터-인덱스-크기-제한-vector-index-size-limits" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="벡터-인덱스-크기-제한-vector-index-size-limits"><span class="header-section-number">6</span> 벡터 인덱스 크기 제한 (Vector Index Size Limits)</h2>
<section id="벡터-quota-진화" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="벡터-quota-진화"><span class="header-section-number">6.1</span> 벡터 Quota 진화</h3>
<p>벡터 인덱스의 크기는 <strong>벡터 quota</strong>에 의해 제한된다.</p>
<section id="년-7월-1일-이전-생성-서비스" class="level4" data-number="6.1.1">
<h4 data-number="6.1.1" class="anchored" data-anchor-id="년-7월-1일-이전-생성-서비스"><span class="header-section-number">6.1.1</span> 2023년 7월 1일 이전 생성 서비스</h4>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>파티션당 벡터 quota</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Basic</strong></td>
<td>0.5 GB</td>
</tr>
<tr class="even">
<td><strong>S1</strong></td>
<td>1 GB</td>
</tr>
<tr class="odd">
<td><strong>S2</strong></td>
<td>6 GB</td>
</tr>
<tr class="even">
<td><strong>S3</strong></td>
<td>12 GB</td>
</tr>
</tbody>
</table>
</section>
<section id="년-7월-1일-2024년-5월-17일-생성-서비스" class="level4" data-number="6.1.2">
<h4 data-number="6.1.2" class="anchored" data-anchor-id="년-7월-1일-2024년-5월-17일-생성-서비스"><span class="header-section-number">6.1.2</span> 2023년 7월 1일 ~ 2024년 5월 17일 생성 서비스</h4>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>파티션당 벡터 quota</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Basic</strong></td>
<td>1 GB</td>
</tr>
<tr class="even">
<td><strong>S1</strong></td>
<td>3 GB</td>
</tr>
<tr class="odd">
<td><strong>S2</strong></td>
<td>12 GB</td>
</tr>
<tr class="even">
<td><strong>S3</strong></td>
<td>36 GB</td>
</tr>
<tr class="odd">
<td><strong>L1</strong></td>
<td>12 GB</td>
</tr>
<tr class="even">
<td><strong>L2</strong></td>
<td>36 GB</td>
</tr>
</tbody>
</table>
</section>
<section id="년-5월-17일-이후-생성-서비스" class="level4" data-number="6.1.3">
<h4 data-number="6.1.3" class="anchored" data-anchor-id="년-5월-17일-이후-생성-서비스"><span class="header-section-number">6.1.3</span> 2024년 5월 17일 이후 생성 서비스</h4>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>파티션당 벡터 quota</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Basic</strong></td>
<td>1 GB → <strong>35 GB</strong></td>
</tr>
<tr class="even">
<td><strong>S1</strong></td>
<td>3 GB → <strong>150 GB</strong></td>
</tr>
<tr class="odd">
<td><strong>S2</strong></td>
<td>12 GB → <strong>300 GB</strong></td>
</tr>
<tr class="even">
<td><strong>S3</strong></td>
<td>36 GB → <strong>300 GB</strong></td>
</tr>
<tr class="odd">
<td><strong>L1</strong></td>
<td>12 GB → <strong>150 GB</strong></td>
</tr>
<tr class="even">
<td><strong>L2</strong></td>
<td>36 GB → <strong>300 GB</strong></td>
</tr>
</tbody>
</table>
<p><strong>주요 사항:</strong> - 2024년 5월 17일 이후 생성된 서비스는 <strong>자동으로 더 높은 벡터 quota</strong> 적용 - 기존 서비스: <a href="https://learn.microsoft.com/en-us/azure/search/search-how-to-upgrade">일회성 무료 업그레이드</a> 가능 - 벡터 quota 초과 시: 문서 업로드 실패</p>
</section>
</section>
<section id="벡터-인덱스-크기-계산" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="벡터-인덱스-크기-계산"><span class="header-section-number">6.2</span> 벡터 인덱스 크기 계산</h3>
<p>벡터 인덱스 크기는 다음 요소에 의해 결정된다: - <strong>차원 수</strong> (dimensions): 벡터의 차원 - <strong>알고리즘 유형</strong>: HNSW (메모리 집약적) vs Exhaustive KNN (메모리 효율적) - <strong>문서 수</strong> - <strong>벡터 필드 수</strong></p>
<section id="hnsw-알고리즘-크기-추정" class="level4" data-number="6.2.1">
<h4 data-number="6.2.1" class="anchored" data-anchor-id="hnsw-알고리즘-크기-추정"><span class="header-section-number">6.2.1</span> HNSW 알고리즘 크기 추정</h4>
<p>HNSW 알고리즘의 벡터 인덱스 크기는 다음과 같이 계산된다:</p>
<pre><code>벡터 인덱스 크기 (bytes) = 
  dimensions × 4 bytes × 1.2 (오버헤드 팩터) × number of documents</code></pre>
<p><strong>예시:</strong> - 차원: 1536 (OpenAI <code>text-embedding-ada-002</code>) - 문서 수: 1,000,000 - 계산: 1536 × 4 × 1.2 × 1,000,000 = <strong>7,372,800,000 bytes ≈ 7.37 GB</strong></p>
<p><strong>결론:</strong> - Basic 계층 (35 GB quota): 약 <strong>470만 문서</strong> 저장 가능 - S1 계층 (150 GB quota): 약 <strong>2030만 문서</strong> 저장 가능</p>
</section>
<section id="exhaustive-knn-알고리즘-크기-추정" class="level4" data-number="6.2.2">
<h4 data-number="6.2.2" class="anchored" data-anchor-id="exhaustive-knn-알고리즘-크기-추정"><span class="header-section-number">6.2.2</span> Exhaustive KNN 알고리즘 크기 추정</h4>
<p>Exhaustive KNN은 HNSW보다 메모리 효율적이다:</p>
<pre><code>벡터 인덱스 크기 (bytes) = 
  dimensions × 4 bytes × number of documents</code></pre>
<p><strong>예시:</strong> - 차원: 1536 - 문서 수: 1,000,000 - 계산: 1536 × 4 × 1,000,000 = <strong>6,144,000,000 bytes ≈ 6.14 GB</strong></p>
</section>
</section>
<section id="압축을-통한-크기-최적화" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="압축을-통한-크기-최적화"><span class="header-section-number">6.3</span> 압축을 통한 크기 최적화</h3>
<p>벡터 압축을 사용하면 벡터 인덱스 크기를 크게 줄일 수 있다.</p>
<section id="scalar-quantization-스칼라-양자화" class="level4" data-number="6.3.1">
<h4 data-number="6.3.1" class="anchored" data-anchor-id="scalar-quantization-스칼라-양자화"><span class="header-section-number">6.3.1</span> Scalar Quantization (스칼라 양자화)</h4>
<ul>
<li><strong>압축률</strong>: 벡터 크기를 <strong>75% 감소</strong> (4배 압축)</li>
<li><strong>작동 원리</strong>: Float32 (4 bytes) → Int8 (1 byte) 변환</li>
<li><strong>트레이드오프</strong>: 약간의 정확도 감소 (일반적으로 무시 가능)</li>
</ul>
<p><strong>예시 (HNSW + Scalar Quantization):</strong> - 원본 크기: 7.37 GB - 압축 후: <strong>1.84 GB</strong> (75% 감소) - Basic 계층으로 <strong>약 1900만 문서</strong> 저장 가능</p>
</section>
<section id="binary-quantization-이진-양자화" class="level4" data-number="6.3.2">
<h4 data-number="6.3.2" class="anchored" data-anchor-id="binary-quantization-이진-양자화"><span class="header-section-number">6.3.2</span> Binary Quantization (이진 양자화)</h4>
<ul>
<li><strong>압축률</strong>: 벡터 크기를 <strong>96% 감소</strong> (32배 압축)</li>
<li><strong>작동 원리</strong>: Float32 (4 bytes) → 1 bit 변환</li>
<li><strong>트레이드오фф</strong>: 더 큰 정확도 감소 가능</li>
<li><strong>적용 대상</strong>: <code>text-embedding-3-small</code>, <code>text-embedding-3-large</code> 등 특정 모델</li>
</ul>
<p><strong>예시 (HNSW + Binary Quantization):</strong> - 원본 크기: 7.37 GB - 압축 후: <strong>0.29 GB</strong> (96% 감소) - Basic 계층으로 <strong>약 1억 2000만 문서</strong> 저장 가능</p>
</section>
</section>
</section>
<section id="인덱서-제한-indexer-limits" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="인덱서-제한-indexer-limits"><span class="header-section-number">7</span> 인덱서 제한 (Indexer Limits)</h2>
<section id="인덱서-실행-시간-제한" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="인덱서-실행-시간-제한"><span class="header-section-number">7.1</span> 인덱서 실행 시간 제한</h3>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>최대 실행 시간 (일반 인덱서)</th>
<th>Skillset 포함 인덱서</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Free</strong></td>
<td>3분</td>
<td>3~10분 (Skillset 복잡도에 따라)</td>
</tr>
<tr class="even">
<td><strong>Basic, S1</strong></td>
<td>24시간</td>
<td>2시간</td>
</tr>
<tr class="odd">
<td><strong>S2</strong></td>
<td>24시간</td>
<td>2시간</td>
</tr>
<tr class="even">
<td><strong>S3, L1, L2</strong></td>
<td>24시간</td>
<td>2시간</td>
</tr>
</tbody>
</table>
<p><strong>주요 사항:</strong> - 인덱서가 최대 시간 내 완료되지 않으면: 자동으로 중지됨 - 재시작 시: 마지막으로 중단된 지점부터 재개 - Skillset 포함 인덱서: AI Enrichment 작업으로 인해 더 짧은 시간 제한</p>
</section>
<section id="blob-크기-제한" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="blob-크기-제한"><span class="header-section-number">7.2</span> Blob 크기 제한</h3>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>최대 Blob 크기</th>
<th>최대 추출 문자 수</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Free</strong></td>
<td>16 MB</td>
<td>256,000</td>
</tr>
<tr class="even">
<td><strong>Basic</strong></td>
<td>16 MB</td>
<td>512,000</td>
</tr>
<tr class="odd">
<td><strong>S1</strong></td>
<td>128 MB</td>
<td>4,000,000</td>
</tr>
<tr class="even">
<td><strong>S2</strong></td>
<td>256 MB</td>
<td>8,000,000</td>
</tr>
<tr class="odd">
<td><strong>S3, L1, L2</strong></td>
<td>256 MB</td>
<td>16,000,000</td>
</tr>
</tbody>
</table>
<p><strong>참고:</strong> - Blob 크기 초과 시: 인덱서가 해당 문서를 건너뛰고 경고 생성 - 추출 문자 수 제한: 텍스트 추출 시 최대 문자 수</p>
</section>
<section id="인덱서-동시-실행-제한" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="인덱서-동시-실행-제한"><span class="header-section-number">7.3</span> 인덱서 동시 실행 제한</h3>
<p><strong>참고</strong>: Azure AI Search는 인덱서 실행 수를 명시적으로 제한하지 않지만, 리소스 사용 가능 여부에 따라 인덱서가 동시에 실행될 수 있다.</p>
</section>
</section>
<section id="api-제한-api-request-limits" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="api-제한-api-request-limits"><span class="header-section-number">8</span> API 제한 (API Request Limits)</h2>
<section id="http-요청-제한" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="http-요청-제한"><span class="header-section-number">8.1</span> HTTP 요청 제한</h3>
<table class="table">
<thead>
<tr class="header">
<th>제한 항목</th>
<th>최대 값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>요청당 최대 URL 길이</strong> (REST APIs)</td>
<td>8 KB</td>
</tr>
<tr class="even">
<td><strong>요청당 최대 페이로드 크기</strong></td>
<td>16 MB</td>
</tr>
</tbody>
</table>
</section>
<section id="쿼리-제한" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="쿼리-제한"><span class="header-section-number">8.2</span> 쿼리 제한</h3>
<table class="table">
<thead>
<tr class="header">
<th>제한 항목</th>
<th>최대 값</th>
<th>기본값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>반환 가능한 최대 문서 수</strong> (페이지당)</td>
<td>1,000</td>
<td>50</td>
</tr>
<tr class="even">
<td><strong>벡터 쿼리에 포함 가능한 벡터 필드 수</strong></td>
<td>10</td>
<td>-</td>
</tr>
</tbody>
</table>
<p><strong>주요 사항:</strong> - 페이지네이션: <code>$top</code> 및 <code>$skip</code> 매개변수 사용 - 기본값: 쿼리당 50개 문서 반환 - 최대값: <code>$top=1000</code>으로 설정 가능</p>
</section>
<section id="인덱스-업로드-제한" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="인덱스-업로드-제한"><span class="header-section-number">8.3</span> 인덱스 업로드 제한</h3>
<table class="table">
<thead>
<tr class="header">
<th>제한 항목</th>
<th>최대 값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>배치당 최대 문서 수</strong></td>
<td>1,000</td>
</tr>
<tr class="even">
<td><strong>배치당 최대 페이로드 크기</strong></td>
<td>16 MB</td>
</tr>
</tbody>
</table>
<p><strong>권장 사항:</strong> - 대량 업로드: 배치로 나누어 업로드 - 최적 배치 크기: 1,000개 미만 (네트워크 안정성 고려)</p>
</section>
</section>
<section id="semantic-ranker-제한-semantic-ranker-limits" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="semantic-ranker-제한-semantic-ranker-limits"><span class="header-section-number">9</span> Semantic Ranker 제한 (Semantic Ranker Limits)</h2>
<section id="동시-요청-제한" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="동시-요청-제한"><span class="header-section-number">9.1</span> 동시 요청 제한</h3>
<p>Semantic Ranker는 동시 요청 수를 제한한다:</p>
<table class="table">
<thead>
<tr class="header">
<th>계층</th>
<th>Search Unit (SU)당 동시 요청 수</th>
<th>SU당 큐 크기</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Free</strong></td>
<td>2</td>
<td>4</td>
</tr>
<tr class="even">
<td><strong>Basic</strong></td>
<td>3</td>
<td>6</td>
</tr>
<tr class="odd">
<td><strong>Standard (S1, S2, S3)</strong></td>
<td>4</td>
<td>8</td>
</tr>
</tbody>
</table>
<p><strong>주요 사항:</strong> - 동시 요청 제한 초과 시: 요청이 큐에 대기 - 큐 크기 초과 시: HTTP 429 (Too Many Requests) 오류 반환 - SU 추가: 동시 요청 용량 증가 (예: 2 SU = 8 동시 요청, Basic 계층)</p>
</section>
<section id="처리-제한" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="처리-제한"><span class="header-section-number">9.2</span> 처리 제한</h3>
<table class="table">
<thead>
<tr class="header">
<th>제한 항목</th>
<th>최대 값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>쿼리당 처리되는 최대 문서 수</strong></td>
<td>50</td>
</tr>
<tr class="even">
<td><strong>재순위 매겨지는 최대 문서 수</strong></td>
<td>50</td>
</tr>
</tbody>
</table>
<p><strong>참고:</strong> - Semantic Ranker는 검색 결과의 상위 50개 문서만 재순위 매김 - 전체 검색 결과가 50개 초과 시: 상위 50개만 semantic reranking 적용</p>
</section>
</section>
<section id="참고-자료" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">10</span> 참고 자료</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-region-support">Azure AI Search 지역 목록</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-sku-tier">서비스 계층 선택</a></li>
<li><a href="https://azure.microsoft.com/explore/global-infrastructure/products-by-region/?products=search">Azure 지역별 제품</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/reliability/availability-zones-region-support">가용성 영역 지역 지원</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-limits-quotas-capacity">Azure AI Search 서비스 제한</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/vector-search-overview">벡터 검색 개요</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/vector-search-how-to-quantization">벡터 압축</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-indexer-overview">인덱서 개요</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/semantic-search-overview">Semantic Ranker</a></li>
</ul>


</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Agent</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/25-az-ai-search-quota-limit.html</guid>
  <pubDate>Fri, 19 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure AI Search 개요 및 구성</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/24-az-ai-search-overview.html</link>
  <description><![CDATA[ 





<section id="azure-ai-search-개요" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="azure-ai-search-개요"><span class="header-section-number">1</span> Azure AI Search 개요</h2>
<section id="정의-및-용도" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="정의-및-용도"><span class="header-section-number">1.1</span> 정의 및 용도</h3>
<ul>
<li><strong>Azure AI Search</strong>는 완전 관리형 클라우드 호스팅 서비스이다</li>
<li>엔터프라이즈 및 웹 콘텐츠를 AI에 연결하여 에이전트와 LLM이 신뢰할 수 있는 답변을 생성할 수 있도록 한다</li>
<li>Classic Search와 RAG(Retrieval-Augmented Generation) 방식의 Agentic Retrieval을 모두 지원한다</li>
</ul>
</section>
<section id="주요-사용-사례" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="주요-사용-사례"><span class="header-section-number">1.2</span> 주요 사용 사례</h3>
<ul>
<li><strong>에이전트 및 챗봇 Grounding</strong>: 독점적인 엔터프라이즈 또는 웹 데이터를 기반으로 정확하고 맥락 인식 응답 생성</li>
<li><strong>다양한 데이터 소스 접근</strong>: Azure Blob Storage, Azure Cosmos DB, Microsoft SharePoint, Microsoft OneLake 등</li>
<li><strong>콘텐츠 강화</strong>: 인덱싱 또는 쿼리 시점에 청킹, 임베딩, LLM 지원 변환을 통한 구조화</li>
<li><strong>Hybrid Search</strong>: Full-text Search와 Vector Search 결합으로 정밀도와 재현율 균형 확보</li>
<li><strong>멀티모달 검색</strong>: 텍스트와 이미지를 포함한 콘텐츠를 단일 파이프라인에서 쿼리</li>
</ul>
</section>
<section id="핵심-역량" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="핵심-역량"><span class="header-section-number">1.3</span> 핵심 역량</h3>
<p>검색 서비스 생성 시 다음 기능을 사용할 수 있다:</p>
<ul>
<li><strong>두 가지 검색 엔진</strong>
<ul>
<li>Classic Search: 단일 요청 처리</li>
<li>Agentic Retrieval: 병렬, 반복, LLM 지원 검색</li>
</ul></li>
<li><strong>다양한 쿼리 유형</strong>
<ul>
<li>Full-text, Vector, Hybrid, Multimodal 쿼리 지원</li>
<li>로컬(인덱싱된) 및 원격 콘텐츠 모두 검색</li>
</ul></li>
<li><strong>AI Enrichment</strong>
<ul>
<li>청킹, 벡터화 등을 통해 원시 콘텐츠를 검색 가능하게 만듦</li>
</ul></li>
<li><strong>관련성 튜닝</strong>: 의도 매칭 및 결과 품질 향상</li>
<li><strong>Azure 통합</strong>
<ul>
<li>지원되는 데이터 플랫폼, Azure OpenAI, Microsoft Foundry와 통합</li>
</ul></li>
</ul>
</section>
</section>
<section id="검색-아키텍처-비교" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="검색-아키텍처-비교"><span class="header-section-number">2</span> 검색 아키텍처 비교</h2>
<section id="classic-search" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="classic-search"><span class="header-section-number">2.1</span> Classic Search</h3>
<section id="개념" class="level4" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="개념"><span class="header-section-number">2.1.1</span> 개념</h4>
<ul>
<li><strong>인덱스 우선 검색 모델</strong>이다</li>
<li>예측 가능하고 낮은 지연 시간의 쿼리를 제공한다</li>
<li>각 쿼리는 단일 사전 정의된 검색 인덱스를 대상으로 하며 한 번의 요청-응답 사이클로 순위가 매겨진 문서를 반환한다</li>
<li>검색 중 LLM 지원 계획, 반복, 합성이 발생하지 않는다</li>
</ul>
</section>
<section id="아키텍처" class="level4" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="아키텍처"><span class="header-section-number">2.1.2</span> 아키텍처</h4>
<pre><code>데이터 소스 → 인덱싱 → 검색 인덱스 → 쿼리 엔진 → 클라이언트 앱</code></pre>
<ul>
<li><strong>검색 서비스 위치</strong>: 처리되지 않은 콘텐츠를 포함하는 데이터 저장소와 클라이언트 앱 사이에 위치</li>
<li><strong>클라이언트 앱 역할</strong>: 검색 서비스에 쿼리 요청을 보내고 응답을 처리</li>
</ul>
</section>
<section id="워크로드" class="level4" data-number="2.1.3">
<h4 data-number="2.1.3" class="anchored" data-anchor-id="워크로드"><span class="header-section-number">2.1.3</span> 워크로드</h4>
<ol type="1">
<li><strong>인덱싱(Indexing)</strong>
<ul>
<li>콘텐츠를 인덱스에 로드하여 검색 가능하게 만듦</li>
<li>인바운드 텍스트는 토큰화되어 역 인덱스에 저장됨</li>
<li>인바운드 벡터는 벡터 인덱스에 저장됨</li>
<li><strong>JSON 문서만 인덱싱 가능</strong></li>
<li>Push 방식: JSON 문서 직접 업로드</li>
<li>Pull 방식: 인덱서 또는 Logic App 워크플로를 통해 데이터 검색 및 JSON으로 직렬화</li>
<li>AI Enrichment를 통해 텍스트 청킹, 벡터 생성, 기타 변환 적용 가능</li>
</ul></li>
<li><strong>쿼리(Querying)</strong>
<ul>
<li>인덱스에서 문서 검색</li>
<li>Full-text, Vector, Hybrid, Multimodal 쿼리 지원</li>
</ul></li>
</ol>
</section>
</section>
<section id="agentic-retrieval" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="agentic-retrieval"><span class="header-section-number">2.2</span> Agentic Retrieval</h3>
<section id="개념-1" class="level4" data-number="2.2.1">
<h4 data-number="2.2.1" class="anchored" data-anchor-id="개념-1"><span class="header-section-number">2.2.1</span> 개념</h4>
<ul>
<li><strong>멀티 쿼리 파이프라인</strong>이다</li>
<li>복잡한 에이전트 간 워크플로우를 위해 설계되었다</li>
<li>각 쿼리는 완전한 지식 도메인을 나타내는 <strong>Knowledge Base</strong>를 대상으로 한다</li>
<li>에이전트는 Knowledge Base를 참조하여 무엇을 Grounding할지 결정하고, Knowledge Base는 Grounding 수행 방법을 처리한다</li>
</ul>
</section>
<section id="knowledge-base-구성" class="level4" data-number="2.2.2">
<h4 data-number="2.2.2" class="anchored" data-anchor-id="knowledge-base-구성"><span class="header-section-number">2.2.2</span> Knowledge Base 구성</h4>
<ul>
<li><strong>하나 이상의 Knowledge Source</strong>로 구성된다</li>
<li>선택적 LLM을 통한 쿼리 계획 및 답변 합성</li>
<li>검색 동작을 제어하는 매개변수</li>
</ul>
</section>
<section id="쿼리-프로세스" class="level4" data-number="2.2.3">
<h4 data-number="2.2.3" class="anchored" data-anchor-id="쿼리-프로세스"><span class="header-section-number">2.2.3</span> 쿼리 프로세스</h4>
<p>각 쿼리는 다음 단계를 거친다:</p>
<ol type="1">
<li><strong>계획(Planning)</strong>: LLM이 쿼리 계획 수립</li>
<li><strong>분해(Decomposition)</strong>: 집중된 하위 쿼리로 분해</li>
<li><strong>병렬 검색(Parallel Retrieval)</strong>: Knowledge Source에서 병렬 검색</li>
<li><strong>의미론적 재순위(Semantic Reranking)</strong>: 결과의 의미론적 관련성 기반 재정렬</li>
<li><strong>결과 병합(Results Merging)</strong>: 세 가지 형태의 응답 생성 (에이전트 소비에 최적화)</li>
</ol>
</section>
<section id="아키텍처-특징" class="level4" data-number="2.2.4">
<h4 data-number="2.2.4" class="anchored" data-anchor-id="아키텍처-특징"><span class="header-section-number">2.2.4</span> 아키텍처 특징</h4>
<ul>
<li>Classic Search 아키텍처 위에 <strong>컨텍스트 레이어(Knowledge Base)</strong>를 추가한다</li>
<li>멀티 소스 검색을 오케스트레이션한다</li>
<li><strong>Knowledge Source 유형</strong>
<ul>
<li>Indexed Source: Classic Search와 동일한 인덱싱 및 쿼리 엔진 사용</li>
<li>Remote Source: 인덱싱을 건너뛰고 실시간 쿼리</li>
</ul></li>
</ul>
</section>
</section>
<section id="classic-search-vs-agentic-retrieval-비교" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="classic-search-vs-agentic-retrieval-비교"><span class="header-section-number">2.3</span> Classic Search vs Agentic Retrieval 비교</h3>
<table class="table">
<colgroup>
<col style="width: 14%">
<col style="width: 39%">
<col style="width: 46%">
</colgroup>
<thead>
<tr class="header">
<th>구분</th>
<th>Classic Search</th>
<th>Agentic Retrieval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>검색 대상</strong></td>
<td>스키마로 정의된 단일 인덱스</td>
<td>하나 이상의 Knowledge Source를 가리키는 Knowledge Base</td>
</tr>
<tr class="even">
<td><strong>쿼리 계획</strong></td>
<td>계획 없음, 단순 요청</td>
<td>LLM 지원 또는 사용자 제공 계획</td>
</tr>
<tr class="odd">
<td><strong>쿼리 요청</strong></td>
<td>인덱스에서 문서 검색</td>
<td>Knowledge Source에서 검색</td>
</tr>
<tr class="even">
<td><strong>응답 형태</strong></td>
<td>스키마 기반 평면화된 검색 결과</td>
<td>LLM이 생성한 답변 또는 원시 소스 데이터, 활동 로그, 참조</td>
</tr>
<tr class="odd">
<td><strong>지역 제약</strong></td>
<td>없음</td>
<td>있음 (특정 지역만 지원)</td>
</tr>
<tr class="even">
<td><strong>상태</strong></td>
<td>일반 공급(GA)</td>
<td>공개 프리뷰</td>
</tr>
</tbody>
</table>
</section>
<section id="공통-지원-기능" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="공통-지원-기능"><span class="header-section-number">2.4</span> 공통 지원 기능</h3>
<p>두 방식 모두 다음을 지원한다:</p>
<ul>
<li>Full-text Search</li>
<li>Vector Search</li>
<li>Hybrid Search</li>
<li>Multimodal Search</li>
</ul>
</section>
</section>
<section id="주요-기능" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="주요-기능"><span class="header-section-number">3</span> 주요 기능</h2>
<section id="인덱싱-및-데이터-추출" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="인덱싱-및-데이터-추출"><span class="header-section-number">3.1</span> 인덱싱 및 데이터 추출</h3>
<ul>
<li><strong>데이터 소스</strong>: JSON 형식의 모든 소스에서 텍스트 수용 가능</li>
<li><strong>인덱서(Indexers)</strong>: 지원되는 데이터 소스에서 자동 데이터 가져오기
<ul>
<li>JSON 직렬화 자동 처리</li>
<li>변경 및 삭제 감지 지원</li>
<li>지원 데이터 소스: Microsoft OneLake, Azure SQL Database, Azure Cosmos DB, Azure Blob Storage</li>
<li>Logic Apps 커넥터(프리뷰): 다른 클라우드 플랫폼 데이터 포함 더 넓은 범위의 데이터 소스 접근</li>
</ul></li>
<li><strong>계층적 및 중첩 데이터 구조</strong>: Complex Types 및 Collections를 통해 모든 JSON 구조 모델링 가능</li>
<li><strong>언어 분석(Linguistic Analysis)</strong>
<ul>
<li>기본: Standard Lucene Analyzer</li>
<li>언어별 분석기: 동사 시제, 성별, 불규칙 복수형, 단어 분해 등 언어별 언어학 지능형 처리</li>
<li>사용자 정의 분석기: 음성 매칭, 정규 표현식 등 복잡한 쿼리 형식</li>
</ul></li>
</ul>
</section>
<section id="ai-통합" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="ai-통합"><span class="header-section-number">3.2</span> AI 통합</h3>
<section id="인덱싱-중-ai-처리" class="level4" data-number="3.2.1">
<h4 data-number="3.2.1" class="anchored" data-anchor-id="인덱싱-중-ai-처리"><span class="header-section-number">3.2.1</span> 인덱싱 중 AI 처리</h4>
<ul>
<li><strong>GenAI Prompt Skill (프리뷰)</strong>
<ul>
<li>인덱싱 중 대형 언어 모델 호출</li>
<li>프롬프트로 작업 결정 (이미지 설명, 콘텐츠 요약/조작 등)</li>
<li>출력은 검색 가능한 인덱스의 새 필드로 추가됨</li>
</ul></li>
</ul>
</section>
<section id="쿼리-시-ai-처리" class="level4" data-number="3.2.2">
<h4 data-number="3.2.2" class="anchored" data-anchor-id="쿼리-시-ai-처리"><span class="header-section-number">3.2.2</span> 쿼리 시 AI 처리</h4>
<ul>
<li><strong>Agentic Retrieval (프리뷰)</strong>
<ul>
<li>쿼리 계획을 위한 대형 언어 모델 사용</li>
<li>복잡한 쿼리를 분해 및 패러프레이징하여 인덱스에 대한 쿼리 커버리지 향상</li>
<li>에이전트 간 워크플로우를 위한 응답 설계</li>
<li>검색 결과를 단일 대형 문자열로 전달하여 에이전트의 독점 콘텐츠 소비 간소화</li>
<li>응답에 인용 및 쿼리 실행 정보 포함</li>
</ul></li>
</ul>
</section>
<section id="ai-enrichment" class="level4" data-number="3.2.3">
<h4 data-number="3.2.3" class="anchored" data-anchor-id="ai-enrichment"><span class="header-section-number">3.2.3</span> AI Enrichment</h4>
<ul>
<li><strong>AI 처리</strong>: 인덱서 파이프라인에 임베디드 이미지 및 자연어 처리</li>
<li><strong>Skillset</strong>: 기술을 추가 및 결합하여 AI 처리 달성
<ul>
<li>Microsoft 내장 기술: 텍스트 번역, OCR 등</li>
<li>사용자 정의 기술: 직접 제공 가능</li>
</ul></li>
<li><strong>통합 데이터 청킹 및 벡터화</strong>
<ul>
<li>Text Split Skill을 통한 데이터 청킹</li>
<li>벡터화를 통해 더 큰 구절을 작은 청크로 분할하고 벡터화</li>
<li>벡터는 Vector 및 Hybrid Search를 위한 인덱스의 전용 필드로 라우팅됨</li>
</ul></li>
<li><strong>Knowledge Store</strong>: 비검색 시나리오(지식 마이닝, 데이터 과학)를 위한 AI 강화 콘텐츠의 영구 저장소</li>
<li><strong>Enrichment Caching (프리뷰)</strong>: Skillset 실행 중 재사용 가능한 캐시된 강화 (OCR 및 이미지 분석 등 비용이 많이 드는 처리에 유용)</li>
</ul>
</section>
</section>
<section id="vector-및-hybrid-retrieval" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="vector-및-hybrid-retrieval"><span class="header-section-number">3.3</span> Vector 및 Hybrid Retrieval</h3>
<ul>
<li><strong>Vector 인덱싱</strong>: 검색 인덱스 내 Vector Field 추가로 Vector Search 시나리오 지원</li>
<li><strong>Vector 쿼리</strong>: 단일 및 다중 Vector 쿼리 작성</li>
<li><strong>Vector 검색 알고리즘</strong>
<ul>
<li>HNSW (Hierarchical Navigable Small World)</li>
<li>완전 탐색 KNN (K-Nearest Neighbors)</li>
</ul></li>
<li><strong>Vector 필터</strong>: 쿼리 실행 전후에 필터 적용으로 정보 검색 정밀도 향상</li>
<li><strong>Hybrid 정보 검색</strong>
<ul>
<li>단일 Hybrid 쿼리 요청에서 개념 및 키워드 검색</li>
<li>Vector 및 텍스트 검색 통합</li>
<li>선택적 Semantic Ranking 및 관련성 튜닝으로 최상의 결과 제공</li>
</ul></li>
<li><strong>통합 데이터 청킹 및 벡터화</strong>
<ul>
<li>Azure OpenAI Embedding, Azure Vision Multimodal, AML을 통한 벡터화</li>
<li>Microsoft Foundry 모델 카탈로그의 엔드포인트 연결</li>
<li>소스 파일에서 쿼리까지 엔드 투 엔드 인덱싱 파이프라인 제공</li>
</ul></li>
<li><strong>통합 Vector 압축 및 양자화</strong>
<ul>
<li>내장 Scalar 및 Binary Quantization으로 메모리 및 디스크의 Vector 인덱스 크기 축소</li>
<li>불필요한 벡터 저장 생략 또는 좁은 데이터 유형 할당으로 스토리지 요구 사항 감소</li>
</ul></li>
</ul>
</section>
<section id="full-text-및-기타-쿼리-형식" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="full-text-및-기타-쿼리-형식"><span class="header-section-number">3.4</span> Full-text 및 기타 쿼리 형식</h3>
<ul>
<li><strong>자유 형식 텍스트 검색</strong>
<ul>
<li>Simple Query Syntax: 논리 연산자, 구문 검색, 접미사 연산자, 우선순위 연산자</li>
<li>Full Lucene Query Syntax: Simple Syntax의 모든 작업 + Fuzzy Search, Proximity Search, Term Boosting, 정규 표현식</li>
</ul></li>
<li><strong>관련성(Relevance)</strong>
<ul>
<li>Simple Scoring: 문서 값의 함수로 관련성 모델링</li>
<li>Scoring Profiles: 사용자 지정 점수 매기기 (예: 최신 제품, 할인 제품 우선)</li>
<li>Semantic Ranker: 쿼리에 대한 의미론적 관련성 기반 결과 재순위 (프리미엄 기능)</li>
</ul></li>
<li><strong>지리공간 검색(Geospatial Search)</strong>: 지리적 좌표 기반 필터링 및 매칭</li>
<li><strong>필터 및 패싯(Filters and Facets)</strong>
<ul>
<li>패싯 탐색: 단일 쿼리 매개변수로 활성화</li>
<li>사용자 또는 개발자 지정 기준으로 필터링</li>
<li>OData 구문 사용</li>
</ul></li>
<li><strong>사용자 경험 기능</strong>
<ul>
<li><strong>Autocomplete</strong>: 검색 바에서 자동 완성 쿼리</li>
<li><strong>Search Suggestions</strong>: 부분 텍스트 입력 기반 실제 문서 제안</li>
<li><strong>Synonyms</strong>: 쿼리 범위를 암시적으로 확장하는 동등 용어 연결</li>
<li><strong>Hit Highlighting</strong>: 검색 결과의 일치 키워드에 텍스트 서식 적용</li>
<li><strong>Sorting</strong>: 인덱스 스키마를 통한 다중 필드 정렬, 쿼리 시 단일 검색 매개변수로 전환</li>
<li><strong>Paging and Throttling</strong>: 검색 결과에 대한 세밀한 제어</li>
</ul></li>
</ul>
</section>
<section id="보안-기능" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="보안-기능"><span class="header-section-number">3.5</span> 보안 기능</h3>
<ul>
<li><strong>네트워크 보안</strong>
<ul>
<li>IP 규칙: 인바운드 방화벽 지원으로 검색 서비스가 요청을 수락하는 IP 범위 설정</li>
<li>Private Endpoint: Azure Private Link를 사용한 VNet을 통한 모든 요청 강제</li>
<li>Network Security Perimeter: 다른 Azure 리소스와 함께 Azure AI Search를 네트워크 보안 경계에 가입하여 네트워크 액세스를 전체적으로 관리</li>
</ul></li>
<li><strong>데이터 암호화</strong>
<ul>
<li>Microsoft 관리 암호화: 내부 스토리지 레이어에 내장되어 있으며 취소 불가</li>
<li>고객 관리 암호화 키(CMK): Azure Key Vault에서 생성 및 관리하는 키로 인덱스 및 동의어 맵에 대한 보완 암호화</li>
<li>2020년 8월 1일 이후 생성된 서비스: CMK 암호화가 임시 디스크로 확장되어 인덱싱된 콘텐츠의 완전한 이중 암호화 제공</li>
</ul></li>
<li><strong>인바운드 액세스</strong>
<ul>
<li>Role-based Access Control (RBAC): Microsoft Entra ID의 사용자 및 그룹에 역할 할당하여 검색 콘텐츠 및 작업에 대한 제어된 액세스</li>
<li>Key-based Authentication: 역할 할당을 원하지 않는 경우 사용</li>
<li>Document-level Access Control (프리뷰): 사용자가 볼 수 없는 검색 결과 필터링. 여러 데이터 소스에 대해 액세스 제어 모델이 있는 경우 사용자 권한 메타데이터를 상속하도록 인덱스 구성 가능</li>
</ul></li>
<li><strong>아웃바운드 보안(인덱서)</strong>
<ul>
<li>Private Endpoint를 통한 데이터 연결: Azure Private Link를 통해 보호되는 Azure 리소스에 인덱서 연결</li>
<li>Managed Identity를 통한 데이터 연결: Microsoft Entra 보안 주체를 사용한 Azure 리소스 연결 인증 (하드코딩된 API 키 저장 및 전달 제거)</li>
<li>Trusted Identity를 사용한 데이터 액세스: 외부 데이터 소스에 대한 연결 문자열에서 사용자 이름 및 비밀번호 생략 가능 (Azure Storage 전용 신뢰할 수 있는 서비스 적용)</li>
</ul></li>
</ul>
</section>
<section id="portal-기능" class="level3" data-number="3.6">
<h3 data-number="3.6" class="anchored" data-anchor-id="portal-기능"><span class="header-section-number">3.6</span> Portal 기능</h3>
<ul>
<li><strong>프로토타이핑 및 검사 도구</strong>
<ul>
<li><strong>Add Index</strong>: Azure Portal의 인덱스 디자이너로 기본 스키마 생성</li>
<li><strong>Import Data Wizard</strong>: 인덱스, 인덱서, Skillset, 데이터 소스 정의 생성</li>
<li><strong>Import Data (New) Wizard</strong>: 데이터 청킹 및 벡터화를 포함한 전체 인덱싱 파이프라인 생성</li>
<li><strong>Search Explorer</strong>: 쿼리 테스트 및 Scoring Profile 개선</li>
<li><strong>Create Demo App</strong>: 검색 경험 테스트용 HTML 페이지 생성</li>
<li><strong>Debug Sessions</strong>: Skillset을 대화식으로 디버그하는 시각적 편집기 (종속성, 출력, 변환 표시)</li>
</ul></li>
<li><strong>모니터링 및 진단</strong>
<ul>
<li>모니터링 기능 활성화하여 포털에서 항상 표시되는 기본 메트릭 외 추가 정보 확인</li>
<li>추가 구성 없이 쿼리/초, 지연 시간, 조절에 대한 메트릭 자동 캡처 및 보고</li>
</ul></li>
</ul>
</section>
<section id="프로그래밍-가능성" class="level3" data-number="3.7">
<h3 data-number="3.7" class="anchored" data-anchor-id="프로그래밍-가능성"><span class="header-section-number">3.7</span> 프로그래밍 가능성</h3>
<ul>
<li><strong>REST API</strong>
<ul>
<li>Service REST API: 인덱싱, 쿼리, AI Enrichment를 포함한 데이터 평면 작업</li>
<li>Management REST API: Azure Resource Manager를 통한 서비스 생성 및 프로비저닝, 키 및 용량 관리</li>
</ul></li>
<li><strong>Azure SDK for .NET</strong>
<ul>
<li>Azure.Search.Documents: 데이터 평면 작업</li>
<li>Microsoft.Azure.Management.Search: 서비스 관리</li>
</ul></li>
<li><strong>Azure SDK for Java</strong>
<ul>
<li>com.azure.search.documents: 데이터 평면 작업</li>
<li>com.microsoft.azure.management.search: 서비스 관리</li>
</ul></li>
<li><strong>Azure SDK for Python</strong>
<ul>
<li>azure-search-documents: 데이터 평면 작업</li>
<li>azure-mgmt-search: 서비스 관리</li>
</ul></li>
<li><strong>Azure SDK for JavaScript/TypeScript</strong>
<ul>
<li>azure/search-documents: 데이터 평면 작업</li>
<li>azure/arm-search: 서비스 관리</li>
</ul></li>
</ul>
</section>
</section>
<section id="서비스-생성-및-구성" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="서비스-생성-및-구성"><span class="header-section-number">4</span> 서비스 생성 및 구성</h2>
<section id="서비스-생성-전-고려사항" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="서비스-생성-전-고려사항"><span class="header-section-number">4.1</span> 서비스 생성 전 고려사항</h3>
<section id="고정-속성" class="level4" data-number="4.1.1">
<h4 data-number="4.1.1" class="anchored" data-anchor-id="고정-속성"><span class="header-section-number">4.1.1</span> 고정 속성</h4>
<p>서비스 생성 전 다음 속성을 결정해야 한다 (서비스 수명 동안 고정):</p>
<table class="table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th>속성</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td>URL 엔드포인트의 일부가 되며 고유해야 함. 명명 규칙을 따라야 함</td>
</tr>
<tr class="even">
<td><strong>Region</strong></td>
<td>데이터 거주 및 특정 기능의 가용성 결정. 예: Semantic Ranker, Azure AI 통합은 지역 요구사항 있음</td>
</tr>
<tr class="odd">
<td><strong>Tier</strong></td>
<td>인프라, 서비스 제한, 청구 결정. 일부 기능은 하위 또는 특수 계층에서 사용 불가. 생성 후 Basic과 Standard(S1, S2, S3) 간 전환 가능</td>
</tr>
<tr class="even">
<td><strong>Compute Type</strong></td>
<td>가상화 및 보안 모델 결정. Standard VM(권장) 또는 Confidential VM 선택 가능</td>
</tr>
</tbody>
</table>
</section>
<section id="azure-구독" class="level4" data-number="4.1.2">
<h4 data-number="4.1.2" class="anchored" data-anchor-id="azure-구독"><span class="header-section-number">4.1.2</span> Azure 구독</h4>
<ul>
<li><strong>무료 평가판</strong>: <a href="https://azure.microsoft.com/pricing/free-trial/">Azure 평가판</a>으로 시작</li>
<li><strong>무료 계층</strong>: 각 Azure 구독당 하나의 무료 검색 서비스 보유 가능
<ul>
<li>단기, 비프로덕션 제품 평가용</li>
<li>모든 퀵스타트 및 대부분의 튜토리얼 완료 가능</li>
</ul></li>
<li><strong>중요</strong>: Microsoft는 장기간 비활성 상태인 무료 서비스를 삭제할 수 있음</li>
</ul>
</section>
</section>
<section id="지역-선택" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="지역-선택"><span class="header-section-number">4.2</span> 지역 선택</h3>
<section id="지역-선택-체크리스트" class="level4" data-number="4.2.1">
<h4 data-number="4.2.1" class="anchored" data-anchor-id="지역-선택-체크리스트"><span class="header-section-number">4.2.1</span> 지역 선택 체크리스트</h4>
<ol type="1">
<li><strong>Azure AI Search 가용성</strong>: <a href="https://learn.microsoft.com/en-us/azure/search/search-region-support">지원되는 지역 목록</a> 확인</li>
<li><strong>계층별 지역 가용성</strong>: <a href="https://learn.microsoft.com/en-us/azure/search/search-sku-tier#region-availability-by-tier">계층별 지역 가용성</a> 확인</li>
<li><strong>BCDR 요구사항</strong>: 비즈니스 연속성 및 재해 복구가 필요한 경우
<ul>
<li>서로 다른 Azure 지역에 2개 이상의 검색 서비스 생성</li>
<li>각 서비스에 2개 이상의 복제본 구성하여 여러 가용성 영역에 분산</li>
<li>예: 북미 운영 시 East US + West US 또는 North Central US + South Central US</li>
</ul></li>
<li><strong>AI Enrichment 요구사항</strong>
<ul>
<li>청구 목적으로 Azure AI Search 서비스와 Microsoft Foundry 리소스는 동일 지역에 있어야 함</li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-region-support#azure-public-regions">Azure AI Search 지역</a> 확인: OCR, 엔터티 인식 등 Azure AI 지원 기술 사용 시 AI Enrichment 열에서 동일 지역 여부 확인</li>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-services/computer-vision/overview-image-analysis#region-availability">Foundry Tools의 Azure Vision 지역</a> 확인: 멀티모달 API는 Foundry 리소스보다 일반적으로 더 적은 지역에서 사용 가능</li>
</ul></li>
</ol>
</section>
<section id="지역-선택-권장사항" class="level4" data-number="4.2.2">
<h4 data-number="4.2.2" class="anchored" data-anchor-id="지역-선택-권장사항"><span class="header-section-number">4.2.2</span> 지역 선택 권장사항</h4>
<ul>
<li><strong>대부분의 경우</strong>: 가까운 지역 선택</li>
<li><strong>다음의 경우 예외</strong>:
<ul>
<li>가장 가까운 지역이 <a href="https://learn.microsoft.com/en-us/azure/search/search-region-support">용량 부족</a> 상태인 경우 (Azure Portal은 리소스 설정 중 사용 불가능한 지역 및 계층을 자동으로 숨김)</li>
<li>통합 데이터 청킹 및 벡터화 또는 AI Enrichment용 내장 기술 사용 시 (지역 요구사항 있음)</li>
<li>인덱서 기반 인덱싱 또는 인덱스에 없는 애플리케이션 데이터 저장용 Azure Storage 사용 시
<ul>
<li>방화벽 설정 시 리소스를 별도 지역에 배치해야 함</li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
<section id="계층-선택" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="계층-선택"><span class="header-section-number">4.3</span> 계층 선택</h3>
<p>Azure AI Search는 여러 가격 계층으로 제공된다:</p>
<ul>
<li><strong>Free</strong>: 무료</li>
<li><strong>Basic</strong>: 기본</li>
<li><strong>Standard</strong>: 표준</li>
<li><strong>Storage Optimized</strong>: 스토리지 최적화</li>
</ul>
<section id="계층별-특징" class="level4" data-number="4.3.1">
<h4 data-number="4.3.1" class="anchored" data-anchor-id="계층별-특징"><span class="header-section-number">4.3.1</span> 계층별 특징</h4>
<ul>
<li>각 계층마다 고유한 <a href="https://learn.microsoft.com/en-us/azure/search/search-limits-quotas-capacity">용량 및 제한</a>이 있다</li>
<li>일부 기능은 계층에 종속적이다</li>
<li>컴퓨팅 특성, 기능 가용성, 지역 가용성은 <a href="https://learn.microsoft.com/en-us/azure/search/search-sku-tier">서비스 계층 선택</a> 참조</li>
<li>Basic 및 Standard 계층이 프로덕션 워크로드에 가장 일반적이다</li>
<li>많은 고객이 Free 계층으로 시작한다</li>
<li>청구 가능 계층은 주로 파티션 크기, 파티션 속도, 생성 가능한 객체 수 제한에서 차이가 난다</li>
</ul>
<p><strong>참고</strong>: 2024년 4월 3일 이후 생성된 서비스는 모든 청구 가능 계층에서 더 큰 파티션과 더 높은 Vector Quota를 제공한다.</p>
</section>
</section>
<section id="compute-type-선택" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="compute-type-선택"><span class="header-section-number">4.4</span> Compute Type 선택</h3>
<p>Compute Type은 검색 서비스 배포에 사용되는 가상화 및 보안 모델을 결정한다:</p>
<ul>
<li><strong>Default (기본 비용)</strong>
<ul>
<li>표준 Azure 인프라에 검색 서비스 배포</li>
<li>저장 및 전송 중 데이터 암호화 (사용 중 암호화는 아님)</li>
<li>대부분의 검색 워크로드에 권장</li>
</ul></li>
<li><strong>Confidential (10% 할증료)</strong>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/confidential-computing/use-cases-scenarios">Azure Confidential Computing</a> 사용</li>
<li>하드웨어 기반 신뢰 실행 환경에서 처리 격리</li>
<li>사용 중인 암호화되지 않은 데이터를 무단 액세스로부터 보호</li>
<li>고급 개인정보 보호, 규정 준수 또는 규제 요구사항이 있는 경우에만 권장</li>
</ul></li>
</ul>
<p><strong>참고</strong>: Confidential Computing은 제한된 지역 가용성, 특정 기능 비활성화 또는 제한, 검색 서비스 실행 비용 증가를 수반한다.</p>
</section>
<section id="서비스-생성-단계" class="level3" data-number="4.5">
<h3 data-number="4.5" class="anchored" data-anchor-id="서비스-생성-단계"><span class="header-section-number">4.5</span> 서비스 생성 단계</h3>
<ol type="1">
<li><a href="https://portal.azure.com/">Azure Portal</a>에 로그인</li>
<li>대시보드 왼쪽 상단에서 <strong>Create a resource</strong> 선택</li>
<li>검색 상자를 사용하여 <strong>Azure AI Search</strong> 찾기</li>
<li><strong>구독 선택</strong>: 여러 Azure 구독이 있는 경우 검색 서비스용으로 하나 선택
<ul>
<li>Customer-managed Encryption 또는 Managed Service Identity 사용 시 Azure Key Vault 또는 다른 서비스와 동일한 구독 선택</li>
</ul></li>
<li><strong>리소스 그룹 설정</strong>: 관련 리소스를 보유하는 컨테이너
<ul>
<li>동일 솔루션 리소스 통합, 비용 모니터링, 생성 날짜 확인 용도</li>
</ul></li>
<li><strong>서비스 이름 지정</strong>: URL 엔드포인트의 일부가 됨 (<code>https://your-service-name.search.windows.net</code>)
<ul>
<li>명명 규칙:
<ul>
<li><code>search.windows.net</code> 네임스페이스 내에서 고유해야 함</li>
<li>2~60자 사용</li>
<li>소문자, 숫자, 대시(-)만 사용</li>
<li>처음 두 문자 또는 마지막 문자로 대시 사용 금지</li>
<li>연속 대시 사용 금지</li>
</ul></li>
<li><strong>팁</strong>: 여러 검색 서비스가 있는 경우 서비스 이름에 지역 포함 (예: <code>myservice-westus</code>)</li>
</ul></li>
<li><strong>지역 선택</strong>: 위의 지역 선택 체크리스트 참조</li>
<li><strong>계층 선택</strong>: 위의 계층 선택 참조</li>
<li><strong>Compute Type 선택</strong>: 위의 Compute Type 선택 참조</li>
<li><strong>서비스 생성</strong>: 필요한 입력을 모두 제공한 후 검색 서비스 생성
<ul>
<li>몇 분 내에 배포됨</li>
<li>Azure 알림으로 진행 상황 모니터링 가능</li>
<li>향후 쉬운 액세스를 위해 대시보드에 서비스 고정 권장</li>
</ul></li>
</ol>
</section>
<section id="인증-구성" class="level3" data-number="4.6">
<h3 data-number="4.6" class="anchored" data-anchor-id="인증-구성"><span class="header-section-number">4.6</span> 인증 구성</h3>
<section id="기본-인증" class="level4" data-number="4.6.1">
<h4 data-number="4.6.1" class="anchored" data-anchor-id="기본-인증"><span class="header-section-number">4.6.1</span> 기본 인증</h4>
<ul>
<li>서비스 생성 시 <strong>Key-based Authentication</strong>이 기본값이다</li>
<li>가장 안전한 옵션은 아니므로 <strong>Role-based Access</strong>로 교체 권장</li>
</ul>
</section>
<section id="role-based-access-활성화" class="level4" data-number="4.6.2">
<h4 data-number="4.6.2" class="anchored" data-anchor-id="role-based-access-활성화"><span class="header-section-number">4.6.2</span> Role-based Access 활성화</h4>
<ol type="1">
<li><a href="https://portal.azure.com/">Azure Portal</a>에서 검색 서비스로 이동</li>
<li>왼쪽 창에서 <strong>Settings &gt; Keys</strong> 선택</li>
<li>인증 옵션 선택:
<ul>
<li><strong>API Keys</strong>: API 키 사용 연결</li>
<li><strong>Azure Roles</strong>: Azure 역할 사용 연결</li>
<li><strong>Both</strong>: 역할 할당 완료까지 둘 다 사용, 이후 Role-based Access Control 선택</li>
</ul></li>
</ol>
</section>
<section id="역할-할당" class="level4" data-number="4.6.3">
<h4 data-number="4.6.3" class="anchored" data-anchor-id="역할-할당"><span class="header-section-number">4.6.3</span> 역할 할당</h4>
<ul>
<li>서비스 관리자는 기본적으로 모든 Portal 페이지 및 작업에 액세스 가능</li>
<li>Key-based에서 Keyless 인증으로 전환 시 서비스 관리자는 객체 및 데이터에 대한 전체 액세스를 위해 데이터 평면 역할을 할당받아야 함</li>
<li>권장 역할:
<ul>
<li><strong>Search Service Contributor</strong>: 서비스 관리</li>
<li><strong>Search Index Data Contributor</strong>: 인덱스 데이터 기여</li>
<li><strong>Search Index Data Reader</strong>: 인덱스 데이터 읽기</li>
</ul></li>
</ul>
<p><strong>참고</strong>: 역할 할당이 적용되기까지 몇 분 소요될 수 있음. 적용 전까지 데이터 평면 작업용 Portal 페이지에서 권한 부족 메시지 표시됨.</p>
</section>
</section>
<section id="managed-identity-구성" class="level3" data-number="4.7">
<h3 data-number="4.7" class="anchored" data-anchor-id="managed-identity-구성"><span class="header-section-number">4.7</span> Managed Identity 구성</h3>
<p>인덱서를 사용한 자동 인덱싱, Applied AI, 통합 벡터화를 사용할 계획이라면 <a href="https://learn.microsoft.com/en-us/azure/search/search-how-to-managed-identities">Managed Identity를 사용하도록 검색 서비스 구성</a>해야 한다.</p>
<section id="통합-벡터화에-필요한-역할" class="level4" data-number="4.7.1">
<h4 data-number="4.7.1" class="anchored" data-anchor-id="통합-벡터화에-필요한-역할"><span class="header-section-number">4.7.1</span> 통합 벡터화에 필요한 역할</h4>
<ul>
<li><strong>Azure Storage</strong>: Storage Blob Data Reader</li>
<li><strong>Microsoft Foundry 리소스</strong>: Cognitive Services Data User</li>
</ul>
<p><strong>참고</strong>: 역할 할당이 적용되기까지 몇 분 소요될 수 있음. 네트워크 보안으로 이동하기 전에 <a href="https://learn.microsoft.com/en-us/azure/search/search-get-started-portal">Import Wizard</a>를 실행하여 역할 할당을 검증하는 것을 권장.</p>
</section>
</section>
<section id="네트워크-보안-구성" class="level3" data-number="4.8">
<h3 data-number="4.8" class="anchored" data-anchor-id="네트워크-보안-구성"><span class="header-section-number">4.8</span> 네트워크 보안 구성</h3>
<p>기본적으로 검색 서비스는 공용 인터넷 연결을 통해 인증 및 권한 부여된 요청을 수락한다.</p>
<section id="네트워크-보안-강화-옵션" class="level4" data-number="4.8.1">
<h4 data-number="4.8.1" class="anchored" data-anchor-id="네트워크-보안-강화-옵션"><span class="header-section-number">4.8.1</span> 네트워크 보안 강화 옵션</h4>
<ul>
<li><strong>방화벽 규칙 구성</strong>: IP 주소로 네트워크 액세스 제한</li>
<li><strong>Private Endpoint 구성</strong>: Azure Private Link를 통해 보호되는 Azure 리소스에서만 트래픽 허용
<ul>
<li><strong>참고</strong>: Public Endpoint를 끄면 Import Wizard가 실행되지 않음</li>
</ul></li>
</ul>
<p>자세한 정보: <a href="https://learn.microsoft.com/en-us/azure/search/search-security-overview">Azure AI Search의 보안</a></p>
</section>
</section>
<section id="용량-확인-및-청구-이해" class="level3" data-number="4.9">
<h3 data-number="4.9" class="anchored" data-anchor-id="용량-확인-및-청구-이해"><span class="header-section-number">4.9</span> 용량 확인 및 청구 이해</h3>
<section id="기본-용량" class="level4" data-number="4.9.1">
<h4 data-number="4.9.1" class="anchored" data-anchor-id="기본-용량"><span class="header-section-number">4.9.1</span> 기본 용량</h4>
<ul>
<li>기본적으로 검색 서비스는 <strong>1개의 복제본(Replica)</strong>과 <strong>1개의 파티션(Partition)</strong>으로 생성됨</li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-capacity-planning">용량 추가</a>는 복제본 및 파티션을 추가하여 가능하지만 볼륨이 필요할 때까지 대기 권장</li>
<li>많은 고객이 최소 구성으로 프로덕션 워크로드 실행</li>
</ul>
</section>
<section id="semantic-ranker" class="level4" data-number="4.9.2">
<h4 data-number="4.9.2" class="anchored" data-anchor-id="semantic-ranker"><span class="header-section-number">4.9.2</span> Semantic Ranker</h4>
<ul>
<li>Semantic Ranker는 Standard 플랜을 선택하면 서비스 실행 비용을 증가시킬 수 있음</li>
<li>이 기능을 사용하지 않으려면 서비스 레벨에서 <a href="https://learn.microsoft.com/en-us/azure/search/semantic-how-to-enable-disable">Semantic Ranker를 비활성화</a> 가능</li>
</ul>
</section>
<section id="청구에-영향을-미치는-기타-요소" class="level4" data-number="4.9.3">
<h4 data-number="4.9.3" class="anchored" data-anchor-id="청구에-영향을-미치는-기타-요소"><span class="header-section-number">4.9.3</span> 청구에 영향을 미치는 기타 요소</h4>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-sku-manage-costs#how-youre-charged-for-the-base-service">Azure AI Search 요금 청구 방식</a> 참조</li>
</ul>
</section>
</section>
<section id="진단-로깅-활성화" class="level3" data-number="4.10">
<h3 data-number="4.10" class="anchored" data-anchor-id="진단-로깅-활성화"><span class="header-section-number">4.10</span> 진단 로깅 활성화</h3>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-monitor-enable-logging">진단 로깅 활성화</a>로 사용자 활동 추적</li>
<li>이 단계를 건너뛰어도 <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/activity-log">Activity Logs</a> 및 <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/data-platform-metrics#types-of-metrics">Platform Metrics</a>는 자동으로 수집됨</li>
<li>인덱스 및 쿼리 사용 정보를 원하면 진단 로깅 활성화하고 로깅된 작업의 대상 선택 필요</li>
<li>내구성 있는 저장을 위해 <strong>Log Analytics Workspace</strong> 권장 (Azure Portal에서 시스템 쿼리 실행 가능)</li>
</ul>
<section id="내부-텔레메트리-데이터" class="level4" data-number="4.10.1">
<h4 data-number="4.10.1" class="anchored" data-anchor-id="내부-텔레메트리-데이터"><span class="header-section-number">4.10.1</span> 내부 텔레메트리 데이터</h4>
<ul>
<li>Microsoft는 서비스 및 플랫폼에 대한 텔레메트리 데이터를 내부적으로 수집</li>
<li>데이터 보존: <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/data-platform-metrics#retention-of-metrics">메트릭 보존</a> 참조</li>
<li>데이터 위치 및 개인정보 보호: <a href="https://learn.microsoft.com/en-us/azure/search/search-security-overview#data-residency">데이터 거주</a> 참조</li>
</ul>
</section>
</section>
<section id="semantic-ranker-활성화" class="level3" data-number="4.11">
<h3 data-number="4.11" class="anchored" data-anchor-id="semantic-ranker-활성화"><span class="header-section-number">4.11</span> Semantic Ranker 활성화</h3>
<ul>
<li><strong>Semantic Ranker</strong>는 월 처음 1,000개 요청까지 무료</li>
<li>최신 검색 서비스에서 기본적으로 활성화됨</li>
<li>Portal에서 활성화하려면:
<ol type="1">
<li>왼쪽 창에서 <strong>Settings &gt; Premium features</strong> 선택</li>
<li><strong>Free plan</strong> 선택</li>
</ol></li>
<li>자세한 정보: <a href="https://learn.microsoft.com/en-us/azure/search/semantic-how-to-enable-disable">Semantic Ranker 활성화</a></li>
</ul>
</section>
<section id="스케일링" class="level3" data-number="4.12">
<h3 data-number="4.12" class="anchored" data-anchor-id="스케일링"><span class="header-section-number">4.12</span> 스케일링</h3>
<p>서비스 배포 후 <a href="https://learn.microsoft.com/en-us/azure/search/search-limits-quotas-capacity">필요에 따라 스케일링</a> 가능</p>
<section id="스케일링-차원" class="level4" data-number="4.12.1">
<h4 data-number="4.12.1" class="anchored" data-anchor-id="스케일링-차원"><span class="header-section-number">4.12.1</span> 스케일링 차원</h4>
<ul>
<li><strong>Replicas(복제본)</strong>: 더 높은 검색 쿼리 부하 처리</li>
<li><strong>Partitions(파티션)</strong>: 더 많은 문서 저장 및 검색</li>
</ul>
</section>
<section id="제약사항" class="level4" data-number="4.12.2">
<h4 data-number="4.12.2" class="anchored" data-anchor-id="제약사항"><span class="header-section-number">4.12.2</span> 제약사항</h4>
<ul>
<li>스케일링은 청구 가능 계층에서만 사용 가능</li>
<li>Free 계층에서는 스케일링 불가, 복제본 및 파티션 구성 불가</li>
</ul>
</section>
<section id="중요-사항" class="level4" data-number="4.12.3">
<h4 data-number="4.12.3" class="anchored" data-anchor-id="중요-사항"><span class="header-section-number">4.12.3</span> 중요 사항</h4>
<ul>
<li>서비스는 <a href="https://azure.microsoft.com/support/legal/sla/search/v1_0/">읽기 전용 SLA를 위해 2개의 복제본, 읽기/쓰기 SLA를 위해 3개의 복제본</a>이 필요</li>
<li>리소스 추가는 월별 청구서를 증가시킴</li>
<li><a href="https://azure.microsoft.com/pricing/calculator/">가격 계산기</a>로 청구 영향 파악</li>
<li>부하에 따라 리소스 조정 가능 (예: 초기 인덱싱 시 증가, 증분 인덱싱 시 감소)</li>
</ul>
</section>
<section id="스케일링-방법" class="level4" data-number="4.12.4">
<h4 data-number="4.12.4" class="anchored" data-anchor-id="스케일링-방법"><span class="header-section-number">4.12.4</span> 스케일링 방법</h4>
<ol type="1">
<li><a href="https://portal.azure.com/">Azure Portal</a>에서 검색 서비스로 이동</li>
<li>왼쪽 창에서 <strong>Settings &gt; Scale</strong> 선택</li>
<li>슬라이더를 사용하여 복제본 및 파티션 추가</li>
</ol>
</section>
</section>
<section id="두-번째-서비스-추가-시기" class="level3" data-number="4.13">
<h3 data-number="4.13" class="anchored" data-anchor-id="두-번째-서비스-추가-시기"><span class="header-section-number">4.13</span> 두 번째 서비스 추가 시기</h3>
<p>대부분의 고객은 <a href="https://learn.microsoft.com/en-us/azure/search/search-capacity-planning">예상 부하에 충분한 계층</a>에서 단일 검색 서비스를 사용한다.</p>
<section id="단일-서비스의-장점" class="level4" data-number="4.13.1">
<h4 data-number="4.13.1" class="anchored" data-anchor-id="단일-서비스의-장점"><span class="header-section-number">4.13.1</span> 단일 서비스의 장점</h4>
<ul>
<li>하나의 서비스가 <a href="https://learn.microsoft.com/en-us/azure/search/search-limits-quotas-capacity#index-limits">선택한 계층의 최대 제한</a> 내에서 여러 인덱스를 호스팅 가능</li>
<li>각 인덱스는 서로 격리됨</li>
<li>Azure AI Search에서는 요청을 하나의 인덱스로만 보낼 수 있어 동일 서비스의 다른 인덱스에서 데이터를 검색할 가능성 감소</li>
</ul>
</section>
<section id="두-번째-서비스가-필요한-경우" class="level4" data-number="4.13.2">
<h4 data-number="4.13.2" class="anchored" data-anchor-id="두-번째-서비스가-필요한-경우"><span class="header-section-number">4.13.2</span> 두 번째 서비스가 필요한 경우</h4>
<ul>
<li><strong>지역 중단</strong>: 전체 지역 중단의 경우 Azure AI Search는 즉시 장애 조치를 제공하지 않음. 자체 다중 지역 솔루션 및 장애 조치 접근 방식 구현 필요</li>
<li><strong>멀티테넌트 아키텍처</strong>: 2개 이상의 서비스 필요</li>
<li><strong>전역 배포 애플리케이션</strong>: 각 지역의 서비스로 지연 시간 최소화</li>
</ul>
</section>
<section id="참고-사항" class="level4" data-number="4.13.3">
<h4 data-number="4.13.3" class="anchored" data-anchor-id="참고-사항"><span class="header-section-number">4.13.3</span> 참고 사항</h4>
<ul>
<li>Azure AI Search에서는 인덱싱 및 쿼리 작업을 분리할 수 없으므로 별도 워크로드를 위한 여러 서비스를 만들지 말 것</li>
<li>인덱스는 항상 생성된 서비스에서 쿼리되며 인덱스를 다른 서비스로 복사할 수 없음</li>
<li>고가용성을 위해 두 번째 서비스가 필요하지 않음
<ul>
<li>동일 서비스에서 2개 이상의 복제본을 사용하여 쿼리에 대한 고가용성 달성</li>
<li>복제본이 순차적으로 업데이트되므로 서비스 업데이트가 롤아웃될 때 최소 하나는 작동 상태</li>
</ul></li>
<li>가동 시간에 대한 자세한 정보: <a href="https://azure.microsoft.com/support/legal/sla/search/v1_0/">Service Level Agreements</a></li>
</ul>
</section>
</section>
<section id="구독에-더-많은-서비스-추가" class="level3" data-number="4.14">
<h3 data-number="4.14" class="anchored" data-anchor-id="구독에-더-많은-서비스-추가"><span class="header-section-number">4.14</span> 구독에 더 많은 서비스 추가</h3>
<p>Azure AI Search는 구독에서 처음 생성할 수 있는 <a href="https://learn.microsoft.com/en-us/azure/search/search-limits-quotas-capacity#subscription-limits">검색 서비스 수를 제한</a>한다.</p>
<section id="quota-요청-조건" class="level4" data-number="4.14.1">
<h4 data-number="4.14.1" class="anchored" data-anchor-id="quota-요청-조건"><span class="header-section-number">4.14.1</span> Quota 요청 조건</h4>
<ul>
<li>구독에 대한 Owner 또는 Contributor 권한 필요</li>
<li>지역 및 데이터 센터 용량에 따라 자동으로 Quota를 요청하여 구독에 서비스를 추가할 수 있음</li>
<li>요청 실패 시 수량을 줄이거나 지원 티켓 제출</li>
<li>대규모 Quota 증가(예: 30개 이상의 추가 서비스)는 약 1개월의 처리 기간 예상</li>
</ul>
</section>
<section id="quota-요청-단계" class="level4" data-number="4.14.2">
<h4 data-number="4.14.2" class="anchored" data-anchor-id="quota-요청-단계"><span class="header-section-number">4.14.2</span> Quota 요청 단계</h4>
<ol type="1">
<li><a href="https://portal.azure.com/">Azure Portal</a>의 대시보드로 이동</li>
<li>검색 상자를 사용하여 <strong>Quotas</strong> 서비스 찾기</li>
<li><strong>Overview</strong> 탭에서 <strong>Search</strong> 타일 선택</li>
<li>필터를 설정하여 현재 구독의 검색 서비스에 대한 기존 Quota 검토 (Usage로 필터링 권장)</li>
<li>더 많은 Quota가 필요한 계층 및 지역 옆의 <strong>Request Adjustment</strong> 선택</li>
<li><strong>New Quota Request</strong>에서 구독 Quota에 대한 새 제한 입력 (현재 제한보다 커야 함)
<ul>
<li>지역 용량이 제한된 경우 요청이 자동으로 승인되지 않으며 조사 및 해결을 위한 인시던트 보고서 생성</li>
</ul></li>
<li>요청 제출</li>
<li>Azure Portal의 알림에서 새 제한에 대한 업데이트 모니터링 (대부분의 요청은 24시간 내 승인됨)</li>
</ol>
</section>
</section>
</section>
<section id="서비스-관리" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="서비스-관리"><span class="header-section-number">5</span> 서비스 관리</h2>
<section id="role-based-access-구성" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="role-based-access-구성"><span class="header-section-number">5.1</span> Role-based Access 구성</h3>
<p>Portal 액세스는 <a href="https://learn.microsoft.com/en-us/azure/search/search-security-rbac">역할 할당</a>을 기반으로 한다.</p>
<section id="기본-권한" class="level4" data-number="5.1.1">
<h4 data-number="5.1.1" class="anchored" data-anchor-id="기본-권한"><span class="header-section-number">5.1.1</span> 기본 권한</h4>
<ul>
<li>새 검색 서비스에는 기본적으로 최소 1명의 서비스 관리자 또는 소유자가 있음</li>
<li>서비스 관리자, 공동 관리자, 소유자는 다음 권한을 가짐:
<ul>
<li>더 많은 관리자 생성 및 다른 역할 할당 권한</li>
<li>기본 검색 서비스의 모든 Portal 페이지 및 작업에 대한 액세스 권한</li>
</ul></li>
</ul>
</section>
<section id="리소스-잠금" class="level4" data-number="5.1.2">
<h4 data-number="5.1.2" class="anchored" data-anchor-id="리소스-잠금"><span class="header-section-number">5.1.2</span> 리소스 잠금</h4>
<ul>
<li>기본적으로 관리자 또는 소유자는 서비스를 만들거나 삭제할 수 있음</li>
<li>실수로 인한 삭제를 방지하려면 <a href="https://learn.microsoft.com/en-us/azure/azure-resource-manager/management/lock-resources">리소스 잠금</a> 고려</li>
</ul>
</section>
<section id="api-keys-vs-rbac" class="level4" data-number="5.1.3">
<h4 data-number="5.1.3" class="anchored" data-anchor-id="api-keys-vs-rbac"><span class="header-section-number">5.1.3</span> API Keys vs RBAC</h4>
<ul>
<li>각 검색 서비스에는 <a href="https://learn.microsoft.com/en-us/azure/search/search-security-api-keys">API Keys</a>가 제공되며 기본적으로 Key-based 인증 사용</li>
<li>보안 향상을 위해 Microsoft Entra ID 및 RBAC 사용 권장</li>
<li>RBAC는 API 키를 일반 텍스트로 저장하고 전달할 필요성을 제거함</li>
</ul>
</section>
<section id="인증-전환" class="level4" data-number="5.1.4">
<h4 data-number="5.1.4" class="anchored" data-anchor-id="인증-전환"><span class="header-section-number">5.1.4</span> 인증 전환</h4>
<ul>
<li>Key-based에서 Keyless 인증으로 전환 시:
<ul>
<li>서비스 관리자는 객체 및 데이터에 대한 전체 액세스를 위해 데이터 평면 역할을 할당받아야 함</li>
<li>필요한 역할: Search Service Contributor, Search Index Data Contributor, Search Index Data Reader</li>
</ul></li>
</ul>
</section>
</section>
<section id="개발자에게-연결-정보-제공" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="개발자에게-연결-정보-제공"><span class="header-section-number">5.2</span> 개발자에게 연결 정보 제공</h3>
<p>Azure AI Search에 연결하려면 개발자에게 다음이 필요하다:</p>
<ul>
<li><strong>엔드포인트 또는 URL</strong>: Overview 페이지에서 확인</li>
<li><strong>API 키 또는 역할 할당</strong>
<ul>
<li>Keys 페이지에서 API 키 확인</li>
<li>또는 역할 할당 (권장)</li>
<li>Search Service Contributor, Search Index Data Contributor, Search Index Data Reader 역할 권장</li>
</ul></li>
<li><strong>Portal 액세스</strong>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-get-started-portal">Import Wizard</a> 및 <a href="https://learn.microsoft.com/en-us/azure/search/search-explorer">Search Explorer</a> 사용 권장</li>
<li>Wizard 실행을 위해서는 Contributor 이상이어야 함</li>
</ul></li>
</ul>
</section>
</section>
<section id="시작하기" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="시작하기"><span class="header-section-number">6</span> 시작하기</h2>
<section id="학습-경로-선택" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="학습-경로-선택"><span class="header-section-number">6.1</span> 학습 경로 선택</h3>
<section id="경로-결정-체크리스트" class="level4" data-number="6.1.1">
<h4 data-number="6.1.1" class="anchored" data-anchor-id="경로-결정-체크리스트"><span class="header-section-number">6.1.1</span> 경로 결정 체크리스트</h4>
<ol type="1">
<li><strong>검색 엔진 선택</strong>
<ul>
<li>에이전트 또는 챗봇을 사용하지 않는 경우: Classic Search가 대부분의 앱 요구사항 충족 (LLM 통합보다 낮은 비용 및 복잡성)</li>
<li>Knowledge Base 및 여러 Knowledge Source의 이점을 원하지만 완전한 LLM 오케스트레이션은 원하지 않는 경우: 최소 <a href="https://learn.microsoft.com/en-us/azure/search/agentic-retrieval-how-to-set-retrieval-reasoning-effort">추론 노력</a>으로 Agentic Retrieval 고려</li>
</ul></li>
<li><strong>지역 선택</strong>
<ul>
<li>Agentic Retrieval 사용: <a href="https://learn.microsoft.com/en-us/azure/search/search-region-support">지원되는 지역</a> 선택</li>
<li>Classic Search: 필요한 기능 및 용량을 제공하는 지역 선택</li>
</ul></li>
<li><strong>인덱스 바운드 콘텐츠용 인제스트 방법 선택</strong>
<ul>
<li>콘텐츠가 <a href="https://learn.microsoft.com/en-us/azure/search/search-indexer-overview#supported-data-sources">지원되는 데이터 소스</a>에 있는 경우: <a href="https://learn.microsoft.com/en-us/azure/search/search-what-is-data-import#pulling-data-into-an-index">Pull 방식</a> 사용하여 데이터 검색 및 JSON으로 직렬화</li>
<li>지원되는 데이터 소스가 없거나 콘텐츠와 인덱스가 실시간으로 동기화되어야 하는 경우: <a href="https://learn.microsoft.com/en-us/azure/search/search-what-is-data-import#pushing-data-to-an-index">Push 방식</a>이 유일한 옵션</li>
</ul></li>
<li><strong>벡터 필요 여부</strong>
<ul>
<li>LLM 및 에이전트는 벡터가 필요하지 않음</li>
<li>유사도 검색이 필요하거나 벡터로 동질화할 수 있는 콘텐츠가 있는 경우에만 사용</li>
<li>Azure AI Search는 이 작업을 위한 <a href="https://learn.microsoft.com/en-us/azure/search/vector-search-integrated-vectorization">통합 벡터화</a> 제공</li>
</ul></li>
<li><strong>사용자 기반 권한 상속 필요 여부</strong>
<ul>
<li>Remote SharePoint가 이 시나리오를 위해 설계됨</li>
<li>Azure Blob Storage 또는 ADLS Gen2의 콘텐츠에 첨부된 사용자 권한도 상속 가능</li>
<li>다른 모든 시나리오: <a href="https://learn.microsoft.com/en-us/azure/search/search-security-trimming-for-azure-search">보안 필터</a> 해결 방법 사용</li>
</ul></li>
</ol>
</section>
<section id="퀵스타트" class="level4" data-number="6.1.2">
<h4 data-number="6.1.2" class="anchored" data-anchor-id="퀵스타트"><span class="header-section-number">6.1.2</span> 퀵스타트</h4>
<p>다양한 엔드 투 엔드 검색 시나리오를 다루는 퀵스타트:</p>
<ul>
<li><strong>Agentic Retrieval</strong>: <a href="https://learn.microsoft.com/en-us/azure/search/get-started-portal-agentic-retrieval">Portal</a> | <a href="https://learn.microsoft.com/en-us/azure/search/search-get-started-agentic-retrieval">Programmatic</a></li>
<li><strong>Full-text Search</strong>: <a href="https://learn.microsoft.com/en-us/azure/search/search-get-started-portal">Portal</a> | <a href="https://learn.microsoft.com/en-us/azure/search/search-get-started-text">Programmatic</a></li>
<li><strong>Vector Search</strong>: <a href="https://learn.microsoft.com/en-us/azure/search/search-get-started-portal-import-vectors">Portal</a> | <a href="https://learn.microsoft.com/en-us/azure/search/search-get-started-vector">Programmatic</a></li>
</ul>
<p><strong>팁</strong>: 복잡하거나 사용자 정의 솔루션에 대한 도움이 필요한 경우 <a href="https://partner.microsoft.com/partnership/find-a-partner">Azure AI Search에 대한 깊은 전문 지식을 가진 파트너에게 문의</a></p>
</section>
</section>
<section id="액세스-방법" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="액세스-방법"><span class="header-section-number">6.2</span> 액세스 방법</h3>
<p>다음 방법으로 Azure AI Search에 액세스할 수 있다:</p>
<ul>
<li><strong>Azure Portal</strong>: 서비스 관리 및 콘텐츠 관리
<ul>
<li>Knowledge Base, Knowledge Source, 인덱스, 인덱서, Skillset, 데이터 소스 프로토타이핑 도구 제공</li>
</ul></li>
<li><strong>REST API</strong>: <a href="https://learn.microsoft.com/en-us/azure/search/search-api-versions#rest-apis">REST API 버전</a></li>
<li><strong>Azure SDK</strong>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-api-versions#azure-sdk-for-net">.NET</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-api-versions#azure-sdk-for-java">Java</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-api-versions#azure-sdk-for-javascript">JavaScript</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-api-versions#azure-sdk-for-python">Python</a></li>
</ul></li>
</ul>
<section id="권장-사용" class="level4" data-number="6.2.1">
<h4 data-number="6.2.1" class="anchored" data-anchor-id="권장-사용"><span class="header-section-number">6.2.1</span> 권장 사용</h4>
<ul>
<li><strong>Portal</strong>: 서비스 관리 및 콘텐츠 관리에 유용</li>
<li><strong>REST API 및 SDK</strong>: 프로덕션 자동화에 유용</li>
</ul>
</section>
</section>
</section>
<section id="참고-자료" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">7</span> 참고 자료</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-what-is-azure-search">Azure AI Search 개요</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-features-list">Azure AI Search 기능</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-create-service-portal">Portal에서 Azure AI Search 서비스 생성</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/search/search-manage">Portal에서 Azure AI Search 서비스 구성</a></li>
</ul>


</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Search</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/24-az-ai-search-overview.html</guid>
  <pubDate>Thu, 18 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure Regsion간 가상 네트워크 연결</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/23-az-regional-peering.html</link>
  <description><![CDATA[ 





<section id="문제-상황" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="문제-상황"><span class="header-section-number">1</span> 문제 상황</h2>
<section id="배경" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="배경"><span class="header-section-number">1.1</span> 배경</h3>
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/images/azure-architecture-overview.jpg" class="img-fluid"></p>
<ul>
<li>Korea Central 리전에서 VM을 생성하고 VNet을 설정했다. 이후 Azure OpenAI 리소스를 Data Zone Standard 배포 유형으로 사용하기 위해 East US 리전에 생성했다.<br>
</li>
<li><strong>이유</strong>: Korea Central은 Data Zone Standard 배포 유형을 지원하지 않는다.</li>
</ul>
</section>
<section id="발생한-문제" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="발생한-문제"><span class="header-section-number">1.2</span> 발생한 문제</h3>
<p>Azure OpenAI 리소스와 VM 리소스가 서로 다른 지역에 있어서 LLM 모델을 배포해도 접근이 차단되었다.</p>
<p><strong>원인</strong>: 서로 다른 지역에 있는 리소스는 각각의 VNet이 Peering되어야 통신이 가능하다.</p>
</section>
<section id="환경-정보" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="환경-정보"><span class="header-section-number">1.3</span> 환경 정보</h3>
<ul>
<li><strong>Korea Central (VM)</strong>
<ul>
<li>VNet: <code>vnet-aipoc-test-krc-insilico-001</code><br>
</li>
<li>리소스 그룹: <code>rg-aipoc-test-krc-001</code></li>
</ul></li>
<li><strong>East US (Azure OpenAI)</strong>
<ul>
<li>VNet: <code>vnet01-3</code><br>
</li>
<li>Private Endpoint 포함</li>
</ul></li>
</ul>
</section>
</section>
<section id="vnet-peering-개념" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="vnet-peering-개념"><span class="header-section-number">2</span> VNet Peering 개념</h2>
<section id="vnet-peering이란" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="vnet-peering이란"><span class="header-section-number">2.1</span> VNet Peering이란</h3>
<p>VNet Peering은 Azure의 백본 네트워크를 통해 두 개의 가상 네트워크를 연결하는 기능이다. 피어링된 VNet의 리소스는 동일 네트워크에 있는 것처럼 서로 통신할 수 있다.</p>
</section>
<section id="주요-특징" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="주요-특징"><span class="header-section-number">2.2</span> 주요 특징</h3>
<ul>
<li><strong>낮은 지연시간</strong>: Azure 백본 네트워크를 사용하여 빠른 통신 제공<br>
</li>
<li><strong>프라이빗 연결</strong>: 공용 인터넷을 거치지 않는 안전한 연결<br>
</li>
<li><strong>리전 간 지원</strong>: Global VNet Peering으로 서로 다른 지역 연결 가능<br>
</li>
<li><strong>양방향 설정</strong>: 두 VNet 모두에서 Peering 설정 필요</li>
</ul>
</section>
<section id="peering-유형" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="peering-유형"><span class="header-section-number">2.3</span> Peering 유형</h3>
<p><strong>Regional VNet Peering</strong><br>
- 동일 Azure 지역 내 VNet 연결<br>
- 가장 낮은 지연시간</p>
<p><strong>Global VNet Peering</strong><br>
- 서로 다른 Azure 지역 간 VNet 연결<br>
- 본 사례: Korea Central ↔︎ East US</p>
</section>
</section>
<section id="vnet-peering-설정-방법" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="vnet-peering-설정-방법"><span class="header-section-number">3</span> VNet Peering 설정 방법</h2>
<section id="단계-vnet-리소스-찾기" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="단계-vnet-리소스-찾기"><span class="header-section-number">3.1</span> 1단계: VNet 리소스 찾기</h3>
<p>Azure Portal에서 VNet 리소스를 찾는다.</p>
<ol type="1">
<li><p><strong>Azure Portal 검색 창</strong>에 리소스 그룹 이름 입력</p>
<ul>
<li>예: <code>rg-aipoc-test-krc-001</code></li>
</ul></li>
<li><p><strong>리소스 그룹</strong> 클릭</p></li>
<li><p><strong>리소스 목록</strong>에서 VNet 리소스 찾기</p>
<ul>
<li>예: <code>vnet-aipoc-test-krc-insilico-001</code></li>
</ul></li>
</ol>
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/images/peering1.png" class="img-fluid"></p>
</section>
<section id="단계-peering-메뉴-접근" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="단계-peering-메뉴-접근"><span class="header-section-number">3.2</span> 2단계: Peering 메뉴 접근</h3>
<p>VNet 리소스 페이지에서 Peering 설정 메뉴로 이동한다.</p>
<ol type="1">
<li><p><strong>왼쪽 메뉴 바</strong> 확인</p></li>
<li><p><strong>Settings (설정)</strong> 섹션으로 스크롤</p></li>
<li><p><strong>Peering</strong> 메뉴 클릭</p></li>
</ol>
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/images/peering2.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p><strong>참고</strong>: Virtual Network 리소스에는 반드시 Peering 메뉴가 존재한다. 메뉴가 보이지 않는다면 리소스 유형을 확인한다.</p>
</blockquote>
</section>
<section id="단계-peering-생성-korea-central-east-us" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="단계-peering-생성-korea-central-east-us"><span class="header-section-number">3.3</span> 3단계: Peering 생성 (Korea Central → East US)</h3>
<p>Korea Central VNet에서 East US VNet으로 Peering을 생성한다.</p>
<ol type="1">
<li><strong>Peering</strong> 메뉴에서 <strong>+ Add</strong> 클릭</li>
</ol>
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/images/peering3.png" class="img-fluid"></p>
<ol start="2" type="1">
<li><strong>피어링 설정</strong> 입력
<ul>
<li>Peering link name: 예) <code>krc-to-eus</code><br>
</li>
<li>Virtual network deployment model: <code>Resource manager</code><br>
</li>
<li>Subscription: East US VNet이 있는 구독 선택<br>
</li>
<li>Virtual network: <code>vnet01-3</code> 선택</li>
</ul></li>
<li><strong>추가 설정</strong> (기본값 유지 권장)
<ul>
<li>Allow traffic from remote virtual network: <code>Enabled</code><br>
</li>
<li>Allow traffic to remote virtual network: <code>Enabled</code><br>
</li>
<li>Allow gateway or route server transit: 필요시 설정</li>
</ul></li>
<li><strong>Add</strong> 클릭하여 Peering 생성</li>
</ol>
</section>
<section id="단계-peering-상태-확인" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="단계-peering-상태-확인"><span class="header-section-number">3.4</span> 4단계: Peering 상태 확인</h3>
<p>Peering 생성 후 연결 상태를 확인한다.</p>
<p><strong>Korea Central VNet (<code>vnet-aipoc-test-krc-insilico-001</code>)</strong><br>
- Peering status: <code>Connected</code><br>
- Remote VNet: <code>vnet01-3</code></p>
<p><strong>East US VNet (<code>vnet01-3</code>)</strong><br>
- Azure가 자동으로 역방향 Peering 생성<br>
- Peering status: <code>Connected</code><br>
- Remote VNet: <code>vnet-aipoc-test-krc-insilico-001</code></p>
<blockquote class="blockquote">
<p><strong>중요</strong>: 양방향 Peering이 모두 <code>Connected</code> 상태여야 정상 통신이 가능하다.</p>
</blockquote>
</section>
</section>
<section id="peering-방향성-이해" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="peering-방향성-이해"><span class="header-section-number">4</span> Peering 방향성 이해</h2>
<section id="양방향-설정의-필요성" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="양방향-설정의-필요성"><span class="header-section-number">4.1</span> 양방향 설정의 필요성</h3>
<p>VNet Peering은 <strong>양방향</strong>으로 설정되어야 완벽하게 통신할 수 있다.</p>
<ul>
<li><strong>A → B Peering</strong>: A VNet에서 B VNet으로의 트래픽 허용<br>
</li>
<li><strong>B → A Peering</strong>: B VNet에서 A VNet으로의 트래픽 허용</li>
</ul>
</section>
<section id="자동-생성-메커니즘" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="자동-생성-메커니즘"><span class="header-section-number">4.2</span> 자동 생성 메커니즘</h3>
<p>Azure Portal에서 Peering을 생성하면 다음과 같이 동작한다:</p>
<ol type="1">
<li><strong>소스 VNet</strong>에서 Peering 생성 요청<br>
</li>
<li>Azure가 자동으로 <strong>대상 VNet</strong>에 역방향 Peering 생성 시도<br>
</li>
<li>권한이 있다면 자동으로 양방향 Peering 완성<br>
</li>
<li>권한이 없다면 대상 VNet에서 수동으로 승인 필요</li>
</ol>
</section>
<section id="본-사례의-peering-구조" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="본-사례의-peering-구조"><span class="header-section-number">4.3</span> 본 사례의 Peering 구조</h3>
<pre><code>Korea Central                    East US  
┌─────────────────────┐         ┌─────────────────────┐  
│ vnet-aipoc-test-... │ ←─────→ │    vnet01-3         │  
│                     │         │                     │  
│  VM                 │         │  Azure OpenAI       │  
│  Private Resources  │         │  Private Endpoint   │  
└─────────────────────┘         └─────────────────────┘  </code></pre>
</section>
</section>
<section id="연결-테스트" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="연결-테스트"><span class="header-section-number">5</span> 연결 테스트</h2>
<section id="peering-설정-후-확인-사항" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="peering-설정-후-확인-사항"><span class="header-section-number">5.1</span> Peering 설정 후 확인 사항</h3>
<ol type="1">
<li><strong>Peering 상태 확인</strong>
<ul>
<li>양쪽 VNet 모두 <code>Connected</code> 상태</li>
</ul></li>
<li><strong>네트워크 연결 테스트</strong>
<ul>
<li>VM에서 Azure OpenAI Private Endpoint로 ping 또는 curl 테스트<br>
</li>
<li>예: <code>curl https://&lt;openai-resource&gt;.openai.azure.com</code></li>
</ul></li>
<li><strong>NSG (Network Security Group) 확인</strong>
<ul>
<li>필요한 포트가 열려있는지 확인<br>
</li>
<li>Azure OpenAI: HTTPS (443)</li>
</ul></li>
</ol>
</section>
<section id="문제-해결" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="문제-해결"><span class="header-section-number">5.2</span> 문제 해결</h3>
<p><strong>Peering이 Connected 상태가 아닌 경우</strong><br>
- 구독 권한 확인<br>
- VNet 주소 공간 중복 확인<br>
- Azure Policy 제약 확인</p>
<p><strong>연결은 되지만 통신이 안 되는 경우</strong><br>
- NSG 규칙 확인<br>
- Private Endpoint DNS 설정 확인<br>
- VNet의 서비스 엔드포인트 확인</p>
</section>
</section>
<section id="비용-및-제약사항" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="비용-및-제약사항"><span class="header-section-number">6</span> 비용 및 제약사항</h2>
<section id="비용" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="비용"><span class="header-section-number">6.1</span> 비용</h3>
<p><strong>Regional VNet Peering</strong><br>
- 인바운드/아웃바운드 데이터 전송 비용 발생<br>
- 약 $0.01/GB</p>
<p><strong>Global VNet Peering</strong> (본 사례)<br>
- Regional보다 높은 데이터 전송 비용<br>
- Korea Central ↔︎ East US: 약 $0.035/GB</p>
</section>
<section id="제약사항" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="제약사항"><span class="header-section-number">6.2</span> 제약사항</h3>
<ul>
<li><strong>주소 공간 중복 불가</strong>: 두 VNet의 IP 주소 범위가 겹치면 안 됨<br>
</li>
<li><strong>전이적 라우팅 미지원</strong>: A-B, B-C Peering이 있어도 A-C는 직접 통신 불가<br>
</li>
<li><strong>VPN Gateway 제약</strong>: 특정 구성에서 제한 사항 존재</li>
</ul>
</section>
</section>
<section id="참고-자료" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">7</span> 참고 자료</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview">Azure VNet Peering 공식 문서</a><br>
</li>
<li><a href="https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview#global-vnet-peering">Global VNet Peering</a></li>
</ul>


</section>

 ]]></description>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Network</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/23-az-regional-peering.html</guid>
  <pubDate>Wed, 17 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure AI Foundry Quota 및 제한 사항</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/22-az-ai-foundry-quota.html</link>
  <description><![CDATA[ 





<section id="배경지식" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="배경지식"><span class="header-section-number">1</span> 배경지식</h2>
<p>Quota의 개념을 알기위해선 먼저 Tenant가 무엇인지 이해해야한다.</p>
<section id="tenant의-개념" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="tenant의-개념"><span class="header-section-number">1.1</span> Tenant의 개념</h3>
<ul>
<li><strong>테넌트(Tenant)</strong>는 Azure의 최상위 조직 단위를 뜻한다.
<ul>
<li><strong>Microsoft Entra ID (구 Azure Active Directory)의 인스턴스</strong><br>
</li>
<li>조직 전체를 나타내는 최상위 컨테이너<br>
</li>
<li>고유한 도메인 이름을 가짐 (예: <code>yourcompany.onmicrosoft.com</code>)<br>
</li>
</ul></li>
<li>왜 조직 단위인가?
<ul>
<li><strong>중앙 집중식 관리</strong>: IT 관리자가 모든 직원 계정 관리<br>
</li>
<li><strong>접근 제어</strong>: 누가 어떤 리소스에 접근할 수 있는지 조직 차원에서 통제<br>
</li>
<li><strong>보안 정책</strong>: 조직 전체에 MFA, 비밀번호 정책 등 일괄 적용<br>
</li>
<li><strong>비용 관리</strong>: 조직의 모든 Azure 사용량을 하나의 청구서로 관리<br>
</li>
</ul></li>
<li>개인이 Azure를 쓸 때도 기술적으로는 1인 조직의 Entra ID가 자동 생성된다.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
노트
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Microsoft Entra ID는 개인이 아닌 조직 단위</strong>의 ID 관리 시스템이다.<br>
- <strong>개인 계정</strong> = 개인 휴대폰 번호<br>
- <strong>Entra ID</strong> = 회사 대표번호 시스템 (내선번호 체계)</p>
<section id="개인-vs-조직" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="개인-vs-조직"><span class="header-section-number">1.2</span> 개인 vs 조직</h3>
<p><strong>개인 Microsoft 계정</strong><br>
- <code>yourname@outlook.com</code>, <code>yourname@hotmail.com</code><br>
- 개인용 OneDrive, Xbox, Skype 등에 사용<br>
- 조직과 무관</p>
<p><strong>Microsoft Entra ID (조직)</strong><br>
- <code>yourname@yourcompany.com</code><br>
- 회사/조직의 ID 관리 시스템<br>
- 조직의 모든 직원, 앱, 리소스를 관리</p>
<ul>
<li>예시: <strong>삼성전자</strong>가 Azure를 사용한다면,</li>
</ul>
<pre><code>Entra ID 테넌트: samsung.onmicrosoft.com  
├── 사용자: kim@samsung.com  
├── 사용자: lee@samsung.com  
├── 사용자: park@samsung.com  
└── Azure 구독들  
    ├── 개발팀 구독  
    ├── 운영팀 구독  
    └── 마케팅팀 구독  </code></pre>
</section>
</div>
</div>
<ul>
<li>Azure 계층 구조</li>
</ul>
<pre><code>테넌트 (Tenant)  
  └── 구독 (Subscription)  
       └── 리소스 그룹 (Resource Group)  
            └── 리소스 (Resource)  </code></pre>
<ul>
<li>테넌트가 포함하는 것
<ul>
<li><strong>사용자 계정</strong>: 조직의 모든 직원 계정<br>
</li>
<li><strong>그룹</strong>: 사용자들의 그룹<br>
</li>
<li><strong>애플리케이션</strong>: 등록된 앱들<br>
</li>
<li><strong>구독</strong>: 여러 개의 Azure 구독<br>
</li>
<li><strong>보안 정책</strong>: 조직 전체 보안 규칙<br>
</li>
</ul></li>
<li>예시: <strong>삼성전자</strong>라는 회사가 있다면:
<ul>
<li><strong>테넌트</strong>: <code>samsung.onmicrosoft.com</code><br>
</li>
<li><strong>구독 1</strong>: 개발팀 구독<br>
</li>
<li><strong>구독 2</strong>: 운영팀 구독<br>
</li>
<li><strong>구독 3</strong>: 마케팅팀 구독</li>
</ul></li>
</ul>
<p>→ 모든 구독이 하나의 테넌트 아래에 있음</p>
</section>
</section>
<section id="quota-개요" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="quota-개요"><span class="header-section-number">2</span> Quota 개요</h2>
<section id="quota의-개념" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="quota의-개념"><span class="header-section-number">2.1</span> Quota의 개념</h3>
<ul>
<li><strong>Quota</strong>는 Azure에서 리소스 사용량에 대한 <strong>할당량(제한)</strong>을 의미한다.<br>
</li>
<li>Quota = 사용 가능한 리소스의 최대량
<ul>
<li><strong>무엇을 제한하나</strong>: API 호출 속도, 토큰 처리량, 리소스 개수 등<br>
</li>
<li><strong>왜 필요한가</strong>: 공정한 리소스 분배, 시스템 과부하 방지, 비용 관리<br>
</li>
<li><strong>어디에 적용되나</strong>: Azure 구독(Subscription) 레벨</li>
</ul></li>
</ul>
</section>
<section id="azure-ai-foundry에서의-quota" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="azure-ai-foundry에서의-quota"><span class="header-section-number">2.2</span> Azure AI Foundry에서의 Quota</h3>
<ul>
<li>각 모델은 사용 가능한 지역마다 독립적인 할당량 풀을 보유한다<br>
</li>
<li>예: gpt-4.1 Global Standard가 5M TPM 할당량을 가지면, 각 지역마다 5M TPM이 할당된다</li>
</ul>
<ol type="1">
<li><strong>TPM (Tokens Per Minute)</strong>: 분당 처리 가능한 토큰 수
<ul>
<li>예: gpt-4o는 기본 450K TPM 할당<br>
</li>
</ul></li>
<li><strong>RPM (Requests Per Minute)</strong>: 분당 처리 가능한 요청 수
<ul>
<li>예: gpt-4o는 기본 2.7K RPM 할당<br>
</li>
</ul></li>
<li><strong>리소스 개수 제한</strong>
<ul>
<li>지역당 Azure OpenAI 리소스 30개<br>
</li>
<li>리소스당 배포 32개</li>
</ul></li>
</ol>
</section>
<section id="quota의-범위" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="quota의-범위"><span class="header-section-number">2.3</span> Quota의 범위</h3>
<ul>
<li>Quota는 테넌트 레벨이 아닌 <strong>Azure 구독(Subscription) 레벨</strong>에서 적용된다
<ul>
<li><strong>테넌트 레벨이라면</strong>: 회사 전체에 할당량 1개<br>
</li>
<li><strong>구독 레벨 (실제)</strong>: 각 구독마다 독립적인 할당량<br>
</li>
<li>예를 들어, 개발팀 구독에서 100만 TPM을 다 써도 운영팀 구독의 100만 TPM에는 영향 없음.<br>
</li>
</ul></li>
<li>지역별, 구독별, 모델별 또는 배포 유형별로 제한이 설정된다<br>
</li>
<li>동일 구독 내에서 여러 지역에 리소스를 분산하면 더 많은 총 TPM/RPM 사용 가능하다
<ul>
<li>다시 말해서, Azure의 Quota(예: TPM/RPM)는 <strong>구독(Subscription) × 지역(Region) 단위</strong>로 각각 별도로 할당된다.<br>
</li>
<li><strong>즉, 지역별로 할당량 풀이 따로 존재</strong>하므로,<br>
</li>
<li>한 지역의 할당량을 다 써도 다른 지역의 리소스는 별도의 할당량으로 추가 사용이 가능하다.<br>
</li>
<li>그러므로, <strong>Azure Open AI 리소스를 여러 지역에 만들어 이용해야 더 많은 누적 TPM/RPM을 확보할 수 있다.</strong><br>
</li>
<li>예를 들어,
<ul>
<li>구독 A의 Korea Central에 gpt-4o 리소스 1개 (450K TPM)<br>
</li>
<li>같은 구독 A의 East US 2에 gpt-4o 리소스 1개 (450K TPM)</li>
</ul></li>
</ul>
→ 이 경우, 두 지역의 TPM이 합쳐져서 총 900K TPM까지 사용 가능하다.</li>
</ul>
</section>
</section>
<section id="주요-제한-사항" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="주요-제한-사항"><span class="header-section-number">3</span> 주요 제한 사항</h2>
<section id="리소스-제한" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="리소스-제한"><span class="header-section-number">3.1</span> 리소스 제한</h3>
<ul>
<li>Azure OpenAI 리소스: 지역당 구독당 30개<br>
</li>
<li>Foundry 리소스: 지역당 구독당 100개<br>
</li>
<li>리소스당 최대 프로젝트: 250개<br>
</li>
<li>리소스당 최대 배포: 32개 (Standard), 5개 (Fine-tuned)</li>
</ul>
</section>
<section id="모델별-기본-제한" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="모델별-기본-제한"><span class="header-section-number">3.2</span> 모델별 기본 제한</h3>
<ul>
<li>DALL-E 2: 2개 동시 요청<br>
</li>
<li>DALL-E 3: 2 capacity units (6 RPM)<br>
</li>
<li>GPT-image-1: 3 capacity units (9 RPM)<br>
</li>
<li>Sora: 60 RPM<br>
</li>
<li>Sora 2: 2개 병렬 작업<br>
</li>
<li>Speech-to-text: 3 RPM</li>
</ul>
</section>
<section id="fine-tuning-제한" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="fine-tuning-제한"><span class="header-section-number">3.3</span> Fine-tuning 제한</h3>
<ul>
<li>리소스당 최대 학습 작업: 100개<br>
</li>
<li>동시 실행 학습 작업: 1개<br>
</li>
<li>최대 대기열 학습 작업: 20개<br>
</li>
<li>리소스당 최대 파일 수: 50개<br>
</li>
<li>총 파일 크기: 1GB<br>
</li>
<li>최대 학습 시간: 720시간<br>
</li>
<li>최대 학습 크기: (토큰 수 × 에폭 수) = 20억</li>
</ul>
</section>
<section id="api-제한" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="api-제한"><span class="header-section-number">3.4</span> API 제한</h3>
<ul>
<li>/embeddings 최대 입력 수: 2,048<br>
</li>
<li>/chat/completions 최대 메시지: 2,048<br>
</li>
<li>/chat/completions 최대 함수: 128<br>
</li>
<li>/chat/completions 최대 도구: 128<br>
</li>
<li>Provisioned Throughput Units (PTU) 최대: 100,000<br>
</li>
<li>Assistants/Thread당 최대 파일: 10,000<br>
</li>
<li>Assistants 최대 파일 크기: 512MB (API), 200MB (Portal)<br>
</li>
<li>Assistants 토큰 제한: 2,000,000</li>
</ul>
</section>
</section>
<section id="배포-유형별-tpmrpm-할당량" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="배포-유형별-tpmrpm-할당량"><span class="header-section-number">4</span> 배포 유형별 TPM/RPM 할당량</h2>
<section id="gpt-5-시리즈" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="gpt-5-시리즈"><span class="header-section-number">4.1</span> GPT-5 시리즈</h3>
<section id="global-standard" class="level4" data-number="4.1.1">
<h4 data-number="4.1.1" class="anchored" data-anchor-id="global-standard"><span class="header-section-number">4.1.1</span> Global Standard</h4>
<ul>
<li>gpt-5: 1M TPM / 10K RPM<br>
</li>
<li>gpt-5-mini: 1M TPM / 10K RPM<br>
</li>
<li>gpt-5-nano: 5M TPM / 150K RPM</li>
</ul>
</section>
<section id="data-zone-standard" class="level4" data-number="4.1.2">
<h4 data-number="4.1.2" class="anchored" data-anchor-id="data-zone-standard"><span class="header-section-number">4.1.2</span> Data Zone Standard</h4>
<ul>
<li>gpt-5: 300K TPM / 3K RPM<br>
</li>
<li>gpt-5-mini: 300K TPM / 3K RPM<br>
</li>
<li>gpt-5-nano: 2M TPM / 50K RPM</li>
</ul>
</section>
</section>
<section id="gpt-4.1-시리즈" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="gpt-4.1-시리즈"><span class="header-section-number">4.2</span> GPT-4.1 시리즈</h3>
<section id="global-standard-1" class="level4" data-number="4.2.1">
<h4 data-number="4.2.1" class="anchored" data-anchor-id="global-standard-1"><span class="header-section-number">4.2.1</span> Global Standard</h4>
<ul>
<li>Enterprise/MCA-E: 5M TPM / 5K RPM<br>
</li>
<li>Default: 1M TPM / 1K RPM<br>
</li>
<li>gpt-4.1-nano Enterprise: 150M TPM / 150K RPM<br>
</li>
<li>gpt-4.1-nano Default: 5M TPM / 5K RPM</li>
</ul>
</section>
<section id="data-zone-standard-1" class="level4" data-number="4.2.2">
<h4 data-number="4.2.2" class="anchored" data-anchor-id="data-zone-standard-1"><span class="header-section-number">4.2.2</span> Data Zone Standard</h4>
<ul>
<li>Enterprise/MCA-E: 2M TPM / 2K RPM<br>
</li>
<li>Default: 300K TPM / 300 RPM<br>
</li>
<li>gpt-4.1-nano Enterprise: 50M TPM / 50K RPM<br>
</li>
<li>gpt-4.1-nano Default: 2M TPM / 2K RPM</li>
</ul>
</section>
</section>
<section id="gpt-4o-시리즈" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="gpt-4o-시리즈"><span class="header-section-number">4.3</span> GPT-4o 시리즈</h3>
<section id="global-standard-2" class="level4" data-number="4.3.1">
<h4 data-number="4.3.1" class="anchored" data-anchor-id="global-standard-2"><span class="header-section-number">4.3.1</span> Global Standard</h4>
<ul>
<li>gpt-4o Enterprise: 30M TPM / 180K RPM<br>
</li>
<li>gpt-4o Default: 450K TPM / 2.7K RPM<br>
</li>
<li>gpt-4o-mini Enterprise: 150M TPM / 1.5M RPM<br>
</li>
<li>gpt-4o-mini Default: 2M TPM / 12K RPM</li>
</ul>
</section>
<section id="data-zone-standard-2" class="level4" data-number="4.3.2">
<h4 data-number="4.3.2" class="anchored" data-anchor-id="data-zone-standard-2"><span class="header-section-number">4.3.2</span> Data Zone Standard</h4>
<ul>
<li>gpt-4o Enterprise: 10M TPM / 60K RPM<br>
</li>
<li>gpt-4o Default: 300K TPM / 1.8K RPM<br>
</li>
<li>gpt-4o-mini Enterprise: 20M TPM / 120K RPM<br>
</li>
<li>gpt-4o-mini Default: 1M TPM / 6K RPM</li>
</ul>
</section>
</section>
<section id="o-시리즈-추론-모델" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="o-시리즈-추론-모델"><span class="header-section-number">4.4</span> o-시리즈 (추론 모델)</h3>
<section id="global-standard-3" class="level4" data-number="4.4.1">
<h4 data-number="4.4.1" class="anchored" data-anchor-id="global-standard-3"><span class="header-section-number">4.4.1</span> Global Standard</h4>
<ul>
<li>o3-mini Enterprise: 50M TPM / 5K RPM<br>
</li>
<li>o3-mini Default: 5M TPM / 500 RPM<br>
</li>
<li>o1 Enterprise: 30M TPM / 5K RPM<br>
</li>
<li>o1 Default: 3M TPM / 500 RPM</li>
</ul>
</section>
<section id="data-zone-standard-3" class="level4" data-number="4.4.2">
<h4 data-number="4.4.2" class="anchored" data-anchor-id="data-zone-standard-3"><span class="header-section-number">4.4.2</span> Data Zone Standard</h4>
<ul>
<li>o3 Default: 10M TPM / 10K RPM<br>
</li>
<li>o3-mini Enterprise: 20M TPM / 2K RPM<br>
</li>
<li>o3-mini Default: 2M TPM / 200 RPM</li>
</ul>
</section>
</section>
</section>
<section id="batch-api-제한" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="batch-api-제한"><span class="header-section-number">5</span> Batch API 제한</h2>
<section id="global-batch" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="global-batch"><span class="header-section-number">5.1</span> Global Batch</h3>
<ul>
<li>gpt-4.1: 5B (billion) 대기 토큰 / 200M 24시간 토큰 / 50M 일일 토큰<br>
</li>
<li>gpt-4.1-mini: 15B 대기 / 1B 24시간 / 50M 일일<br>
</li>
<li>gpt-4o: 5B 대기 / 200M 24시간 / 50M 일일<br>
</li>
<li>gpt-5: 5B 대기 / 200M 24시간 / 50M 일일<br>
</li>
<li>Global Standard 대비 50% 할인</li>
</ul>
</section>
<section id="data-zone-batch" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="data-zone-batch"><span class="header-section-number">5.2</span> Data Zone Batch</h3>
<ul>
<li>gpt-4.1: 500M 대기 / 30M 24시간 / 30M 일일<br>
</li>
<li>gpt-4o: 500M 대기 / 30M 24시간 / 30M 일일<br>
</li>
<li>gpt-5: 5B 대기 / 200M 24시간 / 50M 일일</li>
</ul>
</section>
<section id="batch-파일-제한" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="batch-파일-제한"><span class="header-section-number">5.3</span> Batch 파일 제한</h3>
<ul>
<li>리소스당 최대 파일: 500개<br>
</li>
<li>최대 입력 파일 크기: 200MB<br>
</li>
<li>파일당 최대 요청 수: 100,000개</li>
</ul>
</section>
</section>
<section id="usage-tiers-사용량-계층" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="usage-tiers-사용량-계층"><span class="header-section-number">6</span> Usage Tiers (사용량 계층)</h2>
<section id="개념" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="개념"><span class="header-section-number">6.1</span> 개념</h3>
<ul>
<li>Global Standard와 Data Zone Standard 배포에만 적용된다<br>
</li>
<li>사용량 계층은 모델별로 정의된 토큰 임계값이다<br>
</li>
<li>임계값 초과 시 응답 지연 시간 변동성이 증가할 수 있다<br>
</li>
<li>테넌트 단위로 모든 구독, 모든 지역의 총 토큰 사용량을 합산한다</li>
</ul>
</section>
<section id="주요-모델별-임계값" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="주요-모델별-임계값"><span class="header-section-number">6.2</span> 주요 모델별 임계값</h3>
<ul>
<li>gpt-5: 32억 토큰<br>
</li>
<li>gpt-5-mini: 160억 토큰<br>
</li>
<li>gpt-5-nano: 800억 토큰<br>
</li>
<li>gpt-4.1: 300억 토큰<br>
</li>
<li>gpt-4.1-mini: 1,500억 토큰<br>
</li>
<li>gpt-4.1-nano: 5,500억 토큰<br>
</li>
<li>gpt-4o: 120억 토큰<br>
</li>
<li>gpt-4o-mini: 850억 토큰<br>
</li>
<li>o3-mini: 500억 토큰<br>
</li>
<li>o1: 40억 토큰</li>
</ul>
</section>
<section id="usage-tier-초과-시-대응" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="usage-tier-초과-시-대응"><span class="header-section-number">6.3</span> Usage Tier 초과 시 대응</h3>
<ul>
<li><strong>Quota 증가 요청</strong>: Azure Portal에서 할당량 증가 신청<br>
</li>
<li><strong>PTU로 업그레이드</strong>: Provisioned Throughput Units로 전환하여 전용 리소스 확보<br>
</li>
<li><strong>사용량 모니터링</strong>: Azure Portal에서 정기적으로 사용 지표 검토</li>
</ul>
</section>
</section>
<section id="구독-유형별-제한" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="구독-유형별-제한"><span class="header-section-number">7</span> 구독 유형별 제한</h2>
<section id="enterprise-및-mca-e" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="enterprise-및-mca-e"><span class="header-section-number">7.1</span> Enterprise 및 MCA-E</h3>
<ul>
<li>가장 높은 기본 할당량 제공<br>
</li>
<li>예: gpt-4o Enterprise는 30M TPM (Default는 450K TPM)<br>
</li>
<li>GPT-5-pro는 MCA-E와 Default 구독만 사용 가능</li>
</ul>
</section>
<section id="제한된-구독-유형" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="제한된-구독-유형"><span class="header-section-number">7.2</span> 제한된 구독 유형</h3>
<ul>
<li><strong>Azure for Students</strong>: 대부분 1K TPM (o-시리즈, GPT-4.1, GPT-4.5는 0)<br>
</li>
<li><strong>MSDN</strong>: gpt-4o-mini 200K, GPT-3.5 200K, GPT-4 50K (o-시리즈는 0)<br>
</li>
<li><strong>Pay-as-you-go</strong>: gpt-4o-mini 200K, GPT-4 50K (o-시리즈는 0)<br>
</li>
<li><strong>Free Trial/Azure Pass</strong>: 모든 모델 0<br>
</li>
<li>일부 구독은 East US2와 Sweden Central의 Global Standard만 사용 가능</li>
</ul>
</section>
</section>
<section id="autoscale-기능" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="autoscale-기능"><span class="header-section-number">8</span> Autoscale 기능</h2>
<section id="개념-1" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="개념-1"><span class="header-section-number">8.1</span> 개념</h3>
<ul>
<li>리소스 사용량에 따라 자동으로 호출 제한을 증가/감소시킨다<br>
</li>
<li>기본적으로 비활성화 상태이며 수동으로 활성화해야 한다<br>
</li>
<li>유료 구독 계층에서만 사용 가능하다</li>
</ul>
</section>
<section id="지원-서비스" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="지원-서비스"><span class="header-section-number">8.2</span> 지원 서비스</h3>
<ul>
<li>Azure Vision, Language (일부), Anomaly Detector<br>
</li>
<li>Content Moderator, Custom Vision, Immersive Reader<br>
</li>
<li>LUIS, Metrics Advisor, Personalizer, QnA Maker<br>
</li>
<li>Document Intelligence<br>
</li>
<li><strong>Azure OpenAI는 Autoscale 미지원</strong> (별도 Quota 관리 필요)</li>
</ul>
</section>
<section id="동작-방식" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="동작-방식"><span class="header-section-number">8.3</span> 동작 방식</h3>
<ul>
<li>429 오류 발생 시 5분마다 가용 용량 확인<br>
</li>
<li>용량이 충분하면 점진적으로 TPS 증가 (최대 1000 TPS)<br>
</li>
<li>1시간 이상 높은 사용률 지속 시 최대 한도 도달<br>
</li>
<li>용량 부족 시 5분 후 재확인</li>
</ul>
</section>
<section id="비용-영향" class="level3" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="비용-영향"><span class="header-section-number">8.4</span> 비용 영향</h3>
<ul>
<li>가격 정책 변경 없음 (성공한 API 호출만 과금)<br>
</li>
<li>호출 제한 증가로 더 많은 트랜잭션 처리 가능 → 요금 증가 가능<br>
</li>
<li>클라이언트 버그로 인한 과다 호출 시 비용 급증 위험<br>
</li>
<li>개발 및 테스트는 고정 제한 리소스에서 수행 권장</li>
</ul>
</section>
</section>
<section id="shared-quota-공유-할당량" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="shared-quota-공유-할당량"><span class="header-section-number">9</span> Shared Quota (공유 할당량)</h2>
<section id="개념-2" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="개념-2"><span class="header-section-number">9.1</span> 개념</h3>
<ul>
<li>Foundry가 제공하는 공유 할당량 풀이다<br>
</li>
<li>여러 사용자가 여러 지역에서 동시에 사용 가능하다<br>
</li>
<li>가용성에 따라 일시적으로 할당량 접근 가능하다<br>
</li>
<li>사용 시간은 제한적이며 사용 사례에 따라 다르다</li>
</ul>
</section>
<section id="사용-목적" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="사용-목적"><span class="header-section-number">9.2</span> 사용 목적</h3>
<ul>
<li>모델 카탈로그의 추론 테스트용<br>
</li>
<li><strong>임시 테스트 엔드포인트만</strong> 생성 가능 (프로덕션 부적합)<br>
</li>
<li>프로덕션은 반드시 전용 할당량 요청 필요</li>
</ul>
</section>
<section id="과금-방식" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="과금-방식"><span class="header-section-number">9.3</span> 과금 방식</h3>
<ul>
<li>사용량 기반 과금 (Pay-as-you-go)<br>
</li>
<li>공유 할당량 사용도 일반 API 호출과 동일하게 과금</li>
</ul>
</section>
</section>
<section id="quota-관리-및-증가-요청" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="quota-관리-및-증가-요청"><span class="header-section-number">10</span> Quota 관리 및 증가 요청</h2>
<section id="foundry-portal에서-quota-확인" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="foundry-portal에서-quota-확인"><span class="header-section-number">10.1</span> Foundry Portal에서 Quota 확인</h3>
<ol type="1">
<li>Microsoft Foundry Portal 로그인<br>
</li>
<li>Management Center (하단 왼쪽) 선택<br>
</li>
<li>Quota 메뉴 클릭<br>
</li>
<li>지역별 모델 할당량 확인<br>
</li>
<li>Show all quota 토글로 전체/할당된 할당량만 표시<br>
</li>
<li>Group by 드롭다운으로 그룹화 방식 변경</li>
</ol>
</section>
<section id="quota-할당-편집" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="quota-할당-편집"><span class="header-section-number">10.2</span> Quota 할당 편집</h3>
<ul>
<li>모델 배포 라인의 연필 아이콘 클릭<br>
</li>
<li>할당량 재분배 (한 배포에서 다른 배포로 이동)<br>
</li>
<li>Request quota 버튼으로 Standard 배포 유형 증가 요청</li>
</ul>
</section>
<section id="quota-증가-요청" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="quota-증가-요청"><span class="header-section-number">10.3</span> Quota 증가 요청</h3>
<ul>
<li><a href="https://aka.ms/oai/stuquotarequest">Quota 증가 요청 양식</a> 제출<br>
</li>
<li>수요가 높아 선착순 처리<br>
</li>
<li>기존 할당량을 소비하는 트래픽 생성 고객에게 우선순위<br>
</li>
<li>조건 미충족 시 거절 가능</li>
</ul>
</section>
<section id="지역별-quota-가용성-확인" class="level3" data-number="10.4">
<h3 data-number="10.4" class="anchored" data-anchor-id="지역별-quota-가용성-확인"><span class="header-section-number">10.4</span> 지역별 Quota 가용성 확인</h3>
<ul>
<li>Foundry Portal의 Quota 뷰에서 확인<br>
</li>
<li>Capacity API로 구독별 모델 가용 용량 조회 가능<br>
</li>
<li>특정 모델/버전의 모든 지역 및 배포 유형별 가용 용량 반환</li>
</ul>
</section>
</section>
<section id="rate-limit-관리-모범-사례" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="rate-limit-관리-모범-사례"><span class="header-section-number">11</span> Rate Limit 관리 모범 사례</h2>
<section id="제한-내-유지-방법" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="제한-내-유지-방법"><span class="header-section-number">11.1</span> 제한 내 유지 방법</h3>
<ul>
<li>애플리케이션에 재시도 로직 구현<br>
</li>
<li>워크로드 급격한 변화 방지, 점진적 증가<br>
</li>
<li>다양한 부하 증가 패턴 테스트<br>
</li>
<li>필요시 배포에 할당된 할당량 증가 (다른 배포에서 이동)</li>
</ul>
</section>
<section id="타임아웃-설정-권장사항" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="타임아웃-설정-권장사항"><span class="header-section-number">11.2</span> 타임아웃 설정 권장사항</h3>
<ul>
<li><strong>추론 모델 (o-시리즈)</strong>: 최대 29분<br>
</li>
<li><strong>비추론 모델 스트리밍</strong>: 최대 60초<br>
</li>
<li><strong>비추론 모델 비스트리밍</strong>: 최대 29분<br>
</li>
<li>트래픽 패턴에 맞춰 위 값보다 낮게 조정<br>
</li>
<li>명시적으로 설정하지 않으면 라이브러리 기본값 사용</li>
</ul>
</section>
<section id="오류-발생-시" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="오류-발생-시"><span class="header-section-number">11.3</span> 429 오류 발생 시</h3>
<ul>
<li>재시도 로직 활용 (지수 백오프)<br>
</li>
<li>Quota 증가 요청<br>
</li>
<li>PTU (Provisioned Throughput) 고려<br>
</li>
<li>사용량 모니터링 및 워크로드 조정</li>
</ul>
</section>
</section>
<section id="참고-자료" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">12</span> 참고 자료</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-foundry/how-to/quota?view=foundry-classic">Azure AI Foundry Quota 관리</a><br>
</li>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-services/autoscale">Autoscale 기능</a><br>
</li>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-foundry/openai/quotas-limits?view=foundry-classic">Azure OpenAI Quotas &amp; Limits</a><br>
</li>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-models/quotas-limits?view=foundry-classic">Foundry Models Quotas &amp; Limits</a></li>
</ul>


</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/22-az-ai-foundry-quota.html</guid>
  <pubDate>Tue, 16 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure OpenAI 배포 유형과 지역 가이드</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/21-az-ai-foundry-deployment.html</link>
  <description><![CDATA[ 





<section id="문제-상황-응답-시간의-불안정성" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="문제-상황-응답-시간의-불안정성"><span class="header-section-number">1</span> 문제 상황: 응답 시간의 불안정성</h2>
<section id="관찰된-현상" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="관찰된-현상"><span class="header-section-number">1.1</span> 관찰된 현상</h3>
<p>Azure OpenAI에서 gpt-5-mini와 gpt-5-nano 모델 사용 시 시간대별로 응답 시간이 크게 변동했다:</p>
<ul>
<li>gpt-5-mini: 9초 → 21.78초 (피크 시 +142%)<br>
</li>
<li>gpt-5-nano: 13.5초 → 16.5초 (피크 시 +22%)</li>
</ul>
</section>
<section id="근본-원인-global-standard의-한계" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="근본-원인-global-standard의-한계"><span class="header-section-number">1.2</span> 근본 원인: Global Standard의 한계</h3>
<p>Global Standard는 전 세계 공유 리소스를 사용하여 다음 문제가 발생한다:</p>
<ol type="1">
<li><strong>전용 용량 없음</strong>: TPM/RPM 한도만 있고 전용 처리 용량 없음<br>
</li>
<li><strong>부하 의존적</strong>: 전 세계 사용량에 따라 성능 변동<br>
</li>
<li><strong>피크 타임 큐잉</strong>: 사용량 많은 시간대 대기 발생<br>
</li>
<li><strong>지역별 차이</strong>: 실제 처리는 미국 East US에서 수행</li>
</ol>
<p><strong>측정 데이터:</strong><br>
- 변동계수: 30-50% (일반적으로 15-30%가 정상)<br>
- 최악 사례: 142% 증가 (심각한 불안정성)<br>
- 시간대별 패턴:<br>
- 새벽 2시: 5-10초 (오프피크)<br>
- 오전 10시: 10-18초 (아시아 피크)<br>
- 오후 3시: 12-25초 (글로벌 피크)</p>
<p><strong>저녁 9시 (아시아 오프피크):</strong><br>
- Mini: 8-12초<br>
- Nano: 9-14초</p>
<p>이러한 패턴에서 알 수 있는 것은:<br>
1. SLA가 없어 응답시간을 보장할 수 없다<br>
2. 사용자 경험의 일관성이 없다<br>
3. 같은 작업도 시간대에 따라 2-3배 차이가 난다</p>
</section>
</section>
<section id="azure-openai-배포-유형-deployment-types" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="azure-openai-배포-유형-deployment-types"><span class="header-section-number">2</span> Azure OpenAI 배포 유형 (Deployment Types)</h2>
<ul>
<li>위와 같은 현상이 발생한 것은 모델에 대한 GPU computing 자원 분배 방식과 지역별 지원 서비스와 통신속도가 차이가 나기 때문이다.<br>
</li>
<li>Azure OpenAI는 데이터 처리 위치와 성능 특성에 따라 다양한 배포 유형을 제공한다.</li>
</ul>
<section id="데이터-처리-위치별-분류" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="데이터-처리-위치별-분류"><span class="header-section-number">2.1</span> 데이터 처리 위치별 분류</h3>
<p>위치별로 배포 유형이 분류된다.</p>
<section id="global-deployments-전역-배포" class="level4" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="global-deployments-전역-배포"><span class="header-section-number">2.1.1</span> Global Deployments (전역 배포)</h4>
<ul>
<li>데이터가 Azure의 전역 인프라 어디에서나 처리될 수 있다<br>
</li>
<li>동적으로 최적의 데이터센터로 트래픽을 라우팅한다<br>
</li>
<li>대신, 전세계에서 자원을 나눠쓰기 때문에 여유분의 GPU를 할당받는데 지연시간이 길어질 수 있다.<br>
</li>
<li>이 배포 유형을 선택하면 비일관적인 처리속도가 관찰된다.</li>
</ul>
</section>
<section id="data-zone-deployments-데이터-존-배포" class="level4" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="data-zone-deployments-데이터-존-배포"><span class="header-section-number">2.1.2</span> Data Zone Deployments (데이터 존 배포)</h4>
<ul>
<li>데이터가 Microsoft가 정의한 특정 데이터 존 내에서만 처리된다<br>
</li>
<li>예: 미국 리전 → 미국 내에서만 처리, EU 리전 → EU 내에서만 처리<br>
</li>
<li>데이터 거주 요구사항이 있는 경우 적합하다</li>
</ul>
</section>
</section>
<section id="배포-유형-목록" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="배포-유형-목록"><span class="header-section-number">2.2</span> 배포 유형 목록</h3>
<ul>
<li>SKU (Stock Keeping Unit)
<ul>
<li>원래는 재고 관리 단위를 의미<br>
</li>
<li>그러나, Azure와 같은 클라우드 서비스에서는 서비스 계층이나 제품 유형을 식별하는 코드로 사용<br>
</li>
<li>예: GlobalStandard, DataZoneStandard, ProvisionedManaged 등</li>
</ul></li>
</ul>
<section id="global-standard" class="level4" data-number="2.2.1">
<h4 data-number="2.2.1" class="anchored" data-anchor-id="global-standard"><span class="header-section-number">2.2.1</span> Global Standard</h4>
<ul>
<li><strong>SKU</strong>: <code>GlobalStandard</code><br>
</li>
<li><strong>과금 방식</strong>: 종량제 (Pay-per-call)<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>가장 높은 기본 할당량 제공<br>
</li>
<li>전역 인프라 활용으로 자동 부하 분산<br>
</li>
<li>대량 일관 트래픽 시 지연 변동 가능성 있음</li>
</ul></li>
</ul>
</section>
<section id="global-provisioned" class="level4" data-number="2.2.2">
<h4 data-number="2.2.2" class="anchored" data-anchor-id="global-provisioned"><span class="header-section-number">2.2.2</span> Global Provisioned</h4>
<ul>
<li><strong>SKU</strong>: <code>GlobalProvisionedManaged</code><br>
</li>
<li><strong>과금 방식</strong>: 예약 처리량 단위 (PTU) 구매<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>전용 모델 처리 용량 확보<br>
</li>
<li>높고 예측 가능한 처리량 제공<br>
</li>
<li>전역 인프라 활용</li>
</ul></li>
</ul>
</section>
<section id="global-batch" class="level4" data-number="2.2.3">
<h4 data-number="2.2.3" class="anchored" data-anchor-id="global-batch"><span class="header-section-number">2.2.3</span> Global Batch</h4>
<ul>
<li><strong>SKU</strong>: <code>GlobalBatch</code><br>
</li>
<li><strong>과금 방식</strong>: Global Standard 대비 50% 할인<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>비실시간 대량 처리용<br>
</li>
<li>24시간 이내 처리 완료 목표<br>
</li>
<li>별도의 대기열 할당량 사용</li>
</ul></li>
</ul>
</section>
<section id="data-zone-standard" class="level4" data-number="2.2.4">
<h4 data-number="2.2.4" class="anchored" data-anchor-id="data-zone-standard"><span class="header-section-number">2.2.4</span> Data Zone Standard</h4>
<ul>
<li><strong>SKU</strong>: <code>DataZoneStandard</code><br>
</li>
<li><strong>과금 방식</strong>: 종량제<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>지정된 데이터 존 내에서만 처리<br>
</li>
<li>Regional 배포보다 높은 기본 할당량<br>
</li>
<li>데이터 거주 요구사항 충족</li>
</ul></li>
</ul>
</section>
<section id="data-zone-provisioned" class="level4" data-number="2.2.5">
<h4 data-number="2.2.5" class="anchored" data-anchor-id="data-zone-provisioned"><span class="header-section-number">2.2.5</span> Data Zone Provisioned</h4>
<ul>
<li><strong>SKU</strong>: <code>DataZoneProvisionedManaged</code><br>
</li>
<li><strong>과금 방식</strong>: PTU 구매<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>데이터 존 내 전용 처리 용량<br>
</li>
<li>높고 예측 가능한 처리량<br>
</li>
<li>데이터 거주 요구사항 충족</li>
</ul></li>
</ul>
</section>
<section id="data-zone-batch" class="level4" data-number="2.2.6">
<h4 data-number="2.2.6" class="anchored" data-anchor-id="data-zone-batch"><span class="header-section-number">2.2.6</span> Data Zone Batch</h4>
<ul>
<li><strong>SKU</strong>: <code>DataZoneBatch</code><br>
</li>
<li><strong>과금 방식</strong>: 할인 요금<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>데이터 존 내 비실시간 배치 처리<br>
</li>
<li>Global Batch와 동일한 기능<br>
</li>
<li>데이터 거주 요구사항 충족</li>
</ul></li>
</ul>
</section>
<section id="standard-regional" class="level4" data-number="2.2.7">
<h4 data-number="2.2.7" class="anchored" data-anchor-id="standard-regional"><span class="header-section-number">2.2.7</span> Standard (Regional)</h4>
<ul>
<li><strong>SKU</strong>: <code>Standard</code><br>
</li>
<li><strong>과금 방식</strong>: 종량제<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>특정 Azure 지역에 고정<br>
</li>
<li>낮은~중간 수준 트래픽에 최적화<br>
</li>
<li>처리량 제한 가능</li>
</ul></li>
</ul>
</section>
<section id="regional-provisioned" class="level4" data-number="2.2.8">
<h4 data-number="2.2.8" class="anchored" data-anchor-id="regional-provisioned"><span class="header-section-number">2.2.8</span> Regional Provisioned</h4>
<ul>
<li><strong>SKU</strong>: <code>ProvisionedManaged</code><br>
</li>
<li><strong>과금 방식</strong>: PTU 구매<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>특정 지역 내 전용 처리 용량<br>
</li>
<li>PTU 단위로 처리량 보장<br>
</li>
<li>모델별로 필요한 PTU 상이</li>
</ul></li>
</ul>
</section>
<section id="developer-fine-tuned-모델용" class="level4" data-number="2.2.9">
<h4 data-number="2.2.9" class="anchored" data-anchor-id="developer-fine-tuned-모델용"><span class="header-section-number">2.2.9</span> Developer (Fine-tuned 모델용)</h4>
<ul>
<li><strong>SKU</strong>: <code>DeveloperTier</code><br>
</li>
<li><strong>과금 방식</strong>: 저렴한 평가용 요금<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>커스텀 모델 평가 전용<br>
</li>
<li>데이터 거주 보장 없음<br>
</li>
<li>SLA 없음</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="azure-지역-regions" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="azure-지역-regions"><span class="header-section-number">3</span> Azure 지역 (Regions)</h2>
<p><strong>중요</strong>: 모든 지역에서 모든 배포 유형을 지원하는 것은 아니다. 지역마다 사용 가능한 배포 유형이 다르다.</p>
<section id="주요-지역별-특징" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="주요-지역별-특징"><span class="header-section-number">3.1</span> 주요 지역별 특징</h3>
<section id="아시아-태평양" class="level4" data-number="3.1.1">
<h4 data-number="3.1.1" class="anchored" data-anchor-id="아시아-태평양"><span class="header-section-number">3.1.1</span> 아시아-태평양</h4>
<ul>
<li><strong>Korea Central</strong> (서울) - 한국 사용자 최저 네트워크 지연, Data Zone Standard 미지원<br>
</li>
<li><strong>Japan East</strong> (도쿄) - 한국과 가장 가까운 해외 리전, Data Zone Standard 미지원<br>
</li>
<li><strong>Japan West</strong> (오사카) - 일본 서부 백업 리전<br>
</li>
<li><strong>Southeast Asia</strong> (싱가포르) - 동남아시아 주요 허브<br>
</li>
<li><strong>Australia East</strong> (시드니) - 아시아-태평양 유일 Data Zone Standard 지원 지역<br>
</li>
<li><strong>East Asia</strong> (홍콩) - 중국 인접 지역, 아시아 비즈니스 허브</li>
</ul>
</section>
<section id="북미" class="level4" data-number="3.1.2">
<h4 data-number="3.1.2" class="anchored" data-anchor-id="북미"><span class="header-section-number">3.1.2</span> 북미</h4>
<ul>
<li><strong>East US</strong> (버지니아) - Azure 최대 규모 허브, 최신 기능 우선 출시<br>
</li>
<li><strong>East US 2</strong> (버지니아) - Data Zone Standard 지원, 높은 가용성<br>
</li>
<li><strong>West US</strong> (캘리포니아) - 미국 서부 주요 허브<br>
</li>
<li><strong>West US 2</strong> (워싱턴) - 시애틀 인근, 높은 안정성<br>
</li>
<li><strong>West US 3</strong> (애리조나) - Data Zone Standard 지원, 비교적 신규 리전<br>
</li>
<li><strong>Central US</strong> (아이오와) - 미국 중부 허브<br>
</li>
<li><strong>Canada Central</strong> (토론토) - 캐나다 주요 허브, 데이터 거주 규정 준수<br>
</li>
<li><strong>Canada East</strong> (퀘벡) - 캐나다 동부 백업 리전</li>
</ul>
</section>
<section id="유럽" class="level4" data-number="3.1.3">
<h4 data-number="3.1.3" class="anchored" data-anchor-id="유럽"><span class="header-section-number">3.1.3</span> 유럽</h4>
<ul>
<li><strong>North Europe</strong> (아일랜드) - Data Zone Standard 지원, 유럽 주요 허브<br>
</li>
<li><strong>West Europe</strong> (네덜란드) - Data Zone Standard 지원, 높은 네트워크 연결성<br>
</li>
<li><strong>UK South</strong> (런던) - Data Zone Standard 지원, 영국 주요 허브<br>
</li>
<li><strong>France Central</strong> (파리) - 프랑스 데이터 거주 규정 준수<br>
</li>
<li><strong>Sweden Central</strong> (스톡홀름) - Data Zone Standard 지원, 친환경 데이터센터<br>
</li>
<li><strong>Switzerland North</strong> (취리히) - 스위스 데이터 보호 규정 준수</li>
</ul>
</section>
<section id="기타" class="level4" data-number="3.1.4">
<h4 data-number="3.1.4" class="anchored" data-anchor-id="기타"><span class="header-section-number">3.1.4</span> 기타</h4>
<ul>
<li><strong>Brazil South</strong> (상파울루) - 남미 유일 리전, 브라질 데이터 거주 규정 준수<br>
</li>
<li><strong>South Africa North</strong> (요하네스버그) - 아프리카 주요 허브<br>
</li>
<li><strong>UAE North</strong> (두바이) - 중동 주요 허브, 아랍 지역 데이터 거주 준수</li>
</ul>
</section>
</section>
</section>
<section id="data-zone-standard-지원-지역-2025년-기준" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="data-zone-standard-지원-지역-2025년-기준"><span class="header-section-number">4</span> Data Zone Standard 지원 지역 (2025년 기준)</h2>
<p><strong>지원 지역</strong>:<br>
- East US 2<br>
- West US 3<br>
- North Europe<br>
- West Europe<br>
- Sweden Central<br>
- UK South<br>
- Australia East</p>
<p><strong>미지원 지역</strong>:<br>
- Korea Central ❌<br>
- Japan East ❌<br>
- Southeast Asia ❌<br>
- Canada Central/East ❌<br>
- Brazil South ❌</p>
<section id="한국-사용자를-위한-권장-사항" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="한국-사용자를-위한-권장-사항"><span class="header-section-number">4.1</span> 한국 사용자를 위한 권장 사항</h3>
<p><strong>Korea Central</strong> (서울):<br>
- Global Standard ✅<br>
- Global Provisioned ✅<br>
- Global Batch ✅<br>
- Regional Standard ✅<br>
- Data Zone Standard ❌ (미지원)</p>
<p><strong>Australia East</strong> (시드니):<br>
- 아시아-태평양에서 Data Zone Standard를 지원하는 유일한 지역<br>
- 한국에서 물리적 거리: 약 7,000km<br>
- 네트워크 지연: 100-130ms</p>
<p><strong>Japan East</strong> (도쿄):<br>
- Global Standard ✅<br>
- Global Provisioned ✅<br>
- Regional Standard ✅<br>
- Data Zone Standard ❌ (미지원)</p>
</section>
<section id="배포-유형-선택-가이드" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="배포-유형-선택-가이드"><span class="header-section-number">4.2</span> 배포 유형 선택 가이드</h3>
<p><strong>Global Standard를 선택하는 경우</strong>:<br>
- 개발 및 테스트 환경<br>
- 사용량이 적고 불규칙한 경우<br>
- 즉시 시작이 필요한 경우</p>
<p><strong>Data Zone Standard를 선택하는 경우</strong>:<br>
- 프로덕션 환경<br>
- 일관된 성능이 필요한 경우<br>
- 데이터 거주 요구사항이 있는 경우<br>
- 중간 규모 트래픽</p>
<p><strong>Provisioned를 선택하는 경우</strong>:<br>
- 대규모 프로덕션 환경<br>
- 매우 높은 처리량 필요<br>
- 낮은 지연 변동성 필수<br>
- 예측 가능한 비용 선호</p>
<p><strong>Batch를 선택하는 경우</strong>:<br>
- 비실시간 대량 처리<br>
- 비용 최적화가 최우선<br>
- 24시간 처리 시간 허용 가능</p>
</section>
</section>
<section id="참고-자료" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">5</span> 참고 자료</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-models/concepts/deployment-types?view=foundry-classic">Microsoft Azure OpenAI Deployment Types 공식 문서</a></li>
</ul>


</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/21-az-ai-foundry-deployment.html</guid>
  <pubDate>Mon, 15 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>SSH-Remote 원격 개발 환경 구축 가이드</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Security/1-ssh-remote.html</link>
  <description><![CDATA[ 





<section id="배경" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="배경"><span class="header-section-number">1</span> 배경</h2>
<p><strong>원격 개발 환경</strong>은 현대 소프트웨어 개발에서 필수적인 인프라가 되었다.<br>
클라우드 VM의 높은 컴퓨팅 성능과 일관된 실행 환경을 활용하면서도,<br>
로컬 개발 도구의 편의성을 유지할 수 있는 방법이 필요하다.</p>
<p><strong>기존 Git 동기화 방식의 한계:</strong><br>
- 로컬에서 코드 편집 → Git commit/push → VM에서 pull → 실행 테스트<br>
- 환경 차이로 인한 “내 컴퓨터에서는 잘 되는데…” 문제<br>
- 반복적인 동기화 작업의 비효율성<br>
- 대용량 데이터셋이나 특수 하드웨어(GPU) 필요 시 로컬 개발 불가</p>
<p><strong>Remote SSH의 해결책:</strong><br>
- VS Code를 VM 파일 시스템에 직접 연결<br>
- 실시간 편집과 실행이 모두 VM 환경에서 이루어짐<br>
- 로컬 편집기의 사용자 경험 + 원격 서버의 성능</p>
<p><strong>학습 목표:</strong><br>
1. Remote SSH 개발 환경의 작동 원리 이해<br>
2. SSH 접속에 필요한 필수 정보 확인 방법<br>
3. VS Code Remote SSH 설정 및 접속 실습<br>
4. 실무 환경에서의 활용 시나리오와 모범 사례</p>
<hr>
</section>
<section id="remote-ssh-개발-환경의-작동-원리" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="remote-ssh-개발-환경의-작동-원리"><span class="header-section-number">2</span> Remote SSH 개발 환경의 작동 원리</h2>
<section id="전통적-방식과의-비교" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="전통적-방식과의-비교"><span class="header-section-number">2.1</span> 전통적 방식과의 비교</h3>
<p><strong>로컬 개발 후 Git 동기화 방식:</strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1">[로컬 PC] 코드 편집  </span>
<span id="cb1-2">    ↓  </span>
<span id="cb1-3">[로컬 Git] commit &amp; push  </span>
<span id="cb1-4">    ↓  </span>
<span id="cb1-5">[원격 저장소] GitHub/GitLab  </span>
<span id="cb1-6">    ↓  </span>
<span id="cb1-7">[VM] git pull  </span>
<span id="cb1-8">    ↓  </span>
<span id="cb1-9">[VM] 코드 실행 및 테스트  </span></code></pre></div>
<p><strong>Remote SSH를 통한 VM 직접 개발:</strong></p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1">[로컬 VS Code] ← SSH 터널 → [VM의 VS Code Server]  </span>
<span id="cb2-2">                              ↓  </span>
<span id="cb2-3">                        [VM 파일 시스템]  </span>
<span id="cb2-4">                              ↓  </span>
<span id="cb2-5">                        [즉시 실행 가능]  </span></code></pre></div>
</section>
<section id="개발-방식-비교표" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="개발-방식-비교표"><span class="header-section-number">2.2</span> 개발 방식 비교표</h3>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>로컬 개발 후 Git 동기화</th>
<th>Remote SSH를 통한 VM 직접 개발</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>작업 위치</strong></td>
<td>로컬 PC 파일 시스템</td>
<td>VM 파일 시스템</td>
</tr>
<tr class="even">
<td><strong>실행 환경</strong></td>
<td>로컬 PC (환경 차이 가능)</td>
<td>VM (프로덕션과 동일)</td>
</tr>
<tr class="odd">
<td><strong>동기화</strong></td>
<td>수동 (git push/pull)</td>
<td>자동 (저장 시 즉시 반영)</td>
</tr>
<tr class="even">
<td><strong>컴퓨팅 리소스</strong></td>
<td>로컬 PC 성능에 의존</td>
<td>VM의 높은 사양 활용</td>
</tr>
<tr class="odd">
<td><strong>네트워크 의존성</strong></td>
<td>낮음 (동기화 시에만)</td>
<td>높음 (실시간 연결 필요)</td>
</tr>
<tr class="even">
<td><strong>초기 설정</strong></td>
<td>간단 (git 설정)</td>
<td>중간 (SSH 설정 필요)</td>
</tr>
<tr class="odd">
<td><strong>대용량 데이터</strong></td>
<td>로컬 다운로드 필요</td>
<td>VM에서 직접 접근</td>
</tr>
<tr class="even">
<td><strong>GPU/특수 하드웨어</strong></td>
<td>로컬 PC 제약</td>
<td>VM 리소스 활용</td>
</tr>
<tr class="odd">
<td><strong>비용</strong></td>
<td>로컬 PC 성능 업그레이드</td>
<td>클라우드 VM 사용 비용</td>
</tr>
</tbody>
</table>
</section>
<section id="vs-code-remote-ssh-아키텍처" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="vs-code-remote-ssh-아키텍처"><span class="header-section-number">2.3</span> VS Code Remote SSH 아키텍처</h3>
<p><strong>핵심 구성 요소:</strong></p>
<p><strong>로컬 VS Code (Client):</strong><br>
- 사용자 인터페이스 제공<br>
- 키보드 입력, 파일 탐색 요청 전송<br>
- SSH 터널을 통한 통신 관리</p>
<p><strong>SSH 터널 (Encrypted Channel):</strong><br>
- 로컬과 원격 간 암호화된 통신 채널<br>
- 포트 22 (기본값) 또는 사용자 지정 포트 사용<br>
- 모든 데이터는 SSH 프로토콜로 암호화</p>
<p><strong>VS Code Server (VM에 자동 설치):</strong><br>
- 최초 접속 시 자동으로 VM의 <code>~/.vscode-server/</code> 디렉토리에 설치<br>
- 파일 시스템 접근, 코드 실행, 터미널 명령 처리<br>
- 로컬 VS Code에 결과 전송</p>
<p><strong>작동 흐름:</strong><br>
1. 사용자가 로컬 VS Code에서 파일 열기 요청<br>
2. SSH 터널을 통해 VM의 VS Code Server에 요청 전달<br>
3. VS Code Server가 VM 파일 시스템에서 파일 읽기<br>
4. 파일 내용을 SSH 터널로 로컬에 전송<br>
5. 로컬 VS Code가 파일 내용을 화면에 표시<br>
6. 사용자가 편집 후 저장하면 역순으로 VM에 즉시 반영</p>
</section>
<section id="remote-ssh의-핵심-이점" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="remote-ssh의-핵심-이점"><span class="header-section-number">2.4</span> Remote SSH의 핵심 이점</h3>
<p><strong>일관된 실행 환경:</strong><br>
- 개발/테스트/프로덕션 환경을 동일하게 유지<br>
- “내 컴퓨터에서는 되는데” 문제 해결<br>
- 라이브러리 버전, OS 설정 불일치 제거</p>
<p><strong>고성능 컴퓨팅 활용:</strong><br>
- 머신러닝 학습에 VM의 GPU 직접 사용<br>
- 대규모 데이터 처리를 VM 메모리로 수행<br>
- 로컬 PC 성능 제약 극복</p>
<p><strong>즉각적인 피드백:</strong><br>
- 코드 저장 즉시 VM에 반영<br>
- 터미널에서 바로 실행 및 디버깅<br>
- Git push/pull 없이 작업 가능</p>
<p><strong>보안 강화:</strong><br>
- 민감한 데이터가 로컬에 다운로드되지 않음<br>
- SSH 키 기반 인증으로 접근 통제<br>
- VM의 방화벽 규칙으로 접근 제한</p>
<hr>
</section>
</section>
<section id="vm-접속을-위한-필수-정보-확인" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="vm-접속을-위한-필수-정보-확인"><span class="header-section-number">3</span> VM 접속을 위한 필수 정보 확인</h2>
<section id="ssh-접속의-3대-필수-요소" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="ssh-접속의-3대-필수-요소"><span class="header-section-number">3.1</span> SSH 접속의 3대 필수 요소</h3>
<p>Remote SSH 접속을 위해 반드시 필요한 정보는 다음과 같다.</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 34%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>정보</th>
<th>설명</th>
<th>확인 방법</th>
<th>예시 값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>HostName</strong></td>
<td>VM의 <strong>공용 IP 주소(Public IP)</strong></td>
<td>클라우드 콘솔에서 확인</td>
<td><code>20.196.144.16</code></td>
</tr>
<tr class="even">
<td><strong>User</strong></td>
<td>VM 운영체제의 사용자 계정명</td>
<td>VM 생성 시 설정한 값</td>
<td><code>ubuntu</code>, <code>azureuser</code></td>
</tr>
<tr class="odd">
<td><strong>Port</strong></td>
<td>SSH 서비스 포트 번호</td>
<td>기본값 22 (변경 가능)</td>
<td><code>22</code></td>
</tr>
<tr class="even">
<td><strong>인증 정보</strong></td>
<td>비밀번호 또는 SSH 키 파일</td>
<td>VM 생성 시 설정</td>
<td>키: <code>~/.ssh/vm_key.pem</code></td>
</tr>
</tbody>
</table>
</section>
<section id="public-ip-vs-private-ip" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="public-ip-vs-private-ip"><span class="header-section-number">3.2</span> Public IP vs Private IP</h3>
<p><strong>Public IP (공인 IP):</strong><br>
- 인터넷을 통해 전 세계 어디서든 접근 가능<br>
- 클라우드 VM에 할당되는 고유 주소<br>
- <strong>Remote SSH 접속에 반드시 필요</strong><br>
- 예: <code>20.196.144.16</code>, <code>52.231.18.204</code></p>
<p><strong>Private IP (사설 IP):</strong><br>
- 동일 가상 네트워크(VNet/VPC) 내부에서만 접근 가능<br>
- 인터넷에서 직접 접근 불가<br>
- 예: <code>10.0.0.4</code>, <code>172.16.0.10</code></p>
<p><strong>중요:</strong> 로컬 PC에서 VM에 SSH 접속하려면 <strong>반드시 Public IP가 필요</strong>하다.<br>
Private IP만 있는 경우 다음 방법 중 하나를 사용해야 한다:<br>
- Public IP 추가 할당<br>
- Bastion Host/Jump Server를 통한 접속<br>
- VPN 연결 후 Private IP 사용</p>
</section>
<section id="클라우드별-public-ip-확인-방법" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="클라우드별-public-ip-확인-방법"><span class="header-section-number">3.3</span> 클라우드별 Public IP 확인 방법</h3>
<p><strong>Azure:</strong><br>
1. Azure Portal (<a href="https://portal.azure.com">https://portal.azure.com</a>) 접속<br>
2. 해당 VM 리소스로 이동<br>
3. <strong>개요(Overview)</strong> 탭에서 “공용 IP 주소” 항목 확인<br>
4. 또는 <strong>네트워킹(Networking)</strong> 메뉴에서 네트워크 인터페이스 확인</p>
<p><strong>AWS:</strong><br>
1. AWS Management Console 접속<br>
2. EC2 Dashboard → Instances<br>
3. 해당 인스턴스 선택<br>
4. <strong>Details</strong> 탭에서 “Public IPv4 address” 확인</p>
<p><strong>GCP:</strong><br>
1. Google Cloud Console 접속<br>
2. Compute Engine → VM instances<br>
3. 해당 인스턴스의 “External IP” 열 확인</p>
<p><strong>On-Premise:</strong><br>
- 서버 관리자에게 외부 접속 가능한 IP 주소 문의<br>
- <code>ifconfig</code> (Linux) 또는 <code>ipconfig</code> (Windows) 명령으로 네트워크 인터페이스 확인</p>
</section>
<section id="사용자-계정명-확인" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="사용자-계정명-확인"><span class="header-section-number">3.4</span> 사용자 계정명 확인</h3>
<p><strong>Linux VM:</strong><br>
- Ubuntu: 일반적으로 <code>ubuntu</code><br>
- CentOS/RHEL: 일반적으로 <code>centos</code> 또는 <code>ec2-user</code> (AWS)<br>
- Azure: 생성 시 지정한 사용자명 (예: <code>azureuser</code>)</p>
<p><strong>확인 방법:</strong><br>
- VM 생성 시 설정한 값 참조<br>
- 클라우드 콘솔의 VM 상세 정보에서 확인<br>
- 기존 접속 기록이 있다면 해당 사용자명 사용</p>
</section>
<section id="ssh-인증-방식" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="ssh-인증-방식"><span class="header-section-number">3.5</span> SSH 인증 방식</h3>
<p><strong>비밀번호 인증:</strong><br>
- VM 생성 시 설정한 비밀번호로 로그인<br>
- 간단하지만 보안성이 낮음<br>
- 무차별 대입 공격(Brute Force Attack)에 취약</p>
<p><strong>SSH 키 인증 (권장):</strong><br>
- 공개키-개인키 쌍을 이용한 암호화 인증<br>
- 비밀번호보다 훨씬 안전<br>
- 클라우드 VM 생성 시 기본 옵션</p>
<p><strong>SSH 키 파일 형식:</strong><br>
- <code>.pem</code> (Privacy Enhanced Mail): AWS, Azure에서 주로 사용<br>
- <code>.ppk</code> (PuTTY Private Key): Windows PuTTY에서 사용<br>
- OpenSSH 형식: <code>id_rsa</code>, <code>id_ed25519</code> (Linux/macOS 기본)</p>
<p><strong>키 파일 권한 설정:</strong><br>
SSH 키 파일은 보안을 위해 소유자만 읽을 수 있도록 권한을 설정해야 한다.</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Linux/macOS  </span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 600 ~/.ssh/my_vm_key.pem  </span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 권한 확인  </span></span>
<span id="cb3-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ls</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-l</span> ~/.ssh/my_vm_key.pem  </span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 출력: -rw------- 1 user user 1704 Dec 11 10:00 my_vm_key.pem  </span></span></code></pre></div>
<p>Windows에서는 파일 속성 → 보안 탭에서 사용자별 권한을 설정한다.</p>
<hr>
</section>
</section>
<section id="ssh-config-파일-설정" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="ssh-config-파일-설정"><span class="header-section-number">4</span> SSH Config 파일 설정</h2>
<section id="ssh-config-파일의-역할" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="ssh-config-파일의-역할"><span class="header-section-number">4.1</span> SSH Config 파일의 역할</h3>
<p>SSH Config 파일(<code>~/.ssh/config</code>)은 SSH 접속 정보를 저장하여 반복적인 입력을 줄여준다.</p>
<p><strong>장점:</strong><br>
- 복잡한 접속 명령을 간단한 별칭으로 대체<br>
- 여러 VM의 접속 정보를 체계적으로 관리<br>
- VS Code Remote SSH가 자동으로 인식<br>
- 포트 포워딩, 프록시 설정 등 고급 옵션 적용 가능</p>
</section>
<section id="config-파일-위치" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="config-파일-위치"><span class="header-section-number">4.2</span> Config 파일 위치</h3>
<p><strong>Linux/macOS:</strong><br>
<code>~/.ssh/config</code></p>
<p><strong>Windows:</strong><br>
<code>C:\Users\사용자명\.ssh\config</code></p>
<p>파일이 없다면 새로 생성한다.</p>
</section>
<section id="vs-code에서-config-파일-편집" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="vs-code에서-config-파일-편집"><span class="header-section-number">4.3</span> VS Code에서 Config 파일 편집</h3>
<p><strong>방법 1: Command Palette 사용 (권장)</strong><br>
1. <code>Ctrl+Shift+P</code> (macOS: <code>Cmd+Shift+P</code>) 눌러 명령 팔레트 열기<br>
2. <code>Remote-SSH: Open SSH Configuration File...</code> 입력 및 선택<br>
3. Config 파일 위치 선택 (보통 사용자 홈 디렉토리의 <code>.ssh/config</code>)<br>
4. VS Code 편집기에서 파일 열림</p>
<p><strong>방법 2: 직접 열기</strong><br>
VS Code에서 <code>File &gt; Open File...</code> → <code>~/.ssh/config</code> 경로 입력</p>
</section>
<section id="config-파일-기본-구조" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="config-파일-기본-구조"><span class="header-section-number">4.4</span> Config 파일 기본 구조</h3>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb4-1">Host 별칭  </span>
<span id="cb4-2">    HostName IP주소_또는_도메인  </span>
<span id="cb4-3">    User 사용자명  </span>
<span id="cb4-4">    Port 포트번호  </span>
<span id="cb4-5">    IdentityFile 키_파일_경로  </span></code></pre></div>
<p><strong>각 항목 설명:</strong></p>
<p><strong>Host:</strong><br>
- SSH 접속 시 사용할 별칭 (임의 지정 가능)<br>
- 예: <code>my-dev-server</code>, <code>azure-ml-vm</code>, <code>production-web-01</code></p>
<p><strong>HostName:</strong><br>
- 실제 접속할 IP 주소 또는 도메인명<br>
- Public IP 주소 사용 (예: <code>20.196.144.16</code>)</p>
<p><strong>User:</strong><br>
- VM의 사용자 계정명<br>
- 예: <code>ubuntu</code>, <code>azureuser</code>, <code>ec2-user</code></p>
<p><strong>Port:</strong><br>
- SSH 서비스 포트 (기본값: 22)<br>
- 보안상 다른 포트로 변경한 경우 해당 포트 입력</p>
<p><strong>IdentityFile:</strong><br>
- SSH 개인키 파일의 절대 경로<br>
- 비밀번호 인증 시에는 생략 가능<br>
- 틸드(<code>~</code>) 사용 가능: <code>~/.ssh/my_key.pem</code></p>
</section>
<section id="실전-config-파일-예시" class="level3" data-number="4.5">
<h3 data-number="4.5" class="anchored" data-anchor-id="실전-config-파일-예시"><span class="header-section-number">4.5</span> 실전 Config 파일 예시</h3>
<p><strong>예시 1: 비밀번호 인증 방식</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1">Host azure-dev-vm  </span>
<span id="cb5-2">    HostName 20.196.144.16  </span>
<span id="cb5-3">    User ubuntu  </span>
<span id="cb5-4">    Port 22  </span></code></pre></div>
<p>접속 시 비밀번호를 입력하는 프롬프트가 나타난다.</p>
<p><strong>예시 2: SSH 키 인증 방식 (권장)</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1">Host azure-ml-gpu  </span>
<span id="cb6-2">    HostName 52.231.18.204  </span>
<span id="cb6-3">    User azureuser  </span>
<span id="cb6-4">    Port 22  </span>
<span id="cb6-5">    IdentityFile ~/.ssh/azure_ml_key.pem  </span></code></pre></div>
<p>SSH 키 파일을 사용하여 자동 인증된다.</p>
<p><strong>예시 3: 여러 VM 관리</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"># 개발 환경 VM  </span>
<span id="cb7-2">Host dev-server  </span>
<span id="cb7-3">    HostName 10.0.1.100  </span>
<span id="cb7-4">    User developer  </span>
<span id="cb7-5">    Port 2222  </span>
<span id="cb7-6">    IdentityFile ~/.ssh/dev_key.pem  </span>
<span id="cb7-7"></span>
<span id="cb7-8"># 스테이징 환경 VM  </span>
<span id="cb7-9">Host staging-server  </span>
<span id="cb7-10">    HostName 10.0.2.100  </span>
<span id="cb7-11">    User deployer  </span>
<span id="cb7-12">    Port 22  </span>
<span id="cb7-13">    IdentityFile ~/.ssh/staging_key.pem  </span>
<span id="cb7-14"></span>
<span id="cb7-15"># 프로덕션 환경 VM  </span>
<span id="cb7-16">Host prod-server  </span>
<span id="cb7-17">    HostName 20.50.30.40  </span>
<span id="cb7-18">    User admin  </span>
<span id="cb7-19">    Port 22  </span>
<span id="cb7-20">    IdentityFile ~/.ssh/prod_key.pem  </span>
<span id="cb7-21">    # 프로덕션은 추가 보안 옵션 적용  </span>
<span id="cb7-22">    StrictHostKeyChecking yes  </span></code></pre></div>
<p><strong>예시 4: Bastion/Jump Server를 통한 접속</strong></p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"># Bastion Host  </span>
<span id="cb8-2">Host bastion  </span>
<span id="cb8-3">    HostName 40.100.50.20  </span>
<span id="cb8-4">    User bastion-user  </span>
<span id="cb8-5">    Port 22  </span>
<span id="cb8-6">    IdentityFile ~/.ssh/bastion_key.pem  </span>
<span id="cb8-7"></span>
<span id="cb8-8"># 내부 VM (Bastion 경유)  </span>
<span id="cb8-9">Host internal-db  </span>
<span id="cb8-10">    HostName 10.0.5.10  </span>
<span id="cb8-11">    User dbadmin  </span>
<span id="cb8-12">    Port 22  </span>
<span id="cb8-13">    IdentityFile ~/.ssh/internal_key.pem  </span>
<span id="cb8-14">    ProxyJump bastion  </span></code></pre></div>
<p><code>ProxyJump</code> 옵션으로 Bastion Host를 경유하여 내부 VM에 접속한다.</p>
</section>
<section id="config-파일-고급-옵션" class="level3" data-number="4.6">
<h3 data-number="4.6" class="anchored" data-anchor-id="config-파일-고급-옵션"><span class="header-section-number">4.6</span> Config 파일 고급 옵션</h3>
<p><strong>ServerAliveInterval &amp; ServerAliveCountMax:</strong><br>
SSH 연결이 끊기지 않도록 주기적으로 신호 전송</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb9-1">Host stable-connection  </span>
<span id="cb9-2">    HostName 20.196.144.16  </span>
<span id="cb9-3">    User ubuntu  </span>
<span id="cb9-4">    ServerAliveInterval 60  </span>
<span id="cb9-5">    ServerAliveCountMax 3  </span></code></pre></div>
<p>60초마다 keep-alive 신호를 보내고, 3번 실패 시 연결 종료</p>
<p><strong>StrictHostKeyChecking:</strong><br>
처음 접속하는 서버의 호스트 키 확인 여부</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb10-1">Host new-server  </span>
<span id="cb10-2">    HostName 20.100.50.30  </span>
<span id="cb10-3">    User ubuntu  </span>
<span id="cb10-4">    StrictHostKeyChecking ask  # ask, yes, no 중 선택  </span></code></pre></div>
<ul>
<li><code>yes</code>: 호스트 키가 <code>~/.ssh/known_hosts</code>에 없으면 접속 거부<br>
</li>
<li><code>ask</code>: 사용자에게 확인 요청 (기본값)<br>
</li>
<li><code>no</code>: 자동으로 호스트 키 추가 (보안 위험, 테스트 환경에서만 사용)</li>
</ul>
<p><strong>LocalForward (포트 포워딩):</strong><br>
로컬 포트를 원격 서버의 포트로 연결</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb11-1">Host db-tunnel  </span>
<span id="cb11-2">    HostName 20.196.144.16  </span>
<span id="cb11-3">    User ubuntu  </span>
<span id="cb11-4">    LocalForward 5432 localhost:5432  </span></code></pre></div>
<p>로컬의 <code>localhost:5432</code>를 VM의 PostgreSQL 서버(<code>localhost:5432</code>)에 연결</p>
<hr>
</section>
</section>
<section id="vs-code-remote-ssh-접속-실행" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="vs-code-remote-ssh-접속-실행"><span class="header-section-number">5</span> VS Code Remote SSH 접속 실행</h2>
<section id="remote-ssh-확장-설치" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="remote-ssh-확장-설치"><span class="header-section-number">5.1</span> Remote SSH 확장 설치</h3>
<p><strong>설치 확인 및 설치:</strong><br>
1. VS Code 실행<br>
2. 왼쪽 사이드바의 <strong>Extensions</strong> 아이콘 클릭 (또는 <code>Ctrl+Shift+X</code>)<br>
3. 검색창에 <code>Remote - SSH</code> 입력<br>
4. <strong>Remote - SSH</strong> (Microsoft 제공) 확장 설치<br>
5. 설치 완료 후 VS Code 재시작 (필요 시)</p>
<p><strong>확장 ID:</strong><br>
<code>ms-vscode-remote.remote-ssh</code></p>
<p><strong>함께 설치하면 좋은 확장:</strong><br>
- <strong>Remote - SSH: Editing Configuration Files</strong>: SSH Config 파일 편집 지원<br>
- <strong>Remote Development</strong>: SSH, Containers, WSL을 통합 지원하는 확장 팩</p>
</section>
<section id="remote-explorer를-통한-접속" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="remote-explorer를-통한-접속"><span class="header-section-number">5.2</span> Remote Explorer를 통한 접속</h3>
<p><strong>단계별 접속 절차:</strong></p>
<p><strong>1단계: Remote Explorer 열기</strong><br>
- 왼쪽 사이드바에서 <strong>Remote Explorer</strong> 아이콘 클릭 (모니터 모양 아이콘)<br>
- 또는 <code>Ctrl+Shift+P</code> → <code>Remote-SSH: Focus on SSH Targets View</code> 선택</p>
<p><strong>2단계: SSH Targets 확인</strong><br>
- SSH Config 파일에 등록한 Host 별칭 목록이 표시됨<br>
- 예: <code>azure-dev-vm</code>, <code>azure-ml-gpu</code> 등</p>
<p><strong>3단계: 연결 시작</strong><br>
- 접속하려는 Host 옆의 <strong>폴더 아이콘</strong> 또는 <strong>창 아이콘</strong> 클릭<br>
- 폴더 아이콘: 현재 창에서 접속<br>
- 창 아이콘: 새 창에서 접속 (권장)</p>
<p><strong>4단계: 플랫폼 선택 (최초 접속 시)</strong><br>
- VM의 운영체제 선택: Linux, Windows, macOS<br>
- 일반적으로 <strong>Linux</strong> 선택</p>
<p><strong>5단계: 인증</strong><br>
- <strong>SSH 키 인증</strong>: 자동으로 키 파일 사용 (별도 입력 불필요)<br>
- <strong>비밀번호 인증</strong>: 비밀번호 입력 프롬프트에 비밀번호 입력<br>
- <strong>호스트 키 확인</strong>: 최초 접속 시 호스트 키 fingerprint 확인 메시지 → <code>Continue</code> 선택</p>
<p><strong>6단계: VS Code Server 설치 (최초 접속 시)</strong><br>
- VS Code가 자동으로 VM에 VS Code Server 설치<br>
- 설치 진행 상황이 우측 하단에 표시됨<br>
- 설치 완료까지 1-2분 소요</p>
<p><strong>7단계: 접속 완료 확인</strong><br>
- 새 VS Code 창이 열림<br>
- 왼쪽 하단에 <code>SSH: 호스트별칭</code> 표시 (예: <code>SSH: azure-dev-vm</code>)<br>
- 녹색 또는 파란색 배경으로 원격 접속 상태 표시</p>
</section>
<section id="원격-폴더-열기" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="원격-폴더-열기"><span class="header-section-number">5.3</span> 원격 폴더 열기</h3>
<p>접속 성공 후 VM의 파일 시스템에 접근한다.</p>
<p><strong>방법 1: 메뉴 사용</strong><br>
1. <code>File &gt; Open Folder...</code> 클릭<br>
2. VM의 디렉토리 경로 입력 (예: <code>/home/ubuntu/projects/ml-pipeline</code>)<br>
3. <code>OK</code> 클릭</p>
<p><strong>방법 2: Command Palette</strong><br>
1. <code>Ctrl+Shift+P</code> → <code>File: Open Folder</code> 선택<br>
2. 경로 입력 후 엔터</p>
<p><strong>방법 3: 터미널에서 이동 후 실행</strong><br>
1. <code>Ctrl+`` (백틱)으로 통합 터미널 열기   2.</code>cd ~/projects/ml-pipeline<code>명령으로 디렉토리 이동   3.</code>code .` 명령으로 현재 디렉토리를 VS Code에서 열기</p>
<p><strong>폴더 열기 후:</strong><br>
- VS Code의 Explorer에서 VM의 파일 구조가 표시됨<br>
- 로컬 파일처럼 편집, 저장, 검색 가능<br>
- 저장 시 즉시 VM에 반영</p>
</section>
<section id="통합-터미널-사용" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="통합-터미널-사용"><span class="header-section-number">5.4</span> 통합 터미널 사용</h3>
<p>원격 VM의 터미널을 VS Code 내에서 직접 사용할 수 있다.</p>
<p><strong>터미널 열기:</strong><br>
- <code>Ctrl+`` (백틱) 누르기   - 또는</code>Terminal &gt; New Terminal` 메뉴 선택</p>
<p><strong>터미널 특징:</strong><br>
- VM의 쉘 환경 (bash, zsh 등) 그대로 사용<br>
- 현재 열린 폴더 위치에서 시작<br>
- 로컬 터미널처럼 명령 실행, 스크립트 실행, 패키지 설치 가능</p>
<p><strong>예시 작업:</strong></p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 가상환경 활성화  </span></span>
<span id="cb12-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> venv/bin/activate  </span>
<span id="cb12-3"></span>
<span id="cb12-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 설치  </span></span>
<span id="cb12-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> requirements.txt  </span>
<span id="cb12-6"></span>
<span id="cb12-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 스크립트 실행  </span></span>
<span id="cb12-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> train_model.py  </span>
<span id="cb12-9"></span>
<span id="cb12-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Git 작업  </span></span>
<span id="cb12-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> status  </span>
<span id="cb12-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> commit <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-am</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Update model architecture"</span>  </span>
<span id="cb12-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> push origin main  </span></code></pre></div>
</section>
<section id="원격-확장-설치" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="원격-확장-설치"><span class="header-section-number">5.5</span> 원격 확장 설치</h3>
<p>VS Code의 확장(Extension)은 로컬과 원격에서 각각 설치해야 한다.</p>
<p><strong>원격 환경에 확장 설치:</strong><br>
1. Extensions 패널 열기 (<code>Ctrl+Shift+X</code>)<br>
2. 필요한 확장 검색<br>
3. <code>Install in SSH: 호스트별칭</code> 버튼 클릭</p>
<p><strong>주요 원격 확장:</strong><br>
- <strong>Python</strong>: Python 코드 실행, 디버깅, IntelliSense<br>
- <strong>Pylance</strong>: 향상된 Python 언어 서버<br>
- <strong>Jupyter</strong>: Jupyter Notebook 지원<br>
- <strong>GitLens</strong>: Git 기능 강화<br>
- <strong>Docker</strong>: Docker 컨테이너 관리</p>
<p><strong>확장 동기화:</strong><br>
VS Code Settings Sync를 사용하면 확장 설정을 여러 환경에서 동기화할 수 있다.</p>
<hr>
</section>
</section>
<section id="실무-활용-시나리오" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="실무-활용-시나리오"><span class="header-section-number">6</span> 실무 활용 시나리오</h2>
<section id="머신러닝-모델-학습" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="머신러닝-모델-학습"><span class="header-section-number">6.1</span> 머신러닝 모델 학습</h3>
<p><strong>시나리오:</strong><br>
GPU가 장착된 클라우드 VM에서 딥러닝 모델을 학습하되, 로컬 VS Code에서 코드를 편집한다.</p>
<p><strong>워크플로우:</strong><br>
1. Remote SSH로 GPU VM 접속<br>
2. 프로젝트 폴더 열기: <code>/home/ubuntu/ml-projects/image-classification</code><br>
3. VS Code에서 모델 코드(<code>model.py</code>) 편집<br>
4. 통합 터미널에서 학습 시작: <code>python train.py --epochs 100 --gpu 0</code><br>
5. TensorBoard를 포트 포워딩으로 로컬에서 모니터링<br>
6. 학습 중 하이퍼파라미터 조정 후 즉시 재실행</p>
<p><strong>장점:</strong><br>
- 로컬 PC의 제한된 GPU 자원 극복<br>
- 대용량 데이터셋을 VM에서 직접 로드 (로컬 다운로드 불필요)<br>
- 학습 중에도 로컬에서 다른 작업 가능</p>
</section>
<section id="데이터-엔지니어링-파이프라인-개발" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="데이터-엔지니어링-파이프라인-개발"><span class="header-section-number">6.2</span> 데이터 엔지니어링 파이프라인 개발</h3>
<p><strong>시나리오:</strong><br>
대용량 데이터 처리 파이프라인을 VM에서 개발하고 테스트한다.</p>
<p><strong>워크플로우:</strong><br>
1. Remote SSH로 데이터 처리 VM 접속<br>
2. Airflow DAG 파일 편집<br>
3. 로컬 VS Code에서 DAG 코드 작성 및 검증<br>
4. 터미널에서 Airflow 스케줄러 실행<br>
5. 로그 파일을 VS Code에서 실시간 확인</p>
<p><strong>장점:</strong><br>
- 로컬 환경과 프로덕션 환경의 설정 불일치 제거<br>
- 대용량 데이터를 VM 메모리로 처리<br>
- 실시간 로그 모니터링 및 디버깅</p>
</section>
<section id="웹-애플리케이션-개발-및-테스트" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="웹-애플리케이션-개발-및-테스트"><span class="header-section-number">6.3</span> 웹 애플리케이션 개발 및 테스트</h3>
<p><strong>시나리오:</strong><br>
클라우드 VM에서 웹 서버를 실행하고, 로컬 브라우저에서 테스트한다.</p>
<p><strong>워크플로우:</strong><br>
1. Remote SSH로 웹 서버 VM 접속<br>
2. VS Code에서 Flask/Django/Node.js 코드 편집<br>
3. 터미널에서 개발 서버 실행: <code>python app.py</code> 또는 <code>npm run dev</code><br>
4. 포트 포워딩으로 로컬 브라우저에서 <code>http://localhost:5000</code> 접속<br>
5. 코드 수정 후 저장 → 자동 재시작(hot reload) → 브라우저 새로고침</p>
<p><strong>포트 포워딩 설정:</strong><br>
VS Code가 자동으로 포트 포워딩을 감지하지만, 수동 설정도 가능하다.</p>
<ol type="1">
<li><code>Ctrl+Shift+P</code> → <code>Forward a Port</code> 선택<br>
</li>
<li>VM의 포트 번호 입력 (예: <code>5000</code>)<br>
</li>
<li>로컬 브라우저에서 <code>http://localhost:5000</code> 접속</li>
</ol>
<p><strong>장점:</strong><br>
- VM의 네트워크 설정, 방화벽 규칙 그대로 테스트<br>
- 로컬 환경 오염 없이 의존성 설치<br>
- 프로덕션과 동일한 OS, 라이브러리 버전 사용</p>
</section>
<section id="다중-vm-환경-관리" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="다중-vm-환경-관리"><span class="header-section-number">6.4</span> 다중 VM 환경 관리</h3>
<p><strong>시나리오:</strong><br>
마이크로서비스 아키텍처에서 여러 VM을 동시에 관리한다.</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb13-1">Host api-server  </span>
<span id="cb13-2">    HostName 20.100.10.10  </span>
<span id="cb13-3">    User ubuntu  </span>
<span id="cb13-4">    IdentityFile ~/.ssh/api_key.pem  </span>
<span id="cb13-5"></span>
<span id="cb13-6">Host db-server  </span>
<span id="cb13-7">    HostName 20.100.10.20  </span>
<span id="cb13-8">    User ubuntu  </span>
<span id="cb13-9">    IdentityFile ~/.ssh/db_key.pem  </span>
<span id="cb13-10"></span>
<span id="cb13-11">Host frontend-server  </span>
<span id="cb13-12">    HostName 20.100.10.30  </span>
<span id="cb13-13">    User ubuntu  </span>
<span id="cb13-14">    IdentityFile ~/.ssh/frontend_key.pem  </span></code></pre></div>
<p><strong>워크플로우:</strong><br>
1. VS Code 창 3개를 각각 다른 VM에 접속<br>
2. API 서버, 데이터베이스 서버, 프론트엔드 서버를 동시에 편집<br>
3. 각 창의 통합 터미널에서 서비스 실행 및 로그 모니터링<br>
4. 서비스 간 통신 테스트 및 디버깅</p>
<p><strong>장점:</strong><br>
- 여러 VM을 하나의 IDE 환경에서 통합 관리<br>
- 서비스 간 의존성 문제를 빠르게 파악<br>
- 코드 변경 사항을 즉시 각 서버에 반영</p>
<hr>
</section>
</section>
<section id="트러블슈팅" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="트러블슈팅"><span class="header-section-number">7</span> 트러블슈팅</h2>
<section id="연결-실패-could-not-establish-connection" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="연결-실패-could-not-establish-connection"><span class="header-section-number">7.1</span> 연결 실패: “Could not establish connection”</h3>
<p><strong>원인 1: Public IP 접근 불가</strong><br>
- 방화벽 규칙이 SSH 포트(22)를 차단<br>
- VM이 중지 상태<br>
- Public IP가 할당되지 않음</p>
<p><strong>해결책:</strong></p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># VM 상태 확인 (Azure CLI)  </span></span>
<span id="cb14-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">az</span> vm get-instance-view <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name</span> my-vm <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--resource-group</span> my-rg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--query</span> instanceView.statuses  </span>
<span id="cb14-3"></span>
<span id="cb14-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 방화벽 규칙 확인  </span></span>
<span id="cb14-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">az</span> network nsg rule list <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--nsg-name</span> my-nsg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--resource-group</span> my-rg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--output</span> table  </span>
<span id="cb14-6"></span>
<span id="cb14-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SSH 포트 허용 규칙 추가  </span></span>
<span id="cb14-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">az</span> network nsg rule create <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name</span> AllowSSH <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--nsg-name</span> my-nsg <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb14-9">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--resource-group</span> my-rg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--priority</span> 1000 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--source-address-prefixes</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'*'</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb14-10">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--destination-port-ranges</span> 22 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--access</span> Allow <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--protocol</span> Tcp  </span></code></pre></div>
<p><strong>원인 2: SSH 키 파일 권한 문제</strong><br>
Linux/macOS에서 키 파일 권한이 너무 개방적인 경우</p>
<p><strong>해결책:</strong></p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 600 ~/.ssh/my_key.pem  </span></code></pre></div>
<p><strong>원인 3: 잘못된 사용자 이름 또는 IP 주소</strong><br>
Config 파일의 <code>HostName</code> 또는 <code>User</code> 값 확인</p>
<p><strong>해결책:</strong><br>
클라우드 콘솔에서 정확한 Public IP와 사용자명 재확인</p>
</section>
<section id="vs-code-server-설치-실패" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="vs-code-server-설치-실패"><span class="header-section-number">7.2</span> VS Code Server 설치 실패</h3>
<p><strong>원인: VM의 디스크 공간 부족</strong></p>
<p><strong>확인:</strong></p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">df</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-h</span>  </span>
<span id="cb16-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># /home 파티션의 사용률 확인  </span></span></code></pre></div>
<p><strong>해결책:</strong><br>
불필요한 파일 삭제 또는 디스크 확장</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 캐시 파일 삭제  </span></span>
<span id="cb17-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> ~/.cache/<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>  </span>
<span id="cb17-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> ~/.vscode-server/bin/<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>  </span>
<span id="cb17-4"></span>
<span id="cb17-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 디스크 공간 확보 후 재접속  </span></span></code></pre></div>
<p><strong>원인: 네트워크 제한으로 VS Code Server 다운로드 실패</strong></p>
<p><strong>해결책:</strong><br>
프록시 설정 또는 오프라인 설치 방법 사용<br>
(<a href="https://code.visualstudio.com/docs/remote/ssh#_installing-a-supported-ssh-client">공식 문서 참조</a>)</p>
</section>
<section id="연결-끊김-connection-closed" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="연결-끊김-connection-closed"><span class="header-section-number">7.3</span> 연결 끊김: “Connection closed”</h3>
<p><strong>원인: 네트워크 불안정 또는 방화벽 타임아웃</strong></p>
<p><strong>해결책: ServerAliveInterval 설정</strong><br>
Config 파일에 keep-alive 옵션 추가</p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb18-1">Host my-vm  </span>
<span id="cb18-2">    HostName 20.196.144.16  </span>
<span id="cb18-3">    User ubuntu  </span>
<span id="cb18-4">    ServerAliveInterval 60  </span>
<span id="cb18-5">    ServerAliveCountMax 3  </span></code></pre></div>
<p><strong>원인: VM이 유휴 상태로 판단되어 자동 종료</strong><br>
클라우드 프로바이더의 자동 종료 정책 확인</p>
<p><strong>해결책:</strong><br>
자동 종료 정책 비활성화 또는 주기적인 작업 실행</p>
</section>
<section id="호스트-키-변경-경고" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="호스트-키-변경-경고"><span class="header-section-number">7.4</span> 호스트 키 변경 경고</h3>
<p><strong>증상:</strong></p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb19-1">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  </span>
<span id="cb19-2">@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @  </span>
<span id="cb19-3">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  </span></code></pre></div>
<p><strong>원인:</strong><br>
- VM을 재생성하여 SSH 호스트 키가 변경됨<br>
- 동일 IP 주소에 다른 VM이 배포됨<br>
- 중간자 공격(Man-in-the-Middle Attack) 가능성</p>
<p><strong>해결책 (안전한 경우):</strong><br>
<code>~/.ssh/known_hosts</code> 파일에서 해당 IP의 항목 삭제</p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> 20.196.144.16  </span></code></pre></div>
<p>또는 직접 파일 편집하여 해당 줄 삭제</p>
<p><strong>주의:</strong><br>
보안 위협이 의심되는 경우 네트워크 관리자에게 문의한다.</p>
</section>
<section id="느린-파일-동기화" class="level3" data-number="7.5">
<h3 data-number="7.5" class="anchored" data-anchor-id="느린-파일-동기화"><span class="header-section-number">7.5</span> 느린 파일 동기화</h3>
<p><strong>원인: 대용량 파일 또는 많은 파일이 있는 프로젝트</strong></p>
<p><strong>해결책 1: <code>.gitignore</code> 또는 <code>.remoteignore</code> 사용</strong><br>
불필요한 파일을 원격 동기화에서 제외</p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb21-1"># .remoteignore 파일 생성  </span>
<span id="cb21-2">node_modules/  </span>
<span id="cb21-3">.git/  </span>
<span id="cb21-4">__pycache__/  </span>
<span id="cb21-5">*.pyc  </span>
<span id="cb21-6">.venv/  </span>
<span id="cb21-7">data/  </span></code></pre></div>
<p><strong>해결책 2: 파일 감시(Watcher) 제한</strong><br>
VS Code 설정에서 파일 감시 제한</p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span>  </span>
<span id="cb22-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"files.watcherExclude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span>  </span>
<span id="cb22-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"**/.git/objects/**"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>  </span>
<span id="cb22-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"**/node_modules/**"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>  </span>
<span id="cb22-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"**/.venv/**"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span>  </span>
<span id="cb22-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span>  </span>
<span id="cb22-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span>  </span></code></pre></div>
<hr>
</section>
</section>
<section id="보안-모범-사례" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="보안-모범-사례"><span class="header-section-number">8</span> 보안 모범 사례</h2>
<section id="ssh-키-관리" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="ssh-키-관리"><span class="header-section-number">8.1</span> SSH 키 관리</h3>
<p><strong>원칙:</strong><br>
- 개인키는 절대 공유하지 않음<br>
- 개인키 파일은 소유자만 읽기 가능한 권한(600) 설정<br>
- 암호구문(Passphrase)으로 개인키 보호<br>
- 정기적으로 키 순환(Rotation)</p>
<p><strong>키 생성 시 암호구문 설정:</strong></p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> ed25519 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-C</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your_email@example.com"</span>  </span>
<span id="cb23-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Enter passphrase: ********  </span></span>
<span id="cb23-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Enter same passphrase again: ********  </span></span></code></pre></div>
<p><strong>암호구문의 장점:</strong><br>
- 개인키 파일이 유출되어도 암호구문 없이는 사용 불가<br>
- 추가 보안 계층 제공</p>
</section>
<section id="방화벽-규칙-최소화" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="방화벽-규칙-최소화"><span class="header-section-number">8.2</span> 방화벽 규칙 최소화</h3>
<p><strong>원칙: 최소 권한(Least Privilege)</strong></p>
<p><strong>SSH 포트(22) 접근 제한:</strong><br>
- 특정 IP 주소 또는 IP 범위만 허용<br>
- 전체 인터넷(<code>0.0.0.0/0</code>)에 SSH 포트 개방 지양</p>
<p><strong>Azure NSG 규칙 예시:</strong></p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 IP에서만 SSH 접속 허용  </span></span>
<span id="cb24-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">az</span> network nsg rule create <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name</span> AllowSSHFromMyIP <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb24-3">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--nsg-name</span> my-nsg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--resource-group</span> my-rg <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb24-4">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--priority</span> 1000 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--source-address-prefixes</span> 203.0.113.10/32 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb24-5">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--destination-port-ranges</span> 22 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--access</span> Allow <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--protocol</span> Tcp  </span></code></pre></div>
<p><strong>AWS Security Group 규칙 예시:</strong></p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">aws</span> ec2 authorize-security-group-ingress <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb25-2">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--group-id</span> sg-0123456789abcdef0 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb25-3">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--protocol</span> tcp <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--port</span> 22 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb25-4">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--cidr</span> 203.0.113.10/32  </span></code></pre></div>
</section>
<section id="비밀번호-인증-비활성화" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="비밀번호-인증-비활성화"><span class="header-section-number">8.3</span> 비밀번호 인증 비활성화</h3>
<p>SSH 키 인증만 허용하여 무차별 대입 공격 방지</p>
<p><strong>VM의 SSH 설정 파일 편집:</strong></p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> vi /etc/ssh/sshd_config  </span></code></pre></div>
<p><strong>설정 변경:</strong></p>
<div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb27-1">PasswordAuthentication no  </span>
<span id="cb27-2">PubkeyAuthentication yes  </span></code></pre></div>
<p><strong>SSH 서비스 재시작:</strong></p>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl restart sshd  </span></code></pre></div>
</section>
<section id="로그-모니터링" class="level3" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="로그-모니터링"><span class="header-section-number">8.4</span> 로그 모니터링</h3>
<p><strong>SSH 접속 로그 확인:</strong></p>
<div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 최근 로그인 기록  </span></span>
<span id="cb29-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">last</span>  </span>
<span id="cb29-3"></span>
<span id="cb29-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 실패한 로그인 시도  </span></span>
<span id="cb29-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> grep <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Failed password"</span> /var/log/auth.log  </span>
<span id="cb29-6"></span>
<span id="cb29-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 성공한 SSH 접속  </span></span>
<span id="cb29-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> grep <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Accepted publickey"</span> /var/log/auth.log  </span></code></pre></div>
<p><strong>비정상 접속 시도 감지:</strong><br>
- 알려지지 않은 IP에서의 반복 접속 시도<br>
- 존재하지 않는 사용자명으로의 접속 시도<br>
- 짧은 시간 내 다수의 실패한 인증</p>
<p><strong>자동 차단 도구:</strong><br>
- <strong>Fail2Ban</strong>: 반복적인 실패 시도를 자동 차단<br>
- <strong>DenyHosts</strong>: SSH 무차별 대입 공격 방어</p>
<hr>
</section>
</section>
<section id="고급-주제" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="고급-주제"><span class="header-section-number">9</span> 고급 주제</h2>
<section id="포트-포워딩을-통한-데이터베이스-접속" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="포트-포워딩을-통한-데이터베이스-접속"><span class="header-section-number">9.1</span> 포트 포워딩을 통한 데이터베이스 접속</h3>
<p>로컬 클라이언트로 원격 VM의 데이터베이스에 접속한다.</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb30-1">Host db-vm  </span>
<span id="cb30-2">    HostName 20.196.144.16  </span>
<span id="cb30-3">    User ubuntu  </span>
<span id="cb30-4">    IdentityFile ~/.ssh/db_key.pem  </span>
<span id="cb30-5">    LocalForward 5432 localhost:5432  </span></code></pre></div>
<p><strong>접속 후:</strong><br>
로컬 PC에서 <code>localhost:5432</code>로 PostgreSQL에 접속하면 VM의 데이터베이스에 연결된다.</p>
<div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">psql</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-h</span> localhost <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> 5432 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-U</span> dbuser <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> mydb  </span></code></pre></div>
<p><strong>VS Code에서 동적 포트 포워딩:</strong><br>
1. Remote SSH 접속 후 <code>Ctrl+Shift+P</code><br>
2. <code>Forward a Port</code> 선택<br>
3. 포트 번호 입력 (예: <code>5432</code>)<br>
4. 로컬 애플리케이션에서 <code>localhost:5432</code> 사용</p>
</section>
<section id="proxyjump를-통한-내부-네트워크-접속" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="proxyjump를-통한-내부-네트워크-접속"><span class="header-section-number">9.2</span> ProxyJump를 통한 내부 네트워크 접속</h3>
<p><strong>시나리오:</strong><br>
내부 VM은 Private IP만 있고 Bastion Host를 통해서만 접근 가능</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb32-1"># Bastion Host  </span>
<span id="cb32-2">Host bastion  </span>
<span id="cb32-3">    HostName 40.100.50.20  </span>
<span id="cb32-4">    User bastion-user  </span>
<span id="cb32-5">    IdentityFile ~/.ssh/bastion_key.pem  </span>
<span id="cb32-6"></span>
<span id="cb32-7"># 내부 VM (Private IP)  </span>
<span id="cb32-8">Host internal-app  </span>
<span id="cb32-9">    HostName 10.0.5.10  </span>
<span id="cb32-10">    User appuser  </span>
<span id="cb32-11">    IdentityFile ~/.ssh/internal_key.pem  </span>
<span id="cb32-12">    ProxyJump bastion  </span></code></pre></div>
<p><strong>작동 원리:</strong><br>
1. 로컬 → Bastion Host SSH 접속<br>
2. Bastion Host → 내부 VM SSH 접속<br>
3. 로컬 VS Code는 투명하게 내부 VM에 접속</p>
</section>
<section id="멀티홉-ssh-다단계-접속" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="멀티홉-ssh-다단계-접속"><span class="header-section-number">9.3</span> 멀티홉 SSH (다단계 접속)</h3>
<p><strong>시나리오:</strong><br>
Bastion Host → Jump Server → Target VM 순으로 접속</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb33-1">Host bastion  </span>
<span id="cb33-2">    HostName 40.100.50.20  </span>
<span id="cb33-3">    User bastion-user  </span>
<span id="cb33-4">    IdentityFile ~/.ssh/bastion_key.pem  </span>
<span id="cb33-5"></span>
<span id="cb33-6">Host jump-server  </span>
<span id="cb33-7">    HostName 10.0.1.100  </span>
<span id="cb33-8">    User jump-user  </span>
<span id="cb33-9">    IdentityFile ~/.ssh/jump_key.pem  </span>
<span id="cb33-10">    ProxyJump bastion  </span>
<span id="cb33-11"></span>
<span id="cb33-12">Host target-vm  </span>
<span id="cb33-13">    HostName 10.0.2.50  </span>
<span id="cb33-14">    User vmuser  </span>
<span id="cb33-15">    IdentityFile ~/.ssh/vm_key.pem  </span>
<span id="cb33-16">    ProxyJump jump-server  </span></code></pre></div>
<p><strong>접속:</strong></p>
<div class="sourceCode" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> target-vm  </span></code></pre></div>
<p>자동으로 bastion → jump-server → target-vm 순으로 연결</p>
</section>
<section id="ssh-agent-forwarding" class="level3" data-number="9.4">
<h3 data-number="9.4" class="anchored" data-anchor-id="ssh-agent-forwarding"><span class="header-section-number">9.4</span> SSH Agent Forwarding</h3>
<p><strong>개념:</strong><br>
로컬의 SSH 키를 원격 서버에서도 사용 (키 파일을 서버에 복사하지 않음)</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb35-1">Host dev-server  </span>
<span id="cb35-2">    HostName 20.196.144.16  </span>
<span id="cb35-3">    User ubuntu  </span>
<span id="cb35-4">    ForwardAgent yes  </span></code></pre></div>
<p><strong>활용 사례:</strong><br>
1. VM에 SSH 접속<br>
2. VM에서 다시 GitHub에 SSH 접속 (로컬의 GitHub SSH 키 사용)<br>
3. 키 파일을 VM에 복사할 필요 없음</p>
<p><strong>보안 주의:</strong><br>
신뢰할 수 없는 서버에는 Agent Forwarding 사용하지 않는다.</p>
<hr>
</section>
</section>
<section id="결론" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="결론"><span class="header-section-number">10</span> 결론</h2>
<p><strong>Remote SSH 개발 환경의 핵심 가치:</strong><br>
- 로컬 편집기의 편의성 + 원격 서버의 성능<br>
- 환경 불일치 문제 제거<br>
- 즉각적인 피드백과 생산성 향상</p>
<p><strong>구축 핵심 단계:</strong><br>
1. VM의 Public IP, 사용자명, SSH 키 확인<br>
2. SSH Config 파일에 접속 정보 등록<br>
3. VS Code Remote SSH로 접속<br>
4. 원격 폴더 열기 및 개발 시작</p>
<p><strong>실무 적용 권장사항:</strong><br>
- SSH 키 인증 사용 (비밀번호 인증 지양)<br>
- 방화벽 규칙으로 접근 IP 제한<br>
- ServerAliveInterval로 연결 안정성 확보<br>
- 포트 포워딩으로 데이터베이스, 웹 서버 접근<br>
- 여러 VM을 Config 파일로 체계적으로 관리</p>
<p><strong>보안 원칙:</strong><br>
- SSH 키 파일 권한 600 설정<br>
- 개인키에 암호구문 설정<br>
- 정기적인 접속 로그 모니터링<br>
- Fail2Ban 등 자동 차단 도구 활용</p>
<p>Remote SSH는 클라우드 시대 개발자의 필수 도구이며,<br>
올바른 설정과 보안 원칙을 따르면 안전하고 효율적인 개발 환경을 구축할 수 있다.</p>


</section>

 ]]></description>
  <category>Engineering</category>
  <category>Infrastructure</category>
  <category>Security</category>
  <category>DevOps</category>
  <category>Cloud</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Security/1-ssh-remote.html</guid>
  <pubDate>Wed, 10 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>전략 분석 이론 체계</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Strategy_Frameworks/analysis_theory.html</link>
  <description><![CDATA[ 





<section id="배경" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="배경"><span class="header-section-number">1</span> 배경</h2>
<p><strong>전략 분석 이론</strong>은 복잡한 의사결정과 전략적 상호작용을 구조적으로 이해하고 최적화하기 위한 학문적 프레임워크다.<br>
게임 이론은 추론의 한 종류가 아니라, 전략적 상황을 분석하는 수학·경제학적 이론 체계이며,<br>
다양한 추론 방식(연역·귀납·가추적 등)과 함께 사용된다.</p>
<p><strong>전략 분석 이론이 중요한 이유:</strong><br>
- 복잡한 상호작용 환경에서 최적 전략 도출<br>
- 불확실성 하의 의사결정 체계화<br>
- AI 에이전트 시스템 설계의 이론적 기반<br>
- 비즈니스 전략과 정책 설계의 핵심 도구</p>
</section>
<section id="게임-이론game-theory" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="게임-이론game-theory"><span class="header-section-number">2</span> 게임 이론(Game Theory)</h2>
<section id="정의" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="정의"><span class="header-section-number">2.1</span> 정의</h3>
<p><strong>서로 영향을 주고받는 의사결정자(플레이어)들이 어떤 선택을 할 때 최적 전략을 찾는 이론.</strong><br>
경제학, 경영전략, AI, 정치학, 군사전략까지 다양한 분야에서 활용된다.</p>
</section>
<section id="대표-요소" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="대표-요소"><span class="header-section-number">2.2</span> 대표 요소</h3>
<ol type="1">
<li><strong>플레이어(Players)</strong>: 의사결정 주체<br>
</li>
<li><strong>전략(Strategies)</strong>: 선택 가능한 행동<br>
</li>
<li><strong>보수(Payoff)</strong>: 각 전략 조합의 결과<br>
</li>
<li><strong>균형(Equilibrium)</strong>: 특히 내시균형(Nash Equilibrium)이 핵심</li>
</ol>
</section>
<section id="게임-이론이-다루는-문제" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="게임-이론이-다루는-문제"><span class="header-section-number">2.3</span> 게임 이론이 다루는 문제</h3>
<p><strong>전략적 상호작용 분석:</strong><br>
- 경쟁사와 가격을 어떻게 설정할 것인가<br>
- 협상에서 어떤 제안을 해야 유리한가<br>
- 전쟁/갈등 상황에서 상대국이 어떤 대응을 할 것인가<br>
- 기업 간 생산량을 어떻게 조절할 것인가 (Cournot 모델)</p>
<p>핵심은 <strong>상대도 나처럼 이기려고 움직인다</strong>는 점을 구조적으로 반영한다는 것이다.</p>
</section>
<section id="추론-방법론과의-관계" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="추론-방법론과의-관계"><span class="header-section-number">2.4</span> 추론 방법론과의 관계</h3>
<p>게임 이론 자체는 <strong>이론 체계</strong>이며, 그 안에서 다양한 <strong>추론 방식</strong>이 함께 사용된다.</p>
<p><strong>연역적 추론과의 관계:</strong><br>
- 전략 프로필 설정 → 각 전략의 보수 분석 → 논리적으로 최적 전략 도출<br>
- 내시균형은 연역적 추론 구조를 가짐</p>
<p><strong>귀납적 추론과의 관계:</strong><br>
- 반복 게임에서 과거 행동 패턴 관찰 → 상대의 다음 전략 예측</p>
<p><strong>가추적 추론과의 관계:</strong><br>
- 상대의 행동 관찰 → “왜 그 행동을 했을까?” 최적 설명 가설 수립</p>
<p>즉, 게임 이론은 <strong>독립된 추론 유형이 아니라</strong>, 추론을 <strong>전략적 상황에 적용할 때 사용하는 학문적·수학적 프레임워크</strong>다.</p>
</section>
<section id="활용-목적" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="활용-목적"><span class="header-section-number">2.5</span> 활용 목적</h3>
<ol type="1">
<li><strong>전략적 의사결정 최적화</strong>: 경쟁사 대응, 가격 결정, 공급량 전략<br>
</li>
<li><strong>협상·계약 설계</strong>: Nash bargaining, Principal-Agent 문제<br>
</li>
<li><strong>정책·제도 설계</strong>: 경매 제도, 시장 설계<br>
</li>
<li><strong>AI 에이전트 상호작용 모델링</strong>: 멀티 에이전트 강화학습(MARL), 신호 게임 기반 의사결정<br>
</li>
<li><strong>분쟁·갈등 해결</strong>: 군사전략, 외교전략 모델링</li>
</ol>
</section>
<section id="근거" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="근거"><span class="header-section-number">2.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Game Theory<br>
<a href="https://plato.stanford.edu/entries/game-theory/">https://plato.stanford.edu/entries/game-theory/</a></li>
</ul>
<hr>
</section>
</section>
<section id="의사결정-이론decision-theory" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="의사결정-이론decision-theory"><span class="header-section-number">3</span> 의사결정 이론(Decision Theory)</h2>
<section id="정의-1" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="정의-1"><span class="header-section-number">3.1</span> 정의</h3>
<p><strong>개인이 불확실한 상황에서 선택을 최적화하는 방법을 연구하는 체계.</strong><br>
게임 이론이 “상호작용”을 다룬다면, 의사결정 이론은 “단독 의사결정자”에 집중한다.</p>
</section>
<section id="주요-이론" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="주요-이론"><span class="header-section-number">3.2</span> 주요 이론</h3>
<p><strong>기대효용이론(Expected Utility Theory):</strong><br>
- 불확실성 하에서 기댓값을 최대화하는 선택<br>
- 합리적 의사결정의 규범적 모델</p>
<p><strong>프로스펙트 이론(Prospect Theory):</strong><br>
- Kahneman &amp; Tversky (1979)<br>
- 실제 인간의 의사결정은 손실회피, 참조점 의존성 등 심리적 요인에 영향받음<br>
- 기술적(descriptive) 모델</p>
</section>
<section id="활용-분야" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="활용-분야"><span class="header-section-number">3.3</span> 활용 분야</h3>
<ul>
<li>금융 투자 의사결정<br>
</li>
<li>정책 결정<br>
</li>
<li>위험 관리<br>
</li>
<li>개인 포트폴리오 최적화</li>
</ul>
</section>
<section id="근거-1" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="근거-1"><span class="header-section-number">3.4</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Normative Utility Theory<br>
<a href="https://plato.stanford.edu/entries/rationality-normative-utility/">https://plato.stanford.edu/entries/rationality-normative-utility/</a></li>
</ul>
<hr>
</section>
</section>
<section id="행동경제학behavioral-economics" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="행동경제학behavioral-economics"><span class="header-section-number">4</span> 행동경제학(Behavioral Economics)</h2>
<section id="정의-2" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="정의-2"><span class="header-section-number">4.1</span> 정의</h3>
<p><strong>경제적 의사결정이 실제 사람의 심리, 편향, 휴리스틱의 영향을 어떻게 받는지를 분석하는 이론 체계.</strong></p>
</section>
<section id="핵심-아이디어" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="핵심-아이디어"><span class="header-section-number">4.2</span> 핵심 아이디어</h3>
<ul>
<li>인간은 항상 합리적이지 않다<br>
</li>
<li>손실회피(Loss Aversion): 손실의 고통 &gt; 이득의 기쁨<br>
</li>
<li>프레이밍 효과(Framing Effect): 동일한 선택도 표현 방식에 따라 다르게 평가<br>
</li>
<li>앵커링(Anchoring): 초기 정보가 이후 판단에 과도한 영향<br>
</li>
<li>확증편향(Confirmation Bias): 기존 믿음을 확인하는 정보만 선택적으로 수용</li>
</ul>
</section>
<section id="실무-적용" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="실무-적용"><span class="header-section-number">4.3</span> 실무 적용</h3>
<ul>
<li>넛지(Nudge) 정책 설계<br>
</li>
<li>마케팅 전략 (가격 프레이밍, 디폴트 옵션 설정)<br>
</li>
<li>UI/UX 설계 (선택 아키텍처)<br>
</li>
<li>금융 상품 설계</li>
</ul>
</section>
<section id="근거-2" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="근거-2"><span class="header-section-number">4.4</span> 근거</h3>
<ul>
<li>Kahneman &amp; Tversky (1979). Prospect Theory: An Analysis of Decision under Risk<br>
<a href="https://www.jstor.org/stable/1914185">https://www.jstor.org/stable/1914185</a></li>
</ul>
<hr>
</section>
</section>
<section id="정보-이론information-theory" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="정보-이론information-theory"><span class="header-section-number">5</span> 정보 이론(Information Theory)</h2>
<section id="정의-3" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="정의-3"><span class="header-section-number">5.1</span> 정의</h3>
<p><strong>불확실성을 정량화하고, 정보가 의사결정에 어떤 영향을 주는지를 분석하는 체계.</strong><br>
게임 이론과 결합해 <strong>신호 게임(Signaling Game)</strong> 같은 모델로 발전한다.</p>
</section>
<section id="핵심-개념" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="핵심-개념"><span class="header-section-number">5.2</span> 핵심 개념</h3>
<ul>
<li><strong>엔트로피(Entropy)</strong>: 불확실성의 양을 측정<br>
</li>
<li><strong>정보량(Information Content)</strong>: 사건 발생으로 줄어드는 불확실성<br>
</li>
<li><strong>상호정보(Mutual Information)</strong>: 두 변수 간 의존성 측정</li>
</ul>
</section>
<section id="활용-분야-1" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="활용-분야-1"><span class="header-section-number">5.3</span> 활용 분야</h3>
<ul>
<li>통신 시스템 설계<br>
</li>
<li>데이터 압축<br>
</li>
<li>머신러닝 (정보 이득 기반 특징 선택)<br>
</li>
<li>신호 게임 모델링 (정보 비대칭 상황)</li>
</ul>
</section>
<section id="근거-3" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="근거-3"><span class="header-section-number">5.4</span> 근거</h3>
<ul>
<li>Shannon, C. E. (1948). A Mathematical Theory of Communication<br>
<a href="https://people.math.harvard.edu/~ctm/home/text/books/shannon/shannon.pdf">https://people.math.harvard.edu/~ctm/home/text/books/shannon/shannon.pdf</a></li>
</ul>
<hr>
</section>
</section>
<section id="계약-이론contract-theory" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="계약-이론contract-theory"><span class="header-section-number">6</span> 계약 이론(Contract Theory)</h2>
<section id="정의-4" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="정의-4"><span class="header-section-number">6.1</span> 정의</h3>
<p><strong>정보 비대칭 환경에서 경제 주체들이 서로 어떤 계약을 설계해야 하는가를 분석하는 이론.</strong><br>
기업·정부·노동·금융 분야에서 필수적인 도구다.</p>
</section>
<section id="대표-개념" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="대표-개념"><span class="header-section-number">6.2</span> 대표 개념</h3>
<p><strong>주인-대리인 문제(Principal-Agent Problem):</strong><br>
- 주인(고용주)과 대리인(근로자) 간 이해 불일치<br>
- 정보 비대칭으로 인한 도덕적 해이(Moral Hazard)</p>
<p><strong>인센티브 설계:</strong><br>
- 대리인의 행동을 주인의 목표에 맞게 유도<br>
- 성과급, 스톡옵션 등</p>
<p><strong>역선택(Adverse Selection):</strong><br>
- 계약 전 정보 비대칭 (예: 중고차 시장의 레몬 문제)</p>
</section>
<section id="활용-분야-2" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="활용-분야-2"><span class="header-section-number">6.3</span> 활용 분야</h3>
<ul>
<li>임금 계약 설계<br>
</li>
<li>보험 상품 설계<br>
</li>
<li>기업 지배구조<br>
</li>
<li>정부 규제 정책</li>
</ul>
</section>
<section id="근거-4" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="근거-4"><span class="header-section-number">6.4</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Contractualism<br>
<a href="https://plato.stanford.edu/entries/contractualism/">https://plato.stanford.edu/entries/contractualism/</a></li>
</ul>
<hr>
</section>
</section>
<section id="메커니즘-디자인mechanism-design" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="메커니즘-디자인mechanism-design"><span class="header-section-number">7</span> 메커니즘 디자인(Mechanism Design)</h2>
<section id="정의-5" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="정의-5"><span class="header-section-number">7.1</span> 정의</h3>
<p><strong>게임 이론의 역문제(Reverse Engineering).</strong><br>
“참여자들이 어떤 전략을 취하더라도 원하는 결과가 나오게 하는 제도 설계 이론.”</p>
</section>
<section id="핵심-아이디어-1" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="핵심-아이디어-1"><span class="header-section-number">7.2</span> 핵심 아이디어</h3>
<ul>
<li>목표(사회적 최적 결과)를 먼저 설정<br>
</li>
<li>참여자들의 개인 합리성을 고려해 규칙 설계<br>
</li>
<li>인센티브 호환성(Incentive Compatibility) 확보</li>
</ul>
</section>
<section id="대표-사례" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="대표-사례"><span class="header-section-number">7.3</span> 대표 사례</h3>
<p><strong>경매 설계:</strong><br>
- Vickrey 경매 (2등 가격 경매)<br>
- 구글 광고 경매 (Generalized Second-Price Auction)</p>
<p><strong>시장 설계:</strong><br>
- 학교 배정 알고리즘 (Deferred Acceptance)<br>
- 장기이식 매칭 시스템</p>
</section>
<section id="활용-분야-3" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="활용-분야-3"><span class="header-section-number">7.4</span> 활용 분야</h3>
<ul>
<li>온라인 광고 경매<br>
</li>
<li>공공재 배분<br>
</li>
<li>선거 제도 설계<br>
</li>
<li>탄소배출권 거래 시장</li>
</ul>
</section>
<section id="근거-5" class="level3" data-number="7.5">
<h3 data-number="7.5" class="anchored" data-anchor-id="근거-5"><span class="header-section-number">7.5</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Mechanism Design<br>
<a href="https://plato.stanford.edu/entries/mechanism-design/">https://plato.stanford.edu/entries/mechanism-design/</a></li>
</ul>
<hr>
</section>
</section>
<section id="시스템-다이내믹스system-dynamics" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="시스템-다이내믹스system-dynamics"><span class="header-section-number">8</span> 시스템 다이내믹스(System Dynamics)</h2>
<section id="정의-6" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="정의-6"><span class="header-section-number">8.1</span> 정의</h3>
<p><strong>피드백 구조를 가진 복잡한 시스템(정책, 조직, 산업)을 시간에 따라 분석하는 이론.</strong><br>
Jay Forrester가 1950년대 MIT에서 개발했다.</p>
</section>
<section id="주요-개념" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="주요-개념"><span class="header-section-number">8.2</span> 주요 개념</h3>
<p><strong>강화 루프(Reinforcing Loop):</strong><br>
- 양의 피드백: 변화가 자기 자신을 증폭<br>
- 예: 인구 증가, 기술 혁신의 선순환</p>
<p><strong>균형 루프(Balancing Loop):</strong><br>
- 음의 피드백: 목표값으로 수렴<br>
- 예: 온도 조절 시스템, 재고 관리</p>
<p><strong>지연(Delay):</strong><br>
- 행동과 결과 사이의 시간차<br>
- 정책 오버슈팅의 주요 원인</p>
</section>
<section id="활용-분야-4" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="활용-분야-4"><span class="header-section-number">8.3</span> 활용 분야</h3>
<ul>
<li>정책 시뮬레이션 (기후 정책, 경제 정책)<br>
</li>
<li>공급망 관리<br>
</li>
<li>조직 학습과 변화 관리<br>
</li>
<li>동태적 복잡성 분석</li>
</ul>
</section>
<section id="근거-6" class="level3" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="근거-6"><span class="header-section-number">8.4</span> 근거</h3>
<ul>
<li>Forrester, J. W. (1961). Industrial Dynamics<br>
<a href="https://dspace.mit.edu/handle/1721.1/1028">https://dspace.mit.edu/handle/1721.1/1028</a></li>
</ul>
<hr>
</section>
</section>
<section id="시나리오-플래닝scenario-planning" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="시나리오-플래닝scenario-planning"><span class="header-section-number">9</span> 시나리오 플래닝(Scenario Planning)</h2>
<section id="정의-7" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="정의-7"><span class="header-section-number">9.1</span> 정의</h3>
<p><strong>불확실한 미래 상황을 여러 시나리오로 만들어 분석하고 대응 전략을 개발하는 체계.</strong><br>
쉘(Shell)의 전략 기획으로 유명해졌다.</p>
</section>
<section id="주요-프로세스" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="주요-프로세스"><span class="header-section-number">9.2</span> 주요 프로세스</h3>
<ol type="1">
<li><strong>핵심 불확실성 식별</strong>: 미래에 큰 영향을 미치는 불확실 요인<br>
</li>
<li><strong>시나리오 구성</strong>: 2-4개의 그럴듯한 미래 상황 설정<br>
</li>
<li><strong>영향 분석</strong>: 각 시나리오에서 조직에 미치는 영향 평가<br>
</li>
<li><strong>전략 개발</strong>: 여러 시나리오에서 강건한(Robust) 전략 도출</li>
</ol>
</section>
<section id="도구" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="도구"><span class="header-section-number">9.3</span> 도구</h3>
<ul>
<li><strong>인과지도(Causal Map)</strong>: 변수 간 인과관계 시각화<br>
</li>
<li><strong>PESTEL 분석</strong>: 정치·경제·사회·기술·환경·법률 요인 분석<br>
</li>
<li><strong>메가트렌드 분석</strong>: 장기적 구조적 변화 파악</li>
</ul>
</section>
<section id="활용-분야-5" class="level3" data-number="9.4">
<h3 data-number="9.4" class="anchored" data-anchor-id="활용-분야-5"><span class="header-section-number">9.4</span> 활용 분야</h3>
<ul>
<li>기업 장기 전략 수립<br>
</li>
<li>국가 미래 정책 설계<br>
</li>
<li>리스크 관리<br>
</li>
<li>기술 로드맵 작성</li>
</ul>
</section>
<section id="근거-7" class="level3" data-number="9.5">
<h3 data-number="9.5" class="anchored" data-anchor-id="근거-7"><span class="header-section-number">9.5</span> 근거</h3>
<ul>
<li>Schoemaker, P. J. H. (1995). Scenario Planning: A Tool for Strategic Thinking<br>
<a href="https://www.jstor.org/stable/2507040">https://www.jstor.org/stable/2507040</a></li>
</ul>
<hr>
</section>
</section>
<section id="위험-분석risk-analysis" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="위험-분석risk-analysis"><span class="header-section-number">10</span> 위험 분석(Risk Analysis)</h2>
<section id="정의-8" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="정의-8"><span class="header-section-number">10.1</span> 정의</h3>
<p><strong>확률적 위험을 정량화하고, 최적 대응 전략을 찾는 체계.</strong></p>
</section>
<section id="주요-도구" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="주요-도구"><span class="header-section-number">10.2</span> 주요 도구</h3>
<p><strong>민감도 분석(Sensitivity Analysis):</strong><br>
- 입력 변수 변화에 따른 결과 변화 분석</p>
<p><strong>확률 모형(Probability Models):</strong><br>
- 몬테카를로 시뮬레이션<br>
- 의사결정 나무</p>
<p><strong>위험 매트릭스(Risk Matrix):</strong><br>
- 발생 확률 × 영향도로 위험 우선순위 결정</p>
</section>
<section id="활용-분야-6" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="활용-분야-6"><span class="header-section-number">10.3</span> 활용 분야</h3>
<ul>
<li>금융 리스크 관리 (VaR, CVaR)<br>
</li>
<li>프로젝트 리스크 관리<br>
</li>
<li>보험 상품 설계<br>
</li>
<li>재난 대비 계획</li>
</ul>
<hr>
</section>
</section>
<section id="사회-선택-이론social-choice-theory" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="사회-선택-이론social-choice-theory"><span class="header-section-number">11</span> 사회 선택 이론(Social Choice Theory)</h2>
<section id="정의-9" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="정의-9"><span class="header-section-number">11.1</span> 정의</h3>
<p><strong>집단 의사결정과 투표 제도의 수학적 분석.</strong><br>
Kenneth Arrow의 불가능성 정리(Impossibility Theorem)로 유명하다.</p>
</section>
<section id="arrow의-불가능성-정리" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="arrow의-불가능성-정리"><span class="header-section-number">11.2</span> Arrow의 불가능성 정리</h3>
<p>다음 조건을 모두 만족하는 사회 선택 함수는 존재하지 않는다:<br>
1. 비독재성(Non-dictatorship)<br>
2. 파레토 효율성(Pareto Efficiency)<br>
3. 무관한 대안으로부터의 독립성(IIA)<br>
4. 전역성(Universality)</p>
</section>
<section id="활용-분야-7" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="활용-분야-7"><span class="header-section-number">11.3</span> 활용 분야</h3>
<ul>
<li>선거 제도 설계<br>
</li>
<li>조직 의사결정 시스템<br>
</li>
<li>공공 정책 평가<br>
</li>
<li>집단 선호 집계</li>
</ul>
</section>
<section id="근거-8" class="level3" data-number="11.4">
<h3 data-number="11.4" class="anchored" data-anchor-id="근거-8"><span class="header-section-number">11.4</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Social Choice Theory<br>
<a href="https://plato.stanford.edu/entries/social-choice/">https://plato.stanford.edu/entries/social-choice/</a></li>
</ul>
<hr>
</section>
</section>
<section id="협상-이론negotiation-theory" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="협상-이론negotiation-theory"><span class="header-section-number">12</span> 협상 이론(Negotiation Theory)</h2>
<section id="정의-10" class="level3" data-number="12.1">
<h3 data-number="12.1" class="anchored" data-anchor-id="정의-10"><span class="header-section-number">12.1</span> 정의</h3>
<p><strong>둘 이상의 당사자가 상호 이익을 위해 합의점을 찾는 과정을 분석하는 이론.</strong></p>
</section>
<section id="nash-bargaining-solution" class="level3" data-number="12.2">
<h3 data-number="12.2" class="anchored" data-anchor-id="nash-bargaining-solution"><span class="header-section-number">12.2</span> Nash Bargaining Solution</h3>
<p><strong>공정한 협상의 수학적 모델:</strong><br>
- 개별 합리성(Individual Rationality): 협상 이탈 시보다 나은 결과<br>
- 파레토 효율성: 더 개선할 여지가 없음<br>
- 대칭성(Symmetry): 동등한 협상력 시 동등한 결과<br>
- IIA: 무관한 대안의 추가/제거가 결과에 영향 없음</p>
</section>
<section id="협상-전략" class="level3" data-number="12.3">
<h3 data-number="12.3" class="anchored" data-anchor-id="협상-전략"><span class="header-section-number">12.3</span> 협상 전략</h3>
<p><strong>분배적 협상(Distributive Negotiation):</strong><br>
- 제로섬 게임 (한쪽이 얻으면 다른 쪽이 잃음)<br>
- 가격 협상</p>
<p><strong>통합적 협상(Integrative Negotiation):</strong><br>
- 윈-윈 해결책 탐색<br>
- 이슈 간 거래(Trade-off)를 통한 가치 창출</p>
</section>
<section id="활용-분야-8" class="level3" data-number="12.4">
<h3 data-number="12.4" class="anchored" data-anchor-id="활용-분야-8"><span class="header-section-number">12.4</span> 활용 분야</h3>
<ul>
<li>비즈니스 계약 협상<br>
</li>
<li>노사 협상<br>
</li>
<li>국제 외교<br>
</li>
<li>분쟁 조정</li>
</ul>
<hr>
</section>
</section>
<section id="이론-간-비교표" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="이론-간-비교표"><span class="header-section-number">13</span> 이론 간 비교표</h2>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 33%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>이론</th>
<th>초점</th>
<th>주요 질문</th>
<th>대표 개념</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>게임 이론</td>
<td>전략적 상호작용</td>
<td>상대가 합리적일 때 최적 전략은?</td>
<td>내시균형</td>
</tr>
<tr class="even">
<td>의사결정 이론</td>
<td>개인 선택</td>
<td>불확실성 하에서 어떻게 선택?</td>
<td>기대효용</td>
</tr>
<tr class="odd">
<td>행동경제학</td>
<td>심리적 편향</td>
<td>실제 사람은 어떻게 결정?</td>
<td>손실회피</td>
</tr>
<tr class="even">
<td>정보 이론</td>
<td>불확실성 정량화</td>
<td>정보가 의사결정을 어떻게 바꾸나?</td>
<td>엔트로피</td>
</tr>
<tr class="odd">
<td>계약 이론</td>
<td>정보 비대칭</td>
<td>어떤 계약이 최선인가?</td>
<td>도덕적 해이</td>
</tr>
<tr class="even">
<td>메커니즘 디자인</td>
<td>제도 설계</td>
<td>원하는 결과를 유도하는 규칙은?</td>
<td>인센티브 호환성</td>
</tr>
<tr class="odd">
<td>시스템 다이내믹스</td>
<td>동적 복잡성</td>
<td>피드백이 시스템을 어떻게 변화?</td>
<td>강화/균형 루프</td>
</tr>
<tr class="even">
<td>시나리오 플래닝</td>
<td>미래 예측</td>
<td>가능한 미래는 무엇인가?</td>
<td>시나리오</td>
</tr>
<tr class="odd">
<td>위험 분석</td>
<td>리스크 관리</td>
<td>위험을 어떻게 정량화하나?</td>
<td>확률 분포</td>
</tr>
<tr class="even">
<td>사회 선택 이론</td>
<td>집단 의사결정</td>
<td>개인 선호를 어떻게 집계?</td>
<td>Arrow 불가능성</td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="통합-활용-추론게임-이론상황-분석의-결합" class="level2" data-number="14">
<h2 data-number="14" class="anchored" data-anchor-id="통합-활용-추론게임-이론상황-분석의-결합"><span class="header-section-number">14</span> 통합 활용: 추론·게임 이론·상황 분석의 결합</h2>
<section id="세-가지-축의-역할" class="level3" data-number="14.1">
<h3 data-number="14.1" class="anchored" data-anchor-id="세-가지-축의-역할"><span class="header-section-number">14.1</span> 세 가지 축의 역할</h3>
<p><strong>추론 체계 = 사고 엔진</strong><br>
- 문제 구조화, 원인 도출, 패턴 발견, 해결 검증<br>
- 어떤 분석 이론도 작동시키는 기초 엔진</p>
<p><strong>게임 이론 = 상호작용 전략 모델</strong><br>
- 상대의 합리성을 고려한 최적 전략 도출<br>
- 멀티 에이전트 환경의 핵심 프레임워크</p>
<p><strong>상황 분석 이론 = 환경·미래 모델</strong><br>
- 복잡한 환경의 구조 이해<br>
- 장기적 영향과 피드백 분석</p>
</section>
<section id="ai-에이전트-생태계-설계" class="level3" data-number="14.2">
<h3 data-number="14.2" class="anchored" data-anchor-id="ai-에이전트-생태계-설계"><span class="header-section-number">14.2</span> AI 에이전트 생태계 설계</h3>
<p><strong>추론:</strong><br>
- 문제 분해 (연역)<br>
- 데이터 기반 패턴 학습 (귀납)<br>
- 상황 설명 생성 (가추적)<br>
→ <strong>AI의 사고 구조 설계 엔진</strong></p>
<p><strong>게임 이론:</strong><br>
- 에이전트 간 협상<br>
- 리소스 할당 게임<br>
- 보상 기능 설계<br>
- 멀티 에이전트 협력·경쟁 모델링<br>
→ <strong>AI 에이전트들의 상호작용 규칙</strong></p>
<p><strong>상황 분석 이론:</strong><br>
- 에이전트 생태계가 작동하는 환경 모델링<br>
- 시뮬레이션 기반 정책 설정<br>
- 복잡한 피드백 루프 관리<br>
→ <strong>AI 에이전트가 움직이는 세계의 구조 설계</strong></p>
<p>즉, 이 세 가지를 합치면 “다수 에이전트가 전략적으로 움직이며 복잡한 환경에서 문제를 해결하는 생태계”를 설계하기 위한 완전한 구조가 된다.</p>
</section>
<section id="전략-기획에서의-통합" class="level3" data-number="14.3">
<h3 data-number="14.3" class="anchored" data-anchor-id="전략-기획에서의-통합"><span class="header-section-number">14.3</span> 전략 기획에서의 통합</h3>
<p><strong>추론 체계:</strong><br>
- 문제 정의<br>
- 원인-결과 구조화<br>
- 전략 옵션 생성<br>
- 리스크 분석</p>
<p><strong>게임 이론:</strong><br>
- 경쟁사 반응 예측<br>
- 협상 전략<br>
- 시장 구조 분석<br>
- 이해관계자 간 균형 도출</p>
<p><strong>상황 분석 이론:</strong><br>
- 시나리오 기반 미래 예측<br>
- 정책·전략 효과 시뮬레이션<br>
- 투자 우선순위 결정<br>
- 피드백 루프 분석</p>
<p>즉, 전략 기획자는 세 가지 축을 함께 사용해야 완전한 분석이 가능하다.</p>
<hr>
</section>
</section>
<section id="결론" class="level2" data-number="15">
<h2 data-number="15" class="anchored" data-anchor-id="결론"><span class="header-section-number">15</span> 결론</h2>
<p><strong>전략 분석 이론 체계의 통합적 이해:</strong><br>
- 게임 이론과 관련 이론들은 추론의 한 종류가 아니라 전략적 상황 분석의 수학적 프레임워크<br>
- 각 이론은 고유한 목적과 적용 영역을 가지며 상호 보완적<br>
- 추론 방법론, 게임 이론, 상황 분석 이론의 결합으로 완전한 전략 체계 구축 가능</p>
<p><strong>실무 적용 분야:</strong><br>
- AI 에이전트 생태계 설계<br>
- 전략 기획 및 정책 설계<br>
- 비즈니스 모델 설계<br>
- 조직 행동 분석<br>
- 리스크 분석<br>
- Agent-Based Simulation 기반 의사결정 자동화</p>
<p><strong>핵심 메시지:</strong><br>
추론 체계(사고 엔진) + 게임 이론(상호작용 모델) + 상황 분석 이론(환경 모델) = 복잡한 전략적 문제 해결을 위한 완전한 도구 세트</p>
<p>현대 AI 시스템과 전략 기획은 이 세 가지 축의 통합 없이는 불완전하며,<br>
이론적 엄밀성과 실무 적용성을 모두 확보하기 위해 각 이론의 강점을 이해하고 적절히 조합해야 한다.</p>


</section>

 ]]></description>
  <category>Strategy Frameworks</category>
  <category>Data Science</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Strategy_Frameworks/analysis_theory.html</guid>
  <pubDate>Wed, 10 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>추론 방법론 체계</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Strategy_Frameworks/reasoning.html</link>
  <description><![CDATA[ 





<section id="배경" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="배경"><span class="header-section-number">1</span> 배경</h2>
<p><strong>추론(Reasoning)</strong>은 주어진 정보나 전제로부터 새로운 결론을 도출하는 인지 과정이다.<br>
인간의 의사결정, 문제해결, 과학적 발견의 핵심이며, AI 시스템 설계에서도 필수적이다.</p>
<p><strong>추론 방법론이 중요한 이유:</strong><br>
- 논리적 오류를 방지하고 체계적인 사고 가능<br>
- 데이터 분석과 가설 검증의 이론적 기반 제공<br>
- AI 모델의 추론 과정 이해 및 프롬프트 설계 개선<br>
- 비즈니스 의사결정에서 근거 기반 전략 수립</p>
</section>
<section id="연역적-추론deductive-reasoning" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="연역적-추론deductive-reasoning"><span class="header-section-number">2</span> 연역적 추론(Deductive Reasoning)</h2>
<section id="정의" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="정의"><span class="header-section-number">2.1</span> 정의</h3>
<p><strong>전제가 참이면 결론도 반드시 참이 되는 논리적 추론 방식.</strong><br>
논리학에서 가장 엄격한 형태의 추론이며, 수학·형식논리·프로그래밍의 기본 구조다.</p>
</section>
<section id="특징" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="특징"><span class="header-section-number">2.2</span> 특징</h3>
<ul>
<li><strong>확실성</strong>: 전제가 참이면 결론의 진리값이 보장됨<br>
</li>
<li><strong>하향식(Top-Down)</strong>: 일반 원리 → 특수 사례<br>
</li>
<li><strong>검증 가능성</strong>: 논리적 타당성을 형식적으로 검증 가능</li>
</ul>
</section>
<section id="예시" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="예시"><span class="header-section-number">2.3</span> 예시</h3>
<p><strong>삼단논법(Syllogism):</strong><br>
- 대전제: 모든 사람은 죽는다<br>
- 소전제: A는 사람이다<br>
- 결론: 그러므로 A는 죽는다</p>
<p><strong>프로그래밍 적용:</strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 규칙: 나이 &gt;= 18이면 성인</span></span>
<span id="cb1-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> age <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>:</span>
<span id="cb1-3">    status <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"성인"</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 연역적 결론</span></span></code></pre></div>
</section>
<section id="연역-추론의-하위-기법" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="연역-추론의-하위-기법"><span class="header-section-number">2.4</span> 연역 추론의 하위 기법</h3>
<p><strong>귀류법(Reductio ad Absurdum):</strong><br>
- 가정을 참이라 놓고 → 논리 전개 → 모순 도출 → 가정이 거짓임을 증명<br>
- 수학 정리 증명에 핵심적 (예: √2의 무리수 증명)</p>
<p><strong>수학적 귀납법(Mathematical Induction):</strong><br>
- 기본 단계 증명 + 귀납 단계 증명 → 모든 자연수에 대해 성립<br>
- 재귀적 구조의 정당성 증명에 사용</p>
<pre><code>수학적 귀납법이 이름에 ‘귀납’이 들어가는데도 **연역법의 하위 기법**으로 분류되는 이유는,
이 방식이 실제로는 **귀납이 아니라 엄밀한 연역 구조로 작동**하기 때문이다.

아래를 단계별로 보면 바로 드러난다.

---

# 1. 수학적 귀납법의 구조를 논리적으로 뜯어보면

일반적인 수학적 귀납법은 다음과 같은 논리 구조를 갖는다.

1. ( P(1) )이 참이라고 증명한다.
2. ( P(k) )이 참이라고 가정한다.
3. 이 가정이 참이면 ( P(k+1) )도 반드시 참이라는 것을 증명한다.
4. 따라서 모든 자연수 ( n )에 대해 ( P(n) )이 참이다.

겉으로는 “1, 2, 3…을 관찰해 규칙을 일반화”하는 귀납처럼 보이지만, 실제 진행 방식은 전적으로 아래 구조다.

* **전제(기초 사례 + 귀납 가정)**
* → **논리적 추론(연역)**
* → **결론(전체 수에 대한 명제의 진리)**

즉, **명제를 전체에 대해 참으로 만드는 논리적 구조를 연역적으로 구축하는 과정**이다.

---

# 2. 귀납법과의 차이

귀납법(Induction)은

* 여러 사례를 관찰
* 그 패턴이 보편적이라고 추정
  하는 방식이다.
  확률적·경험적 기반이며, 결론은 확률적 참에 가깝다.

반면, 수학적 귀납법은

* 사례 관찰이 아니라
* “가정이 참이면 다음도 참”이라는 엄격한 논리 규칙
* 이를 전체 집합에 적용
  그래서 **결론이 100% 확정적으로 참**이 된다.

즉, **확률적 추정이 아니라 논리적 필연성**을 만드는 구조다.

---

# 3. 왜 이름은 ‘귀납’인데 실제는 연역인가

역사적·형태적 이유 때문이다.

초기 수학자는

* 1에서 2
* 2에서 3
* 3에서 4
  …로 “위로 올라간다”는 점에서 “귀납”이라는 이름을 붙였다.

하지만 현대 논리학에서는 이 방식이

* 일반 명제의 참을 **논리적으로 연역**하는 메커니즘이기에
  연역법(deductive reasoning)의 하위로 분류한다.

이것은 논리학·수리논리학·형식논리학에서 국제적으로 합의된 관례다.

---

# 4. 정리

수학적 귀납법이 연역의 하위인 이유는 다음과 같다.

1. 사례 기반 추론(귀납)이 아니라,
2. 전제를 세우고
3. 논리적 필연성을 전개해
4. 전체 명제의 참을 확정하는 구조이기 때문.

그래서
**이름은 귀납이지만 논리학적 성격은 완전히 연역**이다.

---

네가 만들려는 폴더 구조에서는 다음과 같이 넣는 것이 가장 깔끔하다.

* Reasoning Frameworks

  * Deductive Reasoning

    * Direct Deduction
    * Reductio ad Absurdum(귀류법)
    * Mathematical Induction(수학적 귀납법)

필요하면 추론 전체를 논리학 기준으로 **정식 트리 구조**로 만들어줄게.


</code></pre>
<p><strong>직접 증명(Direct Proof):</strong><br>
- 전제에서 결론까지 논리적 단계를 순차적으로 전개</p>
</section>
<section id="ai-시스템-적용" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="ai-시스템-적용"><span class="header-section-number">2.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>규칙 기반 시스템</strong>: IF-THEN 규칙으로 추론 엔진 구축<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 규칙에 따라 판단하시오…”<br>
</li>
<li><strong>검증 로직</strong>: 입력 데이터 유효성 검사</li>
</ul>
</section>
<section id="근거" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="근거"><span class="header-section-number">2.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Logic, Deduction<br>
<a href="https://plato.stanford.edu/entries/logic-deduction/">https://plato.stanford.edu/entries/logic-deduction/</a></li>
</ul>
</section>
</section>
<section id="귀납적-추론inductive-reasoning" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="귀납적-추론inductive-reasoning"><span class="header-section-number">3</span> 귀납적 추론(Inductive Reasoning)</h2>
<section id="정의-1" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="정의-1"><span class="header-section-number">3.1</span> 정의</h3>
<p><strong>개별 사례를 관찰하고, 그 패턴을 기반으로 일반적 결론을 추론하는 방식.</strong><br>
결론은 ‘가능성이 높은’ 형태로 제시되며, 절대적 확실성을 보장하지 않는다.</p>
</section>
<section id="특징-1" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="특징-1"><span class="header-section-number">3.2</span> 특징</h3>
<ul>
<li><strong>확률성</strong>: 전제가 참이어도 결론은 ‘개연성 있음’<br>
</li>
<li><strong>상향식(Bottom-Up)</strong>: 특수 사례 → 일반 원리<br>
</li>
<li><strong>경험 기반</strong>: 관찰과 실험 데이터로부터 패턴 발견</li>
</ul>
</section>
<section id="예시-1" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="예시-1"><span class="header-section-number">3.3</span> 예시</h3>
<p><strong>고전적 사례:</strong><br>
- 관찰: 백조 100마리를 봤는데 모두 흰색이었다<br>
- 귀납: 백조는 대부분 흰색일 것이다<br>
- 한계: 검은 백조 발견 시 결론이 무너짐</p>
<p><strong>데이터 분석 적용:</strong></p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 사용자 1000명의 행동 패턴 관찰</span></span>
<span id="cb3-2">pattern <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> analyze_user_behavior(users)</span>
<span id="cb3-3">general_rule <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"사용자는 평균 3회 방문 후 구매한다"</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 귀납적 일반화</span></span></code></pre></div>
</section>
<section id="귀납적-추론의-하위-기법" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="귀납적-추론의-하위-기법"><span class="header-section-number">3.4</span> 귀납적 추론의 하위 기법</h3>
<p><strong>열거적 귀납(Enumerative Induction):</strong><br>
- 다수의 관찰 사례에서 공통 속성 발견 → 일반 법칙 도출<br>
- 예: “관찰한 까마귀 1000마리가 모두 검다” → “모든 까마귀는 검다”</p>
<p><strong>제거 귀납(Eliminative Induction):</strong><br>
- 가능한 가설들을 제거해가며 남은 것을 채택 (밀의 방법)<br>
- 일치법, 차이법, 공변법, 잉여법 등</p>
<p><strong>유비 귀납(Analogical Induction):</strong><br>
- 유사한 사례의 패턴을 새로운 경우에 확장<br>
- 과학적 모델 구축의 기초</p>
</section>
<section id="ai-시스템-적용-1" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="ai-시스템-적용-1"><span class="header-section-number">3.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>머신러닝</strong>: 학습 데이터에서 패턴 발견 → 일반화 모델 구축<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 사례들을 보고 공통 패턴을 찾으시오…”<br>
</li>
<li><strong>사용자 연구</strong>: 행동 로그 분석 → 일반적 사용자 프로필 도출</li>
</ul>
</section>
<section id="근거-1" class="level3" data-number="3.6">
<h3 data-number="3.6" class="anchored" data-anchor-id="근거-1"><span class="header-section-number">3.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Inductive Logic<br>
<a href="https://plato.stanford.edu/entries/logic-inductive/">https://plato.stanford.edu/entries/logic-inductive/</a></li>
</ul>
</section>
</section>
<section id="가추적-추론abductive-reasoning" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="가추적-추론abductive-reasoning"><span class="header-section-number">4</span> 가추적 추론(Abductive Reasoning)</h2>
<section id="정의-2" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="정의-2"><span class="header-section-number">4.1</span> 정의</h3>
<p><strong>관찰된 사실을 가장 잘 설명하는 가설을 선택하는 추론 방식.</strong><br>
“최선의 설명으로의 추론(Inference to the Best Explanation)”이라고도 불린다.<br>
과학적 발견, 의료 진단, 문제 해결, 디버깅에 핵심적이다.</p>
</section>
<section id="특징-2" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="특징-2"><span class="header-section-number">4.2</span> 특징</h3>
<ul>
<li><strong>설명력</strong>: 여러 가설 중 관찰 사실을 가장 잘 설명하는 것 선택<br>
</li>
<li><strong>잠정성</strong>: 새로운 증거가 나오면 가설 수정 가능<br>
</li>
<li><strong>창조성</strong>: 새로운 가설 생성이 핵심 (연역/귀납과 차별점)</li>
</ul>
</section>
<section id="예시-2" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="예시-2"><span class="header-section-number">4.3</span> 예시</h3>
<p><strong>일상적 추론:</strong><br>
- 관찰 1: 방이 젖어 있다<br>
- 관찰 2: 창문이 열려 있다<br>
- 관찰 3: 밖에 비가 온 흔적이 있다<br>
- 가추: 비가 창문으로 들어왔을 가능성이 가장 크다</p>
<p><strong>의료 진단:</strong></p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 증상: 발열, 기침, 두통</span></span>
<span id="cb4-2">symptoms <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fever"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cough"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"headache"</span>]</span>
<span id="cb4-3">possible_diseases <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"감기"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"독감"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"폐렴"</span>]</span>
<span id="cb4-4">best_hypothesis <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> select_most_likely(symptoms, possible_diseases)</span>
<span id="cb4-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"가장 가능성 높은 진단: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>best_hypothesis<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가추적 결론</span></span></code></pre></div>
</section>
<section id="가추적-추론의-하위-기법" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="가추적-추론의-하위-기법"><span class="header-section-number">4.4</span> 가추적 추론의 하위 기법</h3>
<p><strong>역행 추론(Retroductive Reasoning):</strong><br>
- 결과로부터 원인을 추정하는 방식<br>
- 범죄 수사, 고장 진단에 핵심적</p>
<p><strong>진단적 추론(Diagnostic Reasoning):</strong><br>
- 증상/징후에서 근본 원인 파악<br>
- 의료 진단, 시스템 장애 분석</p>
<p><strong>가설-검증 순환(Hypothesis-Testing Cycle):</strong><br>
- 가설 생성 → 예측 도출 → 실험/관찰 → 가설 수정<br>
- 과학적 방법론의 핵심</p>
</section>
<section id="ai-시스템-적용-2" class="level3" data-number="4.5">
<h3 data-number="4.5" class="anchored" data-anchor-id="ai-시스템-적용-2"><span class="header-section-number">4.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>LLM 추론</strong>: 사용자 의도를 가장 잘 설명하는 응답 생성<br>
</li>
<li><strong>디버깅</strong>: 오류 메시지에서 원인 추정<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 관찰 결과의 가장 그럴듯한 원인은?”</li>
</ul>
</section>
<section id="근거-2" class="level3" data-number="4.6">
<h3 data-number="4.6" class="anchored" data-anchor-id="근거-2"><span class="header-section-number">4.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Abduction<br>
<a href="https://plato.stanford.edu/entries/abduction/">https://plato.stanford.edu/entries/abduction/</a></li>
</ul>
</section>
</section>
<section id="유추적-추론analogical-reasoning" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="유추적-추론analogical-reasoning"><span class="header-section-number">5</span> 유추적 추론(Analogical Reasoning)</h2>
<section id="정의-3" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="정의-3"><span class="header-section-number">5.1</span> 정의</h3>
<p><strong>A와 B가 여러 속성을 공유하므로, 다른 속성도 유사할 것이라고 추론하는 방식.</strong><br>
과학적 모델링, 법률 판례, 교육, 창의적 문제해결에서 광범위하게 사용된다.</p>
</section>
<section id="특징-3" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="특징-3"><span class="header-section-number">5.2</span> 특징</h3>
<ul>
<li><strong>유사성 기반</strong>: 대상 간 구조적·기능적 유사성 활용<br>
</li>
<li><strong>전이</strong>: 익숙한 영역(source)의 지식을 새로운 영역(target)으로 이동<br>
</li>
<li><strong>제한성</strong>: 유사성이 과장되면 잘못된 결론 도출 위험</li>
</ul>
</section>
<section id="예시-3" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="예시-3"><span class="header-section-number">5.3</span> 예시</h3>
<p><strong>생물학적 유추:</strong><br>
- Source: 자동차 엔진이 과열되면 성능 저하<br>
- Target: 인체도 과열되면 성능 저하<br>
- 유추: 인체도 냉각(수분 공급)이 필요하다</p>
<p><strong>법률 판례:</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 과거 유사 사건 A에서 판결 X</span></span>
<span id="cb5-2">similar_case <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> find_analogous_case(current_case)</span>
<span id="cb5-3"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> similarity_score <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> threshold:</span>
<span id="cb5-4">    predicted_ruling <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> similar_case.ruling  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 유추적 예측</span></span></code></pre></div>
</section>
<section id="유추적-추론의-하위-기법" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="유추적-추론의-하위-기법"><span class="header-section-number">5.4</span> 유추적 추론의 하위 기법</h3>
<p><strong>구조 매핑(Structure Mapping):</strong><br>
- 두 영역 간 관계 구조의 대응 관계 찾기<br>
- 과학적 이론 개발, 은유 이해에 활용</p>
<p><strong>비례적 유추(Proportional Analogy):</strong><br>
- A:B = C:D 형태의 관계 추론<br>
- 수학적 문제 해결, 패턴 인식</p>
<p><strong>인과적 유추(Causal Analogy):</strong><br>
- 한 영역의 인과 관계를 다른 영역에 투사<br>
- 새로운 도메인의 메커니즘 이해</p>
</section>
<section id="ai-시스템-적용-3" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="ai-시스템-적용-3"><span class="header-section-number">5.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>Few-shot Learning</strong>: 몇 가지 예시로 새로운 작업 수행<br>
</li>
<li><strong>Transfer Learning</strong>: 한 도메인 학습 → 다른 도메인 적용<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 예시와 유사하게 작성하시오…”</li>
</ul>
</section>
<section id="근거-3" class="level3" data-number="5.6">
<h3 data-number="5.6" class="anchored" data-anchor-id="근거-3"><span class="header-section-number">5.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Analogy and Analogical Reasoning<br>
<a href="https://plato.stanford.edu/entries/reasoning-analogy/">https://plato.stanford.edu/entries/reasoning-analogy/</a></li>
</ul>
</section>
</section>
<section id="확률적-추론probabilistic-reasoning" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="확률적-추론probabilistic-reasoning"><span class="header-section-number">6</span> 확률적 추론(Probabilistic Reasoning)</h2>
<section id="정의-4" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="정의-4"><span class="header-section-number">6.1</span> 정의</h3>
<p><strong>불확실한 사건을 확률로 표현하고, 결론의 가능성을 계산하는 추론 방식.</strong><br>
베이즈 추론(Bayesian Inference)이 대표적이며, 통계학·머신러닝·의사결정의 핵심이다.</p>
</section>
<section id="특징-4" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="특징-4"><span class="header-section-number">6.2</span> 특징</h3>
<ul>
<li><strong>수치화</strong>: 불확실성을 정량적으로 표현 (0~1 사이 확률)<br>
</li>
<li><strong>갱신 가능</strong>: 새로운 증거로 확률 업데이트 (베이즈 정리)<br>
</li>
<li><strong>의사결정</strong>: 기댓값 최대화로 최적 선택</li>
</ul>
</section>
<section id="예시-4" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="예시-4"><span class="header-section-number">6.3</span> 예시</h3>
<p><strong>의료 진단(베이즈 정리):</strong><br>
- 사전확률: 질병 X의 유병률 1%<br>
- 증상 A 발생 시 질병 X일 확률: 90%<br>
- 검사 결과 양성: 사후확률 재계산</p>
<p><strong>스팸 필터:</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 단어 출현 확률로 스팸 여부 판단</span></span>
<span id="cb6-2">P_spam <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 사전확률</span></span>
<span id="cb6-3">P_word_given_spam <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span></span>
<span id="cb6-4">P_word_given_ham <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 베이즈 정리로 사후확률 계산</span></span>
<span id="cb6-6">P_spam_given_word <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (P_word_given_spam <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> P_spam) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> P_word</span></code></pre></div>
</section>
<section id="확률적-추론의-하위-기법" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="확률적-추론의-하위-기법"><span class="header-section-number">6.4</span> 확률적 추론의 하위 기법</h3>
<p><strong>베이지안 추론(Bayesian Inference):</strong><br>
- 사전확률 + 새 증거 → 사후확률 업데이트<br>
- 순차적 학습과 의사결정에 최적</p>
<p><strong>마르코프 체인(Markov Chain):</strong><br>
- 현재 상태만으로 미래 예측 (무기억성)<br>
- 시계열 분석, 텍스트 생성</p>
<p><strong>몬테카를로 방법(Monte Carlo Method):</strong><br>
- 무작위 샘플링으로 확률 분포 추정<br>
- 복잡한 적분 계산, 시뮬레이션</p>
</section>
<section id="ai-시스템-적용-4" class="level3" data-number="6.5">
<h3 data-number="6.5" class="anchored" data-anchor-id="ai-시스템-적용-4"><span class="header-section-number">6.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>베이지안 네트워크</strong>: 변수 간 확률적 관계 모델링<br>
</li>
<li><strong>강화학습</strong>: 행동 선택 확률 업데이트<br>
</li>
<li><strong>불확실성 정량화</strong>: 모델 예측의 신뢰도 측정</li>
</ul>
</section>
<section id="근거-4" class="level3" data-number="6.6">
<h3 data-number="6.6" class="anchored" data-anchor-id="근거-4"><span class="header-section-number">6.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Bayesian Epistemology<br>
<a href="https://plato.stanford.edu/entries/epistemology-bayesian/">https://plato.stanford.edu/entries/epistemology-bayesian/</a></li>
</ul>
</section>
</section>
<section id="통계적-추론statistical-inference" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="통계적-추론statistical-inference"><span class="header-section-number">7</span> 통계적 추론(Statistical Inference)</h2>
<section id="정의-5" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="정의-5"><span class="header-section-number">7.1</span> 정의</h3>
<p><strong>표본 데이터에서 모집단의 특성을 추정하는 추론 방식.</strong><br>
가설검정, 신뢰구간, 회귀분석 등이 포함되며, 데이터 과학의 기초다.</p>
</section>
<section id="특징-5" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="특징-5"><span class="header-section-number">7.2</span> 특징</h3>
<ul>
<li><strong>샘플링 기반</strong>: 전체 데이터 대신 표본으로 추론<br>
</li>
<li><strong>오차 정량화</strong>: 표준오차, 신뢰구간으로 불확실성 표현<br>
</li>
<li><strong>가설검정</strong>: 귀무가설 기각 여부로 결론 도출</li>
</ul>
</section>
<section id="예시-5" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="예시-5"><span class="header-section-number">7.3</span> 예시</h3>
<p><strong>A/B 테스트:</strong><br>
- 표본: 사용자 1000명의 전환율 측정<br>
- 추론: 모집단 전체의 전환율 95% 신뢰구간 [2.5%, 3.5%]<br>
- 결론: 신뢰구간이 겹치지 않으면 유의미한 차이</p>
<p><strong>회귀분석:</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sm</span>
<span id="cb7-2">X <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.add_constant(age)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 독립변수: 나이</span></span>
<span id="cb7-3">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> income  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 종속변수: 소득</span></span>
<span id="cb7-4">model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.OLS(y, X).fit()</span>
<span id="cb7-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(model.summary())  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 나이와 소득의 관계 추론</span></span></code></pre></div>
</section>
<section id="통계적-추론의-하위-기법" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="통계적-추론의-하위-기법"><span class="header-section-number">7.4</span> 통계적 추론의 하위 기법</h3>
<p><strong>모수적 추론(Parametric Inference):</strong><br>
- 모집단 분포 가정 (정규분포 등) → 모수 추정<br>
- t-검정, ANOVA, 선형회귀</p>
<p><strong>비모수적 추론(Non-parametric Inference):</strong><br>
- 분포 가정 없이 순위/부호 기반 추론<br>
- Mann-Whitney 검정, Kruskal-Wallis 검정</p>
<p><strong>부트스트랩(Bootstrap):</strong><br>
- 재표본추출로 표본 분포 근사<br>
- 신뢰구간 계산, 표준오차 추정</p>
</section>
<section id="ai-시스템-적용-5" class="level3" data-number="7.5">
<h3 data-number="7.5" class="anchored" data-anchor-id="ai-시스템-적용-5"><span class="header-section-number">7.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>모델 평가</strong>: 검증 세트로 일반화 성능 추정<br>
</li>
<li><strong>실험 설계</strong>: A/B 테스트로 기능 개선 효과 검증<br>
</li>
<li><strong>불확실성 측정</strong>: 예측 구간(prediction interval) 계산</li>
</ul>
</section>
<section id="근거-5" class="level3" data-number="7.6">
<h3 data-number="7.6" class="anchored" data-anchor-id="근거-5"><span class="header-section-number">7.6</span> 근거</h3>
<ul>
<li>Casella, G., &amp; Berger, R. L. (2002). <em>Statistical Inference</em>. Duxbury Press.</li>
</ul>
</section>
</section>
<section id="규범적규칙-기반-추론rule-based-reasoning" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="규범적규칙-기반-추론rule-based-reasoning"><span class="header-section-number">8</span> 규범적·규칙 기반 추론(Rule-based Reasoning)</h2>
<section id="정의-6" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="정의-6"><span class="header-section-number">8.1</span> 정의</h3>
<p><strong>정해진 규칙(Rule), 조건(Condition), 정책(Policy)에 따라 결론을 도출하는 방식.</strong><br>
전문가 시스템, 비즈니스 룰 엔진, 법률 시스템에서 핵심적이다.</p>
</section>
<section id="특징-6" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="특징-6"><span class="header-section-number">8.2</span> 특징</h3>
<ul>
<li><strong>명시성</strong>: 규칙이 명확하게 정의됨 (IF-THEN 형태)<br>
</li>
<li><strong>추적 가능성</strong>: 추론 과정을 단계별로 설명 가능<br>
</li>
<li><strong>유지보수성</strong>: 규칙 추가/수정으로 시스템 업데이트 용이</li>
</ul>
</section>
<section id="예시-6" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="예시-6"><span class="header-section-number">8.3</span> 예시</h3>
<p><strong>비즈니스 규칙:</strong></p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 할인 정책 규칙</span></span>
<span id="cb8-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> customer.membership <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VIP"</span>:</span>
<span id="cb8-3">    discount <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span></span>
<span id="cb8-4"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> customer.purchase_amount <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>:</span>
<span id="cb8-5">    discount <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span></span>
<span id="cb8-6"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:</span>
<span id="cb8-7">    discount <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span></code></pre></div>
<p><strong>전문가 시스템(MYCIN - 의료 진단):</strong><br>
- Rule 1: IF 발열 AND 기침 THEN 감기 의심<br>
- Rule 2: IF 감기 의심 AND 고열 THEN 독감 가능성</p>
</section>
<section id="규칙-기반-추론의-하위-기법" class="level3" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="규칙-기반-추론의-하위-기법"><span class="header-section-number">8.4</span> 규칙 기반 추론의 하위 기법</h3>
<p><strong>순방향 연쇄(Forward Chaining):</strong><br>
- 사실(facts)에서 시작 → 규칙 적용 → 결론 도출<br>
- 데이터 주도형, 실시간 모니터링 시스템</p>
<p><strong>역방향 연쇄(Backward Chaining):</strong><br>
- 목표에서 시작 → 필요한 조건 역추적<br>
- 목표 지향형, 진단 시스템</p>
<p><strong>퍼지 규칙(Fuzzy Rules):</strong><br>
- 부분 진리값 (예: “매우 높음” = 0.9)<br>
- 불확실한 환경에서 유연한 추론</p>
</section>
<section id="ai-시스템-적용-6" class="level3" data-number="8.5">
<h3 data-number="8.5" class="anchored" data-anchor-id="ai-시스템-적용-6"><span class="header-section-number">8.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>하이브리드 AI</strong>: LLM + 규칙 엔진 결합<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 규칙을 엄격히 따르시오…”<br>
</li>
<li><strong>가드레일</strong>: AI 출력 검증 및 필터링</li>
</ul>
</section>
<section id="근거-6" class="level3" data-number="8.6">
<h3 data-number="8.6" class="anchored" data-anchor-id="근거-6"><span class="header-section-number">8.6</span> 근거</h3>
<ul>
<li>Russell, S., &amp; Norvig, P. (2021). <em>Artificial Intelligence: A Modern Approach</em> (4th ed.). Pearson.</li>
</ul>
</section>
</section>
<section id="사례-기반-추론case-based-reasoning-cbr" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="사례-기반-추론case-based-reasoning-cbr"><span class="header-section-number">9</span> 사례 기반 추론(Case-based Reasoning, CBR)</h2>
<section id="정의-7" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="정의-7"><span class="header-section-number">9.1</span> 정의</h3>
<p><strong>과거 유사 사례를 검색하고, 그 해결 방법을 현재 문제에 적용하는 추론 방식.</strong><br>
법률 판례, 의료 진단, 고객 지원, 추천 시스템에서 널리 사용된다.</p>
</section>
<section id="특징-7" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="특징-7"><span class="header-section-number">9.2</span> 특징</h3>
<ul>
<li><strong>경험 기반</strong>: 명시적 규칙 없이 과거 사례 활용<br>
</li>
<li><strong>적응</strong>: 과거 사례를 현재 상황에 맞게 수정<br>
</li>
<li><strong>학습</strong>: 새로운 사례를 지속적으로 축적</li>
</ul>
</section>
<section id="사례-기반-추론의-하위-기법-cbr-사이클---4rs" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="사례-기반-추론의-하위-기법-cbr-사이클---4rs"><span class="header-section-number">9.3</span> 사례 기반 추론의 하위 기법 (CBR 사이클 - 4Rs)</h3>
<ol type="1">
<li><strong>Retrieve (검색)</strong>: 유사 사례 검색
<ul>
<li>k-NN, 코사인 유사도, 벡터 검색<br>
</li>
</ul></li>
<li><strong>Reuse (재사용)</strong>: 과거 해결책 재사용
<ul>
<li>직접 적용, 템플릿 기반 적용<br>
</li>
</ul></li>
<li><strong>Revise (수정)</strong>: 현재 상황에 맞게 수정
<ul>
<li>규칙 기반 적응, 학습 기반 조정<br>
</li>
</ul></li>
<li><strong>Retain (보존)</strong>: 새로운 사례로 저장
<ul>
<li>사례 베이스 업데이트, 인덱싱</li>
</ul></li>
</ol>
<p><strong>협업 필터링(Collaborative Filtering):</strong><br>
- 사용자 기반: 유사 사용자의 선호 활용<br>
- 아이템 기반: 유사 아이템의 평가 활용</p>
</section>
<section id="예시-7" class="level3" data-number="9.4">
<h3 data-number="9.4" class="anchored" data-anchor-id="예시-7"><span class="header-section-number">9.4</span> 예시</h3>
<p><strong>법률 판례:</strong></p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 현재 사건과 유사한 과거 판례 검색</span></span>
<span id="cb9-2">current_case <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"type"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"계약위반"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"amount"</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5000</span>}</span>
<span id="cb9-3">similar_cases <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> case_db.search(similarity_threshold<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>)</span>
<span id="cb9-4">predicted_ruling <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> similar_cases[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>].ruling  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 과거 판결 적용</span></span></code></pre></div>
<p><strong>추천 시스템(협업 필터링):</strong><br>
- 사용자 A와 유사한 사용자 B의 구매 이력 참조<br>
- 사용자 A에게 B가 좋아한 상품 추천</p>
</section>
<section id="ai-시스템-적용-7" class="level3" data-number="9.5">
<h3 data-number="9.5" class="anchored" data-anchor-id="ai-시스템-적용-7"><span class="header-section-number">9.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>RAG(Retrieval-Augmented Generation)</strong>: 유사 문서 검색 → 답변 생성<br>
</li>
<li><strong>Few-shot Learning</strong>: 소수의 예시로 학습<br>
</li>
<li><strong>고객 지원 챗봇</strong>: 과거 응대 사례 참조</li>
</ul>
</section>
<section id="근거-7" class="level3" data-number="9.6">
<h3 data-number="9.6" class="anchored" data-anchor-id="근거-7"><span class="header-section-number">9.6</span> 근거</h3>
<ul>
<li>Aamodt, A., &amp; Plaza, E. (1994). “Case-Based Reasoning: Foundational Issues, Methodological Variations, and System Approaches.” <em>AI Communications</em>, 7(1), 39-59.</li>
</ul>
<hr>
</section>
</section>
<section id="전제-수정-기반-추론non-monotonic-reasoning" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="전제-수정-기반-추론non-monotonic-reasoning"><span class="header-section-number">10</span> 전제 수정 기반 추론(Non-monotonic Reasoning)</h2>
<section id="정의-8" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="정의-8"><span class="header-section-number">10.1</span> 정의</h3>
<p><strong>새로운 정보가 추가되면 기존 결론을 철회하거나 수정할 수 있는 추론 방식.</strong><br>
고전 논리(단조 논리)와 달리, 현실 세계의 불완전한 정보를 다룬다.</p>
</section>
<section id="특징-8" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="특징-8"><span class="header-section-number">10.2</span> 특징</h3>
<ul>
<li><strong>철회 가능성</strong>: 추가 정보로 결론 변경 (Defeasibility)<br>
</li>
<li><strong>기본 가정</strong>: 명시되지 않은 것은 “보통” 참으로 간주<br>
</li>
<li><strong>현실성</strong>: 일상적 추론을 더 잘 모델링</li>
</ul>
</section>
<section id="예시-8" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="예시-8"><span class="header-section-number">10.3</span> 예시</h3>
<p><strong>기본 추론(Default Reasoning):</strong><br>
- 초기: “새는 보통 날 수 있다” + “트위티는 새다” → 트위티는 날 수 있다<br>
- 추가 정보: “트위티는 펭귄이다”<br>
- 수정: 트위티는 날 수 없다 (기존 결론 철회)</p>
<p><strong>자율주행 AI:</strong></p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 초기 판단: 신호등 녹색 → 진행</span></span>
<span id="cb10-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> traffic_light <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"green"</span>:</span>
<span id="cb10-3">    action <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"proceed"</span></span>
<span id="cb10-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 추가 정보: 보행자 돌진</span></span>
<span id="cb10-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> pedestrian_detected:</span>
<span id="cb10-6">    action <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stop"</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기존 결론 철회</span></span></code></pre></div>
</section>
<section id="전제-수정-기반-추론의-하위-기법" class="level3" data-number="10.4">
<h3 data-number="10.4" class="anchored" data-anchor-id="전제-수정-기반-추론의-하위-기법"><span class="header-section-number">10.4</span> 전제 수정 기반 추론의 하위 기법</h3>
<p><strong>기본 논리(Default Logic):</strong><br>
- 명시되지 않은 것은 “보통” 참으로 간주<br>
- 예외 발견 시 기본 가정 철회</p>
<p><strong>회피 논리(Circumscription):</strong><br>
- 비정상을 최소화하는 방향으로 추론<br>
- 폐세계 가정(Closed World Assumption)</p>
<p><strong>진실 유지 시스템(Truth Maintenance System):</strong><br>
- 추론 과정의 의존성 추적<br>
- 모순 발견 시 자동으로 가정 철회</p>
</section>
<section id="ai-시스템-적용-8" class="level3" data-number="10.5">
<h3 data-number="10.5" class="anchored" data-anchor-id="ai-시스템-적용-8"><span class="header-section-number">10.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>상식 추론(Commonsense Reasoning)</strong>: 예외 상황 처리<br>
</li>
<li><strong>대화 시스템</strong>: 맥락 변화에 따른 응답 조정<br>
</li>
<li><strong>불완전 정보 처리</strong>: 가정 기반 추론 후 수정</li>
</ul>
</section>
<section id="근거-8" class="level3" data-number="10.6">
<h3 data-number="10.6" class="anchored" data-anchor-id="근거-8"><span class="header-section-number">10.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Non-Monotonic Logic<br>
<a href="https://plato.stanford.edu/entries/logic-nonmonotonic/">https://plato.stanford.edu/entries/logic-nonmonotonic/</a></li>
</ul>
<hr>
</section>
</section>
<section id="형식-논리-기반-추론formal-logic-reasoning" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="형식-논리-기반-추론formal-logic-reasoning"><span class="header-section-number">11</span> 형식 논리 기반 추론(Formal Logic Reasoning)</h2>
<section id="정의-9" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="정의-9"><span class="header-section-number">11.1</span> 정의</h3>
<p><strong>수학적으로 엄밀하게 정의된 논리 체계를 사용하는 추론 방식.</strong><br>
연역 추론의 정교한 변형들로, 복잡한 상황을 형식적으로 표현하고 검증한다.</p>
</section>
<section id="주요-논리-체계" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="주요-논리-체계"><span class="header-section-number">11.2</span> 주요 논리 체계</h3>
<p><strong>명제 논리(Propositional Logic):</strong><br>
- 가장 기본적인 형식 논리<br>
- 명제를 참/거짓으로 판단 (AND, OR, NOT 연산)<br>
- 예: <code>P ∧ Q → R</code> (P와 Q가 참이면 R도 참)</p>
<p><strong>술어 논리(Predicate Logic, First-Order Logic):</strong><br>
- 변수, 양화사(∀, ∃) 추가<br>
- 예: <code>∀x (사람(x) → 죽는다(x))</code> (모든 x에 대해…)<br>
- 데이터베이스 쿼리, 자동 정리 증명에 사용</p>
<p><strong>양상 논리(Modal Logic):</strong><br>
- 필연성(□), 가능성(◇) 표현<br>
- 예: <code>□P</code> (P는 반드시 참), <code>◇P</code> (P는 가능함)<br>
- 인식론, 윤리학, 프로그램 검증에 적용</p>
<p><strong>시간 논리(Temporal Logic):</strong><br>
- 시간 관계 표현: 항상(G), 결국(F), 다음(X)<br>
- 예: <code>G(요청 → F(응답))</code> (요청 후 결국 응답이 옴)<br>
- 하드웨어/소프트웨어 검증에 필수</p>
<p><strong>비고전 논리(Non-classical Logic):</strong><br>
- 직관주의 논리(Intuitionistic Logic): 구성적 증명<br>
- 퍼지 논리(Fuzzy Logic): 부분적 진리값 (0~1)<br>
- 다치 논리(Many-valued Logic): 참/거짓 외 제3의 값</p>
</section>
<section id="ai-시스템-적용-9" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="ai-시스템-적용-9"><span class="header-section-number">11.3</span> AI 시스템 적용</h3>
<ul>
<li><strong>자동 정리 증명</strong>: Coq, Isabelle 등<br>
</li>
<li><strong>모델 검증(Model Checking)</strong>: 소프트웨어 안전성 검증<br>
</li>
<li><strong>지식 표현</strong>: 온톨로지, 시맨틱 웹</li>
</ul>
</section>
<section id="근거-9" class="level3" data-number="11.4">
<h3 data-number="11.4" class="anchored" data-anchor-id="근거-9"><span class="header-section-number">11.4</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Logic and Artificial Intelligence<br>
<a href="https://plato.stanford.edu/entries/logic-ai/">https://plato.stanford.edu/entries/logic-ai/</a><br>
</li>
<li>Fitting, M. (1996). <em>First-Order Logic and Automated Theorem Proving</em>. Springer.</li>
</ul>
<hr>
</section>
</section>
<section id="추론-방법론-비교표" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="추론-방법론-비교표"><span class="header-section-number">12</span> 추론 방법론 비교표</h2>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 19%">
<col style="width: 16%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>추론 방식</th>
<th>확실성</th>
<th>방향</th>
<th>주요 활용 분야</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>연역적</td>
<td>높음 (전제→결론 필연)</td>
<td>일반→특수</td>
<td>수학, 프로그래밍, 형식 검증</td>
</tr>
<tr class="even">
<td>귀납적</td>
<td>중간 (개연성)</td>
<td>특수→일반</td>
<td>머신러닝, 과학적 발견</td>
</tr>
<tr class="odd">
<td>가추적</td>
<td>낮음~중간 (최선 설명)</td>
<td>관찰→가설</td>
<td>진단, 디버깅, 과학적 가설</td>
</tr>
<tr class="even">
<td>유추적</td>
<td>중간 (유사성 기반)</td>
<td>도메인 전이</td>
<td>Few-shot Learning, 교육</td>
</tr>
<tr class="odd">
<td>확률적</td>
<td>정량화 (확률값)</td>
<td>불확실성 모델링</td>
<td>베이지안 추론, 의사결정</td>
</tr>
<tr class="even">
<td>통계적</td>
<td>정량화 (신뢰구간)</td>
<td>표본→모집단</td>
<td>A/B 테스트, 회귀분석</td>
</tr>
<tr class="odd">
<td>규칙 기반</td>
<td>높음 (규칙 명시)</td>
<td>조건→결론</td>
<td>전문가 시스템, 정책 엔진</td>
</tr>
<tr class="even">
<td>사례 기반</td>
<td>중간 (과거 경험)</td>
<td>유사 사례 검색</td>
<td>법률, RAG, 추천 시스템</td>
</tr>
<tr class="odd">
<td>전제 수정</td>
<td>가변 (철회 가능)</td>
<td>기본 가정+예외</td>
<td>상식 추론, 자율주행</td>
</tr>
<tr class="even">
<td>형식 논리</td>
<td>매우 높음 (수학적)</td>
<td>공리→정리</td>
<td>정리 증명, 모델 검증</td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="결론" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="결론"><span class="header-section-number">13</span> 결론</h2>
<p><strong>추론 방법론의 선택은 문제의 특성에 따라 결정된다:</strong><br>
- <strong>확실성이 필요한 경우</strong>: 연역적, 규칙 기반, 형식 논리<br>
- <strong>데이터 기반 발견</strong>: 귀납적, 통계적, 확률적<br>
- <strong>불완전한 정보 처리</strong>: 가추적, 전제 수정 기반<br>
- <strong>경험 활용</strong>: 사례 기반, 유추적</p>
<p><strong>AI 시스템 설계 시 고려사항:</strong><br>
1. 단일 추론 방식만 사용하지 말고 하이브리드 접근<br>
2. 추론 과정의 투명성과 설명 가능성 확보<br>
3. 오류 처리와 불확실성 정량화<br>
4. 도메인 특성에 맞는 추론 체계 선택</p>
<p>현대 AI는 여러 추론 방법론을 결합하여 복잡한 문제를 해결한다.<br>
LLM은 귀납적 학습 + 가추적 추론 + 유추적 전이를 통합적으로 수행하며,<br>
RAG 시스템은 사례 기반 검색 + 연역적 생성을 결합한다.<br>
추론 이론의 깊은 이해는 더 강력하고 신뢰할 수 있는 AI 시스템 구축의 기초가 된다.</p>


</section>

 ]]></description>
  <category>Strategy Frameworks</category>
  <category>Data Science</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Strategy_Frameworks/reasoning.html</guid>
  <pubDate>Wed, 10 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>데이터 분석 생태계의 보완 요소</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Data_Science/00-basic-concept-supplement.html</link>
  <description><![CDATA[ 





<section id="데이터-분석-생태계-개요" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 데이터 분석 생태계 개요</h1>
<ul>
<li><a href="../../../../docs/blog/posts/Statistics/00-basic-concept.html">데이터 분석이란? - 데이터 분석의 개념과 도구 생태계 블로그 참고</a></li>
<li>데이터 분석의 ‘두뇌’ 역할을 하는 핵심 기술(통계, 머신러닝, 딥러닝, AI)만으로는 실제 비즈니스 가치를 창출하기 어렵다.<br>
</li>
<li>이 ’두뇌’를 제대로 작동시키기 위해서는 <strong>데이터 인프라, 의사소통, 검증</strong>을 담당하는 보완 요소들이 필수적이다.</li>
</ul>
<section id="데이터-분석-가치-사슬" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="데이터-분석-가치-사슬"><span class="header-section-number">1.1</span> 데이터 분석 가치 사슬</h2>
<pre><code>원천 데이터
    ↓
[데이터 엔지니어링] ← 수집, 저장, 변환, 관리
    ↓
정제된 데이터
    ↓
[분석 및 모델링] ← 통계, ML, DL, AI
    ↓
분석 결과
    ↓
[시각화 및 BI] ← 대시보드, 리포트
    ↓
인사이트
    ↓
[실험 설계 및 검증] ← A/B 테스트, 인과 추론
    ↓
의사결정 및 실행
    ↓
비즈니스 가치</code></pre>
</section>
</section>
<section id="데이터-엔지니어링-data-engineering" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> 데이터 엔지니어링 (Data Engineering)</h1>
<ul>
<li>데이터 분석 및 머신러닝 모델 구축을 위해 데이터를 <strong>수집, 저장, 변환, 관리하는 전체 과정</strong>을 의미한다.<br>
</li>
<li>정제되지 않은 원천 데이터를 분석 가능한 형태로 가공하는 파이프라인을 구축하는 일이다.</li>
</ul>
<section id="핵심-활동" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="핵심-활동"><span class="header-section-number">2.1</span> 핵심 활동</h2>
<section id="데이터-수집-data-collection" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="데이터-수집-data-collection"><span class="header-section-number">2.1.1</span> 데이터 수집 (Data Collection)</h3>
<p><strong>데이터 소스:</strong><br>
- 데이터베이스 (RDBMS, NoSQL)<br>
- API 연동<br>
- 로그 파일<br>
- 웹 크롤링<br>
- IoT 센서<br>
- 외부 데이터 제공자</p>
<p><strong>수집 방식:</strong><br>
- 배치 (Batch): 정해진 시간에 대량 수집<br>
- 스트리밍 (Streaming): 실시간 연속 수집</p>
</section>
<section id="데이터-저장-data-storage" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="데이터-저장-data-storage"><span class="header-section-number">2.1.2</span> 데이터 저장 (Data Storage)</h3>
<p><strong>저장소 유형:</strong><br>
- <strong>Data Warehouse</strong>: 구조화된 데이터 (예: Snowflake, BigQuery, Redshift)<br>
- <strong>Data Lake</strong>: 원시 데이터 모든 형식 (예: S3, HDFS, Azure Data Lake)<br>
- <strong>Data Lakehouse</strong>: Warehouse + Lake 통합 (예: Databricks, Delta Lake)</p>
</section>
<section id="데이터-변환-data-transformation" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="데이터-변환-data-transformation"><span class="header-section-number">2.1.3</span> 데이터 변환 (Data Transformation)</h3>
<p>데이터를 원천 시스템에서 분석 가능한 형태로 변환하는 과정이다. ETL과 ELT는 이 과정의 <strong>작업 순서가 다른 두 가지 접근법</strong>이다.</p>
<section id="etl-vs-elt-비교" class="level4" data-number="2.1.3.1">
<h4 data-number="2.1.3.1" class="anchored" data-anchor-id="etl-vs-elt-비교"><span class="header-section-number">2.1.3.1</span> ETL vs ELT 비교</h4>
<p><strong>ETL (Extract-Transform-Load) - 전통적 방식</strong></p>
<p><strong>작업 순서:</strong></p>
<pre><code>1. Extract (추출): 원천 시스템에서 데이터 추출
   ↓
2. Transform (변환): 별도의 처리 서버에서 데이터 변환 및 정제
   ↓
3. Load (적재): 변환된 데이터를 Data Warehouse에 저장</code></pre>
<p><strong>특징:</strong> - 변환 작업이 <strong>Data Warehouse 외부</strong>에서 발생<br>
- 별도의 ETL 서버 필요<br>
- 변환된 깨끗한 데이터만 적재</p>
<p><strong>장점:</strong> - Data Warehouse 부하 감소<br>
- 민감 정보 사전 제거 가능<br>
- 네트워크 트래픽 절감 (필요한 데이터만 적재)</p>
<p><strong>단점:</strong> - ETL 서버 추가 비용<br>
- 변환 로직 수정 시 재처리 시간 오래 걸림<br>
- 확장성 제한</p>
<p><strong>적합한 경우:</strong> - 온프레미스 환경<br>
- 작은 규모 데이터<br>
- 변환 로직이 복잡하고 안정적인 경우</p>
<p><strong>예시:</strong></p>
<pre><code>MySQL 데이터베이스 (원천)
    ↓ 추출
ETL 서버 (Talend, Informatica)
    ↓ 변환: 결측치 제거, 형식 통일, 집계
Redshift Data Warehouse (목적지)
    ↓ 적재: 이미 깨끗한 데이터</code></pre>
<p><strong>ELT (Extract-Load-Transform) - 최근 트렌드</strong></p>
<p><strong>작업 순서:</strong></p>
<pre><code>1. Extract (추출): 원천 시스템에서 데이터 추출  
   ↓
2. Load (적재): 원시 데이터를 그대로 Data Warehouse에 저장  
   ↓
3. Transform (변환): Data Warehouse 내부에서 SQL/쿼리로 변환  </code></pre>
<p><strong>특징:</strong> - 변환 작업이 <strong>Data Warehouse 내부</strong>에서 발생<br>
- 원시 데이터(Raw Data)를 먼저 저장<br>
- 클라우드 Data Warehouse의 강력한 컴퓨팅 파워 활용</p>
<p><strong>장점:</strong> - 빠른 데이터 적재 (변환 없이 바로 적재)<br>
- 유연성 높음 (나중에 다양한 방식으로 변환 가능)<br>
- 확장성 우수 (클라우드 자원 활용)<br>
- 원시 데이터 보존 (감사, 재분석 가능)</p>
<p><strong>단점:</strong> - Data Warehouse 스토리지 비용 증가<br>
- 변환 작업이 Data Warehouse 리소스 사용<br>
- 데이터 품질 관리 복잡</p>
<p><strong>적합한 경우:</strong> - 클라우드 환경 (BigQuery, Snowflake, Redshift)<br>
- 대규모 데이터<br>
- 빠른 데이터 수집이 중요한 경우<br>
- 변환 요구사항이 자주 변하는 경우</p>
<p><strong>예시:</strong></p>
<pre><code>다양한 원천 (MySQL, API, 로그파일)
    ↓ 추출
BigQuery Data Warehouse
    ↓ 적재: 원시 데이터 그대로 저장 (raw_data 테이블)
    ↓ 변환: dbt로 SQL 쿼리 실행
        - 결측치 처리
        - 형식 통일
        - 집계 테이블 생성
최종 분석용 테이블 (clean_data, analytics_table)</code></pre>
</section>
<section id="왜-elt가-최근-트렌드인가" class="level4" data-number="2.1.3.2">
<h4 data-number="2.1.3.2" class="anchored" data-anchor-id="왜-elt가-최근-트렌드인가"><span class="header-section-number">2.1.3.2</span> 왜 ELT가 최근 트렌드인가?</h4>
<p><strong>1. 클라우드 Data Warehouse의 발전</strong><br>
- BigQuery, Snowflake, Redshift 등은 <strong>강력한 컴퓨팅 파워</strong>를 제공<br>
- 변환 작업을 빠르게 처리 가능<br>
- 스토리지 비용 하락</p>
<p><strong>2. 유연성 요구 증가</strong><br>
- 비즈니스 요구사항이 자주 변경<br>
- 원시 데이터 보존 → 언제든 다시 변환 가능</p>
<p><strong>3. 실시간 분석 수요</strong><br>
- 데이터를 먼저 적재 → 빠른 가용성<br>
- 변환은 필요할 때 수행</p>
<p><strong>4. dbt(data build tool) 같은 도구의 등장</strong><br>
- SQL 기반 변환을 코드로 관리<br>
- 버전 관리, 테스트, 문서화 자동화</p>
</section>
<section id="etl-vs-elt-비교표" class="level4" data-number="2.1.3.3">
<h4 data-number="2.1.3.3" class="anchored" data-anchor-id="etl-vs-elt-비교표"><span class="header-section-number">2.1.3.3</span> ETL vs ELT 비교표</h4>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>ETL</th>
<th>ELT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>변환 위치</strong></td>
<td>외부 ETL 서버</td>
<td>Data Warehouse 내부</td>
</tr>
<tr class="even">
<td><strong>적재 데이터</strong></td>
<td>변환된 데이터</td>
<td>원시 데이터</td>
</tr>
<tr class="odd">
<td><strong>속도</strong></td>
<td>느림 (변환 후 적재)</td>
<td>빠름 (바로 적재)</td>
</tr>
<tr class="even">
<td><strong>유연성</strong></td>
<td>낮음 (재변환 어려움)</td>
<td>높음 (SQL로 재변환 쉬움)</td>
</tr>
<tr class="odd">
<td><strong>확장성</strong></td>
<td>제한적</td>
<td>우수 (클라우드 자원)</td>
</tr>
<tr class="even">
<td><strong>비용</strong></td>
<td>ETL 서버 비용</td>
<td>Storage 비용</td>
</tr>
<tr class="odd">
<td><strong>적합 환경</strong></td>
<td>온프레미스</td>
<td>클라우드</td>
</tr>
<tr class="even">
<td><strong>복잡도</strong></td>
<td>높음</td>
<td>낮음 (SQL 기반)</td>
</tr>
<tr class="odd">
<td><strong>원시 데이터 보존</strong></td>
<td>어려움</td>
<td>쉬움</td>
</tr>
</tbody>
</table>
</section>
<section id="실무-예시-비교" class="level4" data-number="2.1.3.4">
<h4 data-number="2.1.3.4" class="anchored" data-anchor-id="실무-예시-비교"><span class="header-section-number">2.1.3.4</span> 실무 예시 비교</h4>
<p><strong>시나리오: 월별 매출 집계</strong></p>
<p><strong>ETL 방식:</strong></p>
<pre><code>1. MySQL에서 주문 데이터 추출 (100만 건)
   ↓
2. ETL 서버에서 변환
   - 날짜 형식 통일
   - 취소 주문 제외
   - 월별 집계 (→ 12건)
   ↓
3. Data Warehouse에 12건만 적재</code></pre>
<p><strong>ELT 방식:</strong></p>
<pre><code>1. MySQL에서 주문 데이터 추출 (100만 건)
   ↓
2. BigQuery에 100만 건 그대로 적재
   ↓
3. BigQuery에서 SQL로 변환
   CREATE TABLE monthly_sales AS
   SELECT 
     DATE_TRUNC(order_date, MONTH) as month,
     SUM(amount) as total_sales
   FROM raw_orders
   WHERE status != 'cancelled'
   GROUP BY month;</code></pre>
<p><strong>차이점:</strong> - ETL: 12건만 적재 → 스토리지 절약, 하지만 원시 데이터 없음 - ELT: 100만 건 적재 → 나중에 다른 기준으로 재집계 가능</p>
<hr>
</section>
<section id="변환-작업의-주요-내용" class="level4" data-number="2.1.3.5">
<h4 data-number="2.1.3.5" class="anchored" data-anchor-id="변환-작업의-주요-내용"><span class="header-section-number">2.1.3.5</span> 변환 작업의 주요 내용</h4>
<p>변환 작업은 ETL이든 ELT이든 <strong>데이터를 분석 가능한 형태로 만드는 과정</strong>이다.</p>
<p><strong>1. 데이터 정제 (Data Cleansing)</strong> - 결측치 처리: NULL 값 제거 또는 대체 - 이상치 처리: 비정상 값 제거 또는 보정 - 중복 제거: 동일 레코드 삭제</p>
<p><strong>2. 데이터 통합 (Data Integration)</strong> - 여러 소스 결합: JOIN 연산 - 스키마 매칭: 다른 구조의 데이터 통합</p>
<p><strong>3. 데이터 표준화 (Data Standardization)</strong> - 형식 통일: 날짜, 전화번호, 주소 포맷 통일 - 단위 변환: USD → KRW, kg → g - 코드 표준화: 약어 → 전체 이름</p>
<p><strong>4. 데이터 집계 (Data Aggregation)</strong> - 일별 → 월별 합계 - 거래 내역 → 고객별 총액</p>
<p><strong>5. 특징 생성 (Feature Engineering)</strong> - 파생 변수 생성: 나이 → 연령대 - 비율 계산: 전환율, 증가율 - 범주화: 연속형 → 범주형### 데이터 파이프라인 (Data Pipeline)</p>
<ul>
<li>데이터가 소스에서 최종 목적지까지 이동하며 변환되는 <strong>자동화된 흐름</strong></li>
<li><strong>주요 도구:</strong>
<ul>
<li><strong>워크플로우 오케스트레이션</strong>: Apache Airflow, Prefect, Dagster<br>
</li>
<li><strong>데이터 통합</strong>: Apache Kafka, Apache Spark<br>
</li>
<li><strong>ETL 도구</strong>: dbt, Talend, Informatica</li>
</ul></li>
</ul>
<p><strong>예시 파이프라인:</strong></p>
<pre><code>1. 일일 매출 데이터 추출 (MySQL)
   ↓
2. 데이터 정제 및 변환 (Python/Spark)
   ↓
3. Data Warehouse 적재 (BigQuery)
   ↓
4. 집계 테이블 생성 (dbt)
   ↓
5. 대시보드 업데이트 (Tableau)</code></pre>
</section>
</section>
<section id="데이터-품질-관리-data-quality" class="level3" data-number="2.1.4">
<h3 data-number="2.1.4" class="anchored" data-anchor-id="데이터-품질-관리-data-quality"><span class="header-section-number">2.1.4</span> 데이터 품질 관리 (Data Quality)</h3>
<p><strong>품질 차원:</strong><br>
- <strong>정확성 (Accuracy)</strong>: 올바른 값 - <strong>완전성 (Completeness)</strong>: 결측치 최소화 - <strong>일관성 (Consistency)</strong>: 형식 통일 - <strong>적시성 (Timeliness)</strong>: 최신 데이터 유지 - <strong>유효성 (Validity)</strong>: 비즈니스 규칙 준수</p>
</section>
</section>
<section id="데이터-엔지니어링의-중요성" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="데이터-엔지니어링의-중요성"><span class="header-section-number">2.2</span> 데이터 엔지니어링의 중요성</h2>
<p><strong>“Garbage In, Garbage Out”</strong><br>
아무리 좋은 분석 도구와 모델이 있어도, <strong>양질의 데이터가 없으면 무용지물</strong>이다. 데이터 엔지니어링은 데이터 분석의 <strong>기반 인프라</strong>를 제공한다.</p>
<p><strong>실무 통계:</strong><br>
- 데이터 과학자는 시간의 <strong>60-80%</strong>를 데이터 수집 및 정제에 소비 - 잘 구축된 데이터 파이프라인은 분석 속도를 <strong>10배 이상</strong> 향상</p>
</section>
<section id="주요-기술-스택" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="주요-기술-스택"><span class="header-section-number">2.3</span> 주요 기술 스택</h2>
<table class="table">
<thead>
<tr class="header">
<th>영역</th>
<th>도구/기술</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>프로그래밍</strong></td>
<td>Python, SQL, Scala</td>
</tr>
<tr class="even">
<td><strong>빅데이터</strong></td>
<td>Apache Spark, Hadoop</td>
</tr>
<tr class="odd">
<td><strong>스트리밍</strong></td>
<td>Apache Kafka, Apache Flink</td>
</tr>
<tr class="even">
<td><strong>오케스트레이션</strong></td>
<td>Apache Airflow, Prefect</td>
</tr>
<tr class="odd">
<td><strong>클라우드</strong></td>
<td>AWS (S3, Glue), GCP (BigQuery), Azure</td>
</tr>
<tr class="even">
<td><strong>데이터베이스</strong></td>
<td>PostgreSQL, MongoDB, Cassandra</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="데이터-시각화-data-visualization" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> 데이터 시각화 (Data Visualization)</h1>
<p>분석된 데이터를 <strong>차트, 그래프, 대시보드 등의 시각적 형태로 표현</strong>하여 사람들이 데이터를 쉽게 이해하고 인사이트를 얻을 수 있도록 돕는 기술이다.</p>
<section id="핵심-원칙" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="핵심-원칙"><span class="header-section-number">3.1</span> 핵심 원칙</h2>
<section id="명확성-clarity" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="명확성-clarity"><span class="header-section-number">3.1.1</span> 명확성 (Clarity)</h3>
<ul>
<li>메시지를 즉시 이해할 수 있어야 함
<ul>
<li>불필요한 요소 제거<br>
</li>
<li>직관적인 차트 유형 선택<br>
</li>
<li>명확한 레이블과 제목</li>
</ul></li>
</ul>
</section>
<section id="정확성-accuracy" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="정확성-accuracy"><span class="header-section-number">3.1.2</span> 정확성 (Accuracy)</h3>
<ul>
<li>데이터를 왜곡 없이 표현<br>
</li>
<li><strong>주의사항:</strong>
<ul>
<li>Y축 시작점 조작 금지<br>
</li>
<li>적절한 스케일 사용<br>
</li>
<li>3D 차트 지양 (왜곡 발생)</li>
</ul></li>
</ul>
</section>
<section id="효율성-efficiency" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="효율성-efficiency"><span class="header-section-number">3.1.3</span> 효율성 (Efficiency)</h3>
<ul>
<li>최소한의 시각 요소로 최대 정보 전달</li>
</ul>
<p><strong>Edward Tufte의 Data-Ink Ratio:</strong></p>
<pre><code>Data-Ink Ratio = 데이터 표현 잉크 / 전체 사용 잉크

높을수록 효율적</code></pre>
</section>
<section id="미학-aesthetics" class="level3" data-number="3.1.4">
<h3 data-number="3.1.4" class="anchored" data-anchor-id="미학-aesthetics"><span class="header-section-number">3.1.4</span> 미학 (Aesthetics)</h3>
<ul>
<li>보기 좋은 디자인으로 몰입도 향상
<ul>
<li>조화로운 색상 팔레트<br>
</li>
<li>일관된 스타일<br>
</li>
<li>적절한 공백 활용</li>
</ul></li>
</ul>
</section>
</section>
<section id="시각화의-중요성" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="시각화의-중요성"><span class="header-section-number">3.2</span> 시각화의 중요성</h2>
<ul>
<li><strong>의사소통 효율성:</strong> 복잡한 통계 결과나 머신러닝 모델의 특징도 시각화를 통해 <strong>비전문가에게 효과적으로 전달</strong>할 수 있다.</li>
<li><strong>의사결정 속도:</strong> 숫자 테이블보다 시각화가 <strong>3배 이상 빠른 인사이트 도출</strong>을 가능하게 한다.</li>
</ul>
</section>
</section>
<section id="비즈니스-인텔리전스-business-intelligence-bi" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> 비즈니스 인텔리전스 (Business Intelligence, BI)</h1>
<ul>
<li>기업의 데이터를 수집하고 분석하여 과거와 현재의 비즈니스 현황에 대한 <strong>통찰력 있는 보고서와 대시보드를 제공</strong>하는 과정 및 기술이다.</li>
</ul>
<section id="bi-vs-analytics" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="bi-vs-analytics"><span class="header-section-number">4.1</span> BI vs Analytics</h2>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>BI</th>
<th>Analytics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>시간 관점</strong></td>
<td>과거~현재</td>
<td>미래</td>
</tr>
<tr class="even">
<td><strong>핵심 질문</strong></td>
<td>“무엇이 일어났나?”</td>
<td>“무엇이 일어날 것인가?”</td>
</tr>
<tr class="odd">
<td><strong>목적</strong></td>
<td>성과 모니터링, 진단</td>
<td>예측, 최적화</td>
</tr>
<tr class="even">
<td><strong>기술</strong></td>
<td>SQL, OLAP, 시각화</td>
<td>ML, 통계 모델링</td>
</tr>
<tr class="odd">
<td><strong>사용자</strong></td>
<td>경영진, 관리자</td>
<td>데이터 과학자, 분석가</td>
</tr>
<tr class="even">
<td><strong>산출물</strong></td>
<td>대시보드, 정기 리포트</td>
<td>예측 모델, 시나리오 분석</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>관계:</strong> BI와 Analytics는 상호 보완적이다. BI가 “무엇이 일어났는지” 파악하면, Analytics가 “왜 일어났고, 앞으로 무엇을 해야 하는지” 답한다.</li>
</ul>
</section>
<section id="bi-시스템-구성-요소" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="bi-시스템-구성-요소"><span class="header-section-number">4.2</span> BI 시스템 구성 요소</h2>
<section id="데이터-소스" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="데이터-소스"><span class="header-section-number">4.2.1</span> 데이터 소스</h3>
<ul>
<li>운영 데이터베이스 (OLTP)<br>
</li>
<li>외부 데이터<br>
</li>
<li>파일 시스템</li>
</ul>
</section>
<section id="etl-프로세스" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="etl-프로세스"><span class="header-section-number">4.2.2</span> ETL 프로세스</h3>
<ul>
<li>데이터 추출 (Extract)<br>
</li>
<li>데이터 변환 (Transform)<br>
</li>
<li>데이터 적재 (Load)</li>
</ul>
</section>
<section id="데이터-웨어하우스-data-warehouse" class="level3" data-number="4.2.3">
<h3 data-number="4.2.3" class="anchored" data-anchor-id="데이터-웨어하우스-data-warehouse"><span class="header-section-number">4.2.3</span> 데이터 웨어하우스 (Data Warehouse)</h3>
<ul>
<li>OLAP (Online Analytical Processing) 큐브<br>
</li>
<li>스타 스키마 / 스노우플레이크 스키마<br>
</li>
<li>차원 테이블 + 팩트 테이블</li>
</ul>
</section>
<section id="분석-및-보고-도구" class="level3" data-number="4.2.4">
<h3 data-number="4.2.4" class="anchored" data-anchor-id="분석-및-보고-도구"><span class="header-section-number">4.2.4</span> 분석 및 보고 도구</h3>
<ul>
<li>대시보드<br>
</li>
<li>애드혹 쿼리<br>
</li>
<li>정기 리포트</li>
</ul>
</section>
</section>
<section id="bi의-한계와-analytics의-필요성" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="bi의-한계와-analytics의-필요성"><span class="header-section-number">4.3</span> BI의 한계와 Analytics의 필요성</h2>
<ul>
<li><strong>BI의 한계:</strong>
<ul>
<li>과거 데이터 중심 (후행 지표)<br>
</li>
<li>“왜?”에 대한 답 제한적<br>
</li>
<li>미래 예측 불가<br>
<strong>Analytics로 보완:</strong><br>
</li>
<li>예측 모델링<br>
</li>
<li>원인 분석<br>
</li>
<li>시나리오 시뮬레이션<br>
</li>
<li>최적화 추천</li>
</ul></li>
</ul>
</section>
</section>
<section id="실험-설계-experiment-design-및-ab-테스트" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> 실험 설계 (Experiment Design) 및 A/B 테스트</h1>
<ul>
<li>어떤 변화(신제품, 마케팅 전략 등)가 실제 목표 지표에 긍정적인 영향을 미치는지 <strong>과학적으로 검증하기 위한 방법론</strong>이다.</li>
</ul>
<section id="ab-테스트-기본-개념" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="ab-테스트-기본-개념"><span class="header-section-number">5.1</span> A/B 테스트 기본 개념</h2>
<section id="구조" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="구조"><span class="header-section-number">5.1.1</span> 구조</h3>
<p><strong>대조군 (Control Group) vs 실험군 (Treatment Group)</strong><br>
- 대조군: 기존 버전 (A)<br>
- 실험군: 새로운 버전 (B)</p>
<p><strong>무작위 할당 (Randomization)</strong><br>
- 사용자를 무작위로 두 그룹에 배정<br>
- 편향 제거</p>
</section>
<section id="프로세스" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="프로세스"><span class="header-section-number">5.1.2</span> 프로세스</h3>
<ol type="1">
<li>가설 수립: “새로운 버튼 색상이 클릭률을 높일 것이다”<br>
</li>
<li>실험 설계
<ul>
<li>대조군: 파란색 버튼<br>
</li>
<li>실험군: 빨간색 버튼<br>
</li>
<li>샘플 크기 계산<br>
</li>
<li>실험 기간 설정<br>
</li>
</ul></li>
<li>실험 실행
<ul>
<li>트래픽을 50:50으로 분할<br>
</li>
<li>데이터 수집<br>
</li>
</ul></li>
<li>통계적 검증
<ul>
<li>유의성 검정 (t-test, chi-square)<br>
</li>
<li>p-value 확인 (보통 &lt; 0.05)<br>
</li>
</ul></li>
<li>의사결정
<ul>
<li>유의미한 차이 → 실험군 채택<br>
</li>
<li>차이 없음 → 대조군 유지</li>
</ul></li>
</ol>
</section>
</section>
<section id="실험-설계-원칙" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="실험-설계-원칙"><span class="header-section-number">5.2</span> 실험 설계 원칙</h2>
<section id="smart-목표-설정" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="smart-목표-설정"><span class="header-section-number">5.2.1</span> SMART 목표 설정</h3>
<ul>
<li><strong>Specific</strong>: 구체적 (예: “클릭률 5% 향상”)</li>
<li><strong>Measurable</strong>: 측정 가능</li>
<li><strong>Achievable</strong>: 달성 가능</li>
<li><strong>Relevant</strong>: 비즈니스 목표와 관련</li>
<li><strong>Time-bound</strong>: 기한 명확</li>
</ul>
</section>
<section id="단일-변수-single-variable" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="단일-변수-single-variable"><span class="header-section-number">5.2.2</span> 단일 변수 (Single Variable)</h3>
<p><strong>한 번에 하나의 변수만 테스트</strong><br>
- 잘못된 예: 버튼 색상 + 문구 동시 변경 → 무엇이 원인인지 불명확<br>
- 올바른 예: 버튼 색상만 변경 → 명확한 원인 파악</p>
</section>
<section id="충분한-샘플-크기" class="level3" data-number="5.2.3">
<h3 data-number="5.2.3" class="anchored" data-anchor-id="충분한-샘플-크기"><span class="header-section-number">5.2.3</span> 충분한 샘플 크기</h3>
<p><strong>통계적 검정력 (Power) 확보</strong><br>
- 일반적으로 Power = 0.8 (80%)<br>
- 샘플 크기 계산기 활용<br>
- 너무 적으면 유의미한 차이 감지 불가</p>
</section>
<section id="충분한-실험-기간" class="level3" data-number="5.2.4">
<h3 data-number="5.2.4" class="anchored" data-anchor-id="충분한-실험-기간"><span class="header-section-number">5.2.4</span> 충분한 실험 기간</h3>
<p><strong>시간적 변동 고려</strong><br>
- 요일 효과 (주중 vs 주말)<br>
- 계절성<br>
- 일반적으로 최소 1-2주 권장</p>
</section>
</section>
<section id="고급-실험-설계" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="고급-실험-설계"><span class="header-section-number">5.3</span> 고급 실험 설계</h2>
<section id="abn-테스트" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="abn-테스트"><span class="header-section-number">5.3.1</span> A/B/n 테스트</h3>
<p><strong>3개 이상의 변형 비교</strong><br>
- A: 기존<br>
- B: 변형 1<br>
- C: 변형 2<br>
- 다중 비교 문제 주의 (Bonferroni 보정)</p>
</section>
<section id="다변량-테스트-multivariate-test" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="다변량-테스트-multivariate-test"><span class="header-section-number">5.3.2</span> 다변량 테스트 (Multivariate Test)</h3>
<p><strong>여러 요소의 조합 테스트</strong><br>
- 예: 버튼 색상(2) × 문구(2) = 4가지 조합<br>
- 복잡하지만 상호작용 효과 파악 가능</p>
</section>
<section id="밴딧-알고리즘-multi-armed-bandit" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="밴딧-알고리즘-multi-armed-bandit"><span class="header-section-number">5.3.3</span> 밴딧 알고리즘 (Multi-Armed Bandit)</h3>
<p><strong>탐색 vs 활용의 균형</strong><br>
- 초기: 모든 변형 탐색<br>
- 점차: 성과 좋은 변형에 트래픽 집중<br>
- A/B 테스트보다 빠른 최적화</p>
</section>
</section>
<section id="주요-지표-metrics" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="주요-지표-metrics"><span class="header-section-number">5.4</span> 주요 지표 (Metrics)</h2>
<section id="주-지표-primary-metric" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="주-지표-primary-metric"><span class="header-section-number">5.4.1</span> 주 지표 (Primary Metric)</h3>
<p><strong>의사결정 기준:</strong><br>
- 클릭률 (CTR)<br>
- 전환율 (Conversion Rate)<br>
- 매출 (Revenue)</p>
</section>
<section id="보조-지표-secondary-metrics" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="보조-지표-secondary-metrics"><span class="header-section-number">5.4.2</span> 보조 지표 (Secondary Metrics)</h3>
<p><strong>부작용 모니터링:</strong><br>
- 이탈률<br>
- 체류 시간<br>
- 다른 페이지 전환율</p>
</section>
<section id="guardrail-metrics" class="level3" data-number="5.4.3">
<h3 data-number="5.4.3" class="anchored" data-anchor-id="guardrail-metrics"><span class="header-section-number">5.4.3</span> Guardrail Metrics</h3>
<p><strong>최소 성능 보장:</strong><br>
- 페이지 로딩 속도<br>
- 오류율<br>
- 고객 만족도</p>
</section>
</section>
<section id="실험의-중요성" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="실험의-중요성"><span class="header-section-number">5.5</span> 실험의 중요성</h2>
<p><strong>데이터 분석 가설의 실전 검증:</strong><br>
데이터 분석을 통해 얻은 가설이나 모델의 예측이 <strong>실제 환경에서 유효한지 확인</strong>하는 필수 과정이다.</p>
<p><strong>의사결정 리스크 감소:</strong><br>
직관이나 경험이 아닌 <strong>객관적 데이터</strong>로 의사결정하여 실패 비용을 최소화한다.</p>
</section>
</section>
<section id="인과-추론-causal-inference" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> 인과 추론 (Causal Inference)</h1>
<ul>
<li>단순히 변수들 간의 <strong>상관관계(correlation)</strong>를 넘어, <strong>한 변수가 다른 변수의 원인이라는 인과 관계(causation)</strong>를 밝히는 통계적/계량 경제학적 방법론이다.</li>
</ul>
<section id="상관관계-vs-인과관계" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="상관관계-vs-인과관계"><span class="header-section-number">6.1</span> 상관관계 vs 인과관계</h2>
<section id="상관관계-correlation" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="상관관계-correlation"><span class="header-section-number">6.1.1</span> 상관관계 (Correlation)</h3>
<ul>
<li>두 변수가 함께 변하는 패턴</li>
<li><strong>예시:</strong>
<ul>
<li>아이스크림 판매량 ↑ → 익사 사고 ↑<br>
</li>
<li>하지만 아이스크림이 익사를 <strong>유발하지 않음</strong><br>
</li>
<li>공통 원인: 여름 날씨 (교란 변수)</li>
</ul></li>
</ul>
</section>
<section id="인과관계-causation" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="인과관계-causation"><span class="header-section-number">6.1.2</span> 인과관계 (Causation)</h3>
<ul>
<li>한 변수의 변화가 다른 변수의 변화를 <strong>직접 야기</strong>
<ul>
<li><strong>조건 (Bradford Hill Criteria):</strong>
<ol type="1">
<li>시간적 선행성: 원인이 결과보다 먼저<br>
</li>
<li>상관관계 존재<br>
</li>
<li>용량-반응 관계<br>
</li>
<li>그럴듯한 메커니즘<br>
</li>
<li>일관성<br>
</li>
<li>특이성</li>
</ol></li>
</ul></li>
</ul>
</section>
</section>
<section id="인과-추론의-핵심-개념" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="인과-추론의-핵심-개념"><span class="header-section-number">6.2</span> 인과 추론의 핵심 개념</h2>
<section id="반사실-counterfactual" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="반사실-counterfactual"><span class="header-section-number">6.2.1</span> 반사실 (Counterfactual)</h3>
<ul>
<li>“만약 처치를 받지 않았다면 어땠을까?”</li>
<li><strong>문제:</strong> 같은 개인이 동시에 두 상태에 있을 수 없음 (근본적 인과 추론의 문제)</li>
<li><strong>해결:</strong> 비슷한 대조군을 통해 반사실 추정</li>
</ul>
</section>
<section id="평균-처치-효과-ate-average-treatment-effect" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="평균-처치-효과-ate-average-treatment-effect"><span class="header-section-number">6.2.2</span> 평균 처치 효과 (ATE: Average Treatment Effect)</h3>
<ul>
<li>처치를 받은 경우와 받지 않은 경우의 평균 차이</li>
</ul>
<pre><code>ATE = E[Y(1) - Y(0)]

Y(1): 처치를 받았을 때 결과
Y(0): 처치를 받지 않았을 때 결과</code></pre>
</section>
<section id="교란-변수-confounder" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="교란-변수-confounder"><span class="header-section-number">6.2.3</span> 교란 변수 (Confounder)</h3>
<ul>
<li>처치와 결과 모두에 영향을 주는 제3의 변수</li>
</ul>
<p><strong>예시:</strong></p>
<pre><code>교육 수준 → 소득 (인과관계인가?)
         ↑
      IQ (교란 변수)</code></pre>
</section>
</section>
<section id="주요-인과-추론-방법" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="주요-인과-추론-방법"><span class="header-section-number">6.3</span> 주요 인과 추론 방법</h2>
<section id="무작위-대조-실험-rct-randomized-controlled-trial" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="무작위-대조-실험-rct-randomized-controlled-trial"><span class="header-section-number">6.3.1</span> 무작위 대조 실험 (RCT: Randomized Controlled Trial)</h3>
<ul>
<li>무작위 할당으로 처치군과 대조군 구성</li>
<li><strong>장점:</strong>
<ul>
<li>교란 변수 통제<br>
</li>
<li>인과관계 입증의 <strong>골드 스탠다드</strong><br>
</li>
</ul></li>
<li><strong>단점:</strong>
<ul>
<li>비용과 시간 소요<br>
</li>
<li>윤리적 제약 (예: 의료 실험)<br>
</li>
<li>실현 불가능한 경우 많음</li>
</ul></li>
</ul>
</section>
<section id="성향-점수-매칭-psm-propensity-score-matching" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="성향-점수-매칭-psm-propensity-score-matching"><span class="header-section-number">6.3.2</span> 성향 점수 매칭 (PSM: Propensity Score Matching)</h3>
<p><strong>방법:</strong><br>
1. 처치 받을 확률(성향 점수) 계산<br>
2. 비슷한 성향 점수를 가진 처치군-대조군 매칭<br>
3. 매칭된 쌍에서 ATE 계산</p>
<p><strong>장점:</strong><br>
- 관찰 데이터에서 사용 가능<br>
- 교란 변수 통제</p>
<p><strong>단점:</strong><br>
- 관측되지 않은 교란 변수는 통제 불가<br>
- 매칭의 질에 의존</p>
<p><strong>예시:</strong> 마케팅 캠페인 효과 분석:<br>
- 처치군: 캠페인 대상 고객<br>
- 대조군: 비슷한 특성을 가진 비대상 고객 매칭</p>
</section>
<section id="도구-변수-iv-instrumental-variable" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="도구-변수-iv-instrumental-variable"><span class="header-section-number">6.3.3</span> 도구 변수 (IV: Instrumental Variable)</h3>
<ul>
<li>처치와 상관있지만, 결과와는 오직 처치를 통해서만 영향을 주는 변수 활용</li>
</ul>
<p><strong>조건:</strong><br>
1. 관련성 (Relevance): 도구 변수가 처치와 상관<br>
2. 외생성 (Exogeneity): 도구 변수가 교란 변수와 무관<br>
3. 배제 제약 (Exclusion): 도구 변수가 결과에 직접 영향 없음</p>
<p><strong>예시:</strong> 교육의 소득 효과<br>
- 문제: 능력이 교란 변수<br>
- 도구 변수: 의무교육 법령 (교육 연수에 영향, 소득에 직접 영향 없음)</p>
</section>
<section id="이중-차분법-did-difference-in-differences" class="level3" data-number="6.3.4">
<h3 data-number="6.3.4" class="anchored" data-anchor-id="이중-차분법-did-difference-in-differences"><span class="header-section-number">6.3.4</span> 이중 차분법 (DID: Difference-in-Differences)</h3>
<ul>
<li>처치 전후의 변화를 처치군과 대조군에서 각각 계산하고, 그 차이를 비교</li>
</ul>
<pre><code>DID = (처치군_후 - 처치군_전) - (대조군_후 - 대조군_전)</code></pre>
<ul>
<li><strong>가정:</strong> 평행 추세 (Parallel Trends): 처치가 없었다면 두 그룹의 추세가 동일했을 것</li>
<li><strong>예시:</strong> 최저임금 인상의 고용 효과
<ul>
<li>처치군: 최저임금 인상한 주<br>
</li>
<li>대조군: 인상하지 않은 주<br>
</li>
<li>전/후 고용 변화 비교</li>
</ul></li>
</ul>
</section>
<section id="회귀-불연속-rdd-regression-discontinuity-design" class="level3" data-number="6.3.5">
<h3 data-number="6.3.5" class="anchored" data-anchor-id="회귀-불연속-rdd-regression-discontinuity-design"><span class="header-section-number">6.3.5</span> 회귀 불연속 (RDD: Regression Discontinuity Design)</h3>
<ul>
<li>특정 기준점(cutoff)을 경계로 처치 여부가 결정될 때, 경계 부근의 불연속을 활용</li>
<li><strong>예시:</strong> 장학금의 학업 성취도 효과
<ul>
<li>기준: 시험 점수 80점<br>
</li>
<li>처치: 80점 이상 → 장학금 지급<br>
</li>
<li>79점 vs 81점 학생 비교 (거의 비슷하지만 장학금 여부만 다름)</li>
</ul></li>
</ul>
<p><strong>장점:</strong><br>
- 강력한 인과 추론<br>
- RCT에 가까운 설득력</p>
<p><strong>단점:</strong><br>
- 기준점 부근에서만 적용 가능<br>
- 외적 타당도 제한</p>
</section>
<section id="합성-대조군-synthetic-control" class="level3" data-number="6.3.6">
<h3 data-number="6.3.6" class="anchored" data-anchor-id="합성-대조군-synthetic-control"><span class="header-section-number">6.3.6</span> 합성 대조군 (Synthetic Control)</h3>
<ul>
<li>여러 대조군을 가중 평균하여 처치군과 가장 유사한 “합성” 대조군 생성</li>
<li><strong>예시:</strong> 특정 국가의 정책 효과
<ul>
<li>처치군: 정책 시행 국가</li>
<li>합성 대조군: 여러 비시행 국가들의 가중 평균 (시행 전 추세가 유사하도록)</li>
</ul></li>
</ul>
</section>
</section>
<section id="인과-추론의-중요성" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="인과-추론의-중요성"><span class="header-section-number">6.4</span> 인과 추론의 중요성</h2>
<ul>
<li><strong>올바른 의사결정:</strong> “이 마케팅 캠페인 <strong>때문에</strong> 매출이 올랐다”와 같은 인과적 주장을 하려면, 단순한 상관관계 분석을 넘어 인과 추론 방법론이 필요하다.</li>
<li><strong>정책 평가:</strong> 정부 정책, 기업 전략의 실제 효과를 과학적으로 평가하여 자원 낭비를 방지한다.</li>
</ul>
<p><strong>머신러닝과의 차이:</strong><br>
- <strong>머신러닝</strong>: 예측 (Prediction) - “무엇이 일어날 것인가?”<br>
- <strong>인과 추론</strong>: 인과 (Causation) - “왜 일어났는가? 개입하면 무슨 일이 생기는가?”</p>
</section>
<section id="인과-추론-주요-도구" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="인과-추론-주요-도구"><span class="header-section-number">6.5</span> 인과 추론 주요 도구</h2>
<p><strong>Python:</strong><br>
- DoWhy: Microsoft의 인과 추론 라이브러리<br>
- CausalML: Uber의 인과 머신러닝<br>
- EconML: Microsoft의 이질적 처치 효과</p>
<p><strong>R:</strong><br>
- MatchIt: 성향 점수 매칭<br>
- AER: 도구 변수<br>
- Synth: 합성 대조군</p>
</section>
</section>
<section id="데이터-분석-생태계-통합-관점" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> 데이터 분석 생태계 통합 관점</h1>
<section id="역할-분담" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="역할-분담"><span class="header-section-number">7.1</span> 역할 분담</h2>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 26%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th>요소</th>
<th>역할</th>
<th>핵심 질문</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>데이터 엔지니어링</strong></td>
<td>인프라 구축</td>
<td>“데이터를 어떻게 준비할까?”</td>
</tr>
<tr class="even">
<td><strong>통계/ML/DL/AI</strong></td>
<td>분석 및 모델링</td>
<td>“무슨 패턴이 있고, 무엇을 예측할 수 있나?”</td>
</tr>
<tr class="odd">
<td><strong>시각화/BI</strong></td>
<td>의사소통</td>
<td>“어떻게 전달할까?”</td>
</tr>
<tr class="even">
<td><strong>실험 설계</strong></td>
<td>검증</td>
<td>“정말 효과가 있나?”</td>
</tr>
<tr class="odd">
<td><strong>인과 추론</strong></td>
<td>인과 관계</td>
<td>“왜 그런 일이 일어났나?”</td>
</tr>
</tbody>
</table>
</section>
<section id="실무-프로젝트-흐름" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="실무-프로젝트-흐름"><span class="header-section-number">7.2</span> 실무 프로젝트 흐름</h2>
<ol type="1">
<li>비즈니스 문제 정의<br>
</li>
<li>데이터 엔지니어링
<ul>
<li>데이터 수집 및 파이프라인 구축<br>
</li>
</ul></li>
<li>탐색적 데이터 분석 (EDA)
<ul>
<li>통계적 분석<br>
</li>
<li>시각화<br>
</li>
</ul></li>
<li>모델링
<ul>
<li>머신러닝/딥러닝 모델 구축<br>
</li>
</ul></li>
<li>모델 평가 및 해석
<ul>
<li>통계적 검정<br>
</li>
<li>특징 중요도 분석<br>
</li>
</ul></li>
<li>대시보드 및 리포트 (BI)
<ul>
<li>결과 시각화<br>
</li>
<li>정기 모니터링<br>
</li>
</ul></li>
<li>A/B 테스트
<ul>
<li>실제 환경 검증<br>
</li>
</ul></li>
<li>인과 추론 (필요 시)
<ul>
<li>정책 효과 평가<br>
</li>
<li>전략 ROI 계산<br>
</li>
</ul></li>
<li>의사결정 및 실행<br>
</li>
<li>지속적 모니터링 및 개선</li>
</ol>
</section>
<section id="참고-자료" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">7.3</span> 참고 자료</h2>
<ol type="1">
<li>Kimball, R., &amp; Ross, M. (2013). The Data Warehouse Toolkit (3rd ed.)<br>
</li>
<li>Kleppmann, M. (2017). Designing Data-Intensive Applications<br>
</li>
<li>Tufte, E. R. (2001). The Visual Display of Quantitative Information (2nd ed.)<br>
</li>
<li>Kohavi, R., Tang, D., &amp; Xu, Y. (2020). Trustworthy Online Controlled Experiments: A Practical Guide to A/B Testing<br>
</li>
<li>Pearl, J., &amp; Mackenzie, D. (2018). The Book of Why: The New Science of Cause and Effect<br>
</li>
<li>Angrist, J. D., &amp; Pischke, J.-S. (2009). Mostly Harmless Econometrics</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Statistics</category>
  <category>Data Science</category>
  <category>Data Engineering</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Data_Science/00-basic-concept-supplement.html</guid>
  <pubDate>Sun, 07 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>데이터 분석의 개념과 도구 생태계</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Statistics/00-basic-concept.html</link>
  <description><![CDATA[ 





<section id="analysis-vs-analytics-핵심-개념-이해" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Analysis vs Analytics: 핵심 개념 이해</h1>
<p>데이터 기반 의사결정 산업에서 Analysis와 Analytics가 자주 등장하지만, 명확한 차이가 존재한다.</p>
<section id="analysis-분석" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="analysis-분석"><span class="header-section-number">1.1</span> Analysis (분석)</h2>
<ul>
<li><strong>과거에 일어난 일이나 현재의 데이터를 면밀히 조사하고 이해하는 행위</strong>를 의미한다.<br>
</li>
<li>이미 발생한 사건이나 현상을 해부하고, 그 패턴이나 원인을 파악하는 데 집중한다.<br>
</li>
<li><strong>시간적 관점:</strong>
<ul>
<li>과거 지향적 (Backward-looking)<br>
</li>
<li>이미 수집된 데이터 기반<br>
</li>
</ul></li>
<li><strong>핵심 질문:</strong>
<ul>
<li>“무엇이 일어났는가?” (What happened?)<br>
</li>
<li>“왜 그런 일이 일어났는가?” (Why did it happen?)<br>
</li>
</ul></li>
<li><strong>주요 활동:</strong>
<ul>
<li>데이터 탐색 및 검증<br>
</li>
<li>패턴 및 추세 식별<br>
</li>
<li>원인 및 상관관계 파악<br>
</li>
<li>문제점 진단</li>
</ul></li>
</ul>
<section id="실무-예시" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="실무-예시"><span class="header-section-number">1.1.1</span> 실무 예시</h3>
<ul>
<li>지난 분기 매출 감소 원인 분석</li>
<li>고객 이탈률 증가 요인 파악</li>
<li>재고 회전율 저하 원인 규명</li>
<li>사용자 행동 패턴 분석</li>
<li>특정 페이지의 이탈률 원인 분석</li>
<li>전환율 하락 구간 식별</li>
<li>특정 질병의 발병률 추이 분석</li>
<li>치료 효과성 평가</li>
<li>의료 비용 증가 요인 분석</li>
</ul>
</section>
</section>
<section id="analytics-분석학" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="analytics-분석학"><span class="header-section-number">1.2</span> Analytics (분석학)</h2>
<ul>
<li>Analysis를 포함하여 <strong>데이터를 체계적으로 검토하고, 이를 바탕으로 미래를 예측하거나 의사결정을 안내하는 광범위한 과정 또는 학문 분야</strong>를 의미한다.<br>
</li>
<li>“Analytics”가 “-ics”로 끝나 학문적인 느낌을 주는 것은 사실이지만, 비즈니스 분야에서는 이 학문적 접근 방식 자체를 <strong>“데이터 기반의 전략적인 의사결정 프로세스”</strong>로 통칭하는 경우가 많다.<br>
</li>
<li><strong>시간적 관점:</strong>
<ul>
<li>미래 지향적 (Forward-looking)<br>
</li>
<li>과거와 현재 데이터를 활용한 예측 및 최적화<br>
</li>
</ul></li>
<li><strong>핵심 질문:</strong>
<ul>
<li>“무엇이 일어날 것인가?” (What will happen?)<br>
</li>
<li>“우리가 무엇을 해야 하는가?” (What should we do?)<br>
</li>
<li>“어떻게 하면 최적화할 수 있는가?” (How can we optimize it?)<br>
</li>
</ul></li>
<li><strong>주요 활동:</strong>
<ul>
<li>예측 모델링<br>
</li>
<li>시나리오 분석<br>
</li>
<li>의사결정 최적화<br>
</li>
<li>전략 수립 및 추천</li>
</ul></li>
</ul>
<section id="analytics의-4단계-성숙도-모델" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="analytics의-4단계-성숙도-모델"><span class="header-section-number">1.2.1</span> Analytics의 4단계 성숙도 모델</h3>
<p><strong>1. Descriptive Analytics (기술적 분석)</strong><br>
- 과거 데이터 요약 및 시각화<br>
- “무엇이 일어났는가?”<br>
- 예: 대시보드, 리포트</p>
<p><strong>2. Diagnostic Analytics (진단적 분석)</strong><br>
- 원인 분석 및 관계 파악<br>
- “왜 일어났는가?”<br>
- 예: 드릴다운 분석, 상관관계 분석</p>
<p><strong>3. Predictive Analytics (예측적 분석)</strong><br>
- 미래 예측 및 확률 추정<br>
- “무엇이 일어날 것인가?”<br>
- 예: 수요 예측, 이탈 예측</p>
<p><strong>4. Prescriptive Analytics (처방적 분석)</strong><br>
- 최적 행동 방안 제시<br>
- “무엇을 해야 하는가?”<br>
- 예: 최적화 알고리즘, 의사결정 자동화</p>
</section>
<section id="실무-예시-1" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="실무-예시-1"><span class="header-section-number">1.2.2</span> 실무 예시</h3>
<ul>
<li>판매량 감소 원인 분석 → 다음 분기 마케팅 전략 수립 → 매출 예측 → 최적 예산 배분</li>
<li>고객 이탈 예측 모델 구축 → 이탈 방지 캠페인 설계</li>
<li>사용자 행동 패턴 분석 → 다음 구매 상품 예측 → 개인화 추천</li>
<li>A/B 테스트 결과 분석 → 최적 UI/UX 선택</li>
<li>질병 발병 추이 분석 → 미래 발병률 예측 → 보건 정책 수립</li>
</ul>
</section>
</section>
<section id="analysis-vs-analytics-비교표" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="analysis-vs-analytics-비교표"><span class="header-section-number">1.3</span> Analysis vs Analytics: 비교표</h2>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 37%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>구분</th>
<th>Analysis</th>
<th>Analytics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>시간 관점</strong></td>
<td>과거 지향적</td>
<td>미래 지향적</td>
</tr>
<tr class="even">
<td><strong>핵심 질문</strong></td>
<td>What? Why?</td>
<td>What will? What should?</td>
</tr>
<tr class="odd">
<td><strong>목적</strong></td>
<td>이해 및 설명</td>
<td>예측 및 최적화</td>
</tr>
<tr class="even">
<td><strong>범위</strong></td>
<td>좁고 깊게</td>
<td>넓고 전략적</td>
</tr>
<tr class="odd">
<td><strong>산출물</strong></td>
<td>리포트, 인사이트</td>
<td>예측 모델, 의사결정 가이드</td>
</tr>
<tr class="even">
<td><strong>기법</strong></td>
<td>탐색적 분석, 통계적 검정</td>
<td>머신러닝, 최적화, 시뮬레이션</td>
</tr>
<tr class="odd">
<td><strong>적용 예시</strong></td>
<td>“지난달 매출이 왜 감소했나?”</td>
<td>“다음 분기 매출은 얼마일까? 어떻게 늘릴까?”</td>
</tr>
</tbody>
</table>
</section>
<section id="둘의-관계" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="둘의-관계"><span class="header-section-number">1.4</span> 둘의 관계</h2>
<ul>
<li>포함관계: Analytics는 Analysis를 포함하는 더 큰 개념이다. 효과적인 Analytics를 위해서는 먼저 정확한 Analysis가 선행되어야 한다.</li>
<li><strong>Analysis</strong>: 돋보기를 들고 데이터의 특정 부분을 들여다보며 “무슨 일이 있었는지” 깊이 파고드는 행위</li>
<li><strong>Analytics</strong>: 더 큰 그림을 보고 분석 결과를 바탕으로 “미래를 예측하고 어떻게 행동해야 할지” 전략을 세우는 학문이나 과정</li>
</ul>
<pre><code>1. 데이터 수집 및 정제
   ↓
2. Analysis (탐색 및 진단)
   ↓
3. Analytics (예측 및 최적화)
   ↓
4. 의사결정 및 실행
   ↓
5. 모니터링 및 피드백 → 1번으로 순환</code></pre>
</section>
<section id="analytics의-학문적-의미" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="analytics의-학문적-의미"><span class="header-section-number">1.5</span> Analytics의 학문적 의미</h2>
<ul>
<li>Economics (경제학), Physics (물리학), Linguistics (언어학)처럼 “-ics”로 끝나는 단어는 학문 분야를 의미하는 경우가 많다.<br>
</li>
<li>따라서, <strong>Analytics는 데이터 분석을 통해 인사이트를 얻고 미래를 예측하며 의사결정을 내리는 학문 분야 또는 접근 방식</strong>을 의미한다.<br>
</li>
<li><strong>학문적, 실용적, 비즈니스 의미를 모두 포괄:</strong>
<ul>
<li>Business Analytics (비즈니스 분석학): 경영 문제를 해결하기 위한 데이터 분석 학문<br>
</li>
<li>Marketing Analytics (마케팅 분석학): 마케팅 성과를 데이터로 분석하고 전략을 수립하는 학문<br>
</li>
<li>People Analytics (인사 분석학): 인적 자원 관리를 위한 데이터 기반 의사결정<br>
</li>
</ul></li>
<li><strong>실무에서의 활용:</strong>
<ul>
<li>실제 비즈니스 현장에서는 “데이터 애널리틱스 팀”, “애널리틱스 역량 강화”와 같이 <strong>데이터를 활용해 가치를 창출하는 부서, 팀, 과정, 전략 자체</strong>를 의미하는 말로 자연스럽게 사용된다.<br>
</li>
</ul></li>
<li>Analytics는 학문적 배경을 가지고 있지만, 비즈니스 영역에서는 데이터 기반의 전략적 의사결정과 문제 해결을 위한 <strong>핵심 역량이자 프로세스</strong>를 의미하는 필수적인 용어이다.</li>
</ul>
</section>
</section>
<section id="데이터-분석-핵심-기술-스택" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> 데이터 분석 핵심 기술 스택</h1>
<ul>
<li>데이터 분석에는 다양한 기술과 도구가 활용된다.</li>
<li>각 기술은 고유한 특성과 강점을 가지며, 상호 보완적인 관계를 형성한다.</li>
</ul>
<section id="기술-간-계층-구조" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="기술-간-계층-구조"><span class="header-section-number">2.1</span> 기술 간 계층 구조</h2>
<pre><code>      ┌──────────────────────────────────────┐
      │  인공지능 (Artificial Intelligence)   │
      │                                      │
      │  ┌──────────────┬─────────────────┐  │
      │  │ Rule-based AI│ Data-driven AI  │  │
      │  │  (If-then )  │ (stat/ML/DL)    │  │
      │  └──────────────┴─────────────────┘  │
      └──────────────────────────────────────┘


┌─────────────────────────────────────────────┐
│         생성형 AI (Generative AI)            │  ← 최신 기술
│  ┌───────────────────────────────────────┐  │
│  │     딥러닝 (DL, Deep Learning)         │  │
│  │  ┌─────────────────────────────────┐  │  │
│  │  │  머신러닝 (ML, Machine Learning) │  │  │
│  │  │  ┌───────────────────────────┐  │  │  │
│  │  │  │  통계 (Stat, Statistics)   │  │  │  │  ← 기반 학문
│  │  │  └───────────────────────────┘  │  │  │
│  │  └─────────────────────────────────┘  │  │
│  └───────────────────────────────────────┘  │
└─────────────────────────────────────────────┘
</code></pre>
</section>
<section id="통계-statistics" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="통계-statistics"><span class="header-section-number">2.2</span> 통계 (Statistics)</h2>
<ul>
<li>데이터 수집, 정리, 분석, 해석, 발표를 다루는 <strong>가장 근본적인 학문 분야</strong>로, 불확실성 하에서 의사결정을 내리거나 현상을 이해하는 데 사용된다.</li>
<li>설명력이 매우 높아 보수적인 산업분야에서 데이터 분석 도구의 Gold Standard로 쓰인다.</li>
<li><strong>이론적 기반:</strong>
<ul>
<li>확률 이론 (Probability Theory)<br>
</li>
<li>가설 검정 (Hypothesis Testing)<br>
</li>
<li>추정 (Estimation)<br>
</li>
<li>추론 (Inference)<br>
</li>
<li>회귀 분석 (Regression Analysis)<br>
</li>
<li>상관관계 분석 (Correlation Analysis)<br>
</li>
</ul></li>
<li><strong>두 가지 분야:</strong>
<ul>
<li><strong>기술 통계 (Descriptive Statistics)</strong>: 데이터 요약 및 시각화<br>
</li>
<li><strong>추론 통계 (Inferential Statistics)</strong>: 표본에서 모집단으로의 일반화</li>
</ul></li>
</ul>
<section id="데이터-분석에서의-역할" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="데이터-분석에서의-역할"><span class="header-section-number">2.2.1</span> 데이터 분석에서의 역할</h3>
<p><strong>핵심 강점:</strong><br>
- 데이터의 분포, 경향성, 변수 간 관계 <strong>설명 및 추론</strong> - 불확실성의 <strong>정량화</strong> (신뢰구간, p-value) - 인과관계 추론의 <strong>수학적 기반</strong> 제공 - 수학적으로 엄밀한 이론적 기반 - 결과 해석이 명확하고 설명 가능 - 소규모 데이터에도 효과적 - 불확실성 측정 가능</p>
<p><strong>활용 분야:</strong><br>
- A/B 테스트 결과 검증 - 머신러닝 모델 성능 평가 - 데이터 품질 검증 - 실험 설계 및 표본 추출</p>
<p><strong>단점:</strong><br>
- 복잡한 비선형 관계 포착 어려움 - 고차원 데이터 처리 한계 - 사전 가정(정규성, 독립성 등) 필요 - 특징 공학(Feature Engineering) 수작업 필요</p>
</section>
</section>
<section id="머신러닝-machine-learning" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="머신러닝-machine-learning"><span class="header-section-number">2.3</span> 머신러닝 (Machine Learning)</h2>
<ul>
<li>컴퓨터가 <strong>명시적인 프로그래밍 없이 데이터로부터 학습하고 성능을 향상</strong>시키는 알고리즘과 기술을 개발하는 분야이다.</li>
</ul>
<p><strong>학습 방식별 분류:</strong></p>
<p><strong>1. 지도 학습 (Supervised Learning)</strong><br>
- 정의: 레이블된 데이터로 학습<br>
- 목적: 입력 → 출력 매핑 학습<br>
- 유형:<br>
- 분류 (Classification): 범주 예측 (예: 스팸 필터, 질병 진단)<br>
- 회귀 (Regression): 연속값 예측 (예: 주가 예측, 매출 예측)<br>
- 대표 알고리즘:<br>
- 선형 회귀, 로지스틱 회귀<br>
- 의사결정 트리 (Decision Tree)<br>
- 랜덤 포레스트 (Random Forest)<br>
- 서포트 벡터 머신 (SVM)<br>
- 그래디언트 부스팅 (XGBoost, LightGBM)</p>
<p><strong>2. 비지도 학습 (Unsupervised Learning)</strong><br>
- 정의: 레이블 없는 데이터에서 패턴 발견<br>
- 목적: 데이터 구조 파악<br>
- 유형:<br>
- 군집화 (Clustering): 유사한 데이터 그룹화 (예: 고객 세분화)<br>
- 차원 축소 (Dimensionality Reduction): 특징 압축 (예: PCA, t-SNE)<br>
- 이상 탐지 (Anomaly Detection): 비정상 패턴 식별<br>
- 대표 알고리즘:<br>
- K-means, DBSCAN<br>
- PCA, Autoencoder<br>
- Isolation Forest</p>
<p><strong>3. 강화 학습 (Reinforcement Learning)</strong><br>
- 정의: 시행착오를 통한 보상 최대화 학습 - 목적: 최적 행동 전략 학습 - 활용: 게임 AI, 로봇 제어, 추천 시스템 - 대표 알고리즘: - Q-Learning - Deep Q-Network (DQN) - Policy Gradient</p>
<section id="데이터-분석에서의-역할-1" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="데이터-분석에서의-역할-1"><span class="header-section-number">2.3.1</span> 데이터 분석에서의 역할</h3>
<p><strong>핵심 강점:</strong><br>
- 복잡한 <strong>비선형 관계</strong> 학습 - 대용량 데이터에서 <strong>자동 패턴 발견</strong> - 예측 정확도 향상 - 다양한 데이터 유형 처리 - 높은 예측 정확도 - 다양한 문제에 적용 가능</p>
<p><strong>활용 분야:</strong><br>
- 고객 이탈 예측 - 수요 예측 - 추천 시스템 - 이상 거래 탐지 - 이미지/텍스트 분류</p>
<p><strong>단점:</strong><br>
- 해석 가능성 낮음 (특히 앙상블 모델) - 과적합 (Overfitting) 위험 - 대량의 학습 데이터 필요 - 하이퍼파라미터 튜닝 복잡</p>
</section>
<section id="통계와의-차이" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="통계와의-차이"><span class="header-section-number">2.3.2</span> 통계와의 차이</h3>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>통계</th>
<th>머신러닝</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>목적</strong></td>
<td>이해 및 추론</td>
<td>예측 및 패턴 발견</td>
</tr>
<tr class="even">
<td><strong>접근법</strong></td>
<td>가설 검정 중심</td>
<td>데이터 기반 학습</td>
</tr>
<tr class="odd">
<td><strong>해석성</strong></td>
<td>높음 (수식 기반)</td>
<td>중간 (모델 의존적)</td>
</tr>
<tr class="even">
<td><strong>확장성</strong></td>
<td>소규모 데이터 적합</td>
<td>대규모 데이터 적합</td>
</tr>
<tr class="odd">
<td><strong>복잡도</strong></td>
<td>단순 모델 선호</td>
<td>복잡한 모델 가능</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="딥러닝-deep-learning" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="딥러닝-deep-learning"><span class="header-section-number">2.4</span> 딥러닝 (Deep Learning)</h2>
<ul>
<li>머신러닝의 특별한 형태로, <strong>인공신경망(Artificial Neural Networks)을 여러 겹(Deep Layer)으로 쌓아 올린 모델</strong>을 사용하여 학습하는 방식이다.</li>
<li>인간 뇌의 뉴런 구조를 모방한다.</li>
<li><strong>신경망 구조:</strong>
<ul>
<li>입력층 (Input Layer)</li>
<li>은닉층 (Hidden Layers) - <strong>여러 겹으로 깊게 쌓임</strong></li>
<li>출력층 (Output Layer)</li>
<li>활성화 함수 (Activation Function): ReLU, Sigmoid, Tanh</li>
<li>역전파 (Backpropagation): 오차를 역방향으로 전파하여 가중치 업데이트</li>
</ul></li>
</ul>
<p><strong>주요 아키텍처:</strong></p>
<p><strong>1. CNN (Convolutional Neural Network)</strong><br>
- 용도: 이미지 처리<br>
- 특징: 합성곱 연산으로 공간적 특징 추출<br>
- 활용: 이미지 분류, 객체 탐지, 얼굴 인식, 의료 영상 분석<br>
<strong>2. RNN/LSTM (Recurrent Neural Network / Long Short-Term Memory)</strong><br>
- 용도: 시계열 데이터, 순차 데이터<br>
- 특징: 이전 정보를 기억하여 현재 예측에 활용<br>
- 활용: 주가 예측, 자연어 처리, 음성 인식<br>
<strong>3. Transformer</strong><br>
- 용도: 자연어 처리 (NLP)<br>
- 특징: 어텐션 메커니즘으로 문맥 이해<br>
- 활용: 번역, 요약, 질의응답, 텍스트 생성<br>
- 대표 모델: BERT, GPT, T5<br>
<strong>4. GAN (Generative Adversarial Network)</strong><br>
- 용도: 생성 모델<br>
- 특징: 생성자와 판별자의 경쟁 학습<br>
- 활용: 이미지 생성, 스타일 변환, 데이터 증강<br>
<strong>5. Autoencoder</strong><br>
- 용도: 차원 축소, 이상 탐지<br>
- 특징: 데이터를 압축했다가 복원<br>
- 활용: 특징 추출, 노이즈 제거</p>
<section id="데이터-분석에서의-역할-2" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="데이터-분석에서의-역할-2"><span class="header-section-number">2.4.1</span> 데이터 분석에서의 역할</h3>
<p><strong>핵심 강점:</strong><br>
- <strong>자동 특징 추출</strong> (Feature Learning)<br>
- 비정형 데이터 (이미지, 텍스트, 음성) 처리 탁월<br>
- 대규모 데이터에서 복잡한 패턴 학습<br>
- 전이 학습 (Transfer Learning) 가능<br>
- 최고 수준의 예측 정확도<br>
- 비정형 데이터 처리 탁월<br>
- 자동 특징 추출 (사람의 개입 최소화)<br>
- 전이 학습으로 효율성 향상</p>
<p><strong>단점:</strong><br>
- 대량의 데이터 필요 (수천~수백만 샘플)<br>
- 막대한 컴퓨팅 자원 (GPU/TPU)<br>
- 학습 시간 오래 걸림<br>
- 블랙박스로 해석 매우 어려움<br>
- 과적합 위험 높음</p>
<p><strong>활용 분야:</strong><br>
- 이미지: 제품 불량 검사, 의료 영상 진단<br>
- 텍스트: 감성 분석, 문서 분류, 챗봇<br>
- 음성: 음성 인식, 화자 식별<br>
- 시계열: 이상 탐지, 수요 예측</p>
</section>
<section id="머신러닝과의-차이" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="머신러닝과의-차이"><span class="header-section-number">2.4.2</span> 머신러닝과의 차이</h3>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>머신러닝</th>
<th>딥러닝</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>모델 구조</strong></td>
<td>얕은 구조</td>
<td>깊은 다층 구조</td>
</tr>
<tr class="even">
<td><strong>특징 추출</strong></td>
<td>수동 (Feature Engineering)</td>
<td>자동 (Feature Learning)</td>
</tr>
<tr class="odd">
<td><strong>데이터 요구량</strong></td>
<td>중간 규모 가능</td>
<td>대규모 필수</td>
</tr>
<tr class="even">
<td><strong>컴퓨팅 자원</strong></td>
<td>적음</td>
<td>많음 (GPU 필요)</td>
</tr>
<tr class="odd">
<td><strong>해석 가능성</strong></td>
<td>중간</td>
<td>낮음 (블랙박스)</td>
</tr>
<tr class="even">
<td><strong>적합 데이터</strong></td>
<td>정형 데이터 우수</td>
<td>비정형 데이터 우수</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="인공지능-artificial-intelligence-ai" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="인공지능-artificial-intelligence-ai"><span class="header-section-number">2.5</span> 인공지능 (Artificial Intelligence, AI)</h2>
<ul>
<li>인간의 지능을 모방하여 학습하고, 문제를 해결하며, 의사결정을 내리는 컴퓨터 시스템을 만드는 것을 목표로 하는 <strong>가장 광범위한 분야</strong>이다.</li>
<li>머신러닝과 딥러닝은 모두 AI의 하위 분야에 속한다.</li>
</ul>
<section id="ai의-분류-체계" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="ai의-분류-체계"><span class="header-section-number">2.5.1</span> AI의 분류 체계</h3>
<section id="능력-수준별-분류" class="level4" data-number="2.5.1.1">
<h4 data-number="2.5.1.1" class="anchored" data-anchor-id="능력-수준별-분류"><span class="header-section-number">2.5.1.1</span> 능력 수준별 분류**</h4>
<p><strong>1. ANI (Artificial Narrow Intelligence) - 약인공지능</strong><br>
- 특정 작업에 특화된 AI<br>
- 현황: 현재 모든 AI가 여기 해당<br>
- 예시: 체스 AI, 이미지 인식, 음성 비서</p>
<p><strong>2. AGI (Artificial General Intelligence) - 강인공지능</strong><br>
- 정의: 인간 수준의 범용 지능<br>
- 현황: 아직 실현 안 됨<br>
- 목표: 모든 지적 작업 수행 가능</p>
<p><strong>3. ASI (Artificial Super Intelligence) - 초인공지능</strong><br>
- 인간을 초월한 지능<br>
- 현황: 이론적 개념<br>
- 우려: 통제 가능성 문제</p>
</section>
<section id="작동-방식별-분류" class="level4" data-number="2.5.1.2">
<h4 data-number="2.5.1.2" class="anchored" data-anchor-id="작동-방식별-분류"><span class="header-section-number">2.5.1.2</span> 작동 방식별 분류**</h4>
<ol type="1">
<li>Rule-based AI (규칙 기반 AI)</li>
</ol>
<ul>
<li>인간이 미리 정의한 <strong>명시적인 규칙 (IF-THEN 로직)</strong>을 바탕으로 작동하는 AI</li>
<li>지식 베이스 (Knowledge Base): 규칙 저장소</li>
<li>추론 엔진 (Inference Engine): 규칙 실행 엔진</li>
<li>전문가 시스템 (Expert System): 특정 도메인 전문 지식 활용</li>
<li>비즈니스 로직 기반 데이터 분류</li>
<li>이상 징후 감지 (threshold 기반)</li>
<li>규정 준수 검증</li>
<li>의사결정 트리 기반 분석</li>
</ul>
<p><strong>장점:</strong><br>
- 결과 설명 가능 (완벽한 투명성)<br>
- 학습 데이터 불필요<br>
- 즉시 배포 가능<br>
- 일관된 결과 보장<br>
- 도메인 전문가 지식 활용</p>
<p><strong>단점:</strong><br>
- 유연성 낮음 (새로운 상황 대응 어려움)<br>
- 규칙 관리 복잡 (규칙 증가 시 유지보수 어려움)<br>
- 예외 처리 한계<br>
- 확장성 부족<br>
- 복잡한 패턴 포착 불가</p>
<pre><code>IF 조건1 AND 조건2 THEN 행동A
ELSE IF 조건3 THEN 행동B
ELSE 행동C</code></pre>
<p><strong>활용 예시:</strong></p>
<pre><code>금융 사기 탐지:
IF 거래금액 &gt; 1,000,000원 AND 해외거래 = True AND 시간 = 새벽
THEN 경고알림

재고 관리:
IF 재고량 &lt; 안전재고 THEN 발주요청

고객 등급 분류:
IF 구매금액 &gt; 1,000만원 AND 방문횟수 &gt; 50 THEN VIP등급</code></pre>
<ol start="2" type="1">
<li>Data-driven AI (데이터 기반 AI)</li>
</ol>
<ul>
<li><strong>대량의 데이터를 학습</strong>하여 패턴을 스스로 찾아내고, 이를 바탕으로 예측하거나 의사결정을 내리는 AI. <strong>머신러닝과 딥러닝이 여기에 속한다.</strong></li>
<li><strong>학습 과정:</strong>
<ol type="1">
<li>데이터 수집 및 전처리<br>
</li>
<li>모델 선택 및 학습<br>
</li>
<li>검증 및 튜닝<br>
</li>
<li>배포 및 모니터링<br>
</li>
<li>재학습 (Continuous Learning)<br>
</li>
</ol></li>
<li><strong>데이터 분석에서의 역할:</strong>
<ul>
<li>복잡한 예측 모델 구축<br>
</li>
<li>자동 패턴 발견<br>
</li>
<li>개인화 추천<br>
</li>
<li>자연어 이해<br>
</li>
<li>이미지/음성 인식<br>
<strong>장점:</strong><br>
</li>
</ul></li>
<li>복잡한 패턴 자동 학습<br>
</li>
<li>새로운 데이터에 적응 가능<br>
</li>
<li>높은 예측 정확도<br>
</li>
<li>사람이 발견 못한 인사이트 도출<br>
</li>
<li>확장성 우수<br>
<strong>단점:</strong><br>
</li>
<li>대량의 학습 데이터 필요<br>
</li>
<li>블랙박스 (해석 어려움)<br>
</li>
<li>편향 (Bias) 위험<br>
</li>
<li>학습 시간/비용 많이 소요<br>
</li>
<li>예측 불가능한 실패 가능성</li>
</ul>
<pre><code>대량 데이터 → 학습 알고리즘 → 패턴 발견 → 예측 모델
↑                                              ↓
└──────────── 피드백 및 재학습 ←───────────────┘</code></pre>
<p><strong>활용 예시:</strong></p>
<pre><code>고객 이탈 예측:
과거 이탈 고객 데이터 학습 → 이탈 가능성 점수 예측

추천 시스템:
사용자 행동 데이터 학습 → 개인 맞춤 상품 추천

감성 분석:
리뷰 데이터 학습 → 긍정/부정 자동 분류</code></pre>
</section>
<section id="rule-based-vs-data-driven-비교" class="level4" data-number="2.5.1.3">
<h4 data-number="2.5.1.3" class="anchored" data-anchor-id="rule-based-vs-data-driven-비교"><span class="header-section-number">2.5.1.3</span> Rule-based vs Data-driven 비교</h4>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>Rule-based AI</th>
<th>Data-driven AI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>학습 방식</strong></td>
<td>규칙 정의</td>
<td>데이터 학습</td>
</tr>
<tr class="even">
<td><strong>데이터 필요성</strong></td>
<td>불필요</td>
<td>대량 필수</td>
</tr>
<tr class="odd">
<td><strong>유연성</strong></td>
<td>낮음</td>
<td>높음</td>
</tr>
<tr class="even">
<td><strong>설명 가능성</strong></td>
<td>완벽</td>
<td>낮음</td>
</tr>
<tr class="odd">
<td><strong>정확도</strong></td>
<td>제한적</td>
<td>높음</td>
</tr>
<tr class="even">
<td><strong>유지보수</strong></td>
<td>복잡</td>
<td>재학습으로 해결</td>
</tr>
<tr class="odd">
<td><strong>적합 상황</strong></td>
<td>명확한 규칙 존재</td>
<td>복잡한 패턴</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="하이브리드-접근법" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="하이브리드-접근법"><span class="header-section-number">2.5.2</span> 하이브리드 접근법</h3>
<p><strong>실무에서는 두 방식을 결합하여 사용:</strong></p>
<pre><code>Rule-based AI (기본 로직) + Data-driven AI (복잡한 판단)

예시: 신용평가 시스템
1. Rule-based: 기본 자격 요건 검증 (연령, 소득 범위)
2. Data-driven: 신용 점수 예측 (복잡한 패턴 분석)
3. Rule-based: 최종 승인 정책 적용 (규제 준수)</code></pre>
</section>
</section>
<section id="생성형-ai-generative-ai" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="생성형-ai-generative-ai"><span class="header-section-number">2.6</span> 생성형 AI (Generative AI)</h2>
<ul>
<li>딥러닝 기반 AI의 한 분야로, 기존 데이터를 학습하여 <strong>새롭고 독창적인 콘텐츠(텍스트, 이미지, 오디오, 비디오, 코드 등)를 생성하는 능력</strong>을 가진 AI이다.</li>
<li><strong>생성 vs 판별:</strong>
<ul>
<li><strong>판별 모델 (Discriminative)</strong>: 입력 → 분류/예측 (기존 AI/ML)<br>
</li>
<li><strong>생성 모델 (Generative)</strong>: 입력 → 새로운 콘텐츠 생성<br>
</li>
</ul></li>
<li><strong>주요 아키텍처:</strong><br>
<strong>1. GAN (Generative Adversarial Network)</strong>
<ul>
<li>구조: 생성자(Generator) vs 판별자(Discriminator) 경쟁<br>
</li>
<li>메커니즘:
<ul>
<li>생성자: 가짜 데이터 생성<br>
</li>
<li>판별자: 진짜/가짜 구분<br>
</li>
<li>경쟁을 통해 점점 더 진짜 같은 데이터 생성<br>
</li>
</ul></li>
<li>활용: 이미지 생성, 스타일 변환, 초고해상도 변환<br>
<strong>2. VAE (Variational Autoencoder)</strong><br>
</li>
<li>구조: 인코더 + 디코더<br>
</li>
<li>메커니즘: 데이터를 잠재 공간(latent space)으로 압축 후 재생성<br>
</li>
<li>활용: 이미지 생성, 이상 탐지, 데이터 증강<br>
<strong>3. Diffusion Model</strong><br>
</li>
<li>구조: 노이즈 추가 과정을 역으로 학습<br>
</li>
<li>메커니즘: 무작위 노이즈에서 점진적으로 이미지 복원<br>
</li>
<li>활용: Stable Diffusion, DALL-E 2, Midjourney<br>
</li>
<li>특징: GAN보다 안정적이고 고품질<br>
<strong>4. Transformer 기반 LLM (Large Language Model)</strong><br>
</li>
<li>구조: 어텐션 메커니즘 기반 거대 모델<br>
</li>
<li>메커니즘: 수십억~수조 개 파라미터로 언어 패턴 학습<br>
</li>
<li>활용: GPT-4, Claude, Gemini, LLaMA<br>
</li>
<li>능력: 텍스트 생성, 번역, 요약, 코드 생성, 대화</li>
</ul></li>
</ul>
<section id="데이터-분석에서의-역할-3" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="데이터-분석에서의-역할-3"><span class="header-section-number">2.6.1</span> 데이터 분석에서의 역할</h3>
<ul>
<li><strong>데이터 증강 (Data Augmentation)</strong>: 학습 데이터 부족 문제 해결<br>
</li>
<li><strong>합성 데이터 생성</strong>: 개인정보 보호 유지하며 분석용 데이터 생성<br>
</li>
<li><strong>텍스트 분석 자동화</strong>: 대규모 문서 요약, 분류, 정보 추출<br>
</li>
<li><strong>코드 생성</strong>: 데이터 분석 스크립트 자동 작성<br>
</li>
<li><strong>인사이트 도출</strong>: 패턴 해석 및 보고서 생성</li>
</ul>
<p><strong>1. 데이터 증강:</strong></p>
<pre><code>원본 이미지 100장 → GAN으로 1,000장 생성 → 모델 성능 향상</code></pre>
<p><strong>2. 합성 데이터:</strong></p>
<pre><code>실제 고객 데이터 → 통계적 특성 학습 → 합성 고객 데이터 생성
→ 개인정보 보호 + 분석 가능</code></pre>
<p><strong>3. 텍스트 분석:</strong></p>
<pre><code>고객 리뷰 10,000개 → LLM 요약 → 주요 불만 사항 5가지 도출</code></pre>
<p><strong>4. 코드 생성:</strong></p>
<pre><code>"pandas로 결측치 처리하고 정규화해줘"
→ LLM이 즉시 코드 생성</code></pre>
<p><strong>5. 리포트 자동화:</strong></p>
<pre><code>데이터 분석 결과 → LLM이 비즈니스 인사이트 문장으로 작성
→ 경영진 보고서 자동 생성</code></pre>
</section>
<section id="기존-ai와의-차이" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="기존-ai와의-차이"><span class="header-section-number">2.6.2</span> 기존 AI와의 차이</h3>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>기존 AI (판별 모델)</th>
<th>생성형 AI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>목적</strong></td>
<td>분류, 예측</td>
<td>생성, 창작</td>
</tr>
<tr class="even">
<td><strong>출력</strong></td>
<td>레이블, 점수</td>
<td>새로운 콘텐츠</td>
</tr>
<tr class="odd">
<td><strong>질문</strong></td>
<td>“이것은 무엇인가?”</td>
<td>“이것을 만들어줘”</td>
</tr>
<tr class="even">
<td><strong>활용</strong></td>
<td>이미지 분류, 사기 탐지</td>
<td>이미지 생성, 텍스트 작성</td>
</tr>
<tr class="odd">
<td><strong>예시</strong></td>
<td>“이 이미지는 고양이다”</td>
<td>“고양이 이미지를 그려줘”</td>
</tr>
</tbody>
</table>
</section>
<section id="생성형-ai의-유형" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="생성형-ai의-유형"><span class="header-section-number">2.6.3</span> 생성형 AI의 유형</h3>
<p><strong>1. 텍스트 생성 (LLM)</strong><br>
- GPT-4, Claude, Gemini<br>
- 활용: 콘텐츠 작성, 코드 생성, 대화, 번역</p>
<p><strong>2. 이미지 생성</strong><br>
- DALL-E 3, Midjourney, Stable Diffusion<br>
- 활용: 디자인, 광고 소재, 제품 시각화</p>
<p><strong>3. 음성 생성 (TTS)</strong><br>
- ElevenLabs, Google WaveNet<br>
- 활용: 내레이션, 오디오북, 가상 비서</p>
<p><strong>4. 비디오 생성</strong><br>
- Sora, Runway, Synthesia<br>
- 활용: 광고 영상, 교육 콘텐츠</p>
<p><strong>5. 코드 생성</strong><br>
- GitHub Copilot, Amazon CodeWhisperer<br>
- 활용: 프로그래밍 보조, 디버깅</p>
<p><strong>6. 음악 생성</strong><br>
- MusicLM, AIVA<br>
- 활용: 배경음악, 작곡 보조</p>
</section>
<section id="장단점" class="level3" data-number="2.6.4">
<h3 data-number="2.6.4" class="anchored" data-anchor-id="장단점"><span class="header-section-number">2.6.4</span> 장단점</h3>
<p><strong>장점:</strong><br>
- 창의적 콘텐츠 대량 생성<br>
- 데이터 부족 문제 해결<br>
- 반복 작업 자동화<br>
- 개인화 콘텐츠 제작<br>
- 언어 장벽 해소</p>
<p><strong>단점:</strong><br>
- 환각 (Hallucination): 그럴듯하지만 틀린 정보 생성<br>
- 저작권 이슈<br>
- 편향 및 윤리 문제<br>
- 막대한 컴퓨팅 비용<br>
- 악용 가능성 (딥페이크, 허위정보)</p>
</section>
<section id="주요-llm-비교" class="level3" data-number="2.6.5">
<h3 data-number="2.6.5" class="anchored" data-anchor-id="주요-llm-비교"><span class="header-section-number">2.6.5</span> 주요 LLM 비교</h3>
<table class="table">
<thead>
<tr class="header">
<th>모델</th>
<th>개발사</th>
<th>특징</th>
<th>강점</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>GPT-4</strong></td>
<td>OpenAI</td>
<td>범용 언어 모델</td>
<td>코딩, 창의성</td>
</tr>
<tr class="even">
<td><strong>Claude 3</strong></td>
<td>Anthropic</td>
<td>안전성 중시</td>
<td>긴 문서 분석, 윤리</td>
</tr>
<tr class="odd">
<td><strong>Gemini</strong></td>
<td>Google</td>
<td>멀티모달</td>
<td>이미지+텍스트 통합</td>
</tr>
<tr class="even">
<td><strong>LLaMA 3</strong></td>
<td>Meta</td>
<td>오픈소스</td>
<td>커스터마이징 가능</td>
</tr>
</tbody>
</table>


</section>
</section>
</section>

 ]]></description>
  <category>Statistics</category>
  <category>Data Science</category>
  <category>Machine Learning</category>
  <category>AI</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Statistics/00-basic-concept.html</guid>
  <pubDate>Sun, 07 Dec 2025 15:00:00 GMT</pubDate>
</item>
</channel>
</rss>
