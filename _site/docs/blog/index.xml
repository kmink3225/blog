<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Kwangmin Kim</title>
<link>kk3225.netlify.app/docs/blog/</link>
<atom:link href="kk3225.netlify.app/docs/blog/index.xml" rel="self" type="application/rss+xml"/>
<description>blog</description>
<generator>quarto-1.4.543</generator>
<lastBuildDate>Tue, 31 Dec 2109 15:00:00 GMT</lastBuildDate>
<item>
  <title>Data Governance</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Governance/</link>
  <description><![CDATA[ 





<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/images/governance/data_governance.png" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Governance</figcaption>
</figure>
</div>
<section id="data-governance" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Data Governance</h1>
<section id="data-governance-basic-concept" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="data-governance-basic-concept"><span class="header-section-number">1.1</span> Data Governance Basic Concept</h2>
<ul>
<li>2024-08-01, <a href="../../../../docs/blog/posts/Governance/1.basis.html">Data Governance Basic Concepts, 거버넌스 기본 개념</a></li>
<li>2024-08-02, <a href="../../../../docs/blog/posts/Governance/2.task_process.html">Task Process, 업무 절차</a></li>
<li>2024-08-03, <a href="../../../../docs/blog/posts/Governance/3.architetucre.html">Data Architecture, 구조관리</a></li>
<li>0000-00-00, [Data Pipeline Design, 파이프라인 설계]</li>
<li>0000-00-00, [Data Storage, 저장소 관리]</li>
<li>0000-00-00, [Data Management Policy, 데이터 관리 정책]</li>
<li>0000-00-00, [Data Stewardship Model, 데이터 관리 모델]</li>
</ul>
</section>
<section id="data-modeling" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="data-modeling"><span class="header-section-number">1.2</span> Data Modeling</h2>
<ul>
<li>2024-08-04, <a href="../../../../docs/blog/posts/Governance/4-0.data_model.html">Data Model (1) - Basic Concept</a></li>
<li>2024-08-05, <a href="../../../../docs/blog/posts/Governance/4-1.data_model_database.html">Data Model (2) - Database Basis</a></li>
<li>2024-08-06, <a href="../../../../docs/blog/posts/Governance/4-2.data_model_sql.html">Data Model (3) - SQL Concept</a></li>
<li>2024-08-07, <a href="../../../../docs/blog/posts/Governance/4-3.data_model_schema.html">Data Model (4) - DB Design</a></li>
<li>2024-08-08, <a href="../../../../docs/blog/posts/Governance/4-4.data_model_requirements.html">Data Model (5) - Requirement Collection</a></li>
<li>2024-08-09, <a href="../../../../docs/blog/posts/Governance/4-5-0.data_model_conceptual.html">Data Model (6) - Conceptual Design</a></li>
<li>2024-08-10, <a href="../../../../docs/blog/posts/Governance/4-5-1.data_model_conceptual_ER_model.html">Data Model (7) - ER Modeling</a></li>
</ul>
<section id="data-standardization" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="data-standardization"><span class="header-section-number">1.2.1</span> Data Standardization</h3>
<ul>
<li>2024-08-11, <a href="../../../../docs/blog/posts/Governance/5-0-0.data_standard.html">Data Standardization - Basic Concept</a></li>
<li>2024-08-12, <a href="../../../../docs/blog/posts/Governance/5-0-1.stndrdztn_rule.ver1.0.0.html">Data Standardization - Standard Rules</a></li>
<li>2024-11-25, <a href="../../../../docs/blog/posts/Governance/5-0-2.terminology_hierarchy.html">Data Standardization - 용어 정리</a></li>
<li>2024-08-12, <a href="../../../../docs/blog/posts/Governance/5-1.data_word_dictionary.html">Data Standardization - 표준 단어 사전</a></li>
<li>2024-08-13, <a href="../../../../docs/blog/posts/Governance/5-2.data_word_domain.html">Data Standardization - 표준 도메인 사전</a></li>
<li>2024-08-14, <a href="../../../../docs/blog/posts/Governance/5-3.data_word_glossary.html">Data Standardization - 표준 용어 사전</a></li>
<li>2024-08-15, <a href="../../../../docs/blog/posts/Governance/5-4.data_code.html">Data Standardization - 표준 코드</a></li>
<li>2024-08-16, <a href="../../../../docs/blog/posts/Governance/6-0.data_registration_process.html">Data Standardization - 등록 프로세스</a></li>
<li>2024-08-17, <a href="../../../../docs/blog/posts/Governance/6-1.data_review_process.html">Data Standardization - 용어 검토 프로세스</a></li>
<li>2024-08-18, <a href="../../../../docs/blog/posts/Governance/6-2.data_code_registration.html">Data Standardization - 코드 등록 프로세스</a></li>
<li>2024-08-19, <a href="../../../../docs/blog/posts/Governance/8-0.data_quality_measures.html">Data Standardization - 데이터 품질 측정</a></li>
</ul>
</section>
<section id="data-quality" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="data-quality"><span class="header-section-number">1.2.2</span> Data Quality</h3>
<ul>
<li>0000-00-00, [Data Quality Control Process, 데이터 품질 절차]</li>
<li>0000-00-00, [Data Quality Measurement, 데이터 품질 측정]</li>
<li>0000-00-00, [Data Validation, 데이터 품질 검증]</li>
</ul>
</section>
<section id="etc." class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="etc."><span class="header-section-number">1.2.3</span> etc.</h3>
<ul>
<li>0000-00-00, [Data Governance Solutions, 데이터 관리 솔루션]</li>
<li>0000-00-00, [Metadata Management, 메타데이터 관리]</li>
<li>0000-00-00, [Data Integration, 데이터 통합]</li>
<li>0000-00-00, [Data Security, 데이터 보안]</li>
</ul>


</section>
</section>
</section>

 ]]></description>
  <category>Data Governance</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Governance/</guid>
  <pubDate>Tue, 31 Dec 2109 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Epidemiology</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Experimentation/Epidemiology/</link>
  <description><![CDATA[ 





<section id="contents" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Contents</h1>
<section id="learning-path-for-experimentation" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="learning-path-for-experimentation"><span class="header-section-number">1.1</span> Learning Path for Experimentation</h2>
<p><strong>Priority Topics for Experimentation:</strong> 1. <strong>Experimental Studies → RCT</strong> (A/B Testing 직접 원형) 2. <strong>Causal Inference</strong> (전체 섹션 - 실험의 이론적 기초) 3. <strong>Effect Modification</strong> (Heterogeneous Treatment Effects) 4. <strong>Sample Size and Power</strong> (실험 설계 필수) 5. <strong>Propensity Score Methods</strong> (Observational causal inference)</p>
<p><strong>Recommended Study Order:</strong></p>
<p>Phase 1 (1-2주): Foundations + Study Designs → Focus on RCT and experimental principles</p>
<p>Phase 2 (1주): Measures of Association and Impact → Effect measures calculation practice</p>
<p>Phase 3 (2주): Causal Inference ⭐ → DAG practice, Counterfactual framework → Most critical for experimentation</p>
<p>Phase 4 (1주): Bias and Confounding + Study Fundamentals → Sample size calculations → Validity considerations</p>
<p>Phase 5 (선택): Advanced Topics → As needed for specific applications</p>
</section>
<section id="foundations" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="foundations"><span class="header-section-number">1.2</span> Foundations</h2>
<ul>
<li>1111-11-11, <a href="./foundations/concepts.qmd">Epidemiologic Concepts</a>
<ul>
<li>1111-11-11, <a href="./foundations/incidence_prevalence.qmd">Incidence vs.&nbsp;Prevalence (발생률 vs.&nbsp;유병률)</a></li>
<li>1111-11-11, <a href="./foundations/population_at_risk.qmd">Population at Risk (위험인구)</a></li>
<li>1111-11-11, <a href="./foundations/exposure_outcome.qmd">Exposure and Outcome (노출과 결과)</a></li>
</ul></li>
<li>1111-11-11, <a href="./foundations/framework.qmd">Study Design Framework (연구설계 프레임워크)</a>
<ul>
<li>1111-11-11, <a href="./foundations/descriptive_analytical.qmd">Descriptive vs.&nbsp;Analytical Studies (기술 vs.&nbsp;분석 연구)</a></li>
<li>1111-11-11, <a href="./foundations/observational_experimental.qmd">Observational vs.&nbsp;Experimental Studies (관찰 vs.&nbsp;실험 연구)</a></li>
<li>1111-11-11, <a href="./foundations/time_relationship.qmd">Time Relationship (시간적 관계)</a></li>
</ul></li>
</ul>
</section>
<section id="study-designs" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="study-designs"><span class="header-section-number">1.3</span> Study Designs</h2>
<ul>
<li>2023-02-27, Types of Study Designs in Epidemiology
<ul>
<li>1111-11-11, Descriptive Studies (기술연구)
<ul>
<li>1111-11-11, <a href="./descriptive/case_reports.qmd">Case Reports and Case Series (증례보고 및 증례군)</a></li>
<li>1111-11-11, <a href="./descriptive/ecological.qmd">Ecological Studies (생태학적 연구)</a></li>
</ul></li>
<li>1111-11-11, Observational Analytical Studies (관찰 분석연구)
<ul>
<li>1111-11-11, <a href="./observational/cross_sectional.qmd">Cross-sectional Studies (단면연구)</a></li>
<li>1111-11-11, <a href="./observational/case_control.qmd">Case-control Studies (환자-대조군 연구)</a></li>
<li>1111-11-11, <a href="./observational/cohort.qmd">Cohort Studies (코호트 연구)</a>
<ul>
<li>1111-11-11, <a href="./observational/cohort_prospective.qmd">Prospective Cohort (전향적 코호트)</a></li>
<li>1111-11-11, <a href="./observational/cohort_retrospective.qmd">Retrospective Cohort (후향적 코호트)</a></li>
</ul></li>
</ul></li>
<li>1111-11-11, Experimental Studies (실험연구) ⭐
<ul>
<li>1111-11-11, <a href="./experimental/rct.qmd">Randomized Controlled Trial (무작위 대조 시험)</a> ⭐</li>
<li>1111-11-11, <a href="./experimental/quasi_experimental.qmd">Quasi-experimental Studies (준실험 연구)</a></li>
<li>1111-11-11, <a href="./experimental/before_after.qmd">Before-after Studies (전후 연구)</a></li>
<li>1111-11-11, <a href="./experimental/factorial_design.qmd">Factorial Design (요인 설계)</a></li>
</ul></li>
<li>1111-11-11, Evidence Synthesis (근거 통합)
<ul>
<li>1111-11-11, <a href="./synthesis/systematic_review.qmd">Systematic Reviews (체계적 문헌고찰)</a></li>
<li>1111-11-11, <a href="./synthesis/meta_analysis.qmd">Meta-analyses (메타분석)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="measures-of-association-and-impact" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="measures-of-association-and-impact"><span class="header-section-number">1.4</span> Measures of Association and Impact</h2>
<ul>
<li>2023-05-23, <a href="./measures_overview.qmd">Measures in Epidemiology</a>
<ul>
<li>1111-11-11, Contingency Tables and Basic Measures (분할표와 기본 측정)
<ul>
<li>1111-11-11, <a href="./measures/contingency_table.qmd">2x2 Contingency Tables (2x2 분할표)</a></li>
<li>1111-11-11, <a href="./measures/risk_rate_odds.qmd">Risk, Rate, and Odds (위험, 비율, 오즈)</a></li>
</ul></li>
<li>1111-11-11, Measures of Association (연관성 지표)
<ul>
<li>1111-11-11, <a href="./measures/relative_risk.qmd">Relative Risk (상대위험도)</a></li>
<li>1111-11-11, <a href="./measures/odds_ratio.qmd">Odds Ratio (오즈비)</a></li>
<li>1111-11-11, <a href="./measures/rate_ratio.qmd">Rate Ratio (비율비)</a></li>
</ul></li>
<li>1111-11-11, Measures of Effect (효과 지표)
<ul>
<li>1111-11-11, <a href="./measures/risk_difference.qmd">Risk Difference (위험차이)</a></li>
<li>1111-11-11, <a href="./measures/rrr.qmd">Relative Risk Reduction (상대위험감소)</a></li>
<li>1111-11-11, <a href="./measures/arr.qmd">Absolute Risk Reduction (절대위험감소)</a></li>
<li>1111-11-11, <a href="./measures/nnt.qmd">Number Needed to Treat (치료필요수)</a></li>
</ul></li>
<li>1111-11-11, Measures of Impact (영향 지표)
<ul>
<li>1111-11-11, <a href="./measures/attributable_risk.qmd">Attributable Risk (기여위험도)</a></li>
<li>1111-11-11, <a href="./measures/ar_percent.qmd">Attributable Risk Percent (기여위험분율)</a></li>
<li>1111-11-11, <a href="./measures/population_attributable_risk.qmd">Population Attributable Risk (인구기여위험도)</a></li>
<li>1111-11-11, <a href="./measures/par_percent.qmd">Population Attributable Risk Percent (인구기여위험분율)</a></li>
</ul></li>
<li>1111-11-11, Statistical Inference (통계적 추론)
<ul>
<li>1111-11-11, <a href="./measures/confidence_intervals.qmd">Confidence Intervals (신뢰구간)</a></li>
<li>1111-11-11, <a href="./measures/hypothesis_testing.qmd">Hypothesis Testing (가설 검정)</a></li>
<li>1111-11-11, <a href="./measures/p_values.qmd">p-values and Interpretation (p-값과 해석)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="causal-inference" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="causal-inference"><span class="header-section-number">1.5</span> Causal Inference ⭐</h2>
<ul>
<li>1111-11-11, <a href="./causation/index.qmd">Causation in Epidemiology (역학에서의 인과관계)</a>
<ul>
<li>1111-11-11, Causation Concepts (인과관계 개념)
<ul>
<li>1111-11-11, <a href="./causation/necessary_sufficient.qmd">Necessary vs.&nbsp;Sufficient Causes (필요조건 vs.&nbsp;충분조건)</a></li>
<li>1111-11-11, <a href="./causation/component_causes.qmd">Component Causes (구성요인)</a></li>
<li>1111-11-11, <a href="./causation/induction_period.qmd">Induction Period (유도기간)</a></li>
</ul></li>
<li>1111-11-11, <a href="./causation/bradford_hill.qmd">Bradford Hill Criteria (Bradford Hill 기준)</a>
<ul>
<li>1111-11-11, <a href="./causation/strength.qmd">Strength of Association (연관성의 강도)</a></li>
<li>1111-11-11, <a href="./causation/consistency.qmd">Consistency and Replication (일관성과 재현성)</a></li>
<li>1111-11-11, <a href="./causation/specificity.qmd">Specificity (특이성)</a></li>
<li>1111-11-11, <a href="./causation/temporality.qmd">Temporality (시간적 선후관계)</a></li>
<li>1111-11-11, <a href="./causation/dose_response.qmd">Biological Gradient (생물학적 기울기)</a></li>
<li>1111-11-11, <a href="./causation/plausibility.qmd">Plausibility and Coherence (개연성과 일관성)</a></li>
<li>1111-11-11, <a href="./causation/experiment_analogy.qmd">Experiment and Analogy (실험과 유추)</a></li>
</ul></li>
<li>1111-11-11, <a href="./causation/counterfactual.qmd">Counterfactual Framework (반사실적 프레임워크)</a> ⭐
<ul>
<li>1111-11-11, <a href="./causation/potential_outcomes.qmd">Potential Outcomes (잠재결과)</a></li>
<li>1111-11-11, <a href="./causation/ate.qmd">Average Treatment Effect (평균 처치효과)</a></li>
<li>1111-11-11, <a href="./causation/sutva.qmd">SUTVA (안정단위처치값 가정)</a></li>
</ul></li>
<li>1111-11-11, <a href="./causation/dag.qmd">Directed Acyclic Graphs (방향성 비순환 그래프)</a> ⭐
<ul>
<li>1111-11-11, <a href="./causation/causal_pathways.qmd">Causal Pathways (인과 경로)</a></li>
<li>1111-11-11, <a href="./causation/confounding_paths.qmd">Confounding Paths (교란 경로)</a></li>
<li>1111-11-11, <a href="./causation/colliders.qmd">Colliders and Selection Bias (충돌자와 선택 편향)</a></li>
<li>1111-11-11, <a href="./causation/d_separation.qmd">d-separation (d-분리)</a></li>
</ul></li>
<li>1111-11-11, <a href="./causation/propensity_score.qmd">Propensity Score Methods (성향점수 방법)</a>
<ul>
<li>1111-11-11, <a href="./causation/ps_matching.qmd">Propensity Score Matching (성향점수 매칭)</a></li>
<li>1111-11-11, <a href="./causation/iptw.qmd">Inverse Probability Weighting (역확률 가중)</a></li>
<li>1111-11-11, <a href="./causation/ps_stratification.qmd">Propensity Score Stratification (성향점수 층화)</a></li>
<li>1111-11-11, <a href="./causation/ps_adjustment.qmd">Covariate Adjustment (공변량 조정)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="bias-and-confounding" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="bias-and-confounding"><span class="header-section-number">1.6</span> Bias and Confounding</h2>
<ul>
<li>1111-11-11, <a href="./bias/index.qmd">Bias in Epidemiologic Studies (역학 연구의 편향)</a>
<ul>
<li>1111-11-11, Types of Bias (편향의 종류)
<ul>
<li>1111-11-11, <a href="./bias/selection_bias.qmd">Selection Bias (선택 편향)</a></li>
<li>1111-11-11, <a href="./bias/information_bias.qmd">Information Bias (정보 편향)</a></li>
<li>1111-11-11, <a href="./bias/misclassification.qmd">Misclassification Bias (오분류 편향)</a>
<ul>
<li>1111-11-11, <a href="./bias/nondifferential.qmd">Non-differential Misclassification (비차별적 오분류)</a></li>
<li>1111-11-11, <a href="./bias/differential.qmd">Differential Misclassification (차별적 오분류)</a></li>
</ul></li>
</ul></li>
</ul></li>
<li>1111-11-11, <a href="./confounding/index.qmd">Confounding (교란)</a>
<ul>
<li>1111-11-11, <a href="./confounding/definition.qmd">Definition and Criteria (정의와 기준)</a></li>
<li>1111-11-11, <a href="./confounding/positive_negative.qmd">Positive vs.&nbsp;Negative Confounding (양성 vs.&nbsp;음성 교란)</a></li>
<li>1111-11-11, <a href="./confounding/residual.qmd">Residual Confounding (잔여 교란)</a></li>
</ul></li>
<li>1111-11-11, <a href="./effect_modification/index.qmd">Effect Modification (효과 수정)</a> ⭐
<ul>
<li>1111-11-11, <a href="./effect_modification/vs_confounding.qmd">vs.&nbsp;Confounding (교란과의 구분)</a></li>
<li>1111-11-11, <a href="./effect_modification/statistical_interaction.qmd">Statistical Interaction (통계적 상호작용)</a></li>
<li>1111-11-11, <a href="./effect_modification/biological_interaction.qmd">Biological Interaction (생물학적 상호작용)</a></li>
</ul></li>
<li>1111-11-11, <a href="./control/index.qmd">Control Methods (통제 방법)</a>
<ul>
<li>1111-11-11, Design Stage Methods (설계 단계 방법)
<ul>
<li>1111-11-11, <a href="./control/restriction.qmd">Restriction (제한)</a></li>
<li>1111-11-11, <a href="./control/matching.qmd">Matching (매칭)</a></li>
</ul></li>
<li>1111-11-11, Analysis Stage Methods (분석 단계 방법)
<ul>
<li>1111-11-11, <a href="./control/stratification.qmd">Stratification Analysis (층화 분석)</a></li>
<li>1111-11-11, <a href="./control/standardization.qmd">Standardization (표준화)</a></li>
<li>1111-11-11, <a href="./control/regression_adjustment.qmd">Regression Adjustment (회귀 조정)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="study-design-fundamentals" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="study-design-fundamentals"><span class="header-section-number">1.7</span> Study Design Fundamentals</h2>
<ul>
<li>1111-11-11, <a href="./fundamentals/sample_size_power.qmd">Sample Size and Power (표본 크기와 검정력)</a> ⭐
<ul>
<li>1111-11-11, <a href="./fundamentals/type1_error.qmd">Type I Error (1종 오류, α)</a></li>
<li>1111-11-11, <a href="./fundamentals/type2_error.qmd">Type II Error (2종 오류, β)</a></li>
<li>1111-11-11, <a href="./fundamentals/power.qmd">Statistical Power (통계적 검정력, 1-β)</a></li>
<li>1111-11-11, <a href="./fundamentals/effect_size.qmd">Effect Size (효과 크기)</a></li>
<li>1111-11-11, <a href="./fundamentals/sample_size_calc.qmd">Sample Size Calculation (표본 크기 계산)</a></li>
</ul></li>
<li>1111-11-11, <a href="./fundamentals/randomization.qmd">Randomization Methods (무작위 배정 방법)</a>
<ul>
<li>1111-11-11, <a href="./fundamentals/simple_random.qmd">Simple Randomization (단순 무작위배정)</a></li>
<li>1111-11-11, <a href="./fundamentals/block_random.qmd">Block Randomization (블록 무작위배정)</a></li>
<li>1111-11-11, <a href="./fundamentals/stratified_random.qmd">Stratified Randomization (층화 무작위배정)</a></li>
</ul></li>
<li>1111-11-11, <a href="./fundamentals/validity.qmd">Validity in Epidemiologic Studies (역학 연구의 타당도)</a>
<ul>
<li>1111-11-11, <a href="./fundamentals/internal_validity.qmd">Internal Validity (내적 타당도)</a></li>
<li>1111-11-11, <a href="./fundamentals/external_validity.qmd">External Validity (외적 타당도)</a></li>
<li>1111-11-11, <a href="./fundamentals/construct_validity.qmd">Construct Validity (구성 타당도)</a></li>
</ul></li>
</ul>
</section>
<section id="screening-and-diagnostic-tests" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="screening-and-diagnostic-tests"><span class="header-section-number">1.8</span> Screening and Diagnostic Tests</h2>
<ul>
<li>1111-11-11, <a href="./screening/index.qmd">Evaluation of Diagnostic Tests (진단검사 평가)</a>
<ul>
<li>1111-11-11, Test Performance Measures (검사 성능 지표)
<ul>
<li>1111-11-11, <a href="./screening/sensitivity.qmd">Sensitivity (민감도, True Positive Rate)</a></li>
<li>1111-11-11, <a href="./screening/specificity.qmd">Specificity (특이도, True Negative Rate)</a></li>
<li>1111-11-11, <a href="./screening/ppv.qmd">Positive Predictive Value (양성 예측도, PPV)</a></li>
<li>1111-11-11, <a href="./screening/npv.qmd">Negative Predictive Value (음성 예측도, NPV)</a></li>
</ul></li>
<li>1111-11-11, <a href="./screening/likelihood_ratios.qmd">Likelihood Ratios (우도비)</a>
<ul>
<li>1111-11-11, <a href="./screening/lr_positive.qmd">Positive Likelihood Ratio (양성 우도비, LR+)</a></li>
<li>1111-11-11, <a href="./screening/lr_negative.qmd">Negative Likelihood Ratio (음성 우도비, LR-)</a></li>
<li>1111-11-11, <a href="./screening/pretest_posttest.qmd">Pre-test to Post-test Probability (사전-사후 확률)</a></li>
</ul></li>
<li>1111-11-11, Trade-offs and Optimization (상충관계와 최적화)
<ul>
<li>1111-11-11, <a href="./screening/roc_curve.qmd">ROC Curve (ROC 곡선)</a></li>
<li>1111-11-11, <a href="./screening/auc.qmd">Area Under Curve (곡선하면적, AUC)</a></li>
<li>1111-11-11, <a href="./screening/cutpoint.qmd">Optimal Cut-point Selection (최적 절단값 선택)</a></li>
</ul></li>
<li>1111-11-11, <a href="./screening/bayesian.qmd">Bayesian Interpretation (베이지안 해석)</a>
<ul>
<li>1111-11-11, <a href="./screening/bayes_theorem.qmd">Bayes’ Theorem Connection (베이즈 정리와의 연결)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="survival-analysis" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="survival-analysis"><span class="header-section-number">1.9</span> Survival Analysis</h2>
<ul>
<li>1111-11-11, <a href="./survival/index.qmd">Time-to-Event Analysis (시간-사건 분석)</a>
<ul>
<li>1111-11-11, Basic Concepts (기본 개념)
<ul>
<li>1111-11-11, <a href="./survival/censoring.qmd">Censoring (중도절단)</a></li>
<li>1111-11-11, <a href="./survival/survival_function.qmd">Survival Function (생존함수)</a></li>
<li>1111-11-11, <a href="./survival/hazard_function.qmd">Hazard Function (위험함수)</a></li>
</ul></li>
<li>1111-11-11, <a href="./survival/kaplan_meier.qmd">Kaplan-Meier Method (Kaplan-Meier 방법)</a>
<ul>
<li>1111-11-11, <a href="./survival/nonparametric.qmd">Non-parametric Estimation (비모수 추정)</a></li>
<li>1111-11-11, <a href="./survival/logrank_test.qmd">Log-rank Test (로그순위 검정)</a></li>
</ul></li>
<li>1111-11-11, <a href="./survival/cox_model.qmd">Cox Proportional Hazards Model (Cox 비례위험모형)</a>
<ul>
<li>1111-11-11, <a href="./survival/semiparametric.qmd">Semi-parametric Model (준모수 모형)</a></li>
<li>1111-11-11, <a href="./survival/hazard_ratio.qmd">Hazard Ratio (위험비)</a></li>
<li>1111-11-11, <a href="./survival/ph_assumption.qmd">Proportional Hazards Assumption (비례위험 가정)</a></li>
</ul></li>
<li>1111-11-11, Advanced Survival Topics (고급 생존분석 주제)
<ul>
<li>1111-11-11, <a href="./survival/competing_risks.qmd">Competing Risks (경쟁위험)</a></li>
<li>1111-11-11, <a href="./survival/recurrent_events.qmd">Recurrent Events (반복사건)</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="advanced-topics" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="advanced-topics"><span class="header-section-number">1.10</span> Advanced Topics</h2>
<ul>
<li>1111-11-11, <a href="./advanced/designs/index.qmd">Advanced Study Designs (고급 연구설계)</a>
<ul>
<li>1111-11-11, <a href="./advanced/designs/cluster_rct.qmd">Cluster Randomized Trials (군집 무작위 시험)</a></li>
<li>1111-11-11, <a href="./advanced/designs/stepped_wedge.qmd">Stepped Wedge Designs (단계적 쐐기 설계)</a></li>
<li>1111-11-11, <a href="./advanced/designs/adaptive.qmd">Adaptive Designs (적응형 설계)</a></li>
<li>1111-11-11, <a href="./advanced/designs/platform_trials.qmd">Platform Trials (플랫폼 시험)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/causal/index.qmd">Advanced Causal Methods (고급 인과추론 방법)</a>
<ul>
<li>1111-11-11, <a href="./advanced/causal/instrumental_variables.qmd">Instrumental Variables (도구변수)</a></li>
<li>1111-11-11, <a href="./advanced/causal/rdd.qmd">Regression Discontinuity Design (회귀불연속 설계)</a></li>
<li>1111-11-11, <a href="./advanced/causal/did.qmd">Difference-in-Differences (이중차분법)</a></li>
<li>1111-11-11, <a href="./advanced/causal/synthetic_control.qmd">Synthetic Control Methods (합성 통제 방법)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/stats/index.qmd">Advanced Statistical Methods (고급 통계 방법)</a>
<ul>
<li>1111-11-11, <a href="./advanced/stats/multilevel_modeling.qmd">Multilevel/Hierarchical Modeling (다층/계층 모델링)</a></li>
<li>1111-11-11, <a href="./advanced/stats/meta_analysis.qmd">Meta-analysis (메타분석)</a>
<ul>
<li>1111-11-11, <a href="./advanced/stats/fixed_effects.qmd">Fixed Effects Model (고정효과 모형)</a></li>
<li>1111-11-11, <a href="./advanced/stats/random_effects.qmd">Random Effects Model (무선효과 모형)</a></li>
<li>1111-11-11, <a href="./advanced/stats/meta_regression.qmd">Meta-regression (메타회귀분석)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/stats/missing_data.qmd">Missing Data Methods (결측치 처리 방법)</a>
<ul>
<li>1111-11-11, <a href="./advanced/stats/missing_mechanisms.qmd">MCAR, MAR, MNAR (결측 메커니즘)</a></li>
<li>1111-11-11, <a href="./advanced/stats/multiple_imputation.qmd">Multiple Imputation (다중대체)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/stats/measurement_error.qmd">Measurement Error Models (측정 오차 모형)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/special/index.qmd">Special Topics (특수 주제)</a>
<ul>
<li>1111-11-11, <a href="./advanced/special/time_varying_confounding.qmd">Time-varying Confounding (시간가변 교란)</a></li>
<li>1111-11-11, <a href="./advanced/special/mediation.qmd">Mediation Analysis (매개분석)</a></li>
<li>1111-11-11, <a href="./advanced/special/g_methods.qmd">G-methods (G-방법)</a>
<ul>
<li>1111-11-11, <a href="./advanced/special/g_computation.qmd">G-computation (G-계산)</a></li>
<li>1111-11-11, <a href="./advanced/special/ipw.qmd">Inverse Probability Weighting (역확률 가중)</a></li>
<li>1111-11-11, <a href="./advanced/special/g_estimation.qmd">G-estimation (G-추정)</a></li>
</ul></li>
<li>1111-11-11, <a href="./advanced/special/sensitivity_analysis.qmd">Sensitivity Analysis (민감도 분석)</a></li>
</ul></li>
</ul>


</section>
</section>

 ]]></description>
  <category>Epidemiology</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Experimentation/Epidemiology/</guid>
  <pubDate>Sun, 28 Feb 2100 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Mathematics</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Math/</link>
  <description><![CDATA[ 





<section id="contents" class="level1" data-number="1">

<section id="basic" class="level2" data-number="1.1">

<ul>
<li>2023-03-24, <a href="./variables/index.qmd">Variable types</a></li>
<li>1111-11-11, <a href="./function/index.qmd">Function</a>
<ul>
<li>2023-01-31, <a href="../../../../docs/blog/posts/Math/function/univariable_scalar_function.html">Function (1) - Univariable Scalar Function (One to One)</a></li>
<li>2023-01-31, <a href="../../../../docs/blog/posts/Math/function/multivariable_scalar_function.html">Function (2) - Multi-variable Scalar Function (Many to One)</a></li>
<li>2023-01-31, <a href="../../../../docs/blog/posts/Math/function/univariable_vector_function.html">Function (3) - Univariable Vector Function (One to Many)</a></li>
<li>2023-01-31, <a href="../../../../docs/blog/posts/Math/function/mutivariable_vector_function.html">Function (4) - Multi-variable Vector Function (Many to Many)</a></li>
<li>2023-02-18, <a href="../../../../docs/blog/posts/Math/function/composite_function.html">Function (5) - Composite Function</a></li>
</ul></li>
<li>2023-02-18, <a href="./transformation/index.qmd">Transformations of Functions</a></li>
<li>1111-11-11, Vector &amp; Matrix</li>
<li>2023-03-15, <a href="./epsilon_delta/">Limit, <img src="https://latex.codecogs.com/png.latex?%5Cepsilon-%5Cdelta"> Method</a></li>
<li>Differentiation
<ul>
<li>2023-02-04, <a href="./differentiation/2023-02-04_uni_derivative.qmd">Derivative (1) - Univariable Scalar Funtion</a></li>
<li>1111-11-11, <a href="./differentiation/2023-02-10_composite_partial_derivative.qmd">Derivative (2) - Chain Rule &amp; Partial Derivative</a></li>
<li>1111-11-11, Derivative (3) - Higher Order Derivative</li>
<li>1111-11-11, Derivative (4) - Mean Value Theorem</li>
<li>1111-11-11, Derivative (5) - Gradient</li>
</ul></li>
<li>2023-03-15, <a href="./taylor_series/index.qmd">Talyer’s Series</a></li>
<li>1111-11-11, Gradient Direction</li>
<li>1111-11-11, Random Variable</li>
<li>1111-11-11, Probability Distribution</li>
<li>1111-11-11, Information Theory - Entropy</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
</ul>
</section>
<section id="linear-algebra" class="level2" data-number="1.2">

<ul>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/01.basic_vector.html">Basic Vector(1) - Vector Operations</a></li>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/02.norm_dot-product.html">Basic Vector(2) - Vector Norm and Dot Product”</a></li>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/03.vector_equation.html">Basic Vector(3) - Vector Equation</a></li>
<li>2023-03-30, Basic Matrix(1) - Matrix Operation</li>
<li>2023-03-30, Basic Matrix(2) - Matrix Multiplication</li>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/06.system_of_lineqr_equations.html">Basic Matrix(3) - System of Linear Equations</a></li>
<li>2023-03-30, <a href="../../../../docs/blog/posts/Math/linear_algebra/09.special_matrix.html">Basic Matrix(4) - Special Matrix</a></li>
<li>2023-04-14, [Lineqr Equations]</li>
<li>2023-04-14, [Vector Space and Subspaces]</li>
<li>2023-04-21, [Orthogonality]</li>
<li>1111-11-11, [Determinants]</li>
<li>1111-11-11, [Eigen Value &amp; Eigen Vector]</li>
<li>1111-11-11, [Linear Transformations]</li>
<li>1111-11-11, Basis, Dimension, &amp; Rank</li>
<li>1111-11-11,</li>
<li>1111-11-11, Eigen Decomposition</li>
<li>1111-11-11, Singular Value Decomposition (SVD)</li>
<li>1111-11-11, Group</li>
<li>1111-11-11, Rotation &amp; Group</li>
<li>2023-04-02, <a href="./linear_algebra/quadratic_form.qmd">Matrix Transformation (5) - Quadratic Form</a></li>
<li>2023-04-02, <a href="../../../../docs/blog/posts/Math/linear_algebra/derivative_matrix_vector.html">Matrix Calculus (1) - Quadratic Form</a></li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
</ul>
</section>
<section id="optimization" class="level2" data-number="1.3">

<ul>
<li>2023-03-23, <a href="./optimization/minimizer.qmd">Minimizer &amp; Minimum</a></li>
<li>1111-11-11, Convex Set</li>
<li>1111-11-11, Convex Function</li>
<li>1111-11-11, Unconstrained Optimization</li>
<li>1111-11-11, Non-linear Least Square</li>
<li>1111-11-11, Largrange Multiplier Method
<ul>
<li>1111-11-11, Largrange Primal Function</li>
<li>1111-11-11, Largrange Dual Function</li>
<li>1111-11-11, KKT conditions</li>
</ul></li>
<li>1111-11-11, Gradient Descent Optimizers</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
<li>1111-11-11,</li>
</ul>


</section>
</section>

 ]]></description>
  <category>Mathematics</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Math/</guid>
  <pubDate>Sun, 28 Feb 2100 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure Regsion간 가상 네트워크 연결</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/23-az-regiol-peering.html</link>
  <description><![CDATA[ 





<section id="문제-상황" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="문제-상황"><span class="header-section-number">1</span> 문제 상황</h2>
<section id="배경" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="배경"><span class="header-section-number">1.1</span> 배경</h3>
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/images/azure-architecture-overview.jpg" class="img-fluid"></p>
<ul>
<li>Korea Central 리전에서 VM을 생성하고 VNet을 설정했다. 이후 Azure OpenAI 리소스를 Data Zone Standard 배포 유형으로 사용하기 위해 East US 리전에 생성했다.<br>
</li>
<li><strong>이유</strong>: Korea Central은 Data Zone Standard 배포 유형을 지원하지 않는다.</li>
</ul>
</section>
<section id="발생한-문제" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="발생한-문제"><span class="header-section-number">1.2</span> 발생한 문제</h3>
<p>Azure OpenAI 리소스와 VM 리소스가 서로 다른 지역에 있어서 LLM 모델을 배포해도 접근이 차단되었다.</p>
<p><strong>원인</strong>: 서로 다른 지역에 있는 리소스는 각각의 VNet이 Peering되어야 통신이 가능하다.</p>
</section>
<section id="환경-정보" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="환경-정보"><span class="header-section-number">1.3</span> 환경 정보</h3>
<ul>
<li><strong>Korea Central (VM)</strong>
<ul>
<li>VNet: <code>vnet-aipoc-test-krc-insilico-001</code><br>
</li>
<li>리소스 그룹: <code>rg-aipoc-test-krc-001</code></li>
</ul></li>
<li><strong>East US (Azure OpenAI)</strong>
<ul>
<li>VNet: <code>vnet01-3</code><br>
</li>
<li>Private Endpoint 포함</li>
</ul></li>
</ul>
</section>
</section>
<section id="vnet-peering-개념" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="vnet-peering-개념"><span class="header-section-number">2</span> VNet Peering 개념</h2>
<section id="vnet-peering이란" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="vnet-peering이란"><span class="header-section-number">2.1</span> VNet Peering이란</h3>
<p>VNet Peering은 Azure의 백본 네트워크를 통해 두 개의 가상 네트워크를 연결하는 기능이다. 피어링된 VNet의 리소스는 동일 네트워크에 있는 것처럼 서로 통신할 수 있다.</p>
</section>
<section id="주요-특징" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="주요-특징"><span class="header-section-number">2.2</span> 주요 특징</h3>
<ul>
<li><strong>낮은 지연시간</strong>: Azure 백본 네트워크를 사용하여 빠른 통신 제공<br>
</li>
<li><strong>프라이빗 연결</strong>: 공용 인터넷을 거치지 않는 안전한 연결<br>
</li>
<li><strong>리전 간 지원</strong>: Global VNet Peering으로 서로 다른 지역 연결 가능<br>
</li>
<li><strong>양방향 설정</strong>: 두 VNet 모두에서 Peering 설정 필요</li>
</ul>
</section>
<section id="peering-유형" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="peering-유형"><span class="header-section-number">2.3</span> Peering 유형</h3>
<p><strong>Regional VNet Peering</strong><br>
- 동일 Azure 지역 내 VNet 연결<br>
- 가장 낮은 지연시간</p>
<p><strong>Global VNet Peering</strong><br>
- 서로 다른 Azure 지역 간 VNet 연결<br>
- 본 사례: Korea Central ↔︎ East US</p>
</section>
</section>
<section id="vnet-peering-설정-방법" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="vnet-peering-설정-방법"><span class="header-section-number">3</span> VNet Peering 설정 방법</h2>
<section id="단계-vnet-리소스-찾기" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="단계-vnet-리소스-찾기"><span class="header-section-number">3.1</span> 1단계: VNet 리소스 찾기</h3>
<p>Azure Portal에서 VNet 리소스를 찾는다.</p>
<ol type="1">
<li><p><strong>Azure Portal 검색 창</strong>에 리소스 그룹 이름 입력</p>
<ul>
<li>예: <code>rg-aipoc-test-krc-001</code></li>
</ul></li>
<li><p><strong>리소스 그룹</strong> 클릭</p></li>
<li><p><strong>리소스 목록</strong>에서 VNet 리소스 찾기</p>
<ul>
<li>예: <code>vnet-aipoc-test-krc-insilico-001</code></li>
</ul></li>
</ol>
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/images/peering1.png" class="img-fluid"></p>
</section>
<section id="단계-peering-메뉴-접근" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="단계-peering-메뉴-접근"><span class="header-section-number">3.2</span> 2단계: Peering 메뉴 접근</h3>
<p>VNet 리소스 페이지에서 Peering 설정 메뉴로 이동한다.</p>
<ol type="1">
<li><p><strong>왼쪽 메뉴 바</strong> 확인</p></li>
<li><p><strong>Settings (설정)</strong> 섹션으로 스크롤</p></li>
<li><p><strong>Peering</strong> 메뉴 클릭</p></li>
</ol>
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/images/peering2.png" class="img-fluid"></p>
<blockquote class="blockquote">
<p><strong>참고</strong>: Virtual Network 리소스에는 반드시 Peering 메뉴가 존재한다. 메뉴가 보이지 않는다면 리소스 유형을 확인한다.</p>
</blockquote>
</section>
<section id="단계-peering-생성-korea-central-east-us" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="단계-peering-생성-korea-central-east-us"><span class="header-section-number">3.3</span> 3단계: Peering 생성 (Korea Central → East US)</h3>
<p>Korea Central VNet에서 East US VNet으로 Peering을 생성한다.</p>
<ol type="1">
<li><strong>Peering</strong> 메뉴에서 <strong>+ Add</strong> 클릭</li>
</ol>
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/images/peering3.png" class="img-fluid"></p>
<ol start="2" type="1">
<li><strong>피어링 설정</strong> 입력
<ul>
<li>Peering link name: 예) <code>krc-to-eus</code><br>
</li>
<li>Virtual network deployment model: <code>Resource manager</code><br>
</li>
<li>Subscription: East US VNet이 있는 구독 선택<br>
</li>
<li>Virtual network: <code>vnet01-3</code> 선택</li>
</ul></li>
<li><strong>추가 설정</strong> (기본값 유지 권장)
<ul>
<li>Allow traffic from remote virtual network: <code>Enabled</code><br>
</li>
<li>Allow traffic to remote virtual network: <code>Enabled</code><br>
</li>
<li>Allow gateway or route server transit: 필요시 설정</li>
</ul></li>
<li><strong>Add</strong> 클릭하여 Peering 생성</li>
</ol>
</section>
<section id="단계-peering-상태-확인" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="단계-peering-상태-확인"><span class="header-section-number">3.4</span> 4단계: Peering 상태 확인</h3>
<p>Peering 생성 후 연결 상태를 확인한다.</p>
<p><strong>Korea Central VNet (<code>vnet-aipoc-test-krc-insilico-001</code>)</strong><br>
- Peering status: <code>Connected</code><br>
- Remote VNet: <code>vnet01-3</code></p>
<p><strong>East US VNet (<code>vnet01-3</code>)</strong><br>
- Azure가 자동으로 역방향 Peering 생성<br>
- Peering status: <code>Connected</code><br>
- Remote VNet: <code>vnet-aipoc-test-krc-insilico-001</code></p>
<blockquote class="blockquote">
<p><strong>중요</strong>: 양방향 Peering이 모두 <code>Connected</code> 상태여야 정상 통신이 가능하다.</p>
</blockquote>
</section>
</section>
<section id="peering-방향성-이해" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="peering-방향성-이해"><span class="header-section-number">4</span> Peering 방향성 이해</h2>
<section id="양방향-설정의-필요성" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="양방향-설정의-필요성"><span class="header-section-number">4.1</span> 양방향 설정의 필요성</h3>
<p>VNet Peering은 <strong>양방향</strong>으로 설정되어야 완벽하게 통신할 수 있다.</p>
<ul>
<li><strong>A → B Peering</strong>: A VNet에서 B VNet으로의 트래픽 허용<br>
</li>
<li><strong>B → A Peering</strong>: B VNet에서 A VNet으로의 트래픽 허용</li>
</ul>
</section>
<section id="자동-생성-메커니즘" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="자동-생성-메커니즘"><span class="header-section-number">4.2</span> 자동 생성 메커니즘</h3>
<p>Azure Portal에서 Peering을 생성하면 다음과 같이 동작한다:</p>
<ol type="1">
<li><strong>소스 VNet</strong>에서 Peering 생성 요청<br>
</li>
<li>Azure가 자동으로 <strong>대상 VNet</strong>에 역방향 Peering 생성 시도<br>
</li>
<li>권한이 있다면 자동으로 양방향 Peering 완성<br>
</li>
<li>권한이 없다면 대상 VNet에서 수동으로 승인 필요</li>
</ol>
</section>
<section id="본-사례의-peering-구조" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="본-사례의-peering-구조"><span class="header-section-number">4.3</span> 본 사례의 Peering 구조</h3>
<pre><code>Korea Central                    East US  
┌─────────────────────┐         ┌─────────────────────┐  
│ vnet-aipoc-test-... │ ←─────→ │    vnet01-3         │  
│                     │         │                     │  
│  VM                 │         │  Azure OpenAI       │  
│  Private Resources  │         │  Private Endpoint   │  
└─────────────────────┘         └─────────────────────┘  </code></pre>
</section>
</section>
<section id="연결-테스트" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="연결-테스트"><span class="header-section-number">5</span> 연결 테스트</h2>
<section id="peering-설정-후-확인-사항" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="peering-설정-후-확인-사항"><span class="header-section-number">5.1</span> Peering 설정 후 확인 사항</h3>
<ol type="1">
<li><strong>Peering 상태 확인</strong>
<ul>
<li>양쪽 VNet 모두 <code>Connected</code> 상태</li>
</ul></li>
<li><strong>네트워크 연결 테스트</strong>
<ul>
<li>VM에서 Azure OpenAI Private Endpoint로 ping 또는 curl 테스트<br>
</li>
<li>예: <code>curl https://&lt;openai-resource&gt;.openai.azure.com</code></li>
</ul></li>
<li><strong>NSG (Network Security Group) 확인</strong>
<ul>
<li>필요한 포트가 열려있는지 확인<br>
</li>
<li>Azure OpenAI: HTTPS (443)</li>
</ul></li>
</ol>
</section>
<section id="문제-해결" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="문제-해결"><span class="header-section-number">5.2</span> 문제 해결</h3>
<p><strong>Peering이 Connected 상태가 아닌 경우</strong><br>
- 구독 권한 확인<br>
- VNet 주소 공간 중복 확인<br>
- Azure Policy 제약 확인</p>
<p><strong>연결은 되지만 통신이 안 되는 경우</strong><br>
- NSG 규칙 확인<br>
- Private Endpoint DNS 설정 확인<br>
- VNet의 서비스 엔드포인트 확인</p>
</section>
</section>
<section id="비용-및-제약사항" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="비용-및-제약사항"><span class="header-section-number">6</span> 비용 및 제약사항</h2>
<section id="비용" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="비용"><span class="header-section-number">6.1</span> 비용</h3>
<p><strong>Regional VNet Peering</strong><br>
- 인바운드/아웃바운드 데이터 전송 비용 발생<br>
- 약 $0.01/GB</p>
<p><strong>Global VNet Peering</strong> (본 사례)<br>
- Regional보다 높은 데이터 전송 비용<br>
- Korea Central ↔︎ East US: 약 $0.035/GB</p>
</section>
<section id="제약사항" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="제약사항"><span class="header-section-number">6.2</span> 제약사항</h3>
<ul>
<li><strong>주소 공간 중복 불가</strong>: 두 VNet의 IP 주소 범위가 겹치면 안 됨<br>
</li>
<li><strong>전이적 라우팅 미지원</strong>: A-B, B-C Peering이 있어도 A-C는 직접 통신 불가<br>
</li>
<li><strong>VPN Gateway 제약</strong>: 특정 구성에서 제한 사항 존재</li>
</ul>
</section>
</section>
<section id="참고-자료" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">7</span> 참고 자료</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview">Azure VNet Peering 공식 문서</a><br>
</li>
<li><a href="https://learn.microsoft.com/en-us/azure/virtual-network/virtual-network-peering-overview#global-vnet-peering">Global VNet Peering</a></li>
</ul>


</section>

 ]]></description>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Network</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/23-az-regiol-peering.html</guid>
  <pubDate>Wed, 17 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure AI Foundry Quota 및 제한 사항</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/22-az-ai-foundry-quota.html</link>
  <description><![CDATA[ 





<section id="배경지식" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="배경지식"><span class="header-section-number">1</span> 배경지식</h2>
<p>Quota의 개념을 알기위해선 먼저 Tenant가 무엇인지 이해해야한다.</p>
<section id="tenant의-개념" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="tenant의-개념"><span class="header-section-number">1.1</span> Tenant의 개념</h3>
<ul>
<li><strong>테넌트(Tenant)</strong>는 Azure의 최상위 조직 단위를 뜻한다.
<ul>
<li><strong>Microsoft Entra ID (구 Azure Active Directory)의 인스턴스</strong><br>
</li>
<li>조직 전체를 나타내는 최상위 컨테이너<br>
</li>
<li>고유한 도메인 이름을 가짐 (예: <code>yourcompany.onmicrosoft.com</code>)<br>
</li>
</ul></li>
<li>왜 조직 단위인가?
<ul>
<li><strong>중앙 집중식 관리</strong>: IT 관리자가 모든 직원 계정 관리<br>
</li>
<li><strong>접근 제어</strong>: 누가 어떤 리소스에 접근할 수 있는지 조직 차원에서 통제<br>
</li>
<li><strong>보안 정책</strong>: 조직 전체에 MFA, 비밀번호 정책 등 일괄 적용<br>
</li>
<li><strong>비용 관리</strong>: 조직의 모든 Azure 사용량을 하나의 청구서로 관리<br>
</li>
</ul></li>
<li>개인이 Azure를 쓸 때도 기술적으로는 1인 조직의 Entra ID가 자동 생성된다.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
노트
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Microsoft Entra ID는 개인이 아닌 조직 단위</strong>의 ID 관리 시스템이다.<br>
- <strong>개인 계정</strong> = 개인 휴대폰 번호<br>
- <strong>Entra ID</strong> = 회사 대표번호 시스템 (내선번호 체계)</p>
<section id="개인-vs-조직" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="개인-vs-조직"><span class="header-section-number">1.2</span> 개인 vs 조직</h3>
<p><strong>개인 Microsoft 계정</strong><br>
- <code>yourname@outlook.com</code>, <code>yourname@hotmail.com</code><br>
- 개인용 OneDrive, Xbox, Skype 등에 사용<br>
- 조직과 무관</p>
<p><strong>Microsoft Entra ID (조직)</strong><br>
- <code>yourname@yourcompany.com</code><br>
- 회사/조직의 ID 관리 시스템<br>
- 조직의 모든 직원, 앱, 리소스를 관리</p>
<ul>
<li>예시: <strong>삼성전자</strong>가 Azure를 사용한다면,</li>
</ul>
<pre><code>Entra ID 테넌트: samsung.onmicrosoft.com  
├── 사용자: kim@samsung.com  
├── 사용자: lee@samsung.com  
├── 사용자: park@samsung.com  
└── Azure 구독들  
    ├── 개발팀 구독  
    ├── 운영팀 구독  
    └── 마케팅팀 구독  </code></pre>
</section>
</div>
</div>
<ul>
<li>Azure 계층 구조</li>
</ul>
<pre><code>테넌트 (Tenant)  
  └── 구독 (Subscription)  
       └── 리소스 그룹 (Resource Group)  
            └── 리소스 (Resource)  </code></pre>
<ul>
<li>테넌트가 포함하는 것
<ul>
<li><strong>사용자 계정</strong>: 조직의 모든 직원 계정<br>
</li>
<li><strong>그룹</strong>: 사용자들의 그룹<br>
</li>
<li><strong>애플리케이션</strong>: 등록된 앱들<br>
</li>
<li><strong>구독</strong>: 여러 개의 Azure 구독<br>
</li>
<li><strong>보안 정책</strong>: 조직 전체 보안 규칙<br>
</li>
</ul></li>
<li>예시: <strong>삼성전자</strong>라는 회사가 있다면:
<ul>
<li><strong>테넌트</strong>: <code>samsung.onmicrosoft.com</code><br>
</li>
<li><strong>구독 1</strong>: 개발팀 구독<br>
</li>
<li><strong>구독 2</strong>: 운영팀 구독<br>
</li>
<li><strong>구독 3</strong>: 마케팅팀 구독</li>
</ul></li>
</ul>
<p>→ 모든 구독이 하나의 테넌트 아래에 있음</p>
</section>
</section>
<section id="quota-개요" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="quota-개요"><span class="header-section-number">2</span> Quota 개요</h2>
<section id="quota의-개념" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="quota의-개념"><span class="header-section-number">2.1</span> Quota의 개념</h3>
<ul>
<li><strong>Quota</strong>는 Azure에서 리소스 사용량에 대한 <strong>할당량(제한)</strong>을 의미한다.<br>
</li>
<li>Quota = 사용 가능한 리소스의 최대량
<ul>
<li><strong>무엇을 제한하나</strong>: API 호출 속도, 토큰 처리량, 리소스 개수 등<br>
</li>
<li><strong>왜 필요한가</strong>: 공정한 리소스 분배, 시스템 과부하 방지, 비용 관리<br>
</li>
<li><strong>어디에 적용되나</strong>: Azure 구독(Subscription) 레벨</li>
</ul></li>
</ul>
</section>
<section id="azure-ai-foundry에서의-quota" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="azure-ai-foundry에서의-quota"><span class="header-section-number">2.2</span> Azure AI Foundry에서의 Quota</h3>
<ul>
<li>각 모델은 사용 가능한 지역마다 독립적인 할당량 풀을 보유한다<br>
</li>
<li>예: gpt-4.1 Global Standard가 5M TPM 할당량을 가지면, 각 지역마다 5M TPM이 할당된다</li>
</ul>
<ol type="1">
<li><strong>TPM (Tokens Per Minute)</strong>: 분당 처리 가능한 토큰 수
<ul>
<li>예: gpt-4o는 기본 450K TPM 할당<br>
</li>
</ul></li>
<li><strong>RPM (Requests Per Minute)</strong>: 분당 처리 가능한 요청 수
<ul>
<li>예: gpt-4o는 기본 2.7K RPM 할당<br>
</li>
</ul></li>
<li><strong>리소스 개수 제한</strong>
<ul>
<li>지역당 Azure OpenAI 리소스 30개<br>
</li>
<li>리소스당 배포 32개</li>
</ul></li>
</ol>
</section>
<section id="quota의-범위" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="quota의-범위"><span class="header-section-number">2.3</span> Quota의 범위</h3>
<ul>
<li>Quota는 테넌트 레벨이 아닌 <strong>Azure 구독(Subscription) 레벨</strong>에서 적용된다
<ul>
<li><strong>테넌트 레벨이라면</strong>: 회사 전체에 할당량 1개<br>
</li>
<li><strong>구독 레벨 (실제)</strong>: 각 구독마다 독립적인 할당량<br>
</li>
<li>예를 들어, 개발팀 구독에서 100만 TPM을 다 써도 운영팀 구독의 100만 TPM에는 영향 없음.<br>
</li>
</ul></li>
<li>지역별, 구독별, 모델별 또는 배포 유형별로 제한이 설정된다<br>
</li>
<li>동일 구독 내에서 여러 지역에 리소스를 분산하면 더 많은 총 TPM/RPM 사용 가능하다
<ul>
<li>다시 말해서, Azure의 Quota(예: TPM/RPM)는 <strong>구독(Subscription) × 지역(Region) 단위</strong>로 각각 별도로 할당된다.<br>
</li>
<li><strong>즉, 지역별로 할당량 풀이 따로 존재</strong>하므로,<br>
</li>
<li>한 지역의 할당량을 다 써도 다른 지역의 리소스는 별도의 할당량으로 추가 사용이 가능하다.<br>
</li>
<li>그러므로, <strong>Azure Open AI 리소스를 여러 지역에 만들어 이용해야 더 많은 누적 TPM/RPM을 확보할 수 있다.</strong><br>
</li>
<li>예를 들어,
<ul>
<li>구독 A의 Korea Central에 gpt-4o 리소스 1개 (450K TPM)<br>
</li>
<li>같은 구독 A의 East US 2에 gpt-4o 리소스 1개 (450K TPM)</li>
</ul></li>
</ul>
→ 이 경우, 두 지역의 TPM이 합쳐져서 총 900K TPM까지 사용 가능하다.</li>
</ul>
</section>
</section>
<section id="주요-제한-사항" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="주요-제한-사항"><span class="header-section-number">3</span> 주요 제한 사항</h2>
<section id="리소스-제한" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="리소스-제한"><span class="header-section-number">3.1</span> 리소스 제한</h3>
<ul>
<li>Azure OpenAI 리소스: 지역당 구독당 30개<br>
</li>
<li>Foundry 리소스: 지역당 구독당 100개<br>
</li>
<li>리소스당 최대 프로젝트: 250개<br>
</li>
<li>리소스당 최대 배포: 32개 (Standard), 5개 (Fine-tuned)</li>
</ul>
</section>
<section id="모델별-기본-제한" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="모델별-기본-제한"><span class="header-section-number">3.2</span> 모델별 기본 제한</h3>
<ul>
<li>DALL-E 2: 2개 동시 요청<br>
</li>
<li>DALL-E 3: 2 capacity units (6 RPM)<br>
</li>
<li>GPT-image-1: 3 capacity units (9 RPM)<br>
</li>
<li>Sora: 60 RPM<br>
</li>
<li>Sora 2: 2개 병렬 작업<br>
</li>
<li>Speech-to-text: 3 RPM</li>
</ul>
</section>
<section id="fine-tuning-제한" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="fine-tuning-제한"><span class="header-section-number">3.3</span> Fine-tuning 제한</h3>
<ul>
<li>리소스당 최대 학습 작업: 100개<br>
</li>
<li>동시 실행 학습 작업: 1개<br>
</li>
<li>최대 대기열 학습 작업: 20개<br>
</li>
<li>리소스당 최대 파일 수: 50개<br>
</li>
<li>총 파일 크기: 1GB<br>
</li>
<li>최대 학습 시간: 720시간<br>
</li>
<li>최대 학습 크기: (토큰 수 × 에폭 수) = 20억</li>
</ul>
</section>
<section id="api-제한" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="api-제한"><span class="header-section-number">3.4</span> API 제한</h3>
<ul>
<li>/embeddings 최대 입력 수: 2,048<br>
</li>
<li>/chat/completions 최대 메시지: 2,048<br>
</li>
<li>/chat/completions 최대 함수: 128<br>
</li>
<li>/chat/completions 최대 도구: 128<br>
</li>
<li>Provisioned Throughput Units (PTU) 최대: 100,000<br>
</li>
<li>Assistants/Thread당 최대 파일: 10,000<br>
</li>
<li>Assistants 최대 파일 크기: 512MB (API), 200MB (Portal)<br>
</li>
<li>Assistants 토큰 제한: 2,000,000</li>
</ul>
</section>
</section>
<section id="배포-유형별-tpmrpm-할당량" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="배포-유형별-tpmrpm-할당량"><span class="header-section-number">4</span> 배포 유형별 TPM/RPM 할당량</h2>
<section id="gpt-5-시리즈" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="gpt-5-시리즈"><span class="header-section-number">4.1</span> GPT-5 시리즈</h3>
<section id="global-standard" class="level4" data-number="4.1.1">
<h4 data-number="4.1.1" class="anchored" data-anchor-id="global-standard"><span class="header-section-number">4.1.1</span> Global Standard</h4>
<ul>
<li>gpt-5: 1M TPM / 10K RPM<br>
</li>
<li>gpt-5-mini: 1M TPM / 10K RPM<br>
</li>
<li>gpt-5-nano: 5M TPM / 150K RPM</li>
</ul>
</section>
<section id="data-zone-standard" class="level4" data-number="4.1.2">
<h4 data-number="4.1.2" class="anchored" data-anchor-id="data-zone-standard"><span class="header-section-number">4.1.2</span> Data Zone Standard</h4>
<ul>
<li>gpt-5: 300K TPM / 3K RPM<br>
</li>
<li>gpt-5-mini: 300K TPM / 3K RPM<br>
</li>
<li>gpt-5-nano: 2M TPM / 50K RPM</li>
</ul>
</section>
</section>
<section id="gpt-4.1-시리즈" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="gpt-4.1-시리즈"><span class="header-section-number">4.2</span> GPT-4.1 시리즈</h3>
<section id="global-standard-1" class="level4" data-number="4.2.1">
<h4 data-number="4.2.1" class="anchored" data-anchor-id="global-standard-1"><span class="header-section-number">4.2.1</span> Global Standard</h4>
<ul>
<li>Enterprise/MCA-E: 5M TPM / 5K RPM<br>
</li>
<li>Default: 1M TPM / 1K RPM<br>
</li>
<li>gpt-4.1-nano Enterprise: 150M TPM / 150K RPM<br>
</li>
<li>gpt-4.1-nano Default: 5M TPM / 5K RPM</li>
</ul>
</section>
<section id="data-zone-standard-1" class="level4" data-number="4.2.2">
<h4 data-number="4.2.2" class="anchored" data-anchor-id="data-zone-standard-1"><span class="header-section-number">4.2.2</span> Data Zone Standard</h4>
<ul>
<li>Enterprise/MCA-E: 2M TPM / 2K RPM<br>
</li>
<li>Default: 300K TPM / 300 RPM<br>
</li>
<li>gpt-4.1-nano Enterprise: 50M TPM / 50K RPM<br>
</li>
<li>gpt-4.1-nano Default: 2M TPM / 2K RPM</li>
</ul>
</section>
</section>
<section id="gpt-4o-시리즈" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="gpt-4o-시리즈"><span class="header-section-number">4.3</span> GPT-4o 시리즈</h3>
<section id="global-standard-2" class="level4" data-number="4.3.1">
<h4 data-number="4.3.1" class="anchored" data-anchor-id="global-standard-2"><span class="header-section-number">4.3.1</span> Global Standard</h4>
<ul>
<li>gpt-4o Enterprise: 30M TPM / 180K RPM<br>
</li>
<li>gpt-4o Default: 450K TPM / 2.7K RPM<br>
</li>
<li>gpt-4o-mini Enterprise: 150M TPM / 1.5M RPM<br>
</li>
<li>gpt-4o-mini Default: 2M TPM / 12K RPM</li>
</ul>
</section>
<section id="data-zone-standard-2" class="level4" data-number="4.3.2">
<h4 data-number="4.3.2" class="anchored" data-anchor-id="data-zone-standard-2"><span class="header-section-number">4.3.2</span> Data Zone Standard</h4>
<ul>
<li>gpt-4o Enterprise: 10M TPM / 60K RPM<br>
</li>
<li>gpt-4o Default: 300K TPM / 1.8K RPM<br>
</li>
<li>gpt-4o-mini Enterprise: 20M TPM / 120K RPM<br>
</li>
<li>gpt-4o-mini Default: 1M TPM / 6K RPM</li>
</ul>
</section>
</section>
<section id="o-시리즈-추론-모델" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="o-시리즈-추론-모델"><span class="header-section-number">4.4</span> o-시리즈 (추론 모델)</h3>
<section id="global-standard-3" class="level4" data-number="4.4.1">
<h4 data-number="4.4.1" class="anchored" data-anchor-id="global-standard-3"><span class="header-section-number">4.4.1</span> Global Standard</h4>
<ul>
<li>o3-mini Enterprise: 50M TPM / 5K RPM<br>
</li>
<li>o3-mini Default: 5M TPM / 500 RPM<br>
</li>
<li>o1 Enterprise: 30M TPM / 5K RPM<br>
</li>
<li>o1 Default: 3M TPM / 500 RPM</li>
</ul>
</section>
<section id="data-zone-standard-3" class="level4" data-number="4.4.2">
<h4 data-number="4.4.2" class="anchored" data-anchor-id="data-zone-standard-3"><span class="header-section-number">4.4.2</span> Data Zone Standard</h4>
<ul>
<li>o3 Default: 10M TPM / 10K RPM<br>
</li>
<li>o3-mini Enterprise: 20M TPM / 2K RPM<br>
</li>
<li>o3-mini Default: 2M TPM / 200 RPM</li>
</ul>
</section>
</section>
</section>
<section id="batch-api-제한" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="batch-api-제한"><span class="header-section-number">5</span> Batch API 제한</h2>
<section id="global-batch" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="global-batch"><span class="header-section-number">5.1</span> Global Batch</h3>
<ul>
<li>gpt-4.1: 5B (billion) 대기 토큰 / 200M 24시간 토큰 / 50M 일일 토큰<br>
</li>
<li>gpt-4.1-mini: 15B 대기 / 1B 24시간 / 50M 일일<br>
</li>
<li>gpt-4o: 5B 대기 / 200M 24시간 / 50M 일일<br>
</li>
<li>gpt-5: 5B 대기 / 200M 24시간 / 50M 일일<br>
</li>
<li>Global Standard 대비 50% 할인</li>
</ul>
</section>
<section id="data-zone-batch" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="data-zone-batch"><span class="header-section-number">5.2</span> Data Zone Batch</h3>
<ul>
<li>gpt-4.1: 500M 대기 / 30M 24시간 / 30M 일일<br>
</li>
<li>gpt-4o: 500M 대기 / 30M 24시간 / 30M 일일<br>
</li>
<li>gpt-5: 5B 대기 / 200M 24시간 / 50M 일일</li>
</ul>
</section>
<section id="batch-파일-제한" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="batch-파일-제한"><span class="header-section-number">5.3</span> Batch 파일 제한</h3>
<ul>
<li>리소스당 최대 파일: 500개<br>
</li>
<li>최대 입력 파일 크기: 200MB<br>
</li>
<li>파일당 최대 요청 수: 100,000개</li>
</ul>
</section>
</section>
<section id="usage-tiers-사용량-계층" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="usage-tiers-사용량-계층"><span class="header-section-number">6</span> Usage Tiers (사용량 계층)</h2>
<section id="개념" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="개념"><span class="header-section-number">6.1</span> 개념</h3>
<ul>
<li>Global Standard와 Data Zone Standard 배포에만 적용된다<br>
</li>
<li>사용량 계층은 모델별로 정의된 토큰 임계값이다<br>
</li>
<li>임계값 초과 시 응답 지연 시간 변동성이 증가할 수 있다<br>
</li>
<li>테넌트 단위로 모든 구독, 모든 지역의 총 토큰 사용량을 합산한다</li>
</ul>
</section>
<section id="주요-모델별-임계값" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="주요-모델별-임계값"><span class="header-section-number">6.2</span> 주요 모델별 임계값</h3>
<ul>
<li>gpt-5: 32억 토큰<br>
</li>
<li>gpt-5-mini: 160억 토큰<br>
</li>
<li>gpt-5-nano: 800억 토큰<br>
</li>
<li>gpt-4.1: 300억 토큰<br>
</li>
<li>gpt-4.1-mini: 1,500억 토큰<br>
</li>
<li>gpt-4.1-nano: 5,500억 토큰<br>
</li>
<li>gpt-4o: 120억 토큰<br>
</li>
<li>gpt-4o-mini: 850억 토큰<br>
</li>
<li>o3-mini: 500억 토큰<br>
</li>
<li>o1: 40억 토큰</li>
</ul>
</section>
<section id="usage-tier-초과-시-대응" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="usage-tier-초과-시-대응"><span class="header-section-number">6.3</span> Usage Tier 초과 시 대응</h3>
<ul>
<li><strong>Quota 증가 요청</strong>: Azure Portal에서 할당량 증가 신청<br>
</li>
<li><strong>PTU로 업그레이드</strong>: Provisioned Throughput Units로 전환하여 전용 리소스 확보<br>
</li>
<li><strong>사용량 모니터링</strong>: Azure Portal에서 정기적으로 사용 지표 검토</li>
</ul>
</section>
</section>
<section id="구독-유형별-제한" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="구독-유형별-제한"><span class="header-section-number">7</span> 구독 유형별 제한</h2>
<section id="enterprise-및-mca-e" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="enterprise-및-mca-e"><span class="header-section-number">7.1</span> Enterprise 및 MCA-E</h3>
<ul>
<li>가장 높은 기본 할당량 제공<br>
</li>
<li>예: gpt-4o Enterprise는 30M TPM (Default는 450K TPM)<br>
</li>
<li>GPT-5-pro는 MCA-E와 Default 구독만 사용 가능</li>
</ul>
</section>
<section id="제한된-구독-유형" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="제한된-구독-유형"><span class="header-section-number">7.2</span> 제한된 구독 유형</h3>
<ul>
<li><strong>Azure for Students</strong>: 대부분 1K TPM (o-시리즈, GPT-4.1, GPT-4.5는 0)<br>
</li>
<li><strong>MSDN</strong>: gpt-4o-mini 200K, GPT-3.5 200K, GPT-4 50K (o-시리즈는 0)<br>
</li>
<li><strong>Pay-as-you-go</strong>: gpt-4o-mini 200K, GPT-4 50K (o-시리즈는 0)<br>
</li>
<li><strong>Free Trial/Azure Pass</strong>: 모든 모델 0<br>
</li>
<li>일부 구독은 East US2와 Sweden Central의 Global Standard만 사용 가능</li>
</ul>
</section>
</section>
<section id="autoscale-기능" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="autoscale-기능"><span class="header-section-number">8</span> Autoscale 기능</h2>
<section id="개념-1" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="개념-1"><span class="header-section-number">8.1</span> 개념</h3>
<ul>
<li>리소스 사용량에 따라 자동으로 호출 제한을 증가/감소시킨다<br>
</li>
<li>기본적으로 비활성화 상태이며 수동으로 활성화해야 한다<br>
</li>
<li>유료 구독 계층에서만 사용 가능하다</li>
</ul>
</section>
<section id="지원-서비스" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="지원-서비스"><span class="header-section-number">8.2</span> 지원 서비스</h3>
<ul>
<li>Azure Vision, Language (일부), Anomaly Detector<br>
</li>
<li>Content Moderator, Custom Vision, Immersive Reader<br>
</li>
<li>LUIS, Metrics Advisor, Personalizer, QnA Maker<br>
</li>
<li>Document Intelligence<br>
</li>
<li><strong>Azure OpenAI는 Autoscale 미지원</strong> (별도 Quota 관리 필요)</li>
</ul>
</section>
<section id="동작-방식" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="동작-방식"><span class="header-section-number">8.3</span> 동작 방식</h3>
<ul>
<li>429 오류 발생 시 5분마다 가용 용량 확인<br>
</li>
<li>용량이 충분하면 점진적으로 TPS 증가 (최대 1000 TPS)<br>
</li>
<li>1시간 이상 높은 사용률 지속 시 최대 한도 도달<br>
</li>
<li>용량 부족 시 5분 후 재확인</li>
</ul>
</section>
<section id="비용-영향" class="level3" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="비용-영향"><span class="header-section-number">8.4</span> 비용 영향</h3>
<ul>
<li>가격 정책 변경 없음 (성공한 API 호출만 과금)<br>
</li>
<li>호출 제한 증가로 더 많은 트랜잭션 처리 가능 → 요금 증가 가능<br>
</li>
<li>클라이언트 버그로 인한 과다 호출 시 비용 급증 위험<br>
</li>
<li>개발 및 테스트는 고정 제한 리소스에서 수행 권장</li>
</ul>
</section>
</section>
<section id="shared-quota-공유-할당량" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="shared-quota-공유-할당량"><span class="header-section-number">9</span> Shared Quota (공유 할당량)</h2>
<section id="개념-2" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="개념-2"><span class="header-section-number">9.1</span> 개념</h3>
<ul>
<li>Foundry가 제공하는 공유 할당량 풀이다<br>
</li>
<li>여러 사용자가 여러 지역에서 동시에 사용 가능하다<br>
</li>
<li>가용성에 따라 일시적으로 할당량 접근 가능하다<br>
</li>
<li>사용 시간은 제한적이며 사용 사례에 따라 다르다</li>
</ul>
</section>
<section id="사용-목적" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="사용-목적"><span class="header-section-number">9.2</span> 사용 목적</h3>
<ul>
<li>모델 카탈로그의 추론 테스트용<br>
</li>
<li><strong>임시 테스트 엔드포인트만</strong> 생성 가능 (프로덕션 부적합)<br>
</li>
<li>프로덕션은 반드시 전용 할당량 요청 필요</li>
</ul>
</section>
<section id="과금-방식" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="과금-방식"><span class="header-section-number">9.3</span> 과금 방식</h3>
<ul>
<li>사용량 기반 과금 (Pay-as-you-go)<br>
</li>
<li>공유 할당량 사용도 일반 API 호출과 동일하게 과금</li>
</ul>
</section>
</section>
<section id="quota-관리-및-증가-요청" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="quota-관리-및-증가-요청"><span class="header-section-number">10</span> Quota 관리 및 증가 요청</h2>
<section id="foundry-portal에서-quota-확인" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="foundry-portal에서-quota-확인"><span class="header-section-number">10.1</span> Foundry Portal에서 Quota 확인</h3>
<ol type="1">
<li>Microsoft Foundry Portal 로그인<br>
</li>
<li>Management Center (하단 왼쪽) 선택<br>
</li>
<li>Quota 메뉴 클릭<br>
</li>
<li>지역별 모델 할당량 확인<br>
</li>
<li>Show all quota 토글로 전체/할당된 할당량만 표시<br>
</li>
<li>Group by 드롭다운으로 그룹화 방식 변경</li>
</ol>
</section>
<section id="quota-할당-편집" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="quota-할당-편집"><span class="header-section-number">10.2</span> Quota 할당 편집</h3>
<ul>
<li>모델 배포 라인의 연필 아이콘 클릭<br>
</li>
<li>할당량 재분배 (한 배포에서 다른 배포로 이동)<br>
</li>
<li>Request quota 버튼으로 Standard 배포 유형 증가 요청</li>
</ul>
</section>
<section id="quota-증가-요청" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="quota-증가-요청"><span class="header-section-number">10.3</span> Quota 증가 요청</h3>
<ul>
<li><a href="https://aka.ms/oai/stuquotarequest">Quota 증가 요청 양식</a> 제출<br>
</li>
<li>수요가 높아 선착순 처리<br>
</li>
<li>기존 할당량을 소비하는 트래픽 생성 고객에게 우선순위<br>
</li>
<li>조건 미충족 시 거절 가능</li>
</ul>
</section>
<section id="지역별-quota-가용성-확인" class="level3" data-number="10.4">
<h3 data-number="10.4" class="anchored" data-anchor-id="지역별-quota-가용성-확인"><span class="header-section-number">10.4</span> 지역별 Quota 가용성 확인</h3>
<ul>
<li>Foundry Portal의 Quota 뷰에서 확인<br>
</li>
<li>Capacity API로 구독별 모델 가용 용량 조회 가능<br>
</li>
<li>특정 모델/버전의 모든 지역 및 배포 유형별 가용 용량 반환</li>
</ul>
</section>
</section>
<section id="rate-limit-관리-모범-사례" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="rate-limit-관리-모범-사례"><span class="header-section-number">11</span> Rate Limit 관리 모범 사례</h2>
<section id="제한-내-유지-방법" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="제한-내-유지-방법"><span class="header-section-number">11.1</span> 제한 내 유지 방법</h3>
<ul>
<li>애플리케이션에 재시도 로직 구현<br>
</li>
<li>워크로드 급격한 변화 방지, 점진적 증가<br>
</li>
<li>다양한 부하 증가 패턴 테스트<br>
</li>
<li>필요시 배포에 할당된 할당량 증가 (다른 배포에서 이동)</li>
</ul>
</section>
<section id="타임아웃-설정-권장사항" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="타임아웃-설정-권장사항"><span class="header-section-number">11.2</span> 타임아웃 설정 권장사항</h3>
<ul>
<li><strong>추론 모델 (o-시리즈)</strong>: 최대 29분<br>
</li>
<li><strong>비추론 모델 스트리밍</strong>: 최대 60초<br>
</li>
<li><strong>비추론 모델 비스트리밍</strong>: 최대 29분<br>
</li>
<li>트래픽 패턴에 맞춰 위 값보다 낮게 조정<br>
</li>
<li>명시적으로 설정하지 않으면 라이브러리 기본값 사용</li>
</ul>
</section>
<section id="오류-발생-시" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="오류-발생-시"><span class="header-section-number">11.3</span> 429 오류 발생 시</h3>
<ul>
<li>재시도 로직 활용 (지수 백오프)<br>
</li>
<li>Quota 증가 요청<br>
</li>
<li>PTU (Provisioned Throughput) 고려<br>
</li>
<li>사용량 모니터링 및 워크로드 조정</li>
</ul>
</section>
</section>
<section id="참고-자료" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">12</span> 참고 자료</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-foundry/how-to/quota?view=foundry-classic">Azure AI Foundry Quota 관리</a><br>
</li>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-services/autoscale">Autoscale 기능</a><br>
</li>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-foundry/openai/quotas-limits?view=foundry-classic">Azure OpenAI Quotas &amp; Limits</a><br>
</li>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-models/quotas-limits?view=foundry-classic">Foundry Models Quotas &amp; Limits</a></li>
</ul>


</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/22-az-ai-foundry-quota.html</guid>
  <pubDate>Tue, 16 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure OpenAI 배포 유형과 지역 가이드</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/21-az-ai-foundry-deployment.html</link>
  <description><![CDATA[ 





<section id="문제-상황-응답-시간의-불안정성" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="문제-상황-응답-시간의-불안정성"><span class="header-section-number">1</span> 문제 상황: 응답 시간의 불안정성</h2>
<section id="관찰된-현상" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="관찰된-현상"><span class="header-section-number">1.1</span> 관찰된 현상</h3>
<p>Azure OpenAI에서 gpt-5-mini와 gpt-5-nano 모델 사용 시 시간대별로 응답 시간이 크게 변동했다:</p>
<ul>
<li>gpt-5-mini: 9초 → 21.78초 (피크 시 +142%)<br>
</li>
<li>gpt-5-nano: 13.5초 → 16.5초 (피크 시 +22%)</li>
</ul>
</section>
<section id="근본-원인-global-standard의-한계" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="근본-원인-global-standard의-한계"><span class="header-section-number">1.2</span> 근본 원인: Global Standard의 한계</h3>
<p>Global Standard는 전 세계 공유 리소스를 사용하여 다음 문제가 발생한다:</p>
<ol type="1">
<li><strong>전용 용량 없음</strong>: TPM/RPM 한도만 있고 전용 처리 용량 없음<br>
</li>
<li><strong>부하 의존적</strong>: 전 세계 사용량에 따라 성능 변동<br>
</li>
<li><strong>피크 타임 큐잉</strong>: 사용량 많은 시간대 대기 발생<br>
</li>
<li><strong>지역별 차이</strong>: 실제 처리는 미국 East US에서 수행</li>
</ol>
<p><strong>측정 데이터:</strong><br>
- 변동계수: 30-50% (일반적으로 15-30%가 정상)<br>
- 최악 사례: 142% 증가 (심각한 불안정성)<br>
- 시간대별 패턴:<br>
- 새벽 2시: 5-10초 (오프피크)<br>
- 오전 10시: 10-18초 (아시아 피크)<br>
- 오후 3시: 12-25초 (글로벌 피크)</p>
<p><strong>저녁 9시 (아시아 오프피크):</strong><br>
- Mini: 8-12초<br>
- Nano: 9-14초</p>
<p>이러한 패턴에서 알 수 있는 것은:<br>
1. SLA가 없어 응답시간을 보장할 수 없다<br>
2. 사용자 경험의 일관성이 없다<br>
3. 같은 작업도 시간대에 따라 2-3배 차이가 난다</p>
</section>
</section>
<section id="azure-openai-배포-유형-deployment-types" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="azure-openai-배포-유형-deployment-types"><span class="header-section-number">2</span> Azure OpenAI 배포 유형 (Deployment Types)</h2>
<ul>
<li>위와 같은 현상이 발생한 것은 모델에 대한 GPU computing 자원 분배 방식과 지역별 지원 서비스와 통신속도가 차이가 나기 때문이다.<br>
</li>
<li>Azure OpenAI는 데이터 처리 위치와 성능 특성에 따라 다양한 배포 유형을 제공한다.</li>
</ul>
<section id="데이터-처리-위치별-분류" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="데이터-처리-위치별-분류"><span class="header-section-number">2.1</span> 데이터 처리 위치별 분류</h3>
<p>위치별로 배포 유형이 분류된다.</p>
<section id="global-deployments-전역-배포" class="level4" data-number="2.1.1">
<h4 data-number="2.1.1" class="anchored" data-anchor-id="global-deployments-전역-배포"><span class="header-section-number">2.1.1</span> Global Deployments (전역 배포)</h4>
<ul>
<li>데이터가 Azure의 전역 인프라 어디에서나 처리될 수 있다<br>
</li>
<li>동적으로 최적의 데이터센터로 트래픽을 라우팅한다<br>
</li>
<li>대신, 전세계에서 자원을 나눠쓰기 때문에 여유분의 GPU를 할당받는데 지연시간이 길어질 수 있다.<br>
</li>
<li>이 배포 유형을 선택하면 비일관적인 처리속도가 관찰된다.</li>
</ul>
</section>
<section id="data-zone-deployments-데이터-존-배포" class="level4" data-number="2.1.2">
<h4 data-number="2.1.2" class="anchored" data-anchor-id="data-zone-deployments-데이터-존-배포"><span class="header-section-number">2.1.2</span> Data Zone Deployments (데이터 존 배포)</h4>
<ul>
<li>데이터가 Microsoft가 정의한 특정 데이터 존 내에서만 처리된다<br>
</li>
<li>예: 미국 리전 → 미국 내에서만 처리, EU 리전 → EU 내에서만 처리<br>
</li>
<li>데이터 거주 요구사항이 있는 경우 적합하다</li>
</ul>
</section>
</section>
<section id="배포-유형-목록" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="배포-유형-목록"><span class="header-section-number">2.2</span> 배포 유형 목록</h3>
<ul>
<li>SKU (Stock Keeping Unit)
<ul>
<li>원래는 재고 관리 단위를 의미<br>
</li>
<li>그러나, Azure와 같은 클라우드 서비스에서는 서비스 계층이나 제품 유형을 식별하는 코드로 사용<br>
</li>
<li>예: GlobalStandard, DataZoneStandard, ProvisionedManaged 등</li>
</ul></li>
</ul>
<section id="global-standard" class="level4" data-number="2.2.1">
<h4 data-number="2.2.1" class="anchored" data-anchor-id="global-standard"><span class="header-section-number">2.2.1</span> Global Standard</h4>
<ul>
<li><strong>SKU</strong>: <code>GlobalStandard</code><br>
</li>
<li><strong>과금 방식</strong>: 종량제 (Pay-per-call)<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>가장 높은 기본 할당량 제공<br>
</li>
<li>전역 인프라 활용으로 자동 부하 분산<br>
</li>
<li>대량 일관 트래픽 시 지연 변동 가능성 있음</li>
</ul></li>
</ul>
</section>
<section id="global-provisioned" class="level4" data-number="2.2.2">
<h4 data-number="2.2.2" class="anchored" data-anchor-id="global-provisioned"><span class="header-section-number">2.2.2</span> Global Provisioned</h4>
<ul>
<li><strong>SKU</strong>: <code>GlobalProvisionedManaged</code><br>
</li>
<li><strong>과금 방식</strong>: 예약 처리량 단위 (PTU) 구매<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>전용 모델 처리 용량 확보<br>
</li>
<li>높고 예측 가능한 처리량 제공<br>
</li>
<li>전역 인프라 활용</li>
</ul></li>
</ul>
</section>
<section id="global-batch" class="level4" data-number="2.2.3">
<h4 data-number="2.2.3" class="anchored" data-anchor-id="global-batch"><span class="header-section-number">2.2.3</span> Global Batch</h4>
<ul>
<li><strong>SKU</strong>: <code>GlobalBatch</code><br>
</li>
<li><strong>과금 방식</strong>: Global Standard 대비 50% 할인<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>비실시간 대량 처리용<br>
</li>
<li>24시간 이내 처리 완료 목표<br>
</li>
<li>별도의 대기열 할당량 사용</li>
</ul></li>
</ul>
</section>
<section id="data-zone-standard" class="level4" data-number="2.2.4">
<h4 data-number="2.2.4" class="anchored" data-anchor-id="data-zone-standard"><span class="header-section-number">2.2.4</span> Data Zone Standard</h4>
<ul>
<li><strong>SKU</strong>: <code>DataZoneStandard</code><br>
</li>
<li><strong>과금 방식</strong>: 종량제<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>지정된 데이터 존 내에서만 처리<br>
</li>
<li>Regional 배포보다 높은 기본 할당량<br>
</li>
<li>데이터 거주 요구사항 충족</li>
</ul></li>
</ul>
</section>
<section id="data-zone-provisioned" class="level4" data-number="2.2.5">
<h4 data-number="2.2.5" class="anchored" data-anchor-id="data-zone-provisioned"><span class="header-section-number">2.2.5</span> Data Zone Provisioned</h4>
<ul>
<li><strong>SKU</strong>: <code>DataZoneProvisionedManaged</code><br>
</li>
<li><strong>과금 방식</strong>: PTU 구매<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>데이터 존 내 전용 처리 용량<br>
</li>
<li>높고 예측 가능한 처리량<br>
</li>
<li>데이터 거주 요구사항 충족</li>
</ul></li>
</ul>
</section>
<section id="data-zone-batch" class="level4" data-number="2.2.6">
<h4 data-number="2.2.6" class="anchored" data-anchor-id="data-zone-batch"><span class="header-section-number">2.2.6</span> Data Zone Batch</h4>
<ul>
<li><strong>SKU</strong>: <code>DataZoneBatch</code><br>
</li>
<li><strong>과금 방식</strong>: 할인 요금<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>데이터 존 내 비실시간 배치 처리<br>
</li>
<li>Global Batch와 동일한 기능<br>
</li>
<li>데이터 거주 요구사항 충족</li>
</ul></li>
</ul>
</section>
<section id="standard-regional" class="level4" data-number="2.2.7">
<h4 data-number="2.2.7" class="anchored" data-anchor-id="standard-regional"><span class="header-section-number">2.2.7</span> Standard (Regional)</h4>
<ul>
<li><strong>SKU</strong>: <code>Standard</code><br>
</li>
<li><strong>과금 방식</strong>: 종량제<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>특정 Azure 지역에 고정<br>
</li>
<li>낮은~중간 수준 트래픽에 최적화<br>
</li>
<li>처리량 제한 가능</li>
</ul></li>
</ul>
</section>
<section id="regional-provisioned" class="level4" data-number="2.2.8">
<h4 data-number="2.2.8" class="anchored" data-anchor-id="regional-provisioned"><span class="header-section-number">2.2.8</span> Regional Provisioned</h4>
<ul>
<li><strong>SKU</strong>: <code>ProvisionedManaged</code><br>
</li>
<li><strong>과금 방식</strong>: PTU 구매<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>특정 지역 내 전용 처리 용량<br>
</li>
<li>PTU 단위로 처리량 보장<br>
</li>
<li>모델별로 필요한 PTU 상이</li>
</ul></li>
</ul>
</section>
<section id="developer-fine-tuned-모델용" class="level4" data-number="2.2.9">
<h4 data-number="2.2.9" class="anchored" data-anchor-id="developer-fine-tuned-모델용"><span class="header-section-number">2.2.9</span> Developer (Fine-tuned 모델용)</h4>
<ul>
<li><strong>SKU</strong>: <code>DeveloperTier</code><br>
</li>
<li><strong>과금 방식</strong>: 저렴한 평가용 요금<br>
</li>
<li><strong>특징</strong>:
<ul>
<li>커스텀 모델 평가 전용<br>
</li>
<li>데이터 거주 보장 없음<br>
</li>
<li>SLA 없음</li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="azure-지역-regions" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="azure-지역-regions"><span class="header-section-number">3</span> Azure 지역 (Regions)</h2>
<p><strong>중요</strong>: 모든 지역에서 모든 배포 유형을 지원하는 것은 아니다. 지역마다 사용 가능한 배포 유형이 다르다.</p>
<section id="주요-지역별-특징" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="주요-지역별-특징"><span class="header-section-number">3.1</span> 주요 지역별 특징</h3>
<section id="아시아-태평양" class="level4" data-number="3.1.1">
<h4 data-number="3.1.1" class="anchored" data-anchor-id="아시아-태평양"><span class="header-section-number">3.1.1</span> 아시아-태평양</h4>
<ul>
<li><strong>Korea Central</strong> (서울) - 한국 사용자 최저 네트워크 지연, Data Zone Standard 미지원<br>
</li>
<li><strong>Japan East</strong> (도쿄) - 한국과 가장 가까운 해외 리전, Data Zone Standard 미지원<br>
</li>
<li><strong>Japan West</strong> (오사카) - 일본 서부 백업 리전<br>
</li>
<li><strong>Southeast Asia</strong> (싱가포르) - 동남아시아 주요 허브<br>
</li>
<li><strong>Australia East</strong> (시드니) - 아시아-태평양 유일 Data Zone Standard 지원 지역<br>
</li>
<li><strong>East Asia</strong> (홍콩) - 중국 인접 지역, 아시아 비즈니스 허브</li>
</ul>
</section>
<section id="북미" class="level4" data-number="3.1.2">
<h4 data-number="3.1.2" class="anchored" data-anchor-id="북미"><span class="header-section-number">3.1.2</span> 북미</h4>
<ul>
<li><strong>East US</strong> (버지니아) - Azure 최대 규모 허브, 최신 기능 우선 출시<br>
</li>
<li><strong>East US 2</strong> (버지니아) - Data Zone Standard 지원, 높은 가용성<br>
</li>
<li><strong>West US</strong> (캘리포니아) - 미국 서부 주요 허브<br>
</li>
<li><strong>West US 2</strong> (워싱턴) - 시애틀 인근, 높은 안정성<br>
</li>
<li><strong>West US 3</strong> (애리조나) - Data Zone Standard 지원, 비교적 신규 리전<br>
</li>
<li><strong>Central US</strong> (아이오와) - 미국 중부 허브<br>
</li>
<li><strong>Canada Central</strong> (토론토) - 캐나다 주요 허브, 데이터 거주 규정 준수<br>
</li>
<li><strong>Canada East</strong> (퀘벡) - 캐나다 동부 백업 리전</li>
</ul>
</section>
<section id="유럽" class="level4" data-number="3.1.3">
<h4 data-number="3.1.3" class="anchored" data-anchor-id="유럽"><span class="header-section-number">3.1.3</span> 유럽</h4>
<ul>
<li><strong>North Europe</strong> (아일랜드) - Data Zone Standard 지원, 유럽 주요 허브<br>
</li>
<li><strong>West Europe</strong> (네덜란드) - Data Zone Standard 지원, 높은 네트워크 연결성<br>
</li>
<li><strong>UK South</strong> (런던) - Data Zone Standard 지원, 영국 주요 허브<br>
</li>
<li><strong>France Central</strong> (파리) - 프랑스 데이터 거주 규정 준수<br>
</li>
<li><strong>Sweden Central</strong> (스톡홀름) - Data Zone Standard 지원, 친환경 데이터센터<br>
</li>
<li><strong>Switzerland North</strong> (취리히) - 스위스 데이터 보호 규정 준수</li>
</ul>
</section>
<section id="기타" class="level4" data-number="3.1.4">
<h4 data-number="3.1.4" class="anchored" data-anchor-id="기타"><span class="header-section-number">3.1.4</span> 기타</h4>
<ul>
<li><strong>Brazil South</strong> (상파울루) - 남미 유일 리전, 브라질 데이터 거주 규정 준수<br>
</li>
<li><strong>South Africa North</strong> (요하네스버그) - 아프리카 주요 허브<br>
</li>
<li><strong>UAE North</strong> (두바이) - 중동 주요 허브, 아랍 지역 데이터 거주 준수</li>
</ul>
</section>
</section>
</section>
<section id="data-zone-standard-지원-지역-2025년-기준" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="data-zone-standard-지원-지역-2025년-기준"><span class="header-section-number">4</span> Data Zone Standard 지원 지역 (2025년 기준)</h2>
<p><strong>지원 지역</strong>:<br>
- East US 2<br>
- West US 3<br>
- North Europe<br>
- West Europe<br>
- Sweden Central<br>
- UK South<br>
- Australia East</p>
<p><strong>미지원 지역</strong>:<br>
- Korea Central ❌<br>
- Japan East ❌<br>
- Southeast Asia ❌<br>
- Canada Central/East ❌<br>
- Brazil South ❌</p>
<section id="한국-사용자를-위한-권장-사항" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="한국-사용자를-위한-권장-사항"><span class="header-section-number">4.1</span> 한국 사용자를 위한 권장 사항</h3>
<p><strong>Korea Central</strong> (서울):<br>
- Global Standard ✅<br>
- Global Provisioned ✅<br>
- Global Batch ✅<br>
- Regional Standard ✅<br>
- Data Zone Standard ❌ (미지원)</p>
<p><strong>Australia East</strong> (시드니):<br>
- 아시아-태평양에서 Data Zone Standard를 지원하는 유일한 지역<br>
- 한국에서 물리적 거리: 약 7,000km<br>
- 네트워크 지연: 100-130ms</p>
<p><strong>Japan East</strong> (도쿄):<br>
- Global Standard ✅<br>
- Global Provisioned ✅<br>
- Regional Standard ✅<br>
- Data Zone Standard ❌ (미지원)</p>
</section>
<section id="배포-유형-선택-가이드" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="배포-유형-선택-가이드"><span class="header-section-number">4.2</span> 배포 유형 선택 가이드</h3>
<p><strong>Global Standard를 선택하는 경우</strong>:<br>
- 개발 및 테스트 환경<br>
- 사용량이 적고 불규칙한 경우<br>
- 즉시 시작이 필요한 경우</p>
<p><strong>Data Zone Standard를 선택하는 경우</strong>:<br>
- 프로덕션 환경<br>
- 일관된 성능이 필요한 경우<br>
- 데이터 거주 요구사항이 있는 경우<br>
- 중간 규모 트래픽</p>
<p><strong>Provisioned를 선택하는 경우</strong>:<br>
- 대규모 프로덕션 환경<br>
- 매우 높은 처리량 필요<br>
- 낮은 지연 변동성 필수<br>
- 예측 가능한 비용 선호</p>
<p><strong>Batch를 선택하는 경우</strong>:<br>
- 비실시간 대량 처리<br>
- 비용 최적화가 최우선<br>
- 24시간 처리 시간 허용 가능</p>
</section>
</section>
<section id="참고-자료" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">5</span> 참고 자료</h2>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/ai-foundry/foundry-models/concepts/deployment-types?view=foundry-classic">Microsoft Azure OpenAI Deployment Types 공식 문서</a></li>
</ul>


</section>

 ]]></description>
  <category>AI</category>
  <category>Cloud</category>
  <category>Azure</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Cloud/Azure/21-az-ai-foundry-deployment.html</guid>
  <pubDate>Mon, 15 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>원격 개발 환경 구축 가이드</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Security/1-ssh-remote.html</link>
  <description><![CDATA[ 





<section id="배경" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="배경"><span class="header-section-number">1</span> 배경</h2>
<p><strong>원격 개발 환경</strong>은 현대 소프트웨어 개발에서 필수적인 인프라가 되었다.<br>
클라우드 VM의 높은 컴퓨팅 성능과 일관된 실행 환경을 활용하면서도,<br>
로컬 개발 도구의 편의성을 유지할 수 있는 방법이 필요하다.</p>
<p><strong>기존 Git 동기화 방식의 한계:</strong><br>
- 로컬에서 코드 편집 → Git commit/push → VM에서 pull → 실행 테스트<br>
- 환경 차이로 인한 “내 컴퓨터에서는 잘 되는데…” 문제<br>
- 반복적인 동기화 작업의 비효율성<br>
- 대용량 데이터셋이나 특수 하드웨어(GPU) 필요 시 로컬 개발 불가</p>
<p><strong>Remote SSH의 해결책:</strong><br>
- VS Code를 VM 파일 시스템에 직접 연결<br>
- 실시간 편집과 실행이 모두 VM 환경에서 이루어짐<br>
- 로컬 편집기의 사용자 경험 + 원격 서버의 성능</p>
<p><strong>학습 목표:</strong><br>
1. Remote SSH 개발 환경의 작동 원리 이해<br>
2. SSH 접속에 필요한 필수 정보 확인 방법<br>
3. VS Code Remote SSH 설정 및 접속 실습<br>
4. 실무 환경에서의 활용 시나리오와 모범 사례</p>
<hr>
</section>
<section id="remote-ssh-개발-환경의-작동-원리" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="remote-ssh-개발-환경의-작동-원리"><span class="header-section-number">2</span> Remote SSH 개발 환경의 작동 원리</h2>
<section id="전통적-방식과의-비교" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="전통적-방식과의-비교"><span class="header-section-number">2.1</span> 전통적 방식과의 비교</h3>
<p><strong>로컬 개발 후 Git 동기화 방식:</strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb1-1">[로컬 PC] 코드 편집  </span>
<span id="cb1-2">    ↓  </span>
<span id="cb1-3">[로컬 Git] commit &amp; push  </span>
<span id="cb1-4">    ↓  </span>
<span id="cb1-5">[원격 저장소] GitHub/GitLab  </span>
<span id="cb1-6">    ↓  </span>
<span id="cb1-7">[VM] git pull  </span>
<span id="cb1-8">    ↓  </span>
<span id="cb1-9">[VM] 코드 실행 및 테스트  </span></code></pre></div>
<p><strong>Remote SSH를 통한 VM 직접 개발:</strong></p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb2-1">[로컬 VS Code] ← SSH 터널 → [VM의 VS Code Server]  </span>
<span id="cb2-2">                              ↓  </span>
<span id="cb2-3">                        [VM 파일 시스템]  </span>
<span id="cb2-4">                              ↓  </span>
<span id="cb2-5">                        [즉시 실행 가능]  </span></code></pre></div>
</section>
<section id="개발-방식-비교표" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="개발-방식-비교표"><span class="header-section-number">2.2</span> 개발 방식 비교표</h3>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>로컬 개발 후 Git 동기화</th>
<th>Remote SSH를 통한 VM 직접 개발</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>작업 위치</strong></td>
<td>로컬 PC 파일 시스템</td>
<td>VM 파일 시스템</td>
</tr>
<tr class="even">
<td><strong>실행 환경</strong></td>
<td>로컬 PC (환경 차이 가능)</td>
<td>VM (프로덕션과 동일)</td>
</tr>
<tr class="odd">
<td><strong>동기화</strong></td>
<td>수동 (git push/pull)</td>
<td>자동 (저장 시 즉시 반영)</td>
</tr>
<tr class="even">
<td><strong>컴퓨팅 리소스</strong></td>
<td>로컬 PC 성능에 의존</td>
<td>VM의 높은 사양 활용</td>
</tr>
<tr class="odd">
<td><strong>네트워크 의존성</strong></td>
<td>낮음 (동기화 시에만)</td>
<td>높음 (실시간 연결 필요)</td>
</tr>
<tr class="even">
<td><strong>초기 설정</strong></td>
<td>간단 (git 설정)</td>
<td>중간 (SSH 설정 필요)</td>
</tr>
<tr class="odd">
<td><strong>대용량 데이터</strong></td>
<td>로컬 다운로드 필요</td>
<td>VM에서 직접 접근</td>
</tr>
<tr class="even">
<td><strong>GPU/특수 하드웨어</strong></td>
<td>로컬 PC 제약</td>
<td>VM 리소스 활용</td>
</tr>
<tr class="odd">
<td><strong>비용</strong></td>
<td>로컬 PC 성능 업그레이드</td>
<td>클라우드 VM 사용 비용</td>
</tr>
</tbody>
</table>
</section>
<section id="vs-code-remote-ssh-아키텍처" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="vs-code-remote-ssh-아키텍처"><span class="header-section-number">2.3</span> VS Code Remote SSH 아키텍처</h3>
<p><strong>핵심 구성 요소:</strong></p>
<p><strong>로컬 VS Code (Client):</strong><br>
- 사용자 인터페이스 제공<br>
- 키보드 입력, 파일 탐색 요청 전송<br>
- SSH 터널을 통한 통신 관리</p>
<p><strong>SSH 터널 (Encrypted Channel):</strong><br>
- 로컬과 원격 간 암호화된 통신 채널<br>
- 포트 22 (기본값) 또는 사용자 지정 포트 사용<br>
- 모든 데이터는 SSH 프로토콜로 암호화</p>
<p><strong>VS Code Server (VM에 자동 설치):</strong><br>
- 최초 접속 시 자동으로 VM의 <code>~/.vscode-server/</code> 디렉토리에 설치<br>
- 파일 시스템 접근, 코드 실행, 터미널 명령 처리<br>
- 로컬 VS Code에 결과 전송</p>
<p><strong>작동 흐름:</strong><br>
1. 사용자가 로컬 VS Code에서 파일 열기 요청<br>
2. SSH 터널을 통해 VM의 VS Code Server에 요청 전달<br>
3. VS Code Server가 VM 파일 시스템에서 파일 읽기<br>
4. 파일 내용을 SSH 터널로 로컬에 전송<br>
5. 로컬 VS Code가 파일 내용을 화면에 표시<br>
6. 사용자가 편집 후 저장하면 역순으로 VM에 즉시 반영</p>
</section>
<section id="remote-ssh의-핵심-이점" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="remote-ssh의-핵심-이점"><span class="header-section-number">2.4</span> Remote SSH의 핵심 이점</h3>
<p><strong>일관된 실행 환경:</strong><br>
- 개발/테스트/프로덕션 환경을 동일하게 유지<br>
- “내 컴퓨터에서는 되는데” 문제 해결<br>
- 라이브러리 버전, OS 설정 불일치 제거</p>
<p><strong>고성능 컴퓨팅 활용:</strong><br>
- 머신러닝 학습에 VM의 GPU 직접 사용<br>
- 대규모 데이터 처리를 VM 메모리로 수행<br>
- 로컬 PC 성능 제약 극복</p>
<p><strong>즉각적인 피드백:</strong><br>
- 코드 저장 즉시 VM에 반영<br>
- 터미널에서 바로 실행 및 디버깅<br>
- Git push/pull 없이 작업 가능</p>
<p><strong>보안 강화:</strong><br>
- 민감한 데이터가 로컬에 다운로드되지 않음<br>
- SSH 키 기반 인증으로 접근 통제<br>
- VM의 방화벽 규칙으로 접근 제한</p>
<hr>
</section>
</section>
<section id="vm-접속을-위한-필수-정보-확인" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="vm-접속을-위한-필수-정보-확인"><span class="header-section-number">3</span> VM 접속을 위한 필수 정보 확인</h2>
<section id="ssh-접속의-3대-필수-요소" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="ssh-접속의-3대-필수-요소"><span class="header-section-number">3.1</span> SSH 접속의 3대 필수 요소</h3>
<p>Remote SSH 접속을 위해 반드시 필요한 정보는 다음과 같다.</p>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 34%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>정보</th>
<th>설명</th>
<th>확인 방법</th>
<th>예시 값</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>HostName</strong></td>
<td>VM의 <strong>공용 IP 주소(Public IP)</strong></td>
<td>클라우드 콘솔에서 확인</td>
<td><code>20.196.144.16</code></td>
</tr>
<tr class="even">
<td><strong>User</strong></td>
<td>VM 운영체제의 사용자 계정명</td>
<td>VM 생성 시 설정한 값</td>
<td><code>ubuntu</code>, <code>azureuser</code></td>
</tr>
<tr class="odd">
<td><strong>Port</strong></td>
<td>SSH 서비스 포트 번호</td>
<td>기본값 22 (변경 가능)</td>
<td><code>22</code></td>
</tr>
<tr class="even">
<td><strong>인증 정보</strong></td>
<td>비밀번호 또는 SSH 키 파일</td>
<td>VM 생성 시 설정</td>
<td>키: <code>~/.ssh/vm_key.pem</code></td>
</tr>
</tbody>
</table>
</section>
<section id="public-ip-vs-private-ip" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="public-ip-vs-private-ip"><span class="header-section-number">3.2</span> Public IP vs Private IP</h3>
<p><strong>Public IP (공인 IP):</strong><br>
- 인터넷을 통해 전 세계 어디서든 접근 가능<br>
- 클라우드 VM에 할당되는 고유 주소<br>
- <strong>Remote SSH 접속에 반드시 필요</strong><br>
- 예: <code>20.196.144.16</code>, <code>52.231.18.204</code></p>
<p><strong>Private IP (사설 IP):</strong><br>
- 동일 가상 네트워크(VNet/VPC) 내부에서만 접근 가능<br>
- 인터넷에서 직접 접근 불가<br>
- 예: <code>10.0.0.4</code>, <code>172.16.0.10</code></p>
<p><strong>중요:</strong> 로컬 PC에서 VM에 SSH 접속하려면 <strong>반드시 Public IP가 필요</strong>하다.<br>
Private IP만 있는 경우 다음 방법 중 하나를 사용해야 한다:<br>
- Public IP 추가 할당<br>
- Bastion Host/Jump Server를 통한 접속<br>
- VPN 연결 후 Private IP 사용</p>
</section>
<section id="클라우드별-public-ip-확인-방법" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="클라우드별-public-ip-확인-방법"><span class="header-section-number">3.3</span> 클라우드별 Public IP 확인 방법</h3>
<p><strong>Azure:</strong><br>
1. Azure Portal (<a href="https://portal.azure.com">https://portal.azure.com</a>) 접속<br>
2. 해당 VM 리소스로 이동<br>
3. <strong>개요(Overview)</strong> 탭에서 “공용 IP 주소” 항목 확인<br>
4. 또는 <strong>네트워킹(Networking)</strong> 메뉴에서 네트워크 인터페이스 확인</p>
<p><strong>AWS:</strong><br>
1. AWS Management Console 접속<br>
2. EC2 Dashboard → Instances<br>
3. 해당 인스턴스 선택<br>
4. <strong>Details</strong> 탭에서 “Public IPv4 address” 확인</p>
<p><strong>GCP:</strong><br>
1. Google Cloud Console 접속<br>
2. Compute Engine → VM instances<br>
3. 해당 인스턴스의 “External IP” 열 확인</p>
<p><strong>On-Premise:</strong><br>
- 서버 관리자에게 외부 접속 가능한 IP 주소 문의<br>
- <code>ifconfig</code> (Linux) 또는 <code>ipconfig</code> (Windows) 명령으로 네트워크 인터페이스 확인</p>
</section>
<section id="사용자-계정명-확인" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="사용자-계정명-확인"><span class="header-section-number">3.4</span> 사용자 계정명 확인</h3>
<p><strong>Linux VM:</strong><br>
- Ubuntu: 일반적으로 <code>ubuntu</code><br>
- CentOS/RHEL: 일반적으로 <code>centos</code> 또는 <code>ec2-user</code> (AWS)<br>
- Azure: 생성 시 지정한 사용자명 (예: <code>azureuser</code>)</p>
<p><strong>확인 방법:</strong><br>
- VM 생성 시 설정한 값 참조<br>
- 클라우드 콘솔의 VM 상세 정보에서 확인<br>
- 기존 접속 기록이 있다면 해당 사용자명 사용</p>
</section>
<section id="ssh-인증-방식" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="ssh-인증-방식"><span class="header-section-number">3.5</span> SSH 인증 방식</h3>
<p><strong>비밀번호 인증:</strong><br>
- VM 생성 시 설정한 비밀번호로 로그인<br>
- 간단하지만 보안성이 낮음<br>
- 무차별 대입 공격(Brute Force Attack)에 취약</p>
<p><strong>SSH 키 인증 (권장):</strong><br>
- 공개키-개인키 쌍을 이용한 암호화 인증<br>
- 비밀번호보다 훨씬 안전<br>
- 클라우드 VM 생성 시 기본 옵션</p>
<p><strong>SSH 키 파일 형식:</strong><br>
- <code>.pem</code> (Privacy Enhanced Mail): AWS, Azure에서 주로 사용<br>
- <code>.ppk</code> (PuTTY Private Key): Windows PuTTY에서 사용<br>
- OpenSSH 형식: <code>id_rsa</code>, <code>id_ed25519</code> (Linux/macOS 기본)</p>
<p><strong>키 파일 권한 설정:</strong><br>
SSH 키 파일은 보안을 위해 소유자만 읽을 수 있도록 권한을 설정해야 한다.</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Linux/macOS  </span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 600 ~/.ssh/my_vm_key.pem  </span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 권한 확인  </span></span>
<span id="cb3-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ls</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-l</span> ~/.ssh/my_vm_key.pem  </span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 출력: -rw------- 1 user user 1704 Dec 11 10:00 my_vm_key.pem  </span></span></code></pre></div>
<p>Windows에서는 파일 속성 → 보안 탭에서 사용자별 권한을 설정한다.</p>
<hr>
</section>
</section>
<section id="ssh-config-파일-설정" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="ssh-config-파일-설정"><span class="header-section-number">4</span> SSH Config 파일 설정</h2>
<section id="ssh-config-파일의-역할" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="ssh-config-파일의-역할"><span class="header-section-number">4.1</span> SSH Config 파일의 역할</h3>
<p>SSH Config 파일(<code>~/.ssh/config</code>)은 SSH 접속 정보를 저장하여 반복적인 입력을 줄여준다.</p>
<p><strong>장점:</strong><br>
- 복잡한 접속 명령을 간단한 별칭으로 대체<br>
- 여러 VM의 접속 정보를 체계적으로 관리<br>
- VS Code Remote SSH가 자동으로 인식<br>
- 포트 포워딩, 프록시 설정 등 고급 옵션 적용 가능</p>
</section>
<section id="config-파일-위치" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="config-파일-위치"><span class="header-section-number">4.2</span> Config 파일 위치</h3>
<p><strong>Linux/macOS:</strong><br>
<code>~/.ssh/config</code></p>
<p><strong>Windows:</strong><br>
<code>C:\Users\사용자명\.ssh\config</code></p>
<p>파일이 없다면 새로 생성한다.</p>
</section>
<section id="vs-code에서-config-파일-편집" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="vs-code에서-config-파일-편집"><span class="header-section-number">4.3</span> VS Code에서 Config 파일 편집</h3>
<p><strong>방법 1: Command Palette 사용 (권장)</strong><br>
1. <code>Ctrl+Shift+P</code> (macOS: <code>Cmd+Shift+P</code>) 눌러 명령 팔레트 열기<br>
2. <code>Remote-SSH: Open SSH Configuration File...</code> 입력 및 선택<br>
3. Config 파일 위치 선택 (보통 사용자 홈 디렉토리의 <code>.ssh/config</code>)<br>
4. VS Code 편집기에서 파일 열림</p>
<p><strong>방법 2: 직접 열기</strong><br>
VS Code에서 <code>File &gt; Open File...</code> → <code>~/.ssh/config</code> 경로 입력</p>
</section>
<section id="config-파일-기본-구조" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="config-파일-기본-구조"><span class="header-section-number">4.4</span> Config 파일 기본 구조</h3>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb4-1">Host 별칭  </span>
<span id="cb4-2">    HostName IP주소_또는_도메인  </span>
<span id="cb4-3">    User 사용자명  </span>
<span id="cb4-4">    Port 포트번호  </span>
<span id="cb4-5">    IdentityFile 키_파일_경로  </span></code></pre></div>
<p><strong>각 항목 설명:</strong></p>
<p><strong>Host:</strong><br>
- SSH 접속 시 사용할 별칭 (임의 지정 가능)<br>
- 예: <code>my-dev-server</code>, <code>azure-ml-vm</code>, <code>production-web-01</code></p>
<p><strong>HostName:</strong><br>
- 실제 접속할 IP 주소 또는 도메인명<br>
- Public IP 주소 사용 (예: <code>20.196.144.16</code>)</p>
<p><strong>User:</strong><br>
- VM의 사용자 계정명<br>
- 예: <code>ubuntu</code>, <code>azureuser</code>, <code>ec2-user</code></p>
<p><strong>Port:</strong><br>
- SSH 서비스 포트 (기본값: 22)<br>
- 보안상 다른 포트로 변경한 경우 해당 포트 입력</p>
<p><strong>IdentityFile:</strong><br>
- SSH 개인키 파일의 절대 경로<br>
- 비밀번호 인증 시에는 생략 가능<br>
- 틸드(<code>~</code>) 사용 가능: <code>~/.ssh/my_key.pem</code></p>
</section>
<section id="실전-config-파일-예시" class="level3" data-number="4.5">
<h3 data-number="4.5" class="anchored" data-anchor-id="실전-config-파일-예시"><span class="header-section-number">4.5</span> 실전 Config 파일 예시</h3>
<p><strong>예시 1: 비밀번호 인증 방식</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb5-1">Host azure-dev-vm  </span>
<span id="cb5-2">    HostName 20.196.144.16  </span>
<span id="cb5-3">    User ubuntu  </span>
<span id="cb5-4">    Port 22  </span></code></pre></div>
<p>접속 시 비밀번호를 입력하는 프롬프트가 나타난다.</p>
<p><strong>예시 2: SSH 키 인증 방식 (권장)</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb6-1">Host azure-ml-gpu  </span>
<span id="cb6-2">    HostName 52.231.18.204  </span>
<span id="cb6-3">    User azureuser  </span>
<span id="cb6-4">    Port 22  </span>
<span id="cb6-5">    IdentityFile ~/.ssh/azure_ml_key.pem  </span></code></pre></div>
<p>SSH 키 파일을 사용하여 자동 인증된다.</p>
<p><strong>예시 3: 여러 VM 관리</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"># 개발 환경 VM  </span>
<span id="cb7-2">Host dev-server  </span>
<span id="cb7-3">    HostName 10.0.1.100  </span>
<span id="cb7-4">    User developer  </span>
<span id="cb7-5">    Port 2222  </span>
<span id="cb7-6">    IdentityFile ~/.ssh/dev_key.pem  </span>
<span id="cb7-7"></span>
<span id="cb7-8"># 스테이징 환경 VM  </span>
<span id="cb7-9">Host staging-server  </span>
<span id="cb7-10">    HostName 10.0.2.100  </span>
<span id="cb7-11">    User deployer  </span>
<span id="cb7-12">    Port 22  </span>
<span id="cb7-13">    IdentityFile ~/.ssh/staging_key.pem  </span>
<span id="cb7-14"></span>
<span id="cb7-15"># 프로덕션 환경 VM  </span>
<span id="cb7-16">Host prod-server  </span>
<span id="cb7-17">    HostName 20.50.30.40  </span>
<span id="cb7-18">    User admin  </span>
<span id="cb7-19">    Port 22  </span>
<span id="cb7-20">    IdentityFile ~/.ssh/prod_key.pem  </span>
<span id="cb7-21">    # 프로덕션은 추가 보안 옵션 적용  </span>
<span id="cb7-22">    StrictHostKeyChecking yes  </span></code></pre></div>
<p><strong>예시 4: Bastion/Jump Server를 통한 접속</strong></p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb8-1"># Bastion Host  </span>
<span id="cb8-2">Host bastion  </span>
<span id="cb8-3">    HostName 40.100.50.20  </span>
<span id="cb8-4">    User bastion-user  </span>
<span id="cb8-5">    Port 22  </span>
<span id="cb8-6">    IdentityFile ~/.ssh/bastion_key.pem  </span>
<span id="cb8-7"></span>
<span id="cb8-8"># 내부 VM (Bastion 경유)  </span>
<span id="cb8-9">Host internal-db  </span>
<span id="cb8-10">    HostName 10.0.5.10  </span>
<span id="cb8-11">    User dbadmin  </span>
<span id="cb8-12">    Port 22  </span>
<span id="cb8-13">    IdentityFile ~/.ssh/internal_key.pem  </span>
<span id="cb8-14">    ProxyJump bastion  </span></code></pre></div>
<p><code>ProxyJump</code> 옵션으로 Bastion Host를 경유하여 내부 VM에 접속한다.</p>
</section>
<section id="config-파일-고급-옵션" class="level3" data-number="4.6">
<h3 data-number="4.6" class="anchored" data-anchor-id="config-파일-고급-옵션"><span class="header-section-number">4.6</span> Config 파일 고급 옵션</h3>
<p><strong>ServerAliveInterval &amp; ServerAliveCountMax:</strong><br>
SSH 연결이 끊기지 않도록 주기적으로 신호 전송</p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb9-1">Host stable-connection  </span>
<span id="cb9-2">    HostName 20.196.144.16  </span>
<span id="cb9-3">    User ubuntu  </span>
<span id="cb9-4">    ServerAliveInterval 60  </span>
<span id="cb9-5">    ServerAliveCountMax 3  </span></code></pre></div>
<p>60초마다 keep-alive 신호를 보내고, 3번 실패 시 연결 종료</p>
<p><strong>StrictHostKeyChecking:</strong><br>
처음 접속하는 서버의 호스트 키 확인 여부</p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb10-1">Host new-server  </span>
<span id="cb10-2">    HostName 20.100.50.30  </span>
<span id="cb10-3">    User ubuntu  </span>
<span id="cb10-4">    StrictHostKeyChecking ask  # ask, yes, no 중 선택  </span></code></pre></div>
<ul>
<li><code>yes</code>: 호스트 키가 <code>~/.ssh/known_hosts</code>에 없으면 접속 거부<br>
</li>
<li><code>ask</code>: 사용자에게 확인 요청 (기본값)<br>
</li>
<li><code>no</code>: 자동으로 호스트 키 추가 (보안 위험, 테스트 환경에서만 사용)</li>
</ul>
<p><strong>LocalForward (포트 포워딩):</strong><br>
로컬 포트를 원격 서버의 포트로 연결</p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb11-1">Host db-tunnel  </span>
<span id="cb11-2">    HostName 20.196.144.16  </span>
<span id="cb11-3">    User ubuntu  </span>
<span id="cb11-4">    LocalForward 5432 localhost:5432  </span></code></pre></div>
<p>로컬의 <code>localhost:5432</code>를 VM의 PostgreSQL 서버(<code>localhost:5432</code>)에 연결</p>
<hr>
</section>
</section>
<section id="vs-code-remote-ssh-접속-실행" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="vs-code-remote-ssh-접속-실행"><span class="header-section-number">5</span> VS Code Remote SSH 접속 실행</h2>
<section id="remote-ssh-확장-설치" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="remote-ssh-확장-설치"><span class="header-section-number">5.1</span> Remote SSH 확장 설치</h3>
<p><strong>설치 확인 및 설치:</strong><br>
1. VS Code 실행<br>
2. 왼쪽 사이드바의 <strong>Extensions</strong> 아이콘 클릭 (또는 <code>Ctrl+Shift+X</code>)<br>
3. 검색창에 <code>Remote - SSH</code> 입력<br>
4. <strong>Remote - SSH</strong> (Microsoft 제공) 확장 설치<br>
5. 설치 완료 후 VS Code 재시작 (필요 시)</p>
<p><strong>확장 ID:</strong><br>
<code>ms-vscode-remote.remote-ssh</code></p>
<p><strong>함께 설치하면 좋은 확장:</strong><br>
- <strong>Remote - SSH: Editing Configuration Files</strong>: SSH Config 파일 편집 지원<br>
- <strong>Remote Development</strong>: SSH, Containers, WSL을 통합 지원하는 확장 팩</p>
</section>
<section id="remote-explorer를-통한-접속" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="remote-explorer를-통한-접속"><span class="header-section-number">5.2</span> Remote Explorer를 통한 접속</h3>
<p><strong>단계별 접속 절차:</strong></p>
<p><strong>1단계: Remote Explorer 열기</strong><br>
- 왼쪽 사이드바에서 <strong>Remote Explorer</strong> 아이콘 클릭 (모니터 모양 아이콘)<br>
- 또는 <code>Ctrl+Shift+P</code> → <code>Remote-SSH: Focus on SSH Targets View</code> 선택</p>
<p><strong>2단계: SSH Targets 확인</strong><br>
- SSH Config 파일에 등록한 Host 별칭 목록이 표시됨<br>
- 예: <code>azure-dev-vm</code>, <code>azure-ml-gpu</code> 등</p>
<p><strong>3단계: 연결 시작</strong><br>
- 접속하려는 Host 옆의 <strong>폴더 아이콘</strong> 또는 <strong>창 아이콘</strong> 클릭<br>
- 폴더 아이콘: 현재 창에서 접속<br>
- 창 아이콘: 새 창에서 접속 (권장)</p>
<p><strong>4단계: 플랫폼 선택 (최초 접속 시)</strong><br>
- VM의 운영체제 선택: Linux, Windows, macOS<br>
- 일반적으로 <strong>Linux</strong> 선택</p>
<p><strong>5단계: 인증</strong><br>
- <strong>SSH 키 인증</strong>: 자동으로 키 파일 사용 (별도 입력 불필요)<br>
- <strong>비밀번호 인증</strong>: 비밀번호 입력 프롬프트에 비밀번호 입력<br>
- <strong>호스트 키 확인</strong>: 최초 접속 시 호스트 키 fingerprint 확인 메시지 → <code>Continue</code> 선택</p>
<p><strong>6단계: VS Code Server 설치 (최초 접속 시)</strong><br>
- VS Code가 자동으로 VM에 VS Code Server 설치<br>
- 설치 진행 상황이 우측 하단에 표시됨<br>
- 설치 완료까지 1-2분 소요</p>
<p><strong>7단계: 접속 완료 확인</strong><br>
- 새 VS Code 창이 열림<br>
- 왼쪽 하단에 <code>SSH: 호스트별칭</code> 표시 (예: <code>SSH: azure-dev-vm</code>)<br>
- 녹색 또는 파란색 배경으로 원격 접속 상태 표시</p>
</section>
<section id="원격-폴더-열기" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="원격-폴더-열기"><span class="header-section-number">5.3</span> 원격 폴더 열기</h3>
<p>접속 성공 후 VM의 파일 시스템에 접근한다.</p>
<p><strong>방법 1: 메뉴 사용</strong><br>
1. <code>File &gt; Open Folder...</code> 클릭<br>
2. VM의 디렉토리 경로 입력 (예: <code>/home/ubuntu/projects/ml-pipeline</code>)<br>
3. <code>OK</code> 클릭</p>
<p><strong>방법 2: Command Palette</strong><br>
1. <code>Ctrl+Shift+P</code> → <code>File: Open Folder</code> 선택<br>
2. 경로 입력 후 엔터</p>
<p><strong>방법 3: 터미널에서 이동 후 실행</strong><br>
1. <code>Ctrl+`` (백틱)으로 통합 터미널 열기   2.</code>cd ~/projects/ml-pipeline<code>명령으로 디렉토리 이동   3.</code>code .` 명령으로 현재 디렉토리를 VS Code에서 열기</p>
<p><strong>폴더 열기 후:</strong><br>
- VS Code의 Explorer에서 VM의 파일 구조가 표시됨<br>
- 로컬 파일처럼 편집, 저장, 검색 가능<br>
- 저장 시 즉시 VM에 반영</p>
</section>
<section id="통합-터미널-사용" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="통합-터미널-사용"><span class="header-section-number">5.4</span> 통합 터미널 사용</h3>
<p>원격 VM의 터미널을 VS Code 내에서 직접 사용할 수 있다.</p>
<p><strong>터미널 열기:</strong><br>
- <code>Ctrl+`` (백틱) 누르기   - 또는</code>Terminal &gt; New Terminal` 메뉴 선택</p>
<p><strong>터미널 특징:</strong><br>
- VM의 쉘 환경 (bash, zsh 등) 그대로 사용<br>
- 현재 열린 폴더 위치에서 시작<br>
- 로컬 터미널처럼 명령 실행, 스크립트 실행, 패키지 설치 가능</p>
<p><strong>예시 작업:</strong></p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 가상환경 활성화  </span></span>
<span id="cb12-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> venv/bin/activate  </span>
<span id="cb12-3"></span>
<span id="cb12-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 설치  </span></span>
<span id="cb12-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> requirements.txt  </span>
<span id="cb12-6"></span>
<span id="cb12-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 스크립트 실행  </span></span>
<span id="cb12-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> train_model.py  </span>
<span id="cb12-9"></span>
<span id="cb12-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Git 작업  </span></span>
<span id="cb12-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> status  </span>
<span id="cb12-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> commit <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-am</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Update model architecture"</span>  </span>
<span id="cb12-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> push origin main  </span></code></pre></div>
</section>
<section id="원격-확장-설치" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="원격-확장-설치"><span class="header-section-number">5.5</span> 원격 확장 설치</h3>
<p>VS Code의 확장(Extension)은 로컬과 원격에서 각각 설치해야 한다.</p>
<p><strong>원격 환경에 확장 설치:</strong><br>
1. Extensions 패널 열기 (<code>Ctrl+Shift+X</code>)<br>
2. 필요한 확장 검색<br>
3. <code>Install in SSH: 호스트별칭</code> 버튼 클릭</p>
<p><strong>주요 원격 확장:</strong><br>
- <strong>Python</strong>: Python 코드 실행, 디버깅, IntelliSense<br>
- <strong>Pylance</strong>: 향상된 Python 언어 서버<br>
- <strong>Jupyter</strong>: Jupyter Notebook 지원<br>
- <strong>GitLens</strong>: Git 기능 강화<br>
- <strong>Docker</strong>: Docker 컨테이너 관리</p>
<p><strong>확장 동기화:</strong><br>
VS Code Settings Sync를 사용하면 확장 설정을 여러 환경에서 동기화할 수 있다.</p>
<hr>
</section>
</section>
<section id="실무-활용-시나리오" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="실무-활용-시나리오"><span class="header-section-number">6</span> 실무 활용 시나리오</h2>
<section id="머신러닝-모델-학습" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="머신러닝-모델-학습"><span class="header-section-number">6.1</span> 머신러닝 모델 학습</h3>
<p><strong>시나리오:</strong><br>
GPU가 장착된 클라우드 VM에서 딥러닝 모델을 학습하되, 로컬 VS Code에서 코드를 편집한다.</p>
<p><strong>워크플로우:</strong><br>
1. Remote SSH로 GPU VM 접속<br>
2. 프로젝트 폴더 열기: <code>/home/ubuntu/ml-projects/image-classification</code><br>
3. VS Code에서 모델 코드(<code>model.py</code>) 편집<br>
4. 통합 터미널에서 학습 시작: <code>python train.py --epochs 100 --gpu 0</code><br>
5. TensorBoard를 포트 포워딩으로 로컬에서 모니터링<br>
6. 학습 중 하이퍼파라미터 조정 후 즉시 재실행</p>
<p><strong>장점:</strong><br>
- 로컬 PC의 제한된 GPU 자원 극복<br>
- 대용량 데이터셋을 VM에서 직접 로드 (로컬 다운로드 불필요)<br>
- 학습 중에도 로컬에서 다른 작업 가능</p>
</section>
<section id="데이터-엔지니어링-파이프라인-개발" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="데이터-엔지니어링-파이프라인-개발"><span class="header-section-number">6.2</span> 데이터 엔지니어링 파이프라인 개발</h3>
<p><strong>시나리오:</strong><br>
대용량 데이터 처리 파이프라인을 VM에서 개발하고 테스트한다.</p>
<p><strong>워크플로우:</strong><br>
1. Remote SSH로 데이터 처리 VM 접속<br>
2. Airflow DAG 파일 편집<br>
3. 로컬 VS Code에서 DAG 코드 작성 및 검증<br>
4. 터미널에서 Airflow 스케줄러 실행<br>
5. 로그 파일을 VS Code에서 실시간 확인</p>
<p><strong>장점:</strong><br>
- 로컬 환경과 프로덕션 환경의 설정 불일치 제거<br>
- 대용량 데이터를 VM 메모리로 처리<br>
- 실시간 로그 모니터링 및 디버깅</p>
</section>
<section id="웹-애플리케이션-개발-및-테스트" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="웹-애플리케이션-개발-및-테스트"><span class="header-section-number">6.3</span> 웹 애플리케이션 개발 및 테스트</h3>
<p><strong>시나리오:</strong><br>
클라우드 VM에서 웹 서버를 실행하고, 로컬 브라우저에서 테스트한다.</p>
<p><strong>워크플로우:</strong><br>
1. Remote SSH로 웹 서버 VM 접속<br>
2. VS Code에서 Flask/Django/Node.js 코드 편집<br>
3. 터미널에서 개발 서버 실행: <code>python app.py</code> 또는 <code>npm run dev</code><br>
4. 포트 포워딩으로 로컬 브라우저에서 <code>http://localhost:5000</code> 접속<br>
5. 코드 수정 후 저장 → 자동 재시작(hot reload) → 브라우저 새로고침</p>
<p><strong>포트 포워딩 설정:</strong><br>
VS Code가 자동으로 포트 포워딩을 감지하지만, 수동 설정도 가능하다.</p>
<ol type="1">
<li><code>Ctrl+Shift+P</code> → <code>Forward a Port</code> 선택<br>
</li>
<li>VM의 포트 번호 입력 (예: <code>5000</code>)<br>
</li>
<li>로컬 브라우저에서 <code>http://localhost:5000</code> 접속</li>
</ol>
<p><strong>장점:</strong><br>
- VM의 네트워크 설정, 방화벽 규칙 그대로 테스트<br>
- 로컬 환경 오염 없이 의존성 설치<br>
- 프로덕션과 동일한 OS, 라이브러리 버전 사용</p>
</section>
<section id="다중-vm-환경-관리" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="다중-vm-환경-관리"><span class="header-section-number">6.4</span> 다중 VM 환경 관리</h3>
<p><strong>시나리오:</strong><br>
마이크로서비스 아키텍처에서 여러 VM을 동시에 관리한다.</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb13-1">Host api-server  </span>
<span id="cb13-2">    HostName 20.100.10.10  </span>
<span id="cb13-3">    User ubuntu  </span>
<span id="cb13-4">    IdentityFile ~/.ssh/api_key.pem  </span>
<span id="cb13-5"></span>
<span id="cb13-6">Host db-server  </span>
<span id="cb13-7">    HostName 20.100.10.20  </span>
<span id="cb13-8">    User ubuntu  </span>
<span id="cb13-9">    IdentityFile ~/.ssh/db_key.pem  </span>
<span id="cb13-10"></span>
<span id="cb13-11">Host frontend-server  </span>
<span id="cb13-12">    HostName 20.100.10.30  </span>
<span id="cb13-13">    User ubuntu  </span>
<span id="cb13-14">    IdentityFile ~/.ssh/frontend_key.pem  </span></code></pre></div>
<p><strong>워크플로우:</strong><br>
1. VS Code 창 3개를 각각 다른 VM에 접속<br>
2. API 서버, 데이터베이스 서버, 프론트엔드 서버를 동시에 편집<br>
3. 각 창의 통합 터미널에서 서비스 실행 및 로그 모니터링<br>
4. 서비스 간 통신 테스트 및 디버깅</p>
<p><strong>장점:</strong><br>
- 여러 VM을 하나의 IDE 환경에서 통합 관리<br>
- 서비스 간 의존성 문제를 빠르게 파악<br>
- 코드 변경 사항을 즉시 각 서버에 반영</p>
<hr>
</section>
</section>
<section id="트러블슈팅" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="트러블슈팅"><span class="header-section-number">7</span> 트러블슈팅</h2>
<section id="연결-실패-could-not-establish-connection" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="연결-실패-could-not-establish-connection"><span class="header-section-number">7.1</span> 연결 실패: “Could not establish connection”</h3>
<p><strong>원인 1: Public IP 접근 불가</strong><br>
- 방화벽 규칙이 SSH 포트(22)를 차단<br>
- VM이 중지 상태<br>
- Public IP가 할당되지 않음</p>
<p><strong>해결책:</strong></p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># VM 상태 확인 (Azure CLI)  </span></span>
<span id="cb14-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">az</span> vm get-instance-view <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name</span> my-vm <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--resource-group</span> my-rg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--query</span> instanceView.statuses  </span>
<span id="cb14-3"></span>
<span id="cb14-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 방화벽 규칙 확인  </span></span>
<span id="cb14-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">az</span> network nsg rule list <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--nsg-name</span> my-nsg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--resource-group</span> my-rg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--output</span> table  </span>
<span id="cb14-6"></span>
<span id="cb14-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SSH 포트 허용 규칙 추가  </span></span>
<span id="cb14-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">az</span> network nsg rule create <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name</span> AllowSSH <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--nsg-name</span> my-nsg <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb14-9">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--resource-group</span> my-rg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--priority</span> 1000 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--source-address-prefixes</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'*'</span> <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb14-10">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--destination-port-ranges</span> 22 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--access</span> Allow <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--protocol</span> Tcp  </span></code></pre></div>
<p><strong>원인 2: SSH 키 파일 권한 문제</strong><br>
Linux/macOS에서 키 파일 권한이 너무 개방적인 경우</p>
<p><strong>해결책:</strong></p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 600 ~/.ssh/my_key.pem  </span></code></pre></div>
<p><strong>원인 3: 잘못된 사용자 이름 또는 IP 주소</strong><br>
Config 파일의 <code>HostName</code> 또는 <code>User</code> 값 확인</p>
<p><strong>해결책:</strong><br>
클라우드 콘솔에서 정확한 Public IP와 사용자명 재확인</p>
</section>
<section id="vs-code-server-설치-실패" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="vs-code-server-설치-실패"><span class="header-section-number">7.2</span> VS Code Server 설치 실패</h3>
<p><strong>원인: VM의 디스크 공간 부족</strong></p>
<p><strong>확인:</strong></p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">df</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-h</span>  </span>
<span id="cb16-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># /home 파티션의 사용률 확인  </span></span></code></pre></div>
<p><strong>해결책:</strong><br>
불필요한 파일 삭제 또는 디스크 확장</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 캐시 파일 삭제  </span></span>
<span id="cb17-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> ~/.cache/<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>  </span>
<span id="cb17-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> ~/.vscode-server/bin/<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>  </span>
<span id="cb17-4"></span>
<span id="cb17-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 디스크 공간 확보 후 재접속  </span></span></code></pre></div>
<p><strong>원인: 네트워크 제한으로 VS Code Server 다운로드 실패</strong></p>
<p><strong>해결책:</strong><br>
프록시 설정 또는 오프라인 설치 방법 사용<br>
(<a href="https://code.visualstudio.com/docs/remote/ssh#_installing-a-supported-ssh-client">공식 문서 참조</a>)</p>
</section>
<section id="연결-끊김-connection-closed" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="연결-끊김-connection-closed"><span class="header-section-number">7.3</span> 연결 끊김: “Connection closed”</h3>
<p><strong>원인: 네트워크 불안정 또는 방화벽 타임아웃</strong></p>
<p><strong>해결책: ServerAliveInterval 설정</strong><br>
Config 파일에 keep-alive 옵션 추가</p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb18-1">Host my-vm  </span>
<span id="cb18-2">    HostName 20.196.144.16  </span>
<span id="cb18-3">    User ubuntu  </span>
<span id="cb18-4">    ServerAliveInterval 60  </span>
<span id="cb18-5">    ServerAliveCountMax 3  </span></code></pre></div>
<p><strong>원인: VM이 유휴 상태로 판단되어 자동 종료</strong><br>
클라우드 프로바이더의 자동 종료 정책 확인</p>
<p><strong>해결책:</strong><br>
자동 종료 정책 비활성화 또는 주기적인 작업 실행</p>
</section>
<section id="호스트-키-변경-경고" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="호스트-키-변경-경고"><span class="header-section-number">7.4</span> 호스트 키 변경 경고</h3>
<p><strong>증상:</strong></p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb19-1">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  </span>
<span id="cb19-2">@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @  </span>
<span id="cb19-3">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  </span></code></pre></div>
<p><strong>원인:</strong><br>
- VM을 재생성하여 SSH 호스트 키가 변경됨<br>
- 동일 IP 주소에 다른 VM이 배포됨<br>
- 중간자 공격(Man-in-the-Middle Attack) 가능성</p>
<p><strong>해결책 (안전한 경우):</strong><br>
<code>~/.ssh/known_hosts</code> 파일에서 해당 IP의 항목 삭제</p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> 20.196.144.16  </span></code></pre></div>
<p>또는 직접 파일 편집하여 해당 줄 삭제</p>
<p><strong>주의:</strong><br>
보안 위협이 의심되는 경우 네트워크 관리자에게 문의한다.</p>
</section>
<section id="느린-파일-동기화" class="level3" data-number="7.5">
<h3 data-number="7.5" class="anchored" data-anchor-id="느린-파일-동기화"><span class="header-section-number">7.5</span> 느린 파일 동기화</h3>
<p><strong>원인: 대용량 파일 또는 많은 파일이 있는 프로젝트</strong></p>
<p><strong>해결책 1: <code>.gitignore</code> 또는 <code>.remoteignore</code> 사용</strong><br>
불필요한 파일을 원격 동기화에서 제외</p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb21-1"># .remoteignore 파일 생성  </span>
<span id="cb21-2">node_modules/  </span>
<span id="cb21-3">.git/  </span>
<span id="cb21-4">__pycache__/  </span>
<span id="cb21-5">*.pyc  </span>
<span id="cb21-6">.venv/  </span>
<span id="cb21-7">data/  </span></code></pre></div>
<p><strong>해결책 2: 파일 감시(Watcher) 제한</strong><br>
VS Code 설정에서 파일 감시 제한</p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span>  </span>
<span id="cb22-2">  <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"files.watcherExclude"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">{</span>  </span>
<span id="cb22-3">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"**/.git/objects/**"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>  </span>
<span id="cb22-4">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"**/node_modules/**"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">,</span>  </span>
<span id="cb22-5">    <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">"**/.venv/**"</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">:</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">true</span>  </span>
<span id="cb22-6">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span>  </span>
<span id="cb22-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">}</span>  </span></code></pre></div>
<hr>
</section>
</section>
<section id="보안-모범-사례" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="보안-모범-사례"><span class="header-section-number">8</span> 보안 모범 사례</h2>
<section id="ssh-키-관리" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="ssh-키-관리"><span class="header-section-number">8.1</span> SSH 키 관리</h3>
<p><strong>원칙:</strong><br>
- 개인키는 절대 공유하지 않음<br>
- 개인키 파일은 소유자만 읽기 가능한 권한(600) 설정<br>
- 암호구문(Passphrase)으로 개인키 보호<br>
- 정기적으로 키 순환(Rotation)</p>
<p><strong>키 생성 시 암호구문 설정:</strong></p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> ed25519 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-C</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your_email@example.com"</span>  </span>
<span id="cb23-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Enter passphrase: ********  </span></span>
<span id="cb23-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Enter same passphrase again: ********  </span></span></code></pre></div>
<p><strong>암호구문의 장점:</strong><br>
- 개인키 파일이 유출되어도 암호구문 없이는 사용 불가<br>
- 추가 보안 계층 제공</p>
</section>
<section id="방화벽-규칙-최소화" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="방화벽-규칙-최소화"><span class="header-section-number">8.2</span> 방화벽 규칙 최소화</h3>
<p><strong>원칙: 최소 권한(Least Privilege)</strong></p>
<p><strong>SSH 포트(22) 접근 제한:</strong><br>
- 특정 IP 주소 또는 IP 범위만 허용<br>
- 전체 인터넷(<code>0.0.0.0/0</code>)에 SSH 포트 개방 지양</p>
<p><strong>Azure NSG 규칙 예시:</strong></p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 IP에서만 SSH 접속 허용  </span></span>
<span id="cb24-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">az</span> network nsg rule create <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name</span> AllowSSHFromMyIP <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb24-3">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--nsg-name</span> my-nsg <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--resource-group</span> my-rg <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb24-4">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--priority</span> 1000 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--source-address-prefixes</span> 203.0.113.10/32 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb24-5">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--destination-port-ranges</span> 22 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--access</span> Allow <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--protocol</span> Tcp  </span></code></pre></div>
<p><strong>AWS Security Group 규칙 예시:</strong></p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">aws</span> ec2 authorize-security-group-ingress <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb25-2">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--group-id</span> sg-0123456789abcdef0 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb25-3">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--protocol</span> tcp <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--port</span> 22 <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb25-4">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">--cidr</span> 203.0.113.10/32  </span></code></pre></div>
</section>
<section id="비밀번호-인증-비활성화" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="비밀번호-인증-비활성화"><span class="header-section-number">8.3</span> 비밀번호 인증 비활성화</h3>
<p>SSH 키 인증만 허용하여 무차별 대입 공격 방지</p>
<p><strong>VM의 SSH 설정 파일 편집:</strong></p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> vi /etc/ssh/sshd_config  </span></code></pre></div>
<p><strong>설정 변경:</strong></p>
<div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb27-1">PasswordAuthentication no  </span>
<span id="cb27-2">PubkeyAuthentication yes  </span></code></pre></div>
<p><strong>SSH 서비스 재시작:</strong></p>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl restart sshd  </span></code></pre></div>
</section>
<section id="로그-모니터링" class="level3" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="로그-모니터링"><span class="header-section-number">8.4</span> 로그 모니터링</h3>
<p><strong>SSH 접속 로그 확인:</strong></p>
<div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 최근 로그인 기록  </span></span>
<span id="cb29-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">last</span>  </span>
<span id="cb29-3"></span>
<span id="cb29-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 실패한 로그인 시도  </span></span>
<span id="cb29-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> grep <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Failed password"</span> /var/log/auth.log  </span>
<span id="cb29-6"></span>
<span id="cb29-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 성공한 SSH 접속  </span></span>
<span id="cb29-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> grep <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Accepted publickey"</span> /var/log/auth.log  </span></code></pre></div>
<p><strong>비정상 접속 시도 감지:</strong><br>
- 알려지지 않은 IP에서의 반복 접속 시도<br>
- 존재하지 않는 사용자명으로의 접속 시도<br>
- 짧은 시간 내 다수의 실패한 인증</p>
<p><strong>자동 차단 도구:</strong><br>
- <strong>Fail2Ban</strong>: 반복적인 실패 시도를 자동 차단<br>
- <strong>DenyHosts</strong>: SSH 무차별 대입 공격 방어</p>
<hr>
</section>
</section>
<section id="고급-주제" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="고급-주제"><span class="header-section-number">9</span> 고급 주제</h2>
<section id="포트-포워딩을-통한-데이터베이스-접속" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="포트-포워딩을-통한-데이터베이스-접속"><span class="header-section-number">9.1</span> 포트 포워딩을 통한 데이터베이스 접속</h3>
<p>로컬 클라이언트로 원격 VM의 데이터베이스에 접속한다.</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb30-1">Host db-vm  </span>
<span id="cb30-2">    HostName 20.196.144.16  </span>
<span id="cb30-3">    User ubuntu  </span>
<span id="cb30-4">    IdentityFile ~/.ssh/db_key.pem  </span>
<span id="cb30-5">    LocalForward 5432 localhost:5432  </span></code></pre></div>
<p><strong>접속 후:</strong><br>
로컬 PC에서 <code>localhost:5432</code>로 PostgreSQL에 접속하면 VM의 데이터베이스에 연결된다.</p>
<div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">psql</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-h</span> localhost <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> 5432 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-U</span> dbuser <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-d</span> mydb  </span></code></pre></div>
<p><strong>VS Code에서 동적 포트 포워딩:</strong><br>
1. Remote SSH 접속 후 <code>Ctrl+Shift+P</code><br>
2. <code>Forward a Port</code> 선택<br>
3. 포트 번호 입력 (예: <code>5432</code>)<br>
4. 로컬 애플리케이션에서 <code>localhost:5432</code> 사용</p>
</section>
<section id="proxyjump를-통한-내부-네트워크-접속" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="proxyjump를-통한-내부-네트워크-접속"><span class="header-section-number">9.2</span> ProxyJump를 통한 내부 네트워크 접속</h3>
<p><strong>시나리오:</strong><br>
내부 VM은 Private IP만 있고 Bastion Host를 통해서만 접근 가능</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb32-1"># Bastion Host  </span>
<span id="cb32-2">Host bastion  </span>
<span id="cb32-3">    HostName 40.100.50.20  </span>
<span id="cb32-4">    User bastion-user  </span>
<span id="cb32-5">    IdentityFile ~/.ssh/bastion_key.pem  </span>
<span id="cb32-6"></span>
<span id="cb32-7"># 내부 VM (Private IP)  </span>
<span id="cb32-8">Host internal-app  </span>
<span id="cb32-9">    HostName 10.0.5.10  </span>
<span id="cb32-10">    User appuser  </span>
<span id="cb32-11">    IdentityFile ~/.ssh/internal_key.pem  </span>
<span id="cb32-12">    ProxyJump bastion  </span></code></pre></div>
<p><strong>작동 원리:</strong><br>
1. 로컬 → Bastion Host SSH 접속<br>
2. Bastion Host → 내부 VM SSH 접속<br>
3. 로컬 VS Code는 투명하게 내부 VM에 접속</p>
</section>
<section id="멀티홉-ssh-다단계-접속" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="멀티홉-ssh-다단계-접속"><span class="header-section-number">9.3</span> 멀티홉 SSH (다단계 접속)</h3>
<p><strong>시나리오:</strong><br>
Bastion Host → Jump Server → Target VM 순으로 접속</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb33-1">Host bastion  </span>
<span id="cb33-2">    HostName 40.100.50.20  </span>
<span id="cb33-3">    User bastion-user  </span>
<span id="cb33-4">    IdentityFile ~/.ssh/bastion_key.pem  </span>
<span id="cb33-5"></span>
<span id="cb33-6">Host jump-server  </span>
<span id="cb33-7">    HostName 10.0.1.100  </span>
<span id="cb33-8">    User jump-user  </span>
<span id="cb33-9">    IdentityFile ~/.ssh/jump_key.pem  </span>
<span id="cb33-10">    ProxyJump bastion  </span>
<span id="cb33-11"></span>
<span id="cb33-12">Host target-vm  </span>
<span id="cb33-13">    HostName 10.0.2.50  </span>
<span id="cb33-14">    User vmuser  </span>
<span id="cb33-15">    IdentityFile ~/.ssh/vm_key.pem  </span>
<span id="cb33-16">    ProxyJump jump-server  </span></code></pre></div>
<p><strong>접속:</strong></p>
<div class="sourceCode" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> target-vm  </span></code></pre></div>
<p>자동으로 bastion → jump-server → target-vm 순으로 연결</p>
</section>
<section id="ssh-agent-forwarding" class="level3" data-number="9.4">
<h3 data-number="9.4" class="anchored" data-anchor-id="ssh-agent-forwarding"><span class="header-section-number">9.4</span> SSH Agent Forwarding</h3>
<p><strong>개념:</strong><br>
로컬의 SSH 키를 원격 서버에서도 사용 (키 파일을 서버에 복사하지 않음)</p>
<p><strong>Config 파일 설정:</strong></p>
<div class="sourceCode" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode numberSource text number-lines code-with-copy"><code class="sourceCode"><span id="cb35-1">Host dev-server  </span>
<span id="cb35-2">    HostName 20.196.144.16  </span>
<span id="cb35-3">    User ubuntu  </span>
<span id="cb35-4">    ForwardAgent yes  </span></code></pre></div>
<p><strong>활용 사례:</strong><br>
1. VM에 SSH 접속<br>
2. VM에서 다시 GitHub에 SSH 접속 (로컬의 GitHub SSH 키 사용)<br>
3. 키 파일을 VM에 복사할 필요 없음</p>
<p><strong>보안 주의:</strong><br>
신뢰할 수 없는 서버에는 Agent Forwarding 사용하지 않는다.</p>
<hr>
</section>
</section>
<section id="결론" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="결론"><span class="header-section-number">10</span> 결론</h2>
<p><strong>Remote SSH 개발 환경의 핵심 가치:</strong><br>
- 로컬 편집기의 편의성 + 원격 서버의 성능<br>
- 환경 불일치 문제 제거<br>
- 즉각적인 피드백과 생산성 향상</p>
<p><strong>구축 핵심 단계:</strong><br>
1. VM의 Public IP, 사용자명, SSH 키 확인<br>
2. SSH Config 파일에 접속 정보 등록<br>
3. VS Code Remote SSH로 접속<br>
4. 원격 폴더 열기 및 개발 시작</p>
<p><strong>실무 적용 권장사항:</strong><br>
- SSH 키 인증 사용 (비밀번호 인증 지양)<br>
- 방화벽 규칙으로 접근 IP 제한<br>
- ServerAliveInterval로 연결 안정성 확보<br>
- 포트 포워딩으로 데이터베이스, 웹 서버 접근<br>
- 여러 VM을 Config 파일로 체계적으로 관리</p>
<p><strong>보안 원칙:</strong><br>
- SSH 키 파일 권한 600 설정<br>
- 개인키에 암호구문 설정<br>
- 정기적인 접속 로그 모니터링<br>
- Fail2Ban 등 자동 차단 도구 활용</p>
<p>Remote SSH는 클라우드 시대 개발자의 필수 도구이며,<br>
올바른 설정과 보안 원칙을 따르면 안전하고 효율적인 개발 환경을 구축할 수 있다.</p>


</section>

 ]]></description>
  <category>Engineering</category>
  <category>Infrastructure</category>
  <category>Security</category>
  <category>DevOps</category>
  <category>Cloud</category>
  <category>Remote Development</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Security/1-ssh-remote.html</guid>
  <pubDate>Wed, 10 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>전략 분석 이론 체계</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Strategy_Frameworks/analysis_theory.html</link>
  <description><![CDATA[ 





<section id="배경" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="배경"><span class="header-section-number">1</span> 배경</h2>
<p><strong>전략 분석 이론</strong>은 복잡한 의사결정과 전략적 상호작용을 구조적으로 이해하고 최적화하기 위한 학문적 프레임워크다.<br>
게임 이론은 추론의 한 종류가 아니라, 전략적 상황을 분석하는 수학·경제학적 이론 체계이며,<br>
다양한 추론 방식(연역·귀납·가추적 등)과 함께 사용된다.</p>
<p><strong>전략 분석 이론이 중요한 이유:</strong><br>
- 복잡한 상호작용 환경에서 최적 전략 도출<br>
- 불확실성 하의 의사결정 체계화<br>
- AI 에이전트 시스템 설계의 이론적 기반<br>
- 비즈니스 전략과 정책 설계의 핵심 도구</p>
</section>
<section id="게임-이론game-theory" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="게임-이론game-theory"><span class="header-section-number">2</span> 게임 이론(Game Theory)</h2>
<section id="정의" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="정의"><span class="header-section-number">2.1</span> 정의</h3>
<p><strong>서로 영향을 주고받는 의사결정자(플레이어)들이 어떤 선택을 할 때 최적 전략을 찾는 이론.</strong><br>
경제학, 경영전략, AI, 정치학, 군사전략까지 다양한 분야에서 활용된다.</p>
</section>
<section id="대표-요소" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="대표-요소"><span class="header-section-number">2.2</span> 대표 요소</h3>
<ol type="1">
<li><strong>플레이어(Players)</strong>: 의사결정 주체<br>
</li>
<li><strong>전략(Strategies)</strong>: 선택 가능한 행동<br>
</li>
<li><strong>보수(Payoff)</strong>: 각 전략 조합의 결과<br>
</li>
<li><strong>균형(Equilibrium)</strong>: 특히 내시균형(Nash Equilibrium)이 핵심</li>
</ol>
</section>
<section id="게임-이론이-다루는-문제" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="게임-이론이-다루는-문제"><span class="header-section-number">2.3</span> 게임 이론이 다루는 문제</h3>
<p><strong>전략적 상호작용 분석:</strong><br>
- 경쟁사와 가격을 어떻게 설정할 것인가<br>
- 협상에서 어떤 제안을 해야 유리한가<br>
- 전쟁/갈등 상황에서 상대국이 어떤 대응을 할 것인가<br>
- 기업 간 생산량을 어떻게 조절할 것인가 (Cournot 모델)</p>
<p>핵심은 <strong>상대도 나처럼 이기려고 움직인다</strong>는 점을 구조적으로 반영한다는 것이다.</p>
</section>
<section id="추론-방법론과의-관계" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="추론-방법론과의-관계"><span class="header-section-number">2.4</span> 추론 방법론과의 관계</h3>
<p>게임 이론 자체는 <strong>이론 체계</strong>이며, 그 안에서 다양한 <strong>추론 방식</strong>이 함께 사용된다.</p>
<p><strong>연역적 추론과의 관계:</strong><br>
- 전략 프로필 설정 → 각 전략의 보수 분석 → 논리적으로 최적 전략 도출<br>
- 내시균형은 연역적 추론 구조를 가짐</p>
<p><strong>귀납적 추론과의 관계:</strong><br>
- 반복 게임에서 과거 행동 패턴 관찰 → 상대의 다음 전략 예측</p>
<p><strong>가추적 추론과의 관계:</strong><br>
- 상대의 행동 관찰 → “왜 그 행동을 했을까?” 최적 설명 가설 수립</p>
<p>즉, 게임 이론은 <strong>독립된 추론 유형이 아니라</strong>, 추론을 <strong>전략적 상황에 적용할 때 사용하는 학문적·수학적 프레임워크</strong>다.</p>
</section>
<section id="활용-목적" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="활용-목적"><span class="header-section-number">2.5</span> 활용 목적</h3>
<ol type="1">
<li><strong>전략적 의사결정 최적화</strong>: 경쟁사 대응, 가격 결정, 공급량 전략<br>
</li>
<li><strong>협상·계약 설계</strong>: Nash bargaining, Principal-Agent 문제<br>
</li>
<li><strong>정책·제도 설계</strong>: 경매 제도, 시장 설계<br>
</li>
<li><strong>AI 에이전트 상호작용 모델링</strong>: 멀티 에이전트 강화학습(MARL), 신호 게임 기반 의사결정<br>
</li>
<li><strong>분쟁·갈등 해결</strong>: 군사전략, 외교전략 모델링</li>
</ol>
</section>
<section id="근거" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="근거"><span class="header-section-number">2.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Game Theory<br>
<a href="https://plato.stanford.edu/entries/game-theory/">https://plato.stanford.edu/entries/game-theory/</a></li>
</ul>
<hr>
</section>
</section>
<section id="의사결정-이론decision-theory" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="의사결정-이론decision-theory"><span class="header-section-number">3</span> 의사결정 이론(Decision Theory)</h2>
<section id="정의-1" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="정의-1"><span class="header-section-number">3.1</span> 정의</h3>
<p><strong>개인이 불확실한 상황에서 선택을 최적화하는 방법을 연구하는 체계.</strong><br>
게임 이론이 “상호작용”을 다룬다면, 의사결정 이론은 “단독 의사결정자”에 집중한다.</p>
</section>
<section id="주요-이론" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="주요-이론"><span class="header-section-number">3.2</span> 주요 이론</h3>
<p><strong>기대효용이론(Expected Utility Theory):</strong><br>
- 불확실성 하에서 기댓값을 최대화하는 선택<br>
- 합리적 의사결정의 규범적 모델</p>
<p><strong>프로스펙트 이론(Prospect Theory):</strong><br>
- Kahneman &amp; Tversky (1979)<br>
- 실제 인간의 의사결정은 손실회피, 참조점 의존성 등 심리적 요인에 영향받음<br>
- 기술적(descriptive) 모델</p>
</section>
<section id="활용-분야" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="활용-분야"><span class="header-section-number">3.3</span> 활용 분야</h3>
<ul>
<li>금융 투자 의사결정<br>
</li>
<li>정책 결정<br>
</li>
<li>위험 관리<br>
</li>
<li>개인 포트폴리오 최적화</li>
</ul>
</section>
<section id="근거-1" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="근거-1"><span class="header-section-number">3.4</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Normative Utility Theory<br>
<a href="https://plato.stanford.edu/entries/rationality-normative-utility/">https://plato.stanford.edu/entries/rationality-normative-utility/</a></li>
</ul>
<hr>
</section>
</section>
<section id="행동경제학behavioral-economics" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="행동경제학behavioral-economics"><span class="header-section-number">4</span> 행동경제학(Behavioral Economics)</h2>
<section id="정의-2" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="정의-2"><span class="header-section-number">4.1</span> 정의</h3>
<p><strong>경제적 의사결정이 실제 사람의 심리, 편향, 휴리스틱의 영향을 어떻게 받는지를 분석하는 이론 체계.</strong></p>
</section>
<section id="핵심-아이디어" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="핵심-아이디어"><span class="header-section-number">4.2</span> 핵심 아이디어</h3>
<ul>
<li>인간은 항상 합리적이지 않다<br>
</li>
<li>손실회피(Loss Aversion): 손실의 고통 &gt; 이득의 기쁨<br>
</li>
<li>프레이밍 효과(Framing Effect): 동일한 선택도 표현 방식에 따라 다르게 평가<br>
</li>
<li>앵커링(Anchoring): 초기 정보가 이후 판단에 과도한 영향<br>
</li>
<li>확증편향(Confirmation Bias): 기존 믿음을 확인하는 정보만 선택적으로 수용</li>
</ul>
</section>
<section id="실무-적용" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="실무-적용"><span class="header-section-number">4.3</span> 실무 적용</h3>
<ul>
<li>넛지(Nudge) 정책 설계<br>
</li>
<li>마케팅 전략 (가격 프레이밍, 디폴트 옵션 설정)<br>
</li>
<li>UI/UX 설계 (선택 아키텍처)<br>
</li>
<li>금융 상품 설계</li>
</ul>
</section>
<section id="근거-2" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="근거-2"><span class="header-section-number">4.4</span> 근거</h3>
<ul>
<li>Kahneman &amp; Tversky (1979). Prospect Theory: An Analysis of Decision under Risk<br>
<a href="https://www.jstor.org/stable/1914185">https://www.jstor.org/stable/1914185</a></li>
</ul>
<hr>
</section>
</section>
<section id="정보-이론information-theory" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="정보-이론information-theory"><span class="header-section-number">5</span> 정보 이론(Information Theory)</h2>
<section id="정의-3" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="정의-3"><span class="header-section-number">5.1</span> 정의</h3>
<p><strong>불확실성을 정량화하고, 정보가 의사결정에 어떤 영향을 주는지를 분석하는 체계.</strong><br>
게임 이론과 결합해 <strong>신호 게임(Signaling Game)</strong> 같은 모델로 발전한다.</p>
</section>
<section id="핵심-개념" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="핵심-개념"><span class="header-section-number">5.2</span> 핵심 개념</h3>
<ul>
<li><strong>엔트로피(Entropy)</strong>: 불확실성의 양을 측정<br>
</li>
<li><strong>정보량(Information Content)</strong>: 사건 발생으로 줄어드는 불확실성<br>
</li>
<li><strong>상호정보(Mutual Information)</strong>: 두 변수 간 의존성 측정</li>
</ul>
</section>
<section id="활용-분야-1" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="활용-분야-1"><span class="header-section-number">5.3</span> 활용 분야</h3>
<ul>
<li>통신 시스템 설계<br>
</li>
<li>데이터 압축<br>
</li>
<li>머신러닝 (정보 이득 기반 특징 선택)<br>
</li>
<li>신호 게임 모델링 (정보 비대칭 상황)</li>
</ul>
</section>
<section id="근거-3" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="근거-3"><span class="header-section-number">5.4</span> 근거</h3>
<ul>
<li>Shannon, C. E. (1948). A Mathematical Theory of Communication<br>
<a href="https://people.math.harvard.edu/~ctm/home/text/books/shannon/shannon.pdf">https://people.math.harvard.edu/~ctm/home/text/books/shannon/shannon.pdf</a></li>
</ul>
<hr>
</section>
</section>
<section id="계약-이론contract-theory" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="계약-이론contract-theory"><span class="header-section-number">6</span> 계약 이론(Contract Theory)</h2>
<section id="정의-4" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="정의-4"><span class="header-section-number">6.1</span> 정의</h3>
<p><strong>정보 비대칭 환경에서 경제 주체들이 서로 어떤 계약을 설계해야 하는가를 분석하는 이론.</strong><br>
기업·정부·노동·금융 분야에서 필수적인 도구다.</p>
</section>
<section id="대표-개념" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="대표-개념"><span class="header-section-number">6.2</span> 대표 개념</h3>
<p><strong>주인-대리인 문제(Principal-Agent Problem):</strong><br>
- 주인(고용주)과 대리인(근로자) 간 이해 불일치<br>
- 정보 비대칭으로 인한 도덕적 해이(Moral Hazard)</p>
<p><strong>인센티브 설계:</strong><br>
- 대리인의 행동을 주인의 목표에 맞게 유도<br>
- 성과급, 스톡옵션 등</p>
<p><strong>역선택(Adverse Selection):</strong><br>
- 계약 전 정보 비대칭 (예: 중고차 시장의 레몬 문제)</p>
</section>
<section id="활용-분야-2" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="활용-분야-2"><span class="header-section-number">6.3</span> 활용 분야</h3>
<ul>
<li>임금 계약 설계<br>
</li>
<li>보험 상품 설계<br>
</li>
<li>기업 지배구조<br>
</li>
<li>정부 규제 정책</li>
</ul>
</section>
<section id="근거-4" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="근거-4"><span class="header-section-number">6.4</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Contractualism<br>
<a href="https://plato.stanford.edu/entries/contractualism/">https://plato.stanford.edu/entries/contractualism/</a></li>
</ul>
<hr>
</section>
</section>
<section id="메커니즘-디자인mechanism-design" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="메커니즘-디자인mechanism-design"><span class="header-section-number">7</span> 메커니즘 디자인(Mechanism Design)</h2>
<section id="정의-5" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="정의-5"><span class="header-section-number">7.1</span> 정의</h3>
<p><strong>게임 이론의 역문제(Reverse Engineering).</strong><br>
“참여자들이 어떤 전략을 취하더라도 원하는 결과가 나오게 하는 제도 설계 이론.”</p>
</section>
<section id="핵심-아이디어-1" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="핵심-아이디어-1"><span class="header-section-number">7.2</span> 핵심 아이디어</h3>
<ul>
<li>목표(사회적 최적 결과)를 먼저 설정<br>
</li>
<li>참여자들의 개인 합리성을 고려해 규칙 설계<br>
</li>
<li>인센티브 호환성(Incentive Compatibility) 확보</li>
</ul>
</section>
<section id="대표-사례" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="대표-사례"><span class="header-section-number">7.3</span> 대표 사례</h3>
<p><strong>경매 설계:</strong><br>
- Vickrey 경매 (2등 가격 경매)<br>
- 구글 광고 경매 (Generalized Second-Price Auction)</p>
<p><strong>시장 설계:</strong><br>
- 학교 배정 알고리즘 (Deferred Acceptance)<br>
- 장기이식 매칭 시스템</p>
</section>
<section id="활용-분야-3" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="활용-분야-3"><span class="header-section-number">7.4</span> 활용 분야</h3>
<ul>
<li>온라인 광고 경매<br>
</li>
<li>공공재 배분<br>
</li>
<li>선거 제도 설계<br>
</li>
<li>탄소배출권 거래 시장</li>
</ul>
</section>
<section id="근거-5" class="level3" data-number="7.5">
<h3 data-number="7.5" class="anchored" data-anchor-id="근거-5"><span class="header-section-number">7.5</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Mechanism Design<br>
<a href="https://plato.stanford.edu/entries/mechanism-design/">https://plato.stanford.edu/entries/mechanism-design/</a></li>
</ul>
<hr>
</section>
</section>
<section id="시스템-다이내믹스system-dynamics" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="시스템-다이내믹스system-dynamics"><span class="header-section-number">8</span> 시스템 다이내믹스(System Dynamics)</h2>
<section id="정의-6" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="정의-6"><span class="header-section-number">8.1</span> 정의</h3>
<p><strong>피드백 구조를 가진 복잡한 시스템(정책, 조직, 산업)을 시간에 따라 분석하는 이론.</strong><br>
Jay Forrester가 1950년대 MIT에서 개발했다.</p>
</section>
<section id="주요-개념" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="주요-개념"><span class="header-section-number">8.2</span> 주요 개념</h3>
<p><strong>강화 루프(Reinforcing Loop):</strong><br>
- 양의 피드백: 변화가 자기 자신을 증폭<br>
- 예: 인구 증가, 기술 혁신의 선순환</p>
<p><strong>균형 루프(Balancing Loop):</strong><br>
- 음의 피드백: 목표값으로 수렴<br>
- 예: 온도 조절 시스템, 재고 관리</p>
<p><strong>지연(Delay):</strong><br>
- 행동과 결과 사이의 시간차<br>
- 정책 오버슈팅의 주요 원인</p>
</section>
<section id="활용-분야-4" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="활용-분야-4"><span class="header-section-number">8.3</span> 활용 분야</h3>
<ul>
<li>정책 시뮬레이션 (기후 정책, 경제 정책)<br>
</li>
<li>공급망 관리<br>
</li>
<li>조직 학습과 변화 관리<br>
</li>
<li>동태적 복잡성 분석</li>
</ul>
</section>
<section id="근거-6" class="level3" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="근거-6"><span class="header-section-number">8.4</span> 근거</h3>
<ul>
<li>Forrester, J. W. (1961). Industrial Dynamics<br>
<a href="https://dspace.mit.edu/handle/1721.1/1028">https://dspace.mit.edu/handle/1721.1/1028</a></li>
</ul>
<hr>
</section>
</section>
<section id="시나리오-플래닝scenario-planning" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="시나리오-플래닝scenario-planning"><span class="header-section-number">9</span> 시나리오 플래닝(Scenario Planning)</h2>
<section id="정의-7" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="정의-7"><span class="header-section-number">9.1</span> 정의</h3>
<p><strong>불확실한 미래 상황을 여러 시나리오로 만들어 분석하고 대응 전략을 개발하는 체계.</strong><br>
쉘(Shell)의 전략 기획으로 유명해졌다.</p>
</section>
<section id="주요-프로세스" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="주요-프로세스"><span class="header-section-number">9.2</span> 주요 프로세스</h3>
<ol type="1">
<li><strong>핵심 불확실성 식별</strong>: 미래에 큰 영향을 미치는 불확실 요인<br>
</li>
<li><strong>시나리오 구성</strong>: 2-4개의 그럴듯한 미래 상황 설정<br>
</li>
<li><strong>영향 분석</strong>: 각 시나리오에서 조직에 미치는 영향 평가<br>
</li>
<li><strong>전략 개발</strong>: 여러 시나리오에서 강건한(Robust) 전략 도출</li>
</ol>
</section>
<section id="도구" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="도구"><span class="header-section-number">9.3</span> 도구</h3>
<ul>
<li><strong>인과지도(Causal Map)</strong>: 변수 간 인과관계 시각화<br>
</li>
<li><strong>PESTEL 분석</strong>: 정치·경제·사회·기술·환경·법률 요인 분석<br>
</li>
<li><strong>메가트렌드 분석</strong>: 장기적 구조적 변화 파악</li>
</ul>
</section>
<section id="활용-분야-5" class="level3" data-number="9.4">
<h3 data-number="9.4" class="anchored" data-anchor-id="활용-분야-5"><span class="header-section-number">9.4</span> 활용 분야</h3>
<ul>
<li>기업 장기 전략 수립<br>
</li>
<li>국가 미래 정책 설계<br>
</li>
<li>리스크 관리<br>
</li>
<li>기술 로드맵 작성</li>
</ul>
</section>
<section id="근거-7" class="level3" data-number="9.5">
<h3 data-number="9.5" class="anchored" data-anchor-id="근거-7"><span class="header-section-number">9.5</span> 근거</h3>
<ul>
<li>Schoemaker, P. J. H. (1995). Scenario Planning: A Tool for Strategic Thinking<br>
<a href="https://www.jstor.org/stable/2507040">https://www.jstor.org/stable/2507040</a></li>
</ul>
<hr>
</section>
</section>
<section id="위험-분석risk-analysis" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="위험-분석risk-analysis"><span class="header-section-number">10</span> 위험 분석(Risk Analysis)</h2>
<section id="정의-8" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="정의-8"><span class="header-section-number">10.1</span> 정의</h3>
<p><strong>확률적 위험을 정량화하고, 최적 대응 전략을 찾는 체계.</strong></p>
</section>
<section id="주요-도구" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="주요-도구"><span class="header-section-number">10.2</span> 주요 도구</h3>
<p><strong>민감도 분석(Sensitivity Analysis):</strong><br>
- 입력 변수 변화에 따른 결과 변화 분석</p>
<p><strong>확률 모형(Probability Models):</strong><br>
- 몬테카를로 시뮬레이션<br>
- 의사결정 나무</p>
<p><strong>위험 매트릭스(Risk Matrix):</strong><br>
- 발생 확률 × 영향도로 위험 우선순위 결정</p>
</section>
<section id="활용-분야-6" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="활용-분야-6"><span class="header-section-number">10.3</span> 활용 분야</h3>
<ul>
<li>금융 리스크 관리 (VaR, CVaR)<br>
</li>
<li>프로젝트 리스크 관리<br>
</li>
<li>보험 상품 설계<br>
</li>
<li>재난 대비 계획</li>
</ul>
<hr>
</section>
</section>
<section id="사회-선택-이론social-choice-theory" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="사회-선택-이론social-choice-theory"><span class="header-section-number">11</span> 사회 선택 이론(Social Choice Theory)</h2>
<section id="정의-9" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="정의-9"><span class="header-section-number">11.1</span> 정의</h3>
<p><strong>집단 의사결정과 투표 제도의 수학적 분석.</strong><br>
Kenneth Arrow의 불가능성 정리(Impossibility Theorem)로 유명하다.</p>
</section>
<section id="arrow의-불가능성-정리" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="arrow의-불가능성-정리"><span class="header-section-number">11.2</span> Arrow의 불가능성 정리</h3>
<p>다음 조건을 모두 만족하는 사회 선택 함수는 존재하지 않는다:<br>
1. 비독재성(Non-dictatorship)<br>
2. 파레토 효율성(Pareto Efficiency)<br>
3. 무관한 대안으로부터의 독립성(IIA)<br>
4. 전역성(Universality)</p>
</section>
<section id="활용-분야-7" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="활용-분야-7"><span class="header-section-number">11.3</span> 활용 분야</h3>
<ul>
<li>선거 제도 설계<br>
</li>
<li>조직 의사결정 시스템<br>
</li>
<li>공공 정책 평가<br>
</li>
<li>집단 선호 집계</li>
</ul>
</section>
<section id="근거-8" class="level3" data-number="11.4">
<h3 data-number="11.4" class="anchored" data-anchor-id="근거-8"><span class="header-section-number">11.4</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Social Choice Theory<br>
<a href="https://plato.stanford.edu/entries/social-choice/">https://plato.stanford.edu/entries/social-choice/</a></li>
</ul>
<hr>
</section>
</section>
<section id="협상-이론negotiation-theory" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="협상-이론negotiation-theory"><span class="header-section-number">12</span> 협상 이론(Negotiation Theory)</h2>
<section id="정의-10" class="level3" data-number="12.1">
<h3 data-number="12.1" class="anchored" data-anchor-id="정의-10"><span class="header-section-number">12.1</span> 정의</h3>
<p><strong>둘 이상의 당사자가 상호 이익을 위해 합의점을 찾는 과정을 분석하는 이론.</strong></p>
</section>
<section id="nash-bargaining-solution" class="level3" data-number="12.2">
<h3 data-number="12.2" class="anchored" data-anchor-id="nash-bargaining-solution"><span class="header-section-number">12.2</span> Nash Bargaining Solution</h3>
<p><strong>공정한 협상의 수학적 모델:</strong><br>
- 개별 합리성(Individual Rationality): 협상 이탈 시보다 나은 결과<br>
- 파레토 효율성: 더 개선할 여지가 없음<br>
- 대칭성(Symmetry): 동등한 협상력 시 동등한 결과<br>
- IIA: 무관한 대안의 추가/제거가 결과에 영향 없음</p>
</section>
<section id="협상-전략" class="level3" data-number="12.3">
<h3 data-number="12.3" class="anchored" data-anchor-id="협상-전략"><span class="header-section-number">12.3</span> 협상 전략</h3>
<p><strong>분배적 협상(Distributive Negotiation):</strong><br>
- 제로섬 게임 (한쪽이 얻으면 다른 쪽이 잃음)<br>
- 가격 협상</p>
<p><strong>통합적 협상(Integrative Negotiation):</strong><br>
- 윈-윈 해결책 탐색<br>
- 이슈 간 거래(Trade-off)를 통한 가치 창출</p>
</section>
<section id="활용-분야-8" class="level3" data-number="12.4">
<h3 data-number="12.4" class="anchored" data-anchor-id="활용-분야-8"><span class="header-section-number">12.4</span> 활용 분야</h3>
<ul>
<li>비즈니스 계약 협상<br>
</li>
<li>노사 협상<br>
</li>
<li>국제 외교<br>
</li>
<li>분쟁 조정</li>
</ul>
<hr>
</section>
</section>
<section id="이론-간-비교표" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="이론-간-비교표"><span class="header-section-number">13</span> 이론 간 비교표</h2>
<table class="table">
<colgroup>
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 33%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>이론</th>
<th>초점</th>
<th>주요 질문</th>
<th>대표 개념</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>게임 이론</td>
<td>전략적 상호작용</td>
<td>상대가 합리적일 때 최적 전략은?</td>
<td>내시균형</td>
</tr>
<tr class="even">
<td>의사결정 이론</td>
<td>개인 선택</td>
<td>불확실성 하에서 어떻게 선택?</td>
<td>기대효용</td>
</tr>
<tr class="odd">
<td>행동경제학</td>
<td>심리적 편향</td>
<td>실제 사람은 어떻게 결정?</td>
<td>손실회피</td>
</tr>
<tr class="even">
<td>정보 이론</td>
<td>불확실성 정량화</td>
<td>정보가 의사결정을 어떻게 바꾸나?</td>
<td>엔트로피</td>
</tr>
<tr class="odd">
<td>계약 이론</td>
<td>정보 비대칭</td>
<td>어떤 계약이 최선인가?</td>
<td>도덕적 해이</td>
</tr>
<tr class="even">
<td>메커니즘 디자인</td>
<td>제도 설계</td>
<td>원하는 결과를 유도하는 규칙은?</td>
<td>인센티브 호환성</td>
</tr>
<tr class="odd">
<td>시스템 다이내믹스</td>
<td>동적 복잡성</td>
<td>피드백이 시스템을 어떻게 변화?</td>
<td>강화/균형 루프</td>
</tr>
<tr class="even">
<td>시나리오 플래닝</td>
<td>미래 예측</td>
<td>가능한 미래는 무엇인가?</td>
<td>시나리오</td>
</tr>
<tr class="odd">
<td>위험 분석</td>
<td>리스크 관리</td>
<td>위험을 어떻게 정량화하나?</td>
<td>확률 분포</td>
</tr>
<tr class="even">
<td>사회 선택 이론</td>
<td>집단 의사결정</td>
<td>개인 선호를 어떻게 집계?</td>
<td>Arrow 불가능성</td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="통합-활용-추론게임-이론상황-분석의-결합" class="level2" data-number="14">
<h2 data-number="14" class="anchored" data-anchor-id="통합-활용-추론게임-이론상황-분석의-결합"><span class="header-section-number">14</span> 통합 활용: 추론·게임 이론·상황 분석의 결합</h2>
<section id="세-가지-축의-역할" class="level3" data-number="14.1">
<h3 data-number="14.1" class="anchored" data-anchor-id="세-가지-축의-역할"><span class="header-section-number">14.1</span> 세 가지 축의 역할</h3>
<p><strong>추론 체계 = 사고 엔진</strong><br>
- 문제 구조화, 원인 도출, 패턴 발견, 해결 검증<br>
- 어떤 분석 이론도 작동시키는 기초 엔진</p>
<p><strong>게임 이론 = 상호작용 전략 모델</strong><br>
- 상대의 합리성을 고려한 최적 전략 도출<br>
- 멀티 에이전트 환경의 핵심 프레임워크</p>
<p><strong>상황 분석 이론 = 환경·미래 모델</strong><br>
- 복잡한 환경의 구조 이해<br>
- 장기적 영향과 피드백 분석</p>
</section>
<section id="ai-에이전트-생태계-설계" class="level3" data-number="14.2">
<h3 data-number="14.2" class="anchored" data-anchor-id="ai-에이전트-생태계-설계"><span class="header-section-number">14.2</span> AI 에이전트 생태계 설계</h3>
<p><strong>추론:</strong><br>
- 문제 분해 (연역)<br>
- 데이터 기반 패턴 학습 (귀납)<br>
- 상황 설명 생성 (가추적)<br>
→ <strong>AI의 사고 구조 설계 엔진</strong></p>
<p><strong>게임 이론:</strong><br>
- 에이전트 간 협상<br>
- 리소스 할당 게임<br>
- 보상 기능 설계<br>
- 멀티 에이전트 협력·경쟁 모델링<br>
→ <strong>AI 에이전트들의 상호작용 규칙</strong></p>
<p><strong>상황 분석 이론:</strong><br>
- 에이전트 생태계가 작동하는 환경 모델링<br>
- 시뮬레이션 기반 정책 설정<br>
- 복잡한 피드백 루프 관리<br>
→ <strong>AI 에이전트가 움직이는 세계의 구조 설계</strong></p>
<p>즉, 이 세 가지를 합치면 “다수 에이전트가 전략적으로 움직이며 복잡한 환경에서 문제를 해결하는 생태계”를 설계하기 위한 완전한 구조가 된다.</p>
</section>
<section id="전략-기획에서의-통합" class="level3" data-number="14.3">
<h3 data-number="14.3" class="anchored" data-anchor-id="전략-기획에서의-통합"><span class="header-section-number">14.3</span> 전략 기획에서의 통합</h3>
<p><strong>추론 체계:</strong><br>
- 문제 정의<br>
- 원인-결과 구조화<br>
- 전략 옵션 생성<br>
- 리스크 분석</p>
<p><strong>게임 이론:</strong><br>
- 경쟁사 반응 예측<br>
- 협상 전략<br>
- 시장 구조 분석<br>
- 이해관계자 간 균형 도출</p>
<p><strong>상황 분석 이론:</strong><br>
- 시나리오 기반 미래 예측<br>
- 정책·전략 효과 시뮬레이션<br>
- 투자 우선순위 결정<br>
- 피드백 루프 분석</p>
<p>즉, 전략 기획자는 세 가지 축을 함께 사용해야 완전한 분석이 가능하다.</p>
<hr>
</section>
</section>
<section id="결론" class="level2" data-number="15">
<h2 data-number="15" class="anchored" data-anchor-id="결론"><span class="header-section-number">15</span> 결론</h2>
<p><strong>전략 분석 이론 체계의 통합적 이해:</strong><br>
- 게임 이론과 관련 이론들은 추론의 한 종류가 아니라 전략적 상황 분석의 수학적 프레임워크<br>
- 각 이론은 고유한 목적과 적용 영역을 가지며 상호 보완적<br>
- 추론 방법론, 게임 이론, 상황 분석 이론의 결합으로 완전한 전략 체계 구축 가능</p>
<p><strong>실무 적용 분야:</strong><br>
- AI 에이전트 생태계 설계<br>
- 전략 기획 및 정책 설계<br>
- 비즈니스 모델 설계<br>
- 조직 행동 분석<br>
- 리스크 분석<br>
- Agent-Based Simulation 기반 의사결정 자동화</p>
<p><strong>핵심 메시지:</strong><br>
추론 체계(사고 엔진) + 게임 이론(상호작용 모델) + 상황 분석 이론(환경 모델) = 복잡한 전략적 문제 해결을 위한 완전한 도구 세트</p>
<p>현대 AI 시스템과 전략 기획은 이 세 가지 축의 통합 없이는 불완전하며,<br>
이론적 엄밀성과 실무 적용성을 모두 확보하기 위해 각 이론의 강점을 이해하고 적절히 조합해야 한다.</p>


</section>

 ]]></description>
  <category>Strategy Frameworks</category>
  <category>Data Science</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Strategy_Frameworks/analysis_theory.html</guid>
  <pubDate>Wed, 10 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>추론 방법론 체계</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Strategy_Frameworks/reasoning.html</link>
  <description><![CDATA[ 





<section id="배경" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="배경"><span class="header-section-number">1</span> 배경</h2>
<p><strong>추론(Reasoning)</strong>은 주어진 정보나 전제로부터 새로운 결론을 도출하는 인지 과정이다.<br>
인간의 의사결정, 문제해결, 과학적 발견의 핵심이며, AI 시스템 설계에서도 필수적이다.</p>
<p><strong>추론 방법론이 중요한 이유:</strong><br>
- 논리적 오류를 방지하고 체계적인 사고 가능<br>
- 데이터 분석과 가설 검증의 이론적 기반 제공<br>
- AI 모델의 추론 과정 이해 및 프롬프트 설계 개선<br>
- 비즈니스 의사결정에서 근거 기반 전략 수립</p>
</section>
<section id="연역적-추론deductive-reasoning" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="연역적-추론deductive-reasoning"><span class="header-section-number">2</span> 연역적 추론(Deductive Reasoning)</h2>
<section id="정의" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="정의"><span class="header-section-number">2.1</span> 정의</h3>
<p><strong>전제가 참이면 결론도 반드시 참이 되는 논리적 추론 방식.</strong><br>
논리학에서 가장 엄격한 형태의 추론이며, 수학·형식논리·프로그래밍의 기본 구조다.</p>
</section>
<section id="특징" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="특징"><span class="header-section-number">2.2</span> 특징</h3>
<ul>
<li><strong>확실성</strong>: 전제가 참이면 결론의 진리값이 보장됨<br>
</li>
<li><strong>하향식(Top-Down)</strong>: 일반 원리 → 특수 사례<br>
</li>
<li><strong>검증 가능성</strong>: 논리적 타당성을 형식적으로 검증 가능</li>
</ul>
</section>
<section id="예시" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="예시"><span class="header-section-number">2.3</span> 예시</h3>
<p><strong>삼단논법(Syllogism):</strong><br>
- 대전제: 모든 사람은 죽는다<br>
- 소전제: A는 사람이다<br>
- 결론: 그러므로 A는 죽는다</p>
<p><strong>프로그래밍 적용:</strong></p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 규칙: 나이 &gt;= 18이면 성인</span></span>
<span id="cb1-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> age <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>:</span>
<span id="cb1-3">    status <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"성인"</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 연역적 결론</span></span></code></pre></div>
</section>
<section id="연역-추론의-하위-기법" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="연역-추론의-하위-기법"><span class="header-section-number">2.4</span> 연역 추론의 하위 기법</h3>
<p><strong>귀류법(Reductio ad Absurdum):</strong><br>
- 가정을 참이라 놓고 → 논리 전개 → 모순 도출 → 가정이 거짓임을 증명<br>
- 수학 정리 증명에 핵심적 (예: √2의 무리수 증명)</p>
<p><strong>수학적 귀납법(Mathematical Induction):</strong><br>
- 기본 단계 증명 + 귀납 단계 증명 → 모든 자연수에 대해 성립<br>
- 재귀적 구조의 정당성 증명에 사용</p>
<pre><code>수학적 귀납법이 이름에 ‘귀납’이 들어가는데도 **연역법의 하위 기법**으로 분류되는 이유는,
이 방식이 실제로는 **귀납이 아니라 엄밀한 연역 구조로 작동**하기 때문이다.

아래를 단계별로 보면 바로 드러난다.

---

# 1. 수학적 귀납법의 구조를 논리적으로 뜯어보면

일반적인 수학적 귀납법은 다음과 같은 논리 구조를 갖는다.

1. ( P(1) )이 참이라고 증명한다.
2. ( P(k) )이 참이라고 가정한다.
3. 이 가정이 참이면 ( P(k+1) )도 반드시 참이라는 것을 증명한다.
4. 따라서 모든 자연수 ( n )에 대해 ( P(n) )이 참이다.

겉으로는 “1, 2, 3…을 관찰해 규칙을 일반화”하는 귀납처럼 보이지만, 실제 진행 방식은 전적으로 아래 구조다.

* **전제(기초 사례 + 귀납 가정)**
* → **논리적 추론(연역)**
* → **결론(전체 수에 대한 명제의 진리)**

즉, **명제를 전체에 대해 참으로 만드는 논리적 구조를 연역적으로 구축하는 과정**이다.

---

# 2. 귀납법과의 차이

귀납법(Induction)은

* 여러 사례를 관찰
* 그 패턴이 보편적이라고 추정
  하는 방식이다.
  확률적·경험적 기반이며, 결론은 확률적 참에 가깝다.

반면, 수학적 귀납법은

* 사례 관찰이 아니라
* “가정이 참이면 다음도 참”이라는 엄격한 논리 규칙
* 이를 전체 집합에 적용
  그래서 **결론이 100% 확정적으로 참**이 된다.

즉, **확률적 추정이 아니라 논리적 필연성**을 만드는 구조다.

---

# 3. 왜 이름은 ‘귀납’인데 실제는 연역인가

역사적·형태적 이유 때문이다.

초기 수학자는

* 1에서 2
* 2에서 3
* 3에서 4
  …로 “위로 올라간다”는 점에서 “귀납”이라는 이름을 붙였다.

하지만 현대 논리학에서는 이 방식이

* 일반 명제의 참을 **논리적으로 연역**하는 메커니즘이기에
  연역법(deductive reasoning)의 하위로 분류한다.

이것은 논리학·수리논리학·형식논리학에서 국제적으로 합의된 관례다.

---

# 4. 정리

수학적 귀납법이 연역의 하위인 이유는 다음과 같다.

1. 사례 기반 추론(귀납)이 아니라,
2. 전제를 세우고
3. 논리적 필연성을 전개해
4. 전체 명제의 참을 확정하는 구조이기 때문.

그래서
**이름은 귀납이지만 논리학적 성격은 완전히 연역**이다.

---

네가 만들려는 폴더 구조에서는 다음과 같이 넣는 것이 가장 깔끔하다.

* Reasoning Frameworks

  * Deductive Reasoning

    * Direct Deduction
    * Reductio ad Absurdum(귀류법)
    * Mathematical Induction(수학적 귀납법)

필요하면 추론 전체를 논리학 기준으로 **정식 트리 구조**로 만들어줄게.


</code></pre>
<p><strong>직접 증명(Direct Proof):</strong><br>
- 전제에서 결론까지 논리적 단계를 순차적으로 전개</p>
</section>
<section id="ai-시스템-적용" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="ai-시스템-적용"><span class="header-section-number">2.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>규칙 기반 시스템</strong>: IF-THEN 규칙으로 추론 엔진 구축<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 규칙에 따라 판단하시오…”<br>
</li>
<li><strong>검증 로직</strong>: 입력 데이터 유효성 검사</li>
</ul>
</section>
<section id="근거" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="근거"><span class="header-section-number">2.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Logic, Deduction<br>
<a href="https://plato.stanford.edu/entries/logic-deduction/">https://plato.stanford.edu/entries/logic-deduction/</a></li>
</ul>
</section>
</section>
<section id="귀납적-추론inductive-reasoning" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="귀납적-추론inductive-reasoning"><span class="header-section-number">3</span> 귀납적 추론(Inductive Reasoning)</h2>
<section id="정의-1" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="정의-1"><span class="header-section-number">3.1</span> 정의</h3>
<p><strong>개별 사례를 관찰하고, 그 패턴을 기반으로 일반적 결론을 추론하는 방식.</strong><br>
결론은 ‘가능성이 높은’ 형태로 제시되며, 절대적 확실성을 보장하지 않는다.</p>
</section>
<section id="특징-1" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="특징-1"><span class="header-section-number">3.2</span> 특징</h3>
<ul>
<li><strong>확률성</strong>: 전제가 참이어도 결론은 ‘개연성 있음’<br>
</li>
<li><strong>상향식(Bottom-Up)</strong>: 특수 사례 → 일반 원리<br>
</li>
<li><strong>경험 기반</strong>: 관찰과 실험 데이터로부터 패턴 발견</li>
</ul>
</section>
<section id="예시-1" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="예시-1"><span class="header-section-number">3.3</span> 예시</h3>
<p><strong>고전적 사례:</strong><br>
- 관찰: 백조 100마리를 봤는데 모두 흰색이었다<br>
- 귀납: 백조는 대부분 흰색일 것이다<br>
- 한계: 검은 백조 발견 시 결론이 무너짐</p>
<p><strong>데이터 분석 적용:</strong></p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 사용자 1000명의 행동 패턴 관찰</span></span>
<span id="cb3-2">pattern <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> analyze_user_behavior(users)</span>
<span id="cb3-3">general_rule <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"사용자는 평균 3회 방문 후 구매한다"</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 귀납적 일반화</span></span></code></pre></div>
</section>
<section id="귀납적-추론의-하위-기법" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="귀납적-추론의-하위-기법"><span class="header-section-number">3.4</span> 귀납적 추론의 하위 기법</h3>
<p><strong>열거적 귀납(Enumerative Induction):</strong><br>
- 다수의 관찰 사례에서 공통 속성 발견 → 일반 법칙 도출<br>
- 예: “관찰한 까마귀 1000마리가 모두 검다” → “모든 까마귀는 검다”</p>
<p><strong>제거 귀납(Eliminative Induction):</strong><br>
- 가능한 가설들을 제거해가며 남은 것을 채택 (밀의 방법)<br>
- 일치법, 차이법, 공변법, 잉여법 등</p>
<p><strong>유비 귀납(Analogical Induction):</strong><br>
- 유사한 사례의 패턴을 새로운 경우에 확장<br>
- 과학적 모델 구축의 기초</p>
</section>
<section id="ai-시스템-적용-1" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="ai-시스템-적용-1"><span class="header-section-number">3.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>머신러닝</strong>: 학습 데이터에서 패턴 발견 → 일반화 모델 구축<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 사례들을 보고 공통 패턴을 찾으시오…”<br>
</li>
<li><strong>사용자 연구</strong>: 행동 로그 분석 → 일반적 사용자 프로필 도출</li>
</ul>
</section>
<section id="근거-1" class="level3" data-number="3.6">
<h3 data-number="3.6" class="anchored" data-anchor-id="근거-1"><span class="header-section-number">3.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Inductive Logic<br>
<a href="https://plato.stanford.edu/entries/logic-inductive/">https://plato.stanford.edu/entries/logic-inductive/</a></li>
</ul>
</section>
</section>
<section id="가추적-추론abductive-reasoning" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="가추적-추론abductive-reasoning"><span class="header-section-number">4</span> 가추적 추론(Abductive Reasoning)</h2>
<section id="정의-2" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="정의-2"><span class="header-section-number">4.1</span> 정의</h3>
<p><strong>관찰된 사실을 가장 잘 설명하는 가설을 선택하는 추론 방식.</strong><br>
“최선의 설명으로의 추론(Inference to the Best Explanation)”이라고도 불린다.<br>
과학적 발견, 의료 진단, 문제 해결, 디버깅에 핵심적이다.</p>
</section>
<section id="특징-2" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="특징-2"><span class="header-section-number">4.2</span> 특징</h3>
<ul>
<li><strong>설명력</strong>: 여러 가설 중 관찰 사실을 가장 잘 설명하는 것 선택<br>
</li>
<li><strong>잠정성</strong>: 새로운 증거가 나오면 가설 수정 가능<br>
</li>
<li><strong>창조성</strong>: 새로운 가설 생성이 핵심 (연역/귀납과 차별점)</li>
</ul>
</section>
<section id="예시-2" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="예시-2"><span class="header-section-number">4.3</span> 예시</h3>
<p><strong>일상적 추론:</strong><br>
- 관찰 1: 방이 젖어 있다<br>
- 관찰 2: 창문이 열려 있다<br>
- 관찰 3: 밖에 비가 온 흔적이 있다<br>
- 가추: 비가 창문으로 들어왔을 가능성이 가장 크다</p>
<p><strong>의료 진단:</strong></p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 증상: 발열, 기침, 두통</span></span>
<span id="cb4-2">symptoms <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"fever"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cough"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"headache"</span>]</span>
<span id="cb4-3">possible_diseases <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"감기"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"독감"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"폐렴"</span>]</span>
<span id="cb4-4">best_hypothesis <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> select_most_likely(symptoms, possible_diseases)</span>
<span id="cb4-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"가장 가능성 높은 진단: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>best_hypothesis<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가추적 결론</span></span></code></pre></div>
</section>
<section id="가추적-추론의-하위-기법" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="가추적-추론의-하위-기법"><span class="header-section-number">4.4</span> 가추적 추론의 하위 기법</h3>
<p><strong>역행 추론(Retroductive Reasoning):</strong><br>
- 결과로부터 원인을 추정하는 방식<br>
- 범죄 수사, 고장 진단에 핵심적</p>
<p><strong>진단적 추론(Diagnostic Reasoning):</strong><br>
- 증상/징후에서 근본 원인 파악<br>
- 의료 진단, 시스템 장애 분석</p>
<p><strong>가설-검증 순환(Hypothesis-Testing Cycle):</strong><br>
- 가설 생성 → 예측 도출 → 실험/관찰 → 가설 수정<br>
- 과학적 방법론의 핵심</p>
</section>
<section id="ai-시스템-적용-2" class="level3" data-number="4.5">
<h3 data-number="4.5" class="anchored" data-anchor-id="ai-시스템-적용-2"><span class="header-section-number">4.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>LLM 추론</strong>: 사용자 의도를 가장 잘 설명하는 응답 생성<br>
</li>
<li><strong>디버깅</strong>: 오류 메시지에서 원인 추정<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 관찰 결과의 가장 그럴듯한 원인은?”</li>
</ul>
</section>
<section id="근거-2" class="level3" data-number="4.6">
<h3 data-number="4.6" class="anchored" data-anchor-id="근거-2"><span class="header-section-number">4.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Abduction<br>
<a href="https://plato.stanford.edu/entries/abduction/">https://plato.stanford.edu/entries/abduction/</a></li>
</ul>
</section>
</section>
<section id="유추적-추론analogical-reasoning" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="유추적-추론analogical-reasoning"><span class="header-section-number">5</span> 유추적 추론(Analogical Reasoning)</h2>
<section id="정의-3" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="정의-3"><span class="header-section-number">5.1</span> 정의</h3>
<p><strong>A와 B가 여러 속성을 공유하므로, 다른 속성도 유사할 것이라고 추론하는 방식.</strong><br>
과학적 모델링, 법률 판례, 교육, 창의적 문제해결에서 광범위하게 사용된다.</p>
</section>
<section id="특징-3" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="특징-3"><span class="header-section-number">5.2</span> 특징</h3>
<ul>
<li><strong>유사성 기반</strong>: 대상 간 구조적·기능적 유사성 활용<br>
</li>
<li><strong>전이</strong>: 익숙한 영역(source)의 지식을 새로운 영역(target)으로 이동<br>
</li>
<li><strong>제한성</strong>: 유사성이 과장되면 잘못된 결론 도출 위험</li>
</ul>
</section>
<section id="예시-3" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="예시-3"><span class="header-section-number">5.3</span> 예시</h3>
<p><strong>생물학적 유추:</strong><br>
- Source: 자동차 엔진이 과열되면 성능 저하<br>
- Target: 인체도 과열되면 성능 저하<br>
- 유추: 인체도 냉각(수분 공급)이 필요하다</p>
<p><strong>법률 판례:</strong></p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 과거 유사 사건 A에서 판결 X</span></span>
<span id="cb5-2">similar_case <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> find_analogous_case(current_case)</span>
<span id="cb5-3"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> similarity_score <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> threshold:</span>
<span id="cb5-4">    predicted_ruling <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> similar_case.ruling  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 유추적 예측</span></span></code></pre></div>
</section>
<section id="유추적-추론의-하위-기법" class="level3" data-number="5.4">
<h3 data-number="5.4" class="anchored" data-anchor-id="유추적-추론의-하위-기법"><span class="header-section-number">5.4</span> 유추적 추론의 하위 기법</h3>
<p><strong>구조 매핑(Structure Mapping):</strong><br>
- 두 영역 간 관계 구조의 대응 관계 찾기<br>
- 과학적 이론 개발, 은유 이해에 활용</p>
<p><strong>비례적 유추(Proportional Analogy):</strong><br>
- A:B = C:D 형태의 관계 추론<br>
- 수학적 문제 해결, 패턴 인식</p>
<p><strong>인과적 유추(Causal Analogy):</strong><br>
- 한 영역의 인과 관계를 다른 영역에 투사<br>
- 새로운 도메인의 메커니즘 이해</p>
</section>
<section id="ai-시스템-적용-3" class="level3" data-number="5.5">
<h3 data-number="5.5" class="anchored" data-anchor-id="ai-시스템-적용-3"><span class="header-section-number">5.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>Few-shot Learning</strong>: 몇 가지 예시로 새로운 작업 수행<br>
</li>
<li><strong>Transfer Learning</strong>: 한 도메인 학습 → 다른 도메인 적용<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 예시와 유사하게 작성하시오…”</li>
</ul>
</section>
<section id="근거-3" class="level3" data-number="5.6">
<h3 data-number="5.6" class="anchored" data-anchor-id="근거-3"><span class="header-section-number">5.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Analogy and Analogical Reasoning<br>
<a href="https://plato.stanford.edu/entries/reasoning-analogy/">https://plato.stanford.edu/entries/reasoning-analogy/</a></li>
</ul>
</section>
</section>
<section id="확률적-추론probabilistic-reasoning" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="확률적-추론probabilistic-reasoning"><span class="header-section-number">6</span> 확률적 추론(Probabilistic Reasoning)</h2>
<section id="정의-4" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="정의-4"><span class="header-section-number">6.1</span> 정의</h3>
<p><strong>불확실한 사건을 확률로 표현하고, 결론의 가능성을 계산하는 추론 방식.</strong><br>
베이즈 추론(Bayesian Inference)이 대표적이며, 통계학·머신러닝·의사결정의 핵심이다.</p>
</section>
<section id="특징-4" class="level3" data-number="6.2">
<h3 data-number="6.2" class="anchored" data-anchor-id="특징-4"><span class="header-section-number">6.2</span> 특징</h3>
<ul>
<li><strong>수치화</strong>: 불확실성을 정량적으로 표현 (0~1 사이 확률)<br>
</li>
<li><strong>갱신 가능</strong>: 새로운 증거로 확률 업데이트 (베이즈 정리)<br>
</li>
<li><strong>의사결정</strong>: 기댓값 최대화로 최적 선택</li>
</ul>
</section>
<section id="예시-4" class="level3" data-number="6.3">
<h3 data-number="6.3" class="anchored" data-anchor-id="예시-4"><span class="header-section-number">6.3</span> 예시</h3>
<p><strong>의료 진단(베이즈 정리):</strong><br>
- 사전확률: 질병 X의 유병률 1%<br>
- 증상 A 발생 시 질병 X일 확률: 90%<br>
- 검사 결과 양성: 사후확률 재계산</p>
<p><strong>스팸 필터:</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 단어 출현 확률로 스팸 여부 판단</span></span>
<span id="cb6-2">P_spam <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 사전확률</span></span>
<span id="cb6-3">P_word_given_spam <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span></span>
<span id="cb6-4">P_word_given_ham <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 베이즈 정리로 사후확률 계산</span></span>
<span id="cb6-6">P_spam_given_word <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (P_word_given_spam <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> P_spam) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> P_word</span></code></pre></div>
</section>
<section id="확률적-추론의-하위-기법" class="level3" data-number="6.4">
<h3 data-number="6.4" class="anchored" data-anchor-id="확률적-추론의-하위-기법"><span class="header-section-number">6.4</span> 확률적 추론의 하위 기법</h3>
<p><strong>베이지안 추론(Bayesian Inference):</strong><br>
- 사전확률 + 새 증거 → 사후확률 업데이트<br>
- 순차적 학습과 의사결정에 최적</p>
<p><strong>마르코프 체인(Markov Chain):</strong><br>
- 현재 상태만으로 미래 예측 (무기억성)<br>
- 시계열 분석, 텍스트 생성</p>
<p><strong>몬테카를로 방법(Monte Carlo Method):</strong><br>
- 무작위 샘플링으로 확률 분포 추정<br>
- 복잡한 적분 계산, 시뮬레이션</p>
</section>
<section id="ai-시스템-적용-4" class="level3" data-number="6.5">
<h3 data-number="6.5" class="anchored" data-anchor-id="ai-시스템-적용-4"><span class="header-section-number">6.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>베이지안 네트워크</strong>: 변수 간 확률적 관계 모델링<br>
</li>
<li><strong>강화학습</strong>: 행동 선택 확률 업데이트<br>
</li>
<li><strong>불확실성 정량화</strong>: 모델 예측의 신뢰도 측정</li>
</ul>
</section>
<section id="근거-4" class="level3" data-number="6.6">
<h3 data-number="6.6" class="anchored" data-anchor-id="근거-4"><span class="header-section-number">6.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Bayesian Epistemology<br>
<a href="https://plato.stanford.edu/entries/epistemology-bayesian/">https://plato.stanford.edu/entries/epistemology-bayesian/</a></li>
</ul>
</section>
</section>
<section id="통계적-추론statistical-inference" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="통계적-추론statistical-inference"><span class="header-section-number">7</span> 통계적 추론(Statistical Inference)</h2>
<section id="정의-5" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="정의-5"><span class="header-section-number">7.1</span> 정의</h3>
<p><strong>표본 데이터에서 모집단의 특성을 추정하는 추론 방식.</strong><br>
가설검정, 신뢰구간, 회귀분석 등이 포함되며, 데이터 과학의 기초다.</p>
</section>
<section id="특징-5" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="특징-5"><span class="header-section-number">7.2</span> 특징</h3>
<ul>
<li><strong>샘플링 기반</strong>: 전체 데이터 대신 표본으로 추론<br>
</li>
<li><strong>오차 정량화</strong>: 표준오차, 신뢰구간으로 불확실성 표현<br>
</li>
<li><strong>가설검정</strong>: 귀무가설 기각 여부로 결론 도출</li>
</ul>
</section>
<section id="예시-5" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="예시-5"><span class="header-section-number">7.3</span> 예시</h3>
<p><strong>A/B 테스트:</strong><br>
- 표본: 사용자 1000명의 전환율 측정<br>
- 추론: 모집단 전체의 전환율 95% 신뢰구간 [2.5%, 3.5%]<br>
- 결론: 신뢰구간이 겹치지 않으면 유의미한 차이</p>
<p><strong>회귀분석:</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sm</span>
<span id="cb7-2">X <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.add_constant(age)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 독립변수: 나이</span></span>
<span id="cb7-3">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> income  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 종속변수: 소득</span></span>
<span id="cb7-4">model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.OLS(y, X).fit()</span>
<span id="cb7-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(model.summary())  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 나이와 소득의 관계 추론</span></span></code></pre></div>
</section>
<section id="통계적-추론의-하위-기법" class="level3" data-number="7.4">
<h3 data-number="7.4" class="anchored" data-anchor-id="통계적-추론의-하위-기법"><span class="header-section-number">7.4</span> 통계적 추론의 하위 기법</h3>
<p><strong>모수적 추론(Parametric Inference):</strong><br>
- 모집단 분포 가정 (정규분포 등) → 모수 추정<br>
- t-검정, ANOVA, 선형회귀</p>
<p><strong>비모수적 추론(Non-parametric Inference):</strong><br>
- 분포 가정 없이 순위/부호 기반 추론<br>
- Mann-Whitney 검정, Kruskal-Wallis 검정</p>
<p><strong>부트스트랩(Bootstrap):</strong><br>
- 재표본추출로 표본 분포 근사<br>
- 신뢰구간 계산, 표준오차 추정</p>
</section>
<section id="ai-시스템-적용-5" class="level3" data-number="7.5">
<h3 data-number="7.5" class="anchored" data-anchor-id="ai-시스템-적용-5"><span class="header-section-number">7.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>모델 평가</strong>: 검증 세트로 일반화 성능 추정<br>
</li>
<li><strong>실험 설계</strong>: A/B 테스트로 기능 개선 효과 검증<br>
</li>
<li><strong>불확실성 측정</strong>: 예측 구간(prediction interval) 계산</li>
</ul>
</section>
<section id="근거-5" class="level3" data-number="7.6">
<h3 data-number="7.6" class="anchored" data-anchor-id="근거-5"><span class="header-section-number">7.6</span> 근거</h3>
<ul>
<li>Casella, G., &amp; Berger, R. L. (2002). <em>Statistical Inference</em>. Duxbury Press.</li>
</ul>
</section>
</section>
<section id="규범적규칙-기반-추론rule-based-reasoning" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="규범적규칙-기반-추론rule-based-reasoning"><span class="header-section-number">8</span> 규범적·규칙 기반 추론(Rule-based Reasoning)</h2>
<section id="정의-6" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="정의-6"><span class="header-section-number">8.1</span> 정의</h3>
<p><strong>정해진 규칙(Rule), 조건(Condition), 정책(Policy)에 따라 결론을 도출하는 방식.</strong><br>
전문가 시스템, 비즈니스 룰 엔진, 법률 시스템에서 핵심적이다.</p>
</section>
<section id="특징-6" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="특징-6"><span class="header-section-number">8.2</span> 특징</h3>
<ul>
<li><strong>명시성</strong>: 규칙이 명확하게 정의됨 (IF-THEN 형태)<br>
</li>
<li><strong>추적 가능성</strong>: 추론 과정을 단계별로 설명 가능<br>
</li>
<li><strong>유지보수성</strong>: 규칙 추가/수정으로 시스템 업데이트 용이</li>
</ul>
</section>
<section id="예시-6" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="예시-6"><span class="header-section-number">8.3</span> 예시</h3>
<p><strong>비즈니스 규칙:</strong></p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 할인 정책 규칙</span></span>
<span id="cb8-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> customer.membership <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VIP"</span>:</span>
<span id="cb8-3">    discount <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span></span>
<span id="cb8-4"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> customer.purchase_amount <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>:</span>
<span id="cb8-5">    discount <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span></span>
<span id="cb8-6"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:</span>
<span id="cb8-7">    discount <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span></code></pre></div>
<p><strong>전문가 시스템(MYCIN - 의료 진단):</strong><br>
- Rule 1: IF 발열 AND 기침 THEN 감기 의심<br>
- Rule 2: IF 감기 의심 AND 고열 THEN 독감 가능성</p>
</section>
<section id="규칙-기반-추론의-하위-기법" class="level3" data-number="8.4">
<h3 data-number="8.4" class="anchored" data-anchor-id="규칙-기반-추론의-하위-기법"><span class="header-section-number">8.4</span> 규칙 기반 추론의 하위 기법</h3>
<p><strong>순방향 연쇄(Forward Chaining):</strong><br>
- 사실(facts)에서 시작 → 규칙 적용 → 결론 도출<br>
- 데이터 주도형, 실시간 모니터링 시스템</p>
<p><strong>역방향 연쇄(Backward Chaining):</strong><br>
- 목표에서 시작 → 필요한 조건 역추적<br>
- 목표 지향형, 진단 시스템</p>
<p><strong>퍼지 규칙(Fuzzy Rules):</strong><br>
- 부분 진리값 (예: “매우 높음” = 0.9)<br>
- 불확실한 환경에서 유연한 추론</p>
</section>
<section id="ai-시스템-적용-6" class="level3" data-number="8.5">
<h3 data-number="8.5" class="anchored" data-anchor-id="ai-시스템-적용-6"><span class="header-section-number">8.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>하이브리드 AI</strong>: LLM + 규칙 엔진 결합<br>
</li>
<li><strong>프롬프트 설계</strong>: “다음 규칙을 엄격히 따르시오…”<br>
</li>
<li><strong>가드레일</strong>: AI 출력 검증 및 필터링</li>
</ul>
</section>
<section id="근거-6" class="level3" data-number="8.6">
<h3 data-number="8.6" class="anchored" data-anchor-id="근거-6"><span class="header-section-number">8.6</span> 근거</h3>
<ul>
<li>Russell, S., &amp; Norvig, P. (2021). <em>Artificial Intelligence: A Modern Approach</em> (4th ed.). Pearson.</li>
</ul>
</section>
</section>
<section id="사례-기반-추론case-based-reasoning-cbr" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="사례-기반-추론case-based-reasoning-cbr"><span class="header-section-number">9</span> 사례 기반 추론(Case-based Reasoning, CBR)</h2>
<section id="정의-7" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="정의-7"><span class="header-section-number">9.1</span> 정의</h3>
<p><strong>과거 유사 사례를 검색하고, 그 해결 방법을 현재 문제에 적용하는 추론 방식.</strong><br>
법률 판례, 의료 진단, 고객 지원, 추천 시스템에서 널리 사용된다.</p>
</section>
<section id="특징-7" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="특징-7"><span class="header-section-number">9.2</span> 특징</h3>
<ul>
<li><strong>경험 기반</strong>: 명시적 규칙 없이 과거 사례 활용<br>
</li>
<li><strong>적응</strong>: 과거 사례를 현재 상황에 맞게 수정<br>
</li>
<li><strong>학습</strong>: 새로운 사례를 지속적으로 축적</li>
</ul>
</section>
<section id="사례-기반-추론의-하위-기법-cbr-사이클---4rs" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="사례-기반-추론의-하위-기법-cbr-사이클---4rs"><span class="header-section-number">9.3</span> 사례 기반 추론의 하위 기법 (CBR 사이클 - 4Rs)</h3>
<ol type="1">
<li><strong>Retrieve (검색)</strong>: 유사 사례 검색
<ul>
<li>k-NN, 코사인 유사도, 벡터 검색<br>
</li>
</ul></li>
<li><strong>Reuse (재사용)</strong>: 과거 해결책 재사용
<ul>
<li>직접 적용, 템플릿 기반 적용<br>
</li>
</ul></li>
<li><strong>Revise (수정)</strong>: 현재 상황에 맞게 수정
<ul>
<li>규칙 기반 적응, 학습 기반 조정<br>
</li>
</ul></li>
<li><strong>Retain (보존)</strong>: 새로운 사례로 저장
<ul>
<li>사례 베이스 업데이트, 인덱싱</li>
</ul></li>
</ol>
<p><strong>협업 필터링(Collaborative Filtering):</strong><br>
- 사용자 기반: 유사 사용자의 선호 활용<br>
- 아이템 기반: 유사 아이템의 평가 활용</p>
</section>
<section id="예시-7" class="level3" data-number="9.4">
<h3 data-number="9.4" class="anchored" data-anchor-id="예시-7"><span class="header-section-number">9.4</span> 예시</h3>
<p><strong>법률 판례:</strong></p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 현재 사건과 유사한 과거 판례 검색</span></span>
<span id="cb9-2">current_case <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"type"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"계약위반"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"amount"</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5000</span>}</span>
<span id="cb9-3">similar_cases <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> case_db.search(similarity_threshold<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>)</span>
<span id="cb9-4">predicted_ruling <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> similar_cases[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>].ruling  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 과거 판결 적용</span></span></code></pre></div>
<p><strong>추천 시스템(협업 필터링):</strong><br>
- 사용자 A와 유사한 사용자 B의 구매 이력 참조<br>
- 사용자 A에게 B가 좋아한 상품 추천</p>
</section>
<section id="ai-시스템-적용-7" class="level3" data-number="9.5">
<h3 data-number="9.5" class="anchored" data-anchor-id="ai-시스템-적용-7"><span class="header-section-number">9.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>RAG(Retrieval-Augmented Generation)</strong>: 유사 문서 검색 → 답변 생성<br>
</li>
<li><strong>Few-shot Learning</strong>: 소수의 예시로 학습<br>
</li>
<li><strong>고객 지원 챗봇</strong>: 과거 응대 사례 참조</li>
</ul>
</section>
<section id="근거-7" class="level3" data-number="9.6">
<h3 data-number="9.6" class="anchored" data-anchor-id="근거-7"><span class="header-section-number">9.6</span> 근거</h3>
<ul>
<li>Aamodt, A., &amp; Plaza, E. (1994). “Case-Based Reasoning: Foundational Issues, Methodological Variations, and System Approaches.” <em>AI Communications</em>, 7(1), 39-59.</li>
</ul>
<hr>
</section>
</section>
<section id="전제-수정-기반-추론non-monotonic-reasoning" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="전제-수정-기반-추론non-monotonic-reasoning"><span class="header-section-number">10</span> 전제 수정 기반 추론(Non-monotonic Reasoning)</h2>
<section id="정의-8" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="정의-8"><span class="header-section-number">10.1</span> 정의</h3>
<p><strong>새로운 정보가 추가되면 기존 결론을 철회하거나 수정할 수 있는 추론 방식.</strong><br>
고전 논리(단조 논리)와 달리, 현실 세계의 불완전한 정보를 다룬다.</p>
</section>
<section id="특징-8" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="특징-8"><span class="header-section-number">10.2</span> 특징</h3>
<ul>
<li><strong>철회 가능성</strong>: 추가 정보로 결론 변경 (Defeasibility)<br>
</li>
<li><strong>기본 가정</strong>: 명시되지 않은 것은 “보통” 참으로 간주<br>
</li>
<li><strong>현실성</strong>: 일상적 추론을 더 잘 모델링</li>
</ul>
</section>
<section id="예시-8" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="예시-8"><span class="header-section-number">10.3</span> 예시</h3>
<p><strong>기본 추론(Default Reasoning):</strong><br>
- 초기: “새는 보통 날 수 있다” + “트위티는 새다” → 트위티는 날 수 있다<br>
- 추가 정보: “트위티는 펭귄이다”<br>
- 수정: 트위티는 날 수 없다 (기존 결론 철회)</p>
<p><strong>자율주행 AI:</strong></p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 초기 판단: 신호등 녹색 → 진행</span></span>
<span id="cb10-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> traffic_light <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"green"</span>:</span>
<span id="cb10-3">    action <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"proceed"</span></span>
<span id="cb10-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 추가 정보: 보행자 돌진</span></span>
<span id="cb10-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> pedestrian_detected:</span>
<span id="cb10-6">    action <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stop"</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기존 결론 철회</span></span></code></pre></div>
</section>
<section id="전제-수정-기반-추론의-하위-기법" class="level3" data-number="10.4">
<h3 data-number="10.4" class="anchored" data-anchor-id="전제-수정-기반-추론의-하위-기법"><span class="header-section-number">10.4</span> 전제 수정 기반 추론의 하위 기법</h3>
<p><strong>기본 논리(Default Logic):</strong><br>
- 명시되지 않은 것은 “보통” 참으로 간주<br>
- 예외 발견 시 기본 가정 철회</p>
<p><strong>회피 논리(Circumscription):</strong><br>
- 비정상을 최소화하는 방향으로 추론<br>
- 폐세계 가정(Closed World Assumption)</p>
<p><strong>진실 유지 시스템(Truth Maintenance System):</strong><br>
- 추론 과정의 의존성 추적<br>
- 모순 발견 시 자동으로 가정 철회</p>
</section>
<section id="ai-시스템-적용-8" class="level3" data-number="10.5">
<h3 data-number="10.5" class="anchored" data-anchor-id="ai-시스템-적용-8"><span class="header-section-number">10.5</span> AI 시스템 적용</h3>
<ul>
<li><strong>상식 추론(Commonsense Reasoning)</strong>: 예외 상황 처리<br>
</li>
<li><strong>대화 시스템</strong>: 맥락 변화에 따른 응답 조정<br>
</li>
<li><strong>불완전 정보 처리</strong>: 가정 기반 추론 후 수정</li>
</ul>
</section>
<section id="근거-8" class="level3" data-number="10.6">
<h3 data-number="10.6" class="anchored" data-anchor-id="근거-8"><span class="header-section-number">10.6</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Non-Monotonic Logic<br>
<a href="https://plato.stanford.edu/entries/logic-nonmonotonic/">https://plato.stanford.edu/entries/logic-nonmonotonic/</a></li>
</ul>
<hr>
</section>
</section>
<section id="형식-논리-기반-추론formal-logic-reasoning" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="형식-논리-기반-추론formal-logic-reasoning"><span class="header-section-number">11</span> 형식 논리 기반 추론(Formal Logic Reasoning)</h2>
<section id="정의-9" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="정의-9"><span class="header-section-number">11.1</span> 정의</h3>
<p><strong>수학적으로 엄밀하게 정의된 논리 체계를 사용하는 추론 방식.</strong><br>
연역 추론의 정교한 변형들로, 복잡한 상황을 형식적으로 표현하고 검증한다.</p>
</section>
<section id="주요-논리-체계" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="주요-논리-체계"><span class="header-section-number">11.2</span> 주요 논리 체계</h3>
<p><strong>명제 논리(Propositional Logic):</strong><br>
- 가장 기본적인 형식 논리<br>
- 명제를 참/거짓으로 판단 (AND, OR, NOT 연산)<br>
- 예: <code>P ∧ Q → R</code> (P와 Q가 참이면 R도 참)</p>
<p><strong>술어 논리(Predicate Logic, First-Order Logic):</strong><br>
- 변수, 양화사(∀, ∃) 추가<br>
- 예: <code>∀x (사람(x) → 죽는다(x))</code> (모든 x에 대해…)<br>
- 데이터베이스 쿼리, 자동 정리 증명에 사용</p>
<p><strong>양상 논리(Modal Logic):</strong><br>
- 필연성(□), 가능성(◇) 표현<br>
- 예: <code>□P</code> (P는 반드시 참), <code>◇P</code> (P는 가능함)<br>
- 인식론, 윤리학, 프로그램 검증에 적용</p>
<p><strong>시간 논리(Temporal Logic):</strong><br>
- 시간 관계 표현: 항상(G), 결국(F), 다음(X)<br>
- 예: <code>G(요청 → F(응답))</code> (요청 후 결국 응답이 옴)<br>
- 하드웨어/소프트웨어 검증에 필수</p>
<p><strong>비고전 논리(Non-classical Logic):</strong><br>
- 직관주의 논리(Intuitionistic Logic): 구성적 증명<br>
- 퍼지 논리(Fuzzy Logic): 부분적 진리값 (0~1)<br>
- 다치 논리(Many-valued Logic): 참/거짓 외 제3의 값</p>
</section>
<section id="ai-시스템-적용-9" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="ai-시스템-적용-9"><span class="header-section-number">11.3</span> AI 시스템 적용</h3>
<ul>
<li><strong>자동 정리 증명</strong>: Coq, Isabelle 등<br>
</li>
<li><strong>모델 검증(Model Checking)</strong>: 소프트웨어 안전성 검증<br>
</li>
<li><strong>지식 표현</strong>: 온톨로지, 시맨틱 웹</li>
</ul>
</section>
<section id="근거-9" class="level3" data-number="11.4">
<h3 data-number="11.4" class="anchored" data-anchor-id="근거-9"><span class="header-section-number">11.4</span> 근거</h3>
<ul>
<li>Stanford Encyclopedia of Philosophy: Logic and Artificial Intelligence<br>
<a href="https://plato.stanford.edu/entries/logic-ai/">https://plato.stanford.edu/entries/logic-ai/</a><br>
</li>
<li>Fitting, M. (1996). <em>First-Order Logic and Automated Theorem Proving</em>. Springer.</li>
</ul>
<hr>
</section>
</section>
<section id="추론-방법론-비교표" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="추론-방법론-비교표"><span class="header-section-number">12</span> 추론 방법론 비교표</h2>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 19%">
<col style="width: 16%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="header">
<th>추론 방식</th>
<th>확실성</th>
<th>방향</th>
<th>주요 활용 분야</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>연역적</td>
<td>높음 (전제→결론 필연)</td>
<td>일반→특수</td>
<td>수학, 프로그래밍, 형식 검증</td>
</tr>
<tr class="even">
<td>귀납적</td>
<td>중간 (개연성)</td>
<td>특수→일반</td>
<td>머신러닝, 과학적 발견</td>
</tr>
<tr class="odd">
<td>가추적</td>
<td>낮음~중간 (최선 설명)</td>
<td>관찰→가설</td>
<td>진단, 디버깅, 과학적 가설</td>
</tr>
<tr class="even">
<td>유추적</td>
<td>중간 (유사성 기반)</td>
<td>도메인 전이</td>
<td>Few-shot Learning, 교육</td>
</tr>
<tr class="odd">
<td>확률적</td>
<td>정량화 (확률값)</td>
<td>불확실성 모델링</td>
<td>베이지안 추론, 의사결정</td>
</tr>
<tr class="even">
<td>통계적</td>
<td>정량화 (신뢰구간)</td>
<td>표본→모집단</td>
<td>A/B 테스트, 회귀분석</td>
</tr>
<tr class="odd">
<td>규칙 기반</td>
<td>높음 (규칙 명시)</td>
<td>조건→결론</td>
<td>전문가 시스템, 정책 엔진</td>
</tr>
<tr class="even">
<td>사례 기반</td>
<td>중간 (과거 경험)</td>
<td>유사 사례 검색</td>
<td>법률, RAG, 추천 시스템</td>
</tr>
<tr class="odd">
<td>전제 수정</td>
<td>가변 (철회 가능)</td>
<td>기본 가정+예외</td>
<td>상식 추론, 자율주행</td>
</tr>
<tr class="even">
<td>형식 논리</td>
<td>매우 높음 (수학적)</td>
<td>공리→정리</td>
<td>정리 증명, 모델 검증</td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="결론" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="결론"><span class="header-section-number">13</span> 결론</h2>
<p><strong>추론 방법론의 선택은 문제의 특성에 따라 결정된다:</strong><br>
- <strong>확실성이 필요한 경우</strong>: 연역적, 규칙 기반, 형식 논리<br>
- <strong>데이터 기반 발견</strong>: 귀납적, 통계적, 확률적<br>
- <strong>불완전한 정보 처리</strong>: 가추적, 전제 수정 기반<br>
- <strong>경험 활용</strong>: 사례 기반, 유추적</p>
<p><strong>AI 시스템 설계 시 고려사항:</strong><br>
1. 단일 추론 방식만 사용하지 말고 하이브리드 접근<br>
2. 추론 과정의 투명성과 설명 가능성 확보<br>
3. 오류 처리와 불확실성 정량화<br>
4. 도메인 특성에 맞는 추론 체계 선택</p>
<p>현대 AI는 여러 추론 방법론을 결합하여 복잡한 문제를 해결한다.<br>
LLM은 귀납적 학습 + 가추적 추론 + 유추적 전이를 통합적으로 수행하며,<br>
RAG 시스템은 사례 기반 검색 + 연역적 생성을 결합한다.<br>
추론 이론의 깊은 이해는 더 강력하고 신뢰할 수 있는 AI 시스템 구축의 기초가 된다.</p>


</section>

 ]]></description>
  <category>Strategy Frameworks</category>
  <category>Data Science</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Strategy_Frameworks/reasoning.html</guid>
  <pubDate>Wed, 10 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>데이터 분석 생태계의 보완 요소</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Data_Science/00-basic-concept-supplement.html</link>
  <description><![CDATA[ 





<section id="데이터-분석-생태계-개요" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 데이터 분석 생태계 개요</h1>
<ul>
<li><a href="../../../../docs/blog/posts/Statistics/00-basic-concept.html">데이터 분석이란? - 데이터 분석의 개념과 도구 생태계 블로그 참고</a></li>
<li>데이터 분석의 ‘두뇌’ 역할을 하는 핵심 기술(통계, 머신러닝, 딥러닝, AI)만으로는 실제 비즈니스 가치를 창출하기 어렵다.<br>
</li>
<li>이 ’두뇌’를 제대로 작동시키기 위해서는 <strong>데이터 인프라, 의사소통, 검증</strong>을 담당하는 보완 요소들이 필수적이다.</li>
</ul>
<section id="데이터-분석-가치-사슬" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="데이터-분석-가치-사슬"><span class="header-section-number">1.1</span> 데이터 분석 가치 사슬</h2>
<pre><code>원천 데이터
    ↓
[데이터 엔지니어링] ← 수집, 저장, 변환, 관리
    ↓
정제된 데이터
    ↓
[분석 및 모델링] ← 통계, ML, DL, AI
    ↓
분석 결과
    ↓
[시각화 및 BI] ← 대시보드, 리포트
    ↓
인사이트
    ↓
[실험 설계 및 검증] ← A/B 테스트, 인과 추론
    ↓
의사결정 및 실행
    ↓
비즈니스 가치</code></pre>
</section>
</section>
<section id="데이터-엔지니어링-data-engineering" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> 데이터 엔지니어링 (Data Engineering)</h1>
<ul>
<li>데이터 분석 및 머신러닝 모델 구축을 위해 데이터를 <strong>수집, 저장, 변환, 관리하는 전체 과정</strong>을 의미한다.<br>
</li>
<li>정제되지 않은 원천 데이터를 분석 가능한 형태로 가공하는 파이프라인을 구축하는 일이다.</li>
</ul>
<section id="핵심-활동" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="핵심-활동"><span class="header-section-number">2.1</span> 핵심 활동</h2>
<section id="데이터-수집-data-collection" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="데이터-수집-data-collection"><span class="header-section-number">2.1.1</span> 데이터 수집 (Data Collection)</h3>
<p><strong>데이터 소스:</strong><br>
- 데이터베이스 (RDBMS, NoSQL)<br>
- API 연동<br>
- 로그 파일<br>
- 웹 크롤링<br>
- IoT 센서<br>
- 외부 데이터 제공자</p>
<p><strong>수집 방식:</strong><br>
- 배치 (Batch): 정해진 시간에 대량 수집<br>
- 스트리밍 (Streaming): 실시간 연속 수집</p>
</section>
<section id="데이터-저장-data-storage" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="데이터-저장-data-storage"><span class="header-section-number">2.1.2</span> 데이터 저장 (Data Storage)</h3>
<p><strong>저장소 유형:</strong><br>
- <strong>Data Warehouse</strong>: 구조화된 데이터 (예: Snowflake, BigQuery, Redshift)<br>
- <strong>Data Lake</strong>: 원시 데이터 모든 형식 (예: S3, HDFS, Azure Data Lake)<br>
- <strong>Data Lakehouse</strong>: Warehouse + Lake 통합 (예: Databricks, Delta Lake)</p>
</section>
<section id="데이터-변환-data-transformation" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="데이터-변환-data-transformation"><span class="header-section-number">2.1.3</span> 데이터 변환 (Data Transformation)</h3>
<p>데이터를 원천 시스템에서 분석 가능한 형태로 변환하는 과정이다. ETL과 ELT는 이 과정의 <strong>작업 순서가 다른 두 가지 접근법</strong>이다.</p>
<section id="etl-vs-elt-비교" class="level4" data-number="2.1.3.1">
<h4 data-number="2.1.3.1" class="anchored" data-anchor-id="etl-vs-elt-비교"><span class="header-section-number">2.1.3.1</span> ETL vs ELT 비교</h4>
<p><strong>ETL (Extract-Transform-Load) - 전통적 방식</strong></p>
<p><strong>작업 순서:</strong></p>
<pre><code>1. Extract (추출): 원천 시스템에서 데이터 추출
   ↓
2. Transform (변환): 별도의 처리 서버에서 데이터 변환 및 정제
   ↓
3. Load (적재): 변환된 데이터를 Data Warehouse에 저장</code></pre>
<p><strong>특징:</strong> - 변환 작업이 <strong>Data Warehouse 외부</strong>에서 발생<br>
- 별도의 ETL 서버 필요<br>
- 변환된 깨끗한 데이터만 적재</p>
<p><strong>장점:</strong> - Data Warehouse 부하 감소<br>
- 민감 정보 사전 제거 가능<br>
- 네트워크 트래픽 절감 (필요한 데이터만 적재)</p>
<p><strong>단점:</strong> - ETL 서버 추가 비용<br>
- 변환 로직 수정 시 재처리 시간 오래 걸림<br>
- 확장성 제한</p>
<p><strong>적합한 경우:</strong> - 온프레미스 환경<br>
- 작은 규모 데이터<br>
- 변환 로직이 복잡하고 안정적인 경우</p>
<p><strong>예시:</strong></p>
<pre><code>MySQL 데이터베이스 (원천)
    ↓ 추출
ETL 서버 (Talend, Informatica)
    ↓ 변환: 결측치 제거, 형식 통일, 집계
Redshift Data Warehouse (목적지)
    ↓ 적재: 이미 깨끗한 데이터</code></pre>
<p><strong>ELT (Extract-Load-Transform) - 최근 트렌드</strong></p>
<p><strong>작업 순서:</strong></p>
<pre><code>1. Extract (추출): 원천 시스템에서 데이터 추출  
   ↓
2. Load (적재): 원시 데이터를 그대로 Data Warehouse에 저장  
   ↓
3. Transform (변환): Data Warehouse 내부에서 SQL/쿼리로 변환  </code></pre>
<p><strong>특징:</strong> - 변환 작업이 <strong>Data Warehouse 내부</strong>에서 발생<br>
- 원시 데이터(Raw Data)를 먼저 저장<br>
- 클라우드 Data Warehouse의 강력한 컴퓨팅 파워 활용</p>
<p><strong>장점:</strong> - 빠른 데이터 적재 (변환 없이 바로 적재)<br>
- 유연성 높음 (나중에 다양한 방식으로 변환 가능)<br>
- 확장성 우수 (클라우드 자원 활용)<br>
- 원시 데이터 보존 (감사, 재분석 가능)</p>
<p><strong>단점:</strong> - Data Warehouse 스토리지 비용 증가<br>
- 변환 작업이 Data Warehouse 리소스 사용<br>
- 데이터 품질 관리 복잡</p>
<p><strong>적합한 경우:</strong> - 클라우드 환경 (BigQuery, Snowflake, Redshift)<br>
- 대규모 데이터<br>
- 빠른 데이터 수집이 중요한 경우<br>
- 변환 요구사항이 자주 변하는 경우</p>
<p><strong>예시:</strong></p>
<pre><code>다양한 원천 (MySQL, API, 로그파일)
    ↓ 추출
BigQuery Data Warehouse
    ↓ 적재: 원시 데이터 그대로 저장 (raw_data 테이블)
    ↓ 변환: dbt로 SQL 쿼리 실행
        - 결측치 처리
        - 형식 통일
        - 집계 테이블 생성
최종 분석용 테이블 (clean_data, analytics_table)</code></pre>
</section>
<section id="왜-elt가-최근-트렌드인가" class="level4" data-number="2.1.3.2">
<h4 data-number="2.1.3.2" class="anchored" data-anchor-id="왜-elt가-최근-트렌드인가"><span class="header-section-number">2.1.3.2</span> 왜 ELT가 최근 트렌드인가?</h4>
<p><strong>1. 클라우드 Data Warehouse의 발전</strong><br>
- BigQuery, Snowflake, Redshift 등은 <strong>강력한 컴퓨팅 파워</strong>를 제공<br>
- 변환 작업을 빠르게 처리 가능<br>
- 스토리지 비용 하락</p>
<p><strong>2. 유연성 요구 증가</strong><br>
- 비즈니스 요구사항이 자주 변경<br>
- 원시 데이터 보존 → 언제든 다시 변환 가능</p>
<p><strong>3. 실시간 분석 수요</strong><br>
- 데이터를 먼저 적재 → 빠른 가용성<br>
- 변환은 필요할 때 수행</p>
<p><strong>4. dbt(data build tool) 같은 도구의 등장</strong><br>
- SQL 기반 변환을 코드로 관리<br>
- 버전 관리, 테스트, 문서화 자동화</p>
</section>
<section id="etl-vs-elt-비교표" class="level4" data-number="2.1.3.3">
<h4 data-number="2.1.3.3" class="anchored" data-anchor-id="etl-vs-elt-비교표"><span class="header-section-number">2.1.3.3</span> ETL vs ELT 비교표</h4>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>ETL</th>
<th>ELT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>변환 위치</strong></td>
<td>외부 ETL 서버</td>
<td>Data Warehouse 내부</td>
</tr>
<tr class="even">
<td><strong>적재 데이터</strong></td>
<td>변환된 데이터</td>
<td>원시 데이터</td>
</tr>
<tr class="odd">
<td><strong>속도</strong></td>
<td>느림 (변환 후 적재)</td>
<td>빠름 (바로 적재)</td>
</tr>
<tr class="even">
<td><strong>유연성</strong></td>
<td>낮음 (재변환 어려움)</td>
<td>높음 (SQL로 재변환 쉬움)</td>
</tr>
<tr class="odd">
<td><strong>확장성</strong></td>
<td>제한적</td>
<td>우수 (클라우드 자원)</td>
</tr>
<tr class="even">
<td><strong>비용</strong></td>
<td>ETL 서버 비용</td>
<td>Storage 비용</td>
</tr>
<tr class="odd">
<td><strong>적합 환경</strong></td>
<td>온프레미스</td>
<td>클라우드</td>
</tr>
<tr class="even">
<td><strong>복잡도</strong></td>
<td>높음</td>
<td>낮음 (SQL 기반)</td>
</tr>
<tr class="odd">
<td><strong>원시 데이터 보존</strong></td>
<td>어려움</td>
<td>쉬움</td>
</tr>
</tbody>
</table>
</section>
<section id="실무-예시-비교" class="level4" data-number="2.1.3.4">
<h4 data-number="2.1.3.4" class="anchored" data-anchor-id="실무-예시-비교"><span class="header-section-number">2.1.3.4</span> 실무 예시 비교</h4>
<p><strong>시나리오: 월별 매출 집계</strong></p>
<p><strong>ETL 방식:</strong></p>
<pre><code>1. MySQL에서 주문 데이터 추출 (100만 건)
   ↓
2. ETL 서버에서 변환
   - 날짜 형식 통일
   - 취소 주문 제외
   - 월별 집계 (→ 12건)
   ↓
3. Data Warehouse에 12건만 적재</code></pre>
<p><strong>ELT 방식:</strong></p>
<pre><code>1. MySQL에서 주문 데이터 추출 (100만 건)
   ↓
2. BigQuery에 100만 건 그대로 적재
   ↓
3. BigQuery에서 SQL로 변환
   CREATE TABLE monthly_sales AS
   SELECT 
     DATE_TRUNC(order_date, MONTH) as month,
     SUM(amount) as total_sales
   FROM raw_orders
   WHERE status != 'cancelled'
   GROUP BY month;</code></pre>
<p><strong>차이점:</strong> - ETL: 12건만 적재 → 스토리지 절약, 하지만 원시 데이터 없음 - ELT: 100만 건 적재 → 나중에 다른 기준으로 재집계 가능</p>
<hr>
</section>
<section id="변환-작업의-주요-내용" class="level4" data-number="2.1.3.5">
<h4 data-number="2.1.3.5" class="anchored" data-anchor-id="변환-작업의-주요-내용"><span class="header-section-number">2.1.3.5</span> 변환 작업의 주요 내용</h4>
<p>변환 작업은 ETL이든 ELT이든 <strong>데이터를 분석 가능한 형태로 만드는 과정</strong>이다.</p>
<p><strong>1. 데이터 정제 (Data Cleansing)</strong> - 결측치 처리: NULL 값 제거 또는 대체 - 이상치 처리: 비정상 값 제거 또는 보정 - 중복 제거: 동일 레코드 삭제</p>
<p><strong>2. 데이터 통합 (Data Integration)</strong> - 여러 소스 결합: JOIN 연산 - 스키마 매칭: 다른 구조의 데이터 통합</p>
<p><strong>3. 데이터 표준화 (Data Standardization)</strong> - 형식 통일: 날짜, 전화번호, 주소 포맷 통일 - 단위 변환: USD → KRW, kg → g - 코드 표준화: 약어 → 전체 이름</p>
<p><strong>4. 데이터 집계 (Data Aggregation)</strong> - 일별 → 월별 합계 - 거래 내역 → 고객별 총액</p>
<p><strong>5. 특징 생성 (Feature Engineering)</strong> - 파생 변수 생성: 나이 → 연령대 - 비율 계산: 전환율, 증가율 - 범주화: 연속형 → 범주형### 데이터 파이프라인 (Data Pipeline)</p>
<ul>
<li>데이터가 소스에서 최종 목적지까지 이동하며 변환되는 <strong>자동화된 흐름</strong></li>
<li><strong>주요 도구:</strong>
<ul>
<li><strong>워크플로우 오케스트레이션</strong>: Apache Airflow, Prefect, Dagster<br>
</li>
<li><strong>데이터 통합</strong>: Apache Kafka, Apache Spark<br>
</li>
<li><strong>ETL 도구</strong>: dbt, Talend, Informatica</li>
</ul></li>
</ul>
<p><strong>예시 파이프라인:</strong></p>
<pre><code>1. 일일 매출 데이터 추출 (MySQL)
   ↓
2. 데이터 정제 및 변환 (Python/Spark)
   ↓
3. Data Warehouse 적재 (BigQuery)
   ↓
4. 집계 테이블 생성 (dbt)
   ↓
5. 대시보드 업데이트 (Tableau)</code></pre>
</section>
</section>
<section id="데이터-품질-관리-data-quality" class="level3" data-number="2.1.4">
<h3 data-number="2.1.4" class="anchored" data-anchor-id="데이터-품질-관리-data-quality"><span class="header-section-number">2.1.4</span> 데이터 품질 관리 (Data Quality)</h3>
<p><strong>품질 차원:</strong><br>
- <strong>정확성 (Accuracy)</strong>: 올바른 값 - <strong>완전성 (Completeness)</strong>: 결측치 최소화 - <strong>일관성 (Consistency)</strong>: 형식 통일 - <strong>적시성 (Timeliness)</strong>: 최신 데이터 유지 - <strong>유효성 (Validity)</strong>: 비즈니스 규칙 준수</p>
</section>
</section>
<section id="데이터-엔지니어링의-중요성" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="데이터-엔지니어링의-중요성"><span class="header-section-number">2.2</span> 데이터 엔지니어링의 중요성</h2>
<p><strong>“Garbage In, Garbage Out”</strong><br>
아무리 좋은 분석 도구와 모델이 있어도, <strong>양질의 데이터가 없으면 무용지물</strong>이다. 데이터 엔지니어링은 데이터 분석의 <strong>기반 인프라</strong>를 제공한다.</p>
<p><strong>실무 통계:</strong><br>
- 데이터 과학자는 시간의 <strong>60-80%</strong>를 데이터 수집 및 정제에 소비 - 잘 구축된 데이터 파이프라인은 분석 속도를 <strong>10배 이상</strong> 향상</p>
</section>
<section id="주요-기술-스택" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="주요-기술-스택"><span class="header-section-number">2.3</span> 주요 기술 스택</h2>
<table class="table">
<thead>
<tr class="header">
<th>영역</th>
<th>도구/기술</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>프로그래밍</strong></td>
<td>Python, SQL, Scala</td>
</tr>
<tr class="even">
<td><strong>빅데이터</strong></td>
<td>Apache Spark, Hadoop</td>
</tr>
<tr class="odd">
<td><strong>스트리밍</strong></td>
<td>Apache Kafka, Apache Flink</td>
</tr>
<tr class="even">
<td><strong>오케스트레이션</strong></td>
<td>Apache Airflow, Prefect</td>
</tr>
<tr class="odd">
<td><strong>클라우드</strong></td>
<td>AWS (S3, Glue), GCP (BigQuery), Azure</td>
</tr>
<tr class="even">
<td><strong>데이터베이스</strong></td>
<td>PostgreSQL, MongoDB, Cassandra</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="데이터-시각화-data-visualization" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> 데이터 시각화 (Data Visualization)</h1>
<p>분석된 데이터를 <strong>차트, 그래프, 대시보드 등의 시각적 형태로 표현</strong>하여 사람들이 데이터를 쉽게 이해하고 인사이트를 얻을 수 있도록 돕는 기술이다.</p>
<section id="핵심-원칙" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="핵심-원칙"><span class="header-section-number">3.1</span> 핵심 원칙</h2>
<section id="명확성-clarity" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="명확성-clarity"><span class="header-section-number">3.1.1</span> 명확성 (Clarity)</h3>
<ul>
<li>메시지를 즉시 이해할 수 있어야 함
<ul>
<li>불필요한 요소 제거<br>
</li>
<li>직관적인 차트 유형 선택<br>
</li>
<li>명확한 레이블과 제목</li>
</ul></li>
</ul>
</section>
<section id="정확성-accuracy" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="정확성-accuracy"><span class="header-section-number">3.1.2</span> 정확성 (Accuracy)</h3>
<ul>
<li>데이터를 왜곡 없이 표현<br>
</li>
<li><strong>주의사항:</strong>
<ul>
<li>Y축 시작점 조작 금지<br>
</li>
<li>적절한 스케일 사용<br>
</li>
<li>3D 차트 지양 (왜곡 발생)</li>
</ul></li>
</ul>
</section>
<section id="효율성-efficiency" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="효율성-efficiency"><span class="header-section-number">3.1.3</span> 효율성 (Efficiency)</h3>
<ul>
<li>최소한의 시각 요소로 최대 정보 전달</li>
</ul>
<p><strong>Edward Tufte의 Data-Ink Ratio:</strong></p>
<pre><code>Data-Ink Ratio = 데이터 표현 잉크 / 전체 사용 잉크

높을수록 효율적</code></pre>
</section>
<section id="미학-aesthetics" class="level3" data-number="3.1.4">
<h3 data-number="3.1.4" class="anchored" data-anchor-id="미학-aesthetics"><span class="header-section-number">3.1.4</span> 미학 (Aesthetics)</h3>
<ul>
<li>보기 좋은 디자인으로 몰입도 향상
<ul>
<li>조화로운 색상 팔레트<br>
</li>
<li>일관된 스타일<br>
</li>
<li>적절한 공백 활용</li>
</ul></li>
</ul>
</section>
</section>
<section id="시각화의-중요성" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="시각화의-중요성"><span class="header-section-number">3.2</span> 시각화의 중요성</h2>
<ul>
<li><strong>의사소통 효율성:</strong> 복잡한 통계 결과나 머신러닝 모델의 특징도 시각화를 통해 <strong>비전문가에게 효과적으로 전달</strong>할 수 있다.</li>
<li><strong>의사결정 속도:</strong> 숫자 테이블보다 시각화가 <strong>3배 이상 빠른 인사이트 도출</strong>을 가능하게 한다.</li>
</ul>
</section>
</section>
<section id="비즈니스-인텔리전스-business-intelligence-bi" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> 비즈니스 인텔리전스 (Business Intelligence, BI)</h1>
<ul>
<li>기업의 데이터를 수집하고 분석하여 과거와 현재의 비즈니스 현황에 대한 <strong>통찰력 있는 보고서와 대시보드를 제공</strong>하는 과정 및 기술이다.</li>
</ul>
<section id="bi-vs-analytics" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="bi-vs-analytics"><span class="header-section-number">4.1</span> BI vs Analytics</h2>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>BI</th>
<th>Analytics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>시간 관점</strong></td>
<td>과거~현재</td>
<td>미래</td>
</tr>
<tr class="even">
<td><strong>핵심 질문</strong></td>
<td>“무엇이 일어났나?”</td>
<td>“무엇이 일어날 것인가?”</td>
</tr>
<tr class="odd">
<td><strong>목적</strong></td>
<td>성과 모니터링, 진단</td>
<td>예측, 최적화</td>
</tr>
<tr class="even">
<td><strong>기술</strong></td>
<td>SQL, OLAP, 시각화</td>
<td>ML, 통계 모델링</td>
</tr>
<tr class="odd">
<td><strong>사용자</strong></td>
<td>경영진, 관리자</td>
<td>데이터 과학자, 분석가</td>
</tr>
<tr class="even">
<td><strong>산출물</strong></td>
<td>대시보드, 정기 리포트</td>
<td>예측 모델, 시나리오 분석</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>관계:</strong> BI와 Analytics는 상호 보완적이다. BI가 “무엇이 일어났는지” 파악하면, Analytics가 “왜 일어났고, 앞으로 무엇을 해야 하는지” 답한다.</li>
</ul>
</section>
<section id="bi-시스템-구성-요소" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="bi-시스템-구성-요소"><span class="header-section-number">4.2</span> BI 시스템 구성 요소</h2>
<section id="데이터-소스" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="데이터-소스"><span class="header-section-number">4.2.1</span> 데이터 소스</h3>
<ul>
<li>운영 데이터베이스 (OLTP)<br>
</li>
<li>외부 데이터<br>
</li>
<li>파일 시스템</li>
</ul>
</section>
<section id="etl-프로세스" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="etl-프로세스"><span class="header-section-number">4.2.2</span> ETL 프로세스</h3>
<ul>
<li>데이터 추출 (Extract)<br>
</li>
<li>데이터 변환 (Transform)<br>
</li>
<li>데이터 적재 (Load)</li>
</ul>
</section>
<section id="데이터-웨어하우스-data-warehouse" class="level3" data-number="4.2.3">
<h3 data-number="4.2.3" class="anchored" data-anchor-id="데이터-웨어하우스-data-warehouse"><span class="header-section-number">4.2.3</span> 데이터 웨어하우스 (Data Warehouse)</h3>
<ul>
<li>OLAP (Online Analytical Processing) 큐브<br>
</li>
<li>스타 스키마 / 스노우플레이크 스키마<br>
</li>
<li>차원 테이블 + 팩트 테이블</li>
</ul>
</section>
<section id="분석-및-보고-도구" class="level3" data-number="4.2.4">
<h3 data-number="4.2.4" class="anchored" data-anchor-id="분석-및-보고-도구"><span class="header-section-number">4.2.4</span> 분석 및 보고 도구</h3>
<ul>
<li>대시보드<br>
</li>
<li>애드혹 쿼리<br>
</li>
<li>정기 리포트</li>
</ul>
</section>
</section>
<section id="bi의-한계와-analytics의-필요성" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="bi의-한계와-analytics의-필요성"><span class="header-section-number">4.3</span> BI의 한계와 Analytics의 필요성</h2>
<ul>
<li><strong>BI의 한계:</strong>
<ul>
<li>과거 데이터 중심 (후행 지표)<br>
</li>
<li>“왜?”에 대한 답 제한적<br>
</li>
<li>미래 예측 불가<br>
<strong>Analytics로 보완:</strong><br>
</li>
<li>예측 모델링<br>
</li>
<li>원인 분석<br>
</li>
<li>시나리오 시뮬레이션<br>
</li>
<li>최적화 추천</li>
</ul></li>
</ul>
</section>
</section>
<section id="실험-설계-experiment-design-및-ab-테스트" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> 실험 설계 (Experiment Design) 및 A/B 테스트</h1>
<ul>
<li>어떤 변화(신제품, 마케팅 전략 등)가 실제 목표 지표에 긍정적인 영향을 미치는지 <strong>과학적으로 검증하기 위한 방법론</strong>이다.</li>
</ul>
<section id="ab-테스트-기본-개념" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="ab-테스트-기본-개념"><span class="header-section-number">5.1</span> A/B 테스트 기본 개념</h2>
<section id="구조" class="level3" data-number="5.1.1">
<h3 data-number="5.1.1" class="anchored" data-anchor-id="구조"><span class="header-section-number">5.1.1</span> 구조</h3>
<p><strong>대조군 (Control Group) vs 실험군 (Treatment Group)</strong><br>
- 대조군: 기존 버전 (A)<br>
- 실험군: 새로운 버전 (B)</p>
<p><strong>무작위 할당 (Randomization)</strong><br>
- 사용자를 무작위로 두 그룹에 배정<br>
- 편향 제거</p>
</section>
<section id="프로세스" class="level3" data-number="5.1.2">
<h3 data-number="5.1.2" class="anchored" data-anchor-id="프로세스"><span class="header-section-number">5.1.2</span> 프로세스</h3>
<ol type="1">
<li>가설 수립: “새로운 버튼 색상이 클릭률을 높일 것이다”<br>
</li>
<li>실험 설계
<ul>
<li>대조군: 파란색 버튼<br>
</li>
<li>실험군: 빨간색 버튼<br>
</li>
<li>샘플 크기 계산<br>
</li>
<li>실험 기간 설정<br>
</li>
</ul></li>
<li>실험 실행
<ul>
<li>트래픽을 50:50으로 분할<br>
</li>
<li>데이터 수집<br>
</li>
</ul></li>
<li>통계적 검증
<ul>
<li>유의성 검정 (t-test, chi-square)<br>
</li>
<li>p-value 확인 (보통 &lt; 0.05)<br>
</li>
</ul></li>
<li>의사결정
<ul>
<li>유의미한 차이 → 실험군 채택<br>
</li>
<li>차이 없음 → 대조군 유지</li>
</ul></li>
</ol>
</section>
</section>
<section id="실험-설계-원칙" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="실험-설계-원칙"><span class="header-section-number">5.2</span> 실험 설계 원칙</h2>
<section id="smart-목표-설정" class="level3" data-number="5.2.1">
<h3 data-number="5.2.1" class="anchored" data-anchor-id="smart-목표-설정"><span class="header-section-number">5.2.1</span> SMART 목표 설정</h3>
<ul>
<li><strong>Specific</strong>: 구체적 (예: “클릭률 5% 향상”)</li>
<li><strong>Measurable</strong>: 측정 가능</li>
<li><strong>Achievable</strong>: 달성 가능</li>
<li><strong>Relevant</strong>: 비즈니스 목표와 관련</li>
<li><strong>Time-bound</strong>: 기한 명확</li>
</ul>
</section>
<section id="단일-변수-single-variable" class="level3" data-number="5.2.2">
<h3 data-number="5.2.2" class="anchored" data-anchor-id="단일-변수-single-variable"><span class="header-section-number">5.2.2</span> 단일 변수 (Single Variable)</h3>
<p><strong>한 번에 하나의 변수만 테스트</strong><br>
- 잘못된 예: 버튼 색상 + 문구 동시 변경 → 무엇이 원인인지 불명확<br>
- 올바른 예: 버튼 색상만 변경 → 명확한 원인 파악</p>
</section>
<section id="충분한-샘플-크기" class="level3" data-number="5.2.3">
<h3 data-number="5.2.3" class="anchored" data-anchor-id="충분한-샘플-크기"><span class="header-section-number">5.2.3</span> 충분한 샘플 크기</h3>
<p><strong>통계적 검정력 (Power) 확보</strong><br>
- 일반적으로 Power = 0.8 (80%)<br>
- 샘플 크기 계산기 활용<br>
- 너무 적으면 유의미한 차이 감지 불가</p>
</section>
<section id="충분한-실험-기간" class="level3" data-number="5.2.4">
<h3 data-number="5.2.4" class="anchored" data-anchor-id="충분한-실험-기간"><span class="header-section-number">5.2.4</span> 충분한 실험 기간</h3>
<p><strong>시간적 변동 고려</strong><br>
- 요일 효과 (주중 vs 주말)<br>
- 계절성<br>
- 일반적으로 최소 1-2주 권장</p>
</section>
</section>
<section id="고급-실험-설계" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="고급-실험-설계"><span class="header-section-number">5.3</span> 고급 실험 설계</h2>
<section id="abn-테스트" class="level3" data-number="5.3.1">
<h3 data-number="5.3.1" class="anchored" data-anchor-id="abn-테스트"><span class="header-section-number">5.3.1</span> A/B/n 테스트</h3>
<p><strong>3개 이상의 변형 비교</strong><br>
- A: 기존<br>
- B: 변형 1<br>
- C: 변형 2<br>
- 다중 비교 문제 주의 (Bonferroni 보정)</p>
</section>
<section id="다변량-테스트-multivariate-test" class="level3" data-number="5.3.2">
<h3 data-number="5.3.2" class="anchored" data-anchor-id="다변량-테스트-multivariate-test"><span class="header-section-number">5.3.2</span> 다변량 테스트 (Multivariate Test)</h3>
<p><strong>여러 요소의 조합 테스트</strong><br>
- 예: 버튼 색상(2) × 문구(2) = 4가지 조합<br>
- 복잡하지만 상호작용 효과 파악 가능</p>
</section>
<section id="밴딧-알고리즘-multi-armed-bandit" class="level3" data-number="5.3.3">
<h3 data-number="5.3.3" class="anchored" data-anchor-id="밴딧-알고리즘-multi-armed-bandit"><span class="header-section-number">5.3.3</span> 밴딧 알고리즘 (Multi-Armed Bandit)</h3>
<p><strong>탐색 vs 활용의 균형</strong><br>
- 초기: 모든 변형 탐색<br>
- 점차: 성과 좋은 변형에 트래픽 집중<br>
- A/B 테스트보다 빠른 최적화</p>
</section>
</section>
<section id="주요-지표-metrics" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="주요-지표-metrics"><span class="header-section-number">5.4</span> 주요 지표 (Metrics)</h2>
<section id="주-지표-primary-metric" class="level3" data-number="5.4.1">
<h3 data-number="5.4.1" class="anchored" data-anchor-id="주-지표-primary-metric"><span class="header-section-number">5.4.1</span> 주 지표 (Primary Metric)</h3>
<p><strong>의사결정 기준:</strong><br>
- 클릭률 (CTR)<br>
- 전환율 (Conversion Rate)<br>
- 매출 (Revenue)</p>
</section>
<section id="보조-지표-secondary-metrics" class="level3" data-number="5.4.2">
<h3 data-number="5.4.2" class="anchored" data-anchor-id="보조-지표-secondary-metrics"><span class="header-section-number">5.4.2</span> 보조 지표 (Secondary Metrics)</h3>
<p><strong>부작용 모니터링:</strong><br>
- 이탈률<br>
- 체류 시간<br>
- 다른 페이지 전환율</p>
</section>
<section id="guardrail-metrics" class="level3" data-number="5.4.3">
<h3 data-number="5.4.3" class="anchored" data-anchor-id="guardrail-metrics"><span class="header-section-number">5.4.3</span> Guardrail Metrics</h3>
<p><strong>최소 성능 보장:</strong><br>
- 페이지 로딩 속도<br>
- 오류율<br>
- 고객 만족도</p>
</section>
</section>
<section id="실험의-중요성" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="실험의-중요성"><span class="header-section-number">5.5</span> 실험의 중요성</h2>
<p><strong>데이터 분석 가설의 실전 검증:</strong><br>
데이터 분석을 통해 얻은 가설이나 모델의 예측이 <strong>실제 환경에서 유효한지 확인</strong>하는 필수 과정이다.</p>
<p><strong>의사결정 리스크 감소:</strong><br>
직관이나 경험이 아닌 <strong>객관적 데이터</strong>로 의사결정하여 실패 비용을 최소화한다.</p>
</section>
</section>
<section id="인과-추론-causal-inference" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> 인과 추론 (Causal Inference)</h1>
<ul>
<li>단순히 변수들 간의 <strong>상관관계(correlation)</strong>를 넘어, <strong>한 변수가 다른 변수의 원인이라는 인과 관계(causation)</strong>를 밝히는 통계적/계량 경제학적 방법론이다.</li>
</ul>
<section id="상관관계-vs-인과관계" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="상관관계-vs-인과관계"><span class="header-section-number">6.1</span> 상관관계 vs 인과관계</h2>
<section id="상관관계-correlation" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="상관관계-correlation"><span class="header-section-number">6.1.1</span> 상관관계 (Correlation)</h3>
<ul>
<li>두 변수가 함께 변하는 패턴</li>
<li><strong>예시:</strong>
<ul>
<li>아이스크림 판매량 ↑ → 익사 사고 ↑<br>
</li>
<li>하지만 아이스크림이 익사를 <strong>유발하지 않음</strong><br>
</li>
<li>공통 원인: 여름 날씨 (교란 변수)</li>
</ul></li>
</ul>
</section>
<section id="인과관계-causation" class="level3" data-number="6.1.2">
<h3 data-number="6.1.2" class="anchored" data-anchor-id="인과관계-causation"><span class="header-section-number">6.1.2</span> 인과관계 (Causation)</h3>
<ul>
<li>한 변수의 변화가 다른 변수의 변화를 <strong>직접 야기</strong>
<ul>
<li><strong>조건 (Bradford Hill Criteria):</strong>
<ol type="1">
<li>시간적 선행성: 원인이 결과보다 먼저<br>
</li>
<li>상관관계 존재<br>
</li>
<li>용량-반응 관계<br>
</li>
<li>그럴듯한 메커니즘<br>
</li>
<li>일관성<br>
</li>
<li>특이성</li>
</ol></li>
</ul></li>
</ul>
</section>
</section>
<section id="인과-추론의-핵심-개념" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="인과-추론의-핵심-개념"><span class="header-section-number">6.2</span> 인과 추론의 핵심 개념</h2>
<section id="반사실-counterfactual" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="반사실-counterfactual"><span class="header-section-number">6.2.1</span> 반사실 (Counterfactual)</h3>
<ul>
<li>“만약 처치를 받지 않았다면 어땠을까?”</li>
<li><strong>문제:</strong> 같은 개인이 동시에 두 상태에 있을 수 없음 (근본적 인과 추론의 문제)</li>
<li><strong>해결:</strong> 비슷한 대조군을 통해 반사실 추정</li>
</ul>
</section>
<section id="평균-처치-효과-ate-average-treatment-effect" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="평균-처치-효과-ate-average-treatment-effect"><span class="header-section-number">6.2.2</span> 평균 처치 효과 (ATE: Average Treatment Effect)</h3>
<ul>
<li>처치를 받은 경우와 받지 않은 경우의 평균 차이</li>
</ul>
<pre><code>ATE = E[Y(1) - Y(0)]

Y(1): 처치를 받았을 때 결과
Y(0): 처치를 받지 않았을 때 결과</code></pre>
</section>
<section id="교란-변수-confounder" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="교란-변수-confounder"><span class="header-section-number">6.2.3</span> 교란 변수 (Confounder)</h3>
<ul>
<li>처치와 결과 모두에 영향을 주는 제3의 변수</li>
</ul>
<p><strong>예시:</strong></p>
<pre><code>교육 수준 → 소득 (인과관계인가?)
         ↑
      IQ (교란 변수)</code></pre>
</section>
</section>
<section id="주요-인과-추론-방법" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="주요-인과-추론-방법"><span class="header-section-number">6.3</span> 주요 인과 추론 방법</h2>
<section id="무작위-대조-실험-rct-randomized-controlled-trial" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="무작위-대조-실험-rct-randomized-controlled-trial"><span class="header-section-number">6.3.1</span> 무작위 대조 실험 (RCT: Randomized Controlled Trial)</h3>
<ul>
<li>무작위 할당으로 처치군과 대조군 구성</li>
<li><strong>장점:</strong>
<ul>
<li>교란 변수 통제<br>
</li>
<li>인과관계 입증의 <strong>골드 스탠다드</strong><br>
</li>
</ul></li>
<li><strong>단점:</strong>
<ul>
<li>비용과 시간 소요<br>
</li>
<li>윤리적 제약 (예: 의료 실험)<br>
</li>
<li>실현 불가능한 경우 많음</li>
</ul></li>
</ul>
</section>
<section id="성향-점수-매칭-psm-propensity-score-matching" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="성향-점수-매칭-psm-propensity-score-matching"><span class="header-section-number">6.3.2</span> 성향 점수 매칭 (PSM: Propensity Score Matching)</h3>
<p><strong>방법:</strong><br>
1. 처치 받을 확률(성향 점수) 계산<br>
2. 비슷한 성향 점수를 가진 처치군-대조군 매칭<br>
3. 매칭된 쌍에서 ATE 계산</p>
<p><strong>장점:</strong><br>
- 관찰 데이터에서 사용 가능<br>
- 교란 변수 통제</p>
<p><strong>단점:</strong><br>
- 관측되지 않은 교란 변수는 통제 불가<br>
- 매칭의 질에 의존</p>
<p><strong>예시:</strong> 마케팅 캠페인 효과 분석:<br>
- 처치군: 캠페인 대상 고객<br>
- 대조군: 비슷한 특성을 가진 비대상 고객 매칭</p>
</section>
<section id="도구-변수-iv-instrumental-variable" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="도구-변수-iv-instrumental-variable"><span class="header-section-number">6.3.3</span> 도구 변수 (IV: Instrumental Variable)</h3>
<ul>
<li>처치와 상관있지만, 결과와는 오직 처치를 통해서만 영향을 주는 변수 활용</li>
</ul>
<p><strong>조건:</strong><br>
1. 관련성 (Relevance): 도구 변수가 처치와 상관<br>
2. 외생성 (Exogeneity): 도구 변수가 교란 변수와 무관<br>
3. 배제 제약 (Exclusion): 도구 변수가 결과에 직접 영향 없음</p>
<p><strong>예시:</strong> 교육의 소득 효과<br>
- 문제: 능력이 교란 변수<br>
- 도구 변수: 의무교육 법령 (교육 연수에 영향, 소득에 직접 영향 없음)</p>
</section>
<section id="이중-차분법-did-difference-in-differences" class="level3" data-number="6.3.4">
<h3 data-number="6.3.4" class="anchored" data-anchor-id="이중-차분법-did-difference-in-differences"><span class="header-section-number">6.3.4</span> 이중 차분법 (DID: Difference-in-Differences)</h3>
<ul>
<li>처치 전후의 변화를 처치군과 대조군에서 각각 계산하고, 그 차이를 비교</li>
</ul>
<pre><code>DID = (처치군_후 - 처치군_전) - (대조군_후 - 대조군_전)</code></pre>
<ul>
<li><strong>가정:</strong> 평행 추세 (Parallel Trends): 처치가 없었다면 두 그룹의 추세가 동일했을 것</li>
<li><strong>예시:</strong> 최저임금 인상의 고용 효과
<ul>
<li>처치군: 최저임금 인상한 주<br>
</li>
<li>대조군: 인상하지 않은 주<br>
</li>
<li>전/후 고용 변화 비교</li>
</ul></li>
</ul>
</section>
<section id="회귀-불연속-rdd-regression-discontinuity-design" class="level3" data-number="6.3.5">
<h3 data-number="6.3.5" class="anchored" data-anchor-id="회귀-불연속-rdd-regression-discontinuity-design"><span class="header-section-number">6.3.5</span> 회귀 불연속 (RDD: Regression Discontinuity Design)</h3>
<ul>
<li>특정 기준점(cutoff)을 경계로 처치 여부가 결정될 때, 경계 부근의 불연속을 활용</li>
<li><strong>예시:</strong> 장학금의 학업 성취도 효과
<ul>
<li>기준: 시험 점수 80점<br>
</li>
<li>처치: 80점 이상 → 장학금 지급<br>
</li>
<li>79점 vs 81점 학생 비교 (거의 비슷하지만 장학금 여부만 다름)</li>
</ul></li>
</ul>
<p><strong>장점:</strong><br>
- 강력한 인과 추론<br>
- RCT에 가까운 설득력</p>
<p><strong>단점:</strong><br>
- 기준점 부근에서만 적용 가능<br>
- 외적 타당도 제한</p>
</section>
<section id="합성-대조군-synthetic-control" class="level3" data-number="6.3.6">
<h3 data-number="6.3.6" class="anchored" data-anchor-id="합성-대조군-synthetic-control"><span class="header-section-number">6.3.6</span> 합성 대조군 (Synthetic Control)</h3>
<ul>
<li>여러 대조군을 가중 평균하여 처치군과 가장 유사한 “합성” 대조군 생성</li>
<li><strong>예시:</strong> 특정 국가의 정책 효과
<ul>
<li>처치군: 정책 시행 국가</li>
<li>합성 대조군: 여러 비시행 국가들의 가중 평균 (시행 전 추세가 유사하도록)</li>
</ul></li>
</ul>
</section>
</section>
<section id="인과-추론의-중요성" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="인과-추론의-중요성"><span class="header-section-number">6.4</span> 인과 추론의 중요성</h2>
<ul>
<li><strong>올바른 의사결정:</strong> “이 마케팅 캠페인 <strong>때문에</strong> 매출이 올랐다”와 같은 인과적 주장을 하려면, 단순한 상관관계 분석을 넘어 인과 추론 방법론이 필요하다.</li>
<li><strong>정책 평가:</strong> 정부 정책, 기업 전략의 실제 효과를 과학적으로 평가하여 자원 낭비를 방지한다.</li>
</ul>
<p><strong>머신러닝과의 차이:</strong><br>
- <strong>머신러닝</strong>: 예측 (Prediction) - “무엇이 일어날 것인가?”<br>
- <strong>인과 추론</strong>: 인과 (Causation) - “왜 일어났는가? 개입하면 무슨 일이 생기는가?”</p>
</section>
<section id="인과-추론-주요-도구" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="인과-추론-주요-도구"><span class="header-section-number">6.5</span> 인과 추론 주요 도구</h2>
<p><strong>Python:</strong><br>
- DoWhy: Microsoft의 인과 추론 라이브러리<br>
- CausalML: Uber의 인과 머신러닝<br>
- EconML: Microsoft의 이질적 처치 효과</p>
<p><strong>R:</strong><br>
- MatchIt: 성향 점수 매칭<br>
- AER: 도구 변수<br>
- Synth: 합성 대조군</p>
</section>
</section>
<section id="데이터-분석-생태계-통합-관점" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> 데이터 분석 생태계 통합 관점</h1>
<section id="역할-분담" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="역할-분담"><span class="header-section-number">7.1</span> 역할 분담</h2>
<table class="table">
<colgroup>
<col style="width: 26%">
<col style="width: 26%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="header">
<th>요소</th>
<th>역할</th>
<th>핵심 질문</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>데이터 엔지니어링</strong></td>
<td>인프라 구축</td>
<td>“데이터를 어떻게 준비할까?”</td>
</tr>
<tr class="even">
<td><strong>통계/ML/DL/AI</strong></td>
<td>분석 및 모델링</td>
<td>“무슨 패턴이 있고, 무엇을 예측할 수 있나?”</td>
</tr>
<tr class="odd">
<td><strong>시각화/BI</strong></td>
<td>의사소통</td>
<td>“어떻게 전달할까?”</td>
</tr>
<tr class="even">
<td><strong>실험 설계</strong></td>
<td>검증</td>
<td>“정말 효과가 있나?”</td>
</tr>
<tr class="odd">
<td><strong>인과 추론</strong></td>
<td>인과 관계</td>
<td>“왜 그런 일이 일어났나?”</td>
</tr>
</tbody>
</table>
</section>
<section id="실무-프로젝트-흐름" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="실무-프로젝트-흐름"><span class="header-section-number">7.2</span> 실무 프로젝트 흐름</h2>
<ol type="1">
<li>비즈니스 문제 정의<br>
</li>
<li>데이터 엔지니어링
<ul>
<li>데이터 수집 및 파이프라인 구축<br>
</li>
</ul></li>
<li>탐색적 데이터 분석 (EDA)
<ul>
<li>통계적 분석<br>
</li>
<li>시각화<br>
</li>
</ul></li>
<li>모델링
<ul>
<li>머신러닝/딥러닝 모델 구축<br>
</li>
</ul></li>
<li>모델 평가 및 해석
<ul>
<li>통계적 검정<br>
</li>
<li>특징 중요도 분석<br>
</li>
</ul></li>
<li>대시보드 및 리포트 (BI)
<ul>
<li>결과 시각화<br>
</li>
<li>정기 모니터링<br>
</li>
</ul></li>
<li>A/B 테스트
<ul>
<li>실제 환경 검증<br>
</li>
</ul></li>
<li>인과 추론 (필요 시)
<ul>
<li>정책 효과 평가<br>
</li>
<li>전략 ROI 계산<br>
</li>
</ul></li>
<li>의사결정 및 실행<br>
</li>
<li>지속적 모니터링 및 개선</li>
</ol>
</section>
<section id="참고-자료" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">7.3</span> 참고 자료</h2>
<ol type="1">
<li>Kimball, R., &amp; Ross, M. (2013). The Data Warehouse Toolkit (3rd ed.)<br>
</li>
<li>Kleppmann, M. (2017). Designing Data-Intensive Applications<br>
</li>
<li>Tufte, E. R. (2001). The Visual Display of Quantitative Information (2nd ed.)<br>
</li>
<li>Kohavi, R., Tang, D., &amp; Xu, Y. (2020). Trustworthy Online Controlled Experiments: A Practical Guide to A/B Testing<br>
</li>
<li>Pearl, J., &amp; Mackenzie, D. (2018). The Book of Why: The New Science of Cause and Effect<br>
</li>
<li>Angrist, J. D., &amp; Pischke, J.-S. (2009). Mostly Harmless Econometrics</li>
</ol>


</section>
</section>

 ]]></description>
  <category>Statistics</category>
  <category>Data Science</category>
  <category>Data Engineering</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Data_Science/00-basic-concept-supplement.html</guid>
  <pubDate>Sun, 07 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>데이터 분석의 개념과 도구 생태계</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Statistics/00-basic-concept.html</link>
  <description><![CDATA[ 





<section id="analysis-vs-analytics-핵심-개념-이해" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Analysis vs Analytics: 핵심 개념 이해</h1>
<p>데이터 기반 의사결정 산업에서 Analysis와 Analytics가 자주 등장하지만, 명확한 차이가 존재한다.</p>
<section id="analysis-분석" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="analysis-분석"><span class="header-section-number">1.1</span> Analysis (분석)</h2>
<ul>
<li><strong>과거에 일어난 일이나 현재의 데이터를 면밀히 조사하고 이해하는 행위</strong>를 의미한다.<br>
</li>
<li>이미 발생한 사건이나 현상을 해부하고, 그 패턴이나 원인을 파악하는 데 집중한다.<br>
</li>
<li><strong>시간적 관점:</strong>
<ul>
<li>과거 지향적 (Backward-looking)<br>
</li>
<li>이미 수집된 데이터 기반<br>
</li>
</ul></li>
<li><strong>핵심 질문:</strong>
<ul>
<li>“무엇이 일어났는가?” (What happened?)<br>
</li>
<li>“왜 그런 일이 일어났는가?” (Why did it happen?)<br>
</li>
</ul></li>
<li><strong>주요 활동:</strong>
<ul>
<li>데이터 탐색 및 검증<br>
</li>
<li>패턴 및 추세 식별<br>
</li>
<li>원인 및 상관관계 파악<br>
</li>
<li>문제점 진단</li>
</ul></li>
</ul>
<section id="실무-예시" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="실무-예시"><span class="header-section-number">1.1.1</span> 실무 예시</h3>
<ul>
<li>지난 분기 매출 감소 원인 분석</li>
<li>고객 이탈률 증가 요인 파악</li>
<li>재고 회전율 저하 원인 규명</li>
<li>사용자 행동 패턴 분석</li>
<li>특정 페이지의 이탈률 원인 분석</li>
<li>전환율 하락 구간 식별</li>
<li>특정 질병의 발병률 추이 분석</li>
<li>치료 효과성 평가</li>
<li>의료 비용 증가 요인 분석</li>
</ul>
</section>
</section>
<section id="analytics-분석학" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="analytics-분석학"><span class="header-section-number">1.2</span> Analytics (분석학)</h2>
<ul>
<li>Analysis를 포함하여 <strong>데이터를 체계적으로 검토하고, 이를 바탕으로 미래를 예측하거나 의사결정을 안내하는 광범위한 과정 또는 학문 분야</strong>를 의미한다.<br>
</li>
<li>“Analytics”가 “-ics”로 끝나 학문적인 느낌을 주는 것은 사실이지만, 비즈니스 분야에서는 이 학문적 접근 방식 자체를 <strong>“데이터 기반의 전략적인 의사결정 프로세스”</strong>로 통칭하는 경우가 많다.<br>
</li>
<li><strong>시간적 관점:</strong>
<ul>
<li>미래 지향적 (Forward-looking)<br>
</li>
<li>과거와 현재 데이터를 활용한 예측 및 최적화<br>
</li>
</ul></li>
<li><strong>핵심 질문:</strong>
<ul>
<li>“무엇이 일어날 것인가?” (What will happen?)<br>
</li>
<li>“우리가 무엇을 해야 하는가?” (What should we do?)<br>
</li>
<li>“어떻게 하면 최적화할 수 있는가?” (How can we optimize it?)<br>
</li>
</ul></li>
<li><strong>주요 활동:</strong>
<ul>
<li>예측 모델링<br>
</li>
<li>시나리오 분석<br>
</li>
<li>의사결정 최적화<br>
</li>
<li>전략 수립 및 추천</li>
</ul></li>
</ul>
<section id="analytics의-4단계-성숙도-모델" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="analytics의-4단계-성숙도-모델"><span class="header-section-number">1.2.1</span> Analytics의 4단계 성숙도 모델</h3>
<p><strong>1. Descriptive Analytics (기술적 분석)</strong><br>
- 과거 데이터 요약 및 시각화<br>
- “무엇이 일어났는가?”<br>
- 예: 대시보드, 리포트</p>
<p><strong>2. Diagnostic Analytics (진단적 분석)</strong><br>
- 원인 분석 및 관계 파악<br>
- “왜 일어났는가?”<br>
- 예: 드릴다운 분석, 상관관계 분석</p>
<p><strong>3. Predictive Analytics (예측적 분석)</strong><br>
- 미래 예측 및 확률 추정<br>
- “무엇이 일어날 것인가?”<br>
- 예: 수요 예측, 이탈 예측</p>
<p><strong>4. Prescriptive Analytics (처방적 분석)</strong><br>
- 최적 행동 방안 제시<br>
- “무엇을 해야 하는가?”<br>
- 예: 최적화 알고리즘, 의사결정 자동화</p>
</section>
<section id="실무-예시-1" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="실무-예시-1"><span class="header-section-number">1.2.2</span> 실무 예시</h3>
<ul>
<li>판매량 감소 원인 분석 → 다음 분기 마케팅 전략 수립 → 매출 예측 → 최적 예산 배분</li>
<li>고객 이탈 예측 모델 구축 → 이탈 방지 캠페인 설계</li>
<li>사용자 행동 패턴 분석 → 다음 구매 상품 예측 → 개인화 추천</li>
<li>A/B 테스트 결과 분석 → 최적 UI/UX 선택</li>
<li>질병 발병 추이 분석 → 미래 발병률 예측 → 보건 정책 수립</li>
</ul>
</section>
</section>
<section id="analysis-vs-analytics-비교표" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="analysis-vs-analytics-비교표"><span class="header-section-number">1.3</span> Analysis vs Analytics: 비교표</h2>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 37%">
<col style="width: 40%">
</colgroup>
<thead>
<tr class="header">
<th>구분</th>
<th>Analysis</th>
<th>Analytics</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>시간 관점</strong></td>
<td>과거 지향적</td>
<td>미래 지향적</td>
</tr>
<tr class="even">
<td><strong>핵심 질문</strong></td>
<td>What? Why?</td>
<td>What will? What should?</td>
</tr>
<tr class="odd">
<td><strong>목적</strong></td>
<td>이해 및 설명</td>
<td>예측 및 최적화</td>
</tr>
<tr class="even">
<td><strong>범위</strong></td>
<td>좁고 깊게</td>
<td>넓고 전략적</td>
</tr>
<tr class="odd">
<td><strong>산출물</strong></td>
<td>리포트, 인사이트</td>
<td>예측 모델, 의사결정 가이드</td>
</tr>
<tr class="even">
<td><strong>기법</strong></td>
<td>탐색적 분석, 통계적 검정</td>
<td>머신러닝, 최적화, 시뮬레이션</td>
</tr>
<tr class="odd">
<td><strong>적용 예시</strong></td>
<td>“지난달 매출이 왜 감소했나?”</td>
<td>“다음 분기 매출은 얼마일까? 어떻게 늘릴까?”</td>
</tr>
</tbody>
</table>
</section>
<section id="둘의-관계" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="둘의-관계"><span class="header-section-number">1.4</span> 둘의 관계</h2>
<ul>
<li>포함관계: Analytics는 Analysis를 포함하는 더 큰 개념이다. 효과적인 Analytics를 위해서는 먼저 정확한 Analysis가 선행되어야 한다.</li>
<li><strong>Analysis</strong>: 돋보기를 들고 데이터의 특정 부분을 들여다보며 “무슨 일이 있었는지” 깊이 파고드는 행위</li>
<li><strong>Analytics</strong>: 더 큰 그림을 보고 분석 결과를 바탕으로 “미래를 예측하고 어떻게 행동해야 할지” 전략을 세우는 학문이나 과정</li>
</ul>
<pre><code>1. 데이터 수집 및 정제
   ↓
2. Analysis (탐색 및 진단)
   ↓
3. Analytics (예측 및 최적화)
   ↓
4. 의사결정 및 실행
   ↓
5. 모니터링 및 피드백 → 1번으로 순환</code></pre>
</section>
<section id="analytics의-학문적-의미" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="analytics의-학문적-의미"><span class="header-section-number">1.5</span> Analytics의 학문적 의미</h2>
<ul>
<li>Economics (경제학), Physics (물리학), Linguistics (언어학)처럼 “-ics”로 끝나는 단어는 학문 분야를 의미하는 경우가 많다.<br>
</li>
<li>따라서, <strong>Analytics는 데이터 분석을 통해 인사이트를 얻고 미래를 예측하며 의사결정을 내리는 학문 분야 또는 접근 방식</strong>을 의미한다.<br>
</li>
<li><strong>학문적, 실용적, 비즈니스 의미를 모두 포괄:</strong>
<ul>
<li>Business Analytics (비즈니스 분석학): 경영 문제를 해결하기 위한 데이터 분석 학문<br>
</li>
<li>Marketing Analytics (마케팅 분석학): 마케팅 성과를 데이터로 분석하고 전략을 수립하는 학문<br>
</li>
<li>People Analytics (인사 분석학): 인적 자원 관리를 위한 데이터 기반 의사결정<br>
</li>
</ul></li>
<li><strong>실무에서의 활용:</strong>
<ul>
<li>실제 비즈니스 현장에서는 “데이터 애널리틱스 팀”, “애널리틱스 역량 강화”와 같이 <strong>데이터를 활용해 가치를 창출하는 부서, 팀, 과정, 전략 자체</strong>를 의미하는 말로 자연스럽게 사용된다.<br>
</li>
</ul></li>
<li>Analytics는 학문적 배경을 가지고 있지만, 비즈니스 영역에서는 데이터 기반의 전략적 의사결정과 문제 해결을 위한 <strong>핵심 역량이자 프로세스</strong>를 의미하는 필수적인 용어이다.</li>
</ul>
</section>
</section>
<section id="데이터-분석-핵심-기술-스택" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> 데이터 분석 핵심 기술 스택</h1>
<ul>
<li>데이터 분석에는 다양한 기술과 도구가 활용된다.</li>
<li>각 기술은 고유한 특성과 강점을 가지며, 상호 보완적인 관계를 형성한다.</li>
</ul>
<section id="기술-간-계층-구조" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="기술-간-계층-구조"><span class="header-section-number">2.1</span> 기술 간 계층 구조</h2>
<pre><code>      ┌──────────────────────────────────────┐
      │  인공지능 (Artificial Intelligence)   │
      │                                      │
      │  ┌──────────────┬─────────────────┐  │
      │  │ Rule-based AI│ Data-driven AI  │  │
      │  │  (If-then )  │ (stat/ML/DL)    │  │
      │  └──────────────┴─────────────────┘  │
      └──────────────────────────────────────┘


┌─────────────────────────────────────────────┐
│         생성형 AI (Generative AI)            │  ← 최신 기술
│  ┌───────────────────────────────────────┐  │
│  │     딥러닝 (DL, Deep Learning)         │  │
│  │  ┌─────────────────────────────────┐  │  │
│  │  │  머신러닝 (ML, Machine Learning) │  │  │
│  │  │  ┌───────────────────────────┐  │  │  │
│  │  │  │  통계 (Stat, Statistics)   │  │  │  │  ← 기반 학문
│  │  │  └───────────────────────────┘  │  │  │
│  │  └─────────────────────────────────┘  │  │
│  └───────────────────────────────────────┘  │
└─────────────────────────────────────────────┘
</code></pre>
</section>
<section id="통계-statistics" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="통계-statistics"><span class="header-section-number">2.2</span> 통계 (Statistics)</h2>
<ul>
<li>데이터 수집, 정리, 분석, 해석, 발표를 다루는 <strong>가장 근본적인 학문 분야</strong>로, 불확실성 하에서 의사결정을 내리거나 현상을 이해하는 데 사용된다.</li>
<li>설명력이 매우 높아 보수적인 산업분야에서 데이터 분석 도구의 Gold Standard로 쓰인다.</li>
<li><strong>이론적 기반:</strong>
<ul>
<li>확률 이론 (Probability Theory)<br>
</li>
<li>가설 검정 (Hypothesis Testing)<br>
</li>
<li>추정 (Estimation)<br>
</li>
<li>추론 (Inference)<br>
</li>
<li>회귀 분석 (Regression Analysis)<br>
</li>
<li>상관관계 분석 (Correlation Analysis)<br>
</li>
</ul></li>
<li><strong>두 가지 분야:</strong>
<ul>
<li><strong>기술 통계 (Descriptive Statistics)</strong>: 데이터 요약 및 시각화<br>
</li>
<li><strong>추론 통계 (Inferential Statistics)</strong>: 표본에서 모집단으로의 일반화</li>
</ul></li>
</ul>
<section id="데이터-분석에서의-역할" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="데이터-분석에서의-역할"><span class="header-section-number">2.2.1</span> 데이터 분석에서의 역할</h3>
<p><strong>핵심 강점:</strong><br>
- 데이터의 분포, 경향성, 변수 간 관계 <strong>설명 및 추론</strong> - 불확실성의 <strong>정량화</strong> (신뢰구간, p-value) - 인과관계 추론의 <strong>수학적 기반</strong> 제공 - 수학적으로 엄밀한 이론적 기반 - 결과 해석이 명확하고 설명 가능 - 소규모 데이터에도 효과적 - 불확실성 측정 가능</p>
<p><strong>활용 분야:</strong><br>
- A/B 테스트 결과 검증 - 머신러닝 모델 성능 평가 - 데이터 품질 검증 - 실험 설계 및 표본 추출</p>
<p><strong>단점:</strong><br>
- 복잡한 비선형 관계 포착 어려움 - 고차원 데이터 처리 한계 - 사전 가정(정규성, 독립성 등) 필요 - 특징 공학(Feature Engineering) 수작업 필요</p>
</section>
</section>
<section id="머신러닝-machine-learning" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="머신러닝-machine-learning"><span class="header-section-number">2.3</span> 머신러닝 (Machine Learning)</h2>
<ul>
<li>컴퓨터가 <strong>명시적인 프로그래밍 없이 데이터로부터 학습하고 성능을 향상</strong>시키는 알고리즘과 기술을 개발하는 분야이다.</li>
</ul>
<p><strong>학습 방식별 분류:</strong></p>
<p><strong>1. 지도 학습 (Supervised Learning)</strong><br>
- 정의: 레이블된 데이터로 학습<br>
- 목적: 입력 → 출력 매핑 학습<br>
- 유형:<br>
- 분류 (Classification): 범주 예측 (예: 스팸 필터, 질병 진단)<br>
- 회귀 (Regression): 연속값 예측 (예: 주가 예측, 매출 예측)<br>
- 대표 알고리즘:<br>
- 선형 회귀, 로지스틱 회귀<br>
- 의사결정 트리 (Decision Tree)<br>
- 랜덤 포레스트 (Random Forest)<br>
- 서포트 벡터 머신 (SVM)<br>
- 그래디언트 부스팅 (XGBoost, LightGBM)</p>
<p><strong>2. 비지도 학습 (Unsupervised Learning)</strong><br>
- 정의: 레이블 없는 데이터에서 패턴 발견<br>
- 목적: 데이터 구조 파악<br>
- 유형:<br>
- 군집화 (Clustering): 유사한 데이터 그룹화 (예: 고객 세분화)<br>
- 차원 축소 (Dimensionality Reduction): 특징 압축 (예: PCA, t-SNE)<br>
- 이상 탐지 (Anomaly Detection): 비정상 패턴 식별<br>
- 대표 알고리즘:<br>
- K-means, DBSCAN<br>
- PCA, Autoencoder<br>
- Isolation Forest</p>
<p><strong>3. 강화 학습 (Reinforcement Learning)</strong><br>
- 정의: 시행착오를 통한 보상 최대화 학습 - 목적: 최적 행동 전략 학습 - 활용: 게임 AI, 로봇 제어, 추천 시스템 - 대표 알고리즘: - Q-Learning - Deep Q-Network (DQN) - Policy Gradient</p>
<section id="데이터-분석에서의-역할-1" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="데이터-분석에서의-역할-1"><span class="header-section-number">2.3.1</span> 데이터 분석에서의 역할</h3>
<p><strong>핵심 강점:</strong><br>
- 복잡한 <strong>비선형 관계</strong> 학습 - 대용량 데이터에서 <strong>자동 패턴 발견</strong> - 예측 정확도 향상 - 다양한 데이터 유형 처리 - 높은 예측 정확도 - 다양한 문제에 적용 가능</p>
<p><strong>활용 분야:</strong><br>
- 고객 이탈 예측 - 수요 예측 - 추천 시스템 - 이상 거래 탐지 - 이미지/텍스트 분류</p>
<p><strong>단점:</strong><br>
- 해석 가능성 낮음 (특히 앙상블 모델) - 과적합 (Overfitting) 위험 - 대량의 학습 데이터 필요 - 하이퍼파라미터 튜닝 복잡</p>
</section>
<section id="통계와의-차이" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="통계와의-차이"><span class="header-section-number">2.3.2</span> 통계와의 차이</h3>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>통계</th>
<th>머신러닝</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>목적</strong></td>
<td>이해 및 추론</td>
<td>예측 및 패턴 발견</td>
</tr>
<tr class="even">
<td><strong>접근법</strong></td>
<td>가설 검정 중심</td>
<td>데이터 기반 학습</td>
</tr>
<tr class="odd">
<td><strong>해석성</strong></td>
<td>높음 (수식 기반)</td>
<td>중간 (모델 의존적)</td>
</tr>
<tr class="even">
<td><strong>확장성</strong></td>
<td>소규모 데이터 적합</td>
<td>대규모 데이터 적합</td>
</tr>
<tr class="odd">
<td><strong>복잡도</strong></td>
<td>단순 모델 선호</td>
<td>복잡한 모델 가능</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="딥러닝-deep-learning" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="딥러닝-deep-learning"><span class="header-section-number">2.4</span> 딥러닝 (Deep Learning)</h2>
<ul>
<li>머신러닝의 특별한 형태로, <strong>인공신경망(Artificial Neural Networks)을 여러 겹(Deep Layer)으로 쌓아 올린 모델</strong>을 사용하여 학습하는 방식이다.</li>
<li>인간 뇌의 뉴런 구조를 모방한다.</li>
<li><strong>신경망 구조:</strong>
<ul>
<li>입력층 (Input Layer)</li>
<li>은닉층 (Hidden Layers) - <strong>여러 겹으로 깊게 쌓임</strong></li>
<li>출력층 (Output Layer)</li>
<li>활성화 함수 (Activation Function): ReLU, Sigmoid, Tanh</li>
<li>역전파 (Backpropagation): 오차를 역방향으로 전파하여 가중치 업데이트</li>
</ul></li>
</ul>
<p><strong>주요 아키텍처:</strong></p>
<p><strong>1. CNN (Convolutional Neural Network)</strong><br>
- 용도: 이미지 처리<br>
- 특징: 합성곱 연산으로 공간적 특징 추출<br>
- 활용: 이미지 분류, 객체 탐지, 얼굴 인식, 의료 영상 분석<br>
<strong>2. RNN/LSTM (Recurrent Neural Network / Long Short-Term Memory)</strong><br>
- 용도: 시계열 데이터, 순차 데이터<br>
- 특징: 이전 정보를 기억하여 현재 예측에 활용<br>
- 활용: 주가 예측, 자연어 처리, 음성 인식<br>
<strong>3. Transformer</strong><br>
- 용도: 자연어 처리 (NLP)<br>
- 특징: 어텐션 메커니즘으로 문맥 이해<br>
- 활용: 번역, 요약, 질의응답, 텍스트 생성<br>
- 대표 모델: BERT, GPT, T5<br>
<strong>4. GAN (Generative Adversarial Network)</strong><br>
- 용도: 생성 모델<br>
- 특징: 생성자와 판별자의 경쟁 학습<br>
- 활용: 이미지 생성, 스타일 변환, 데이터 증강<br>
<strong>5. Autoencoder</strong><br>
- 용도: 차원 축소, 이상 탐지<br>
- 특징: 데이터를 압축했다가 복원<br>
- 활용: 특징 추출, 노이즈 제거</p>
<section id="데이터-분석에서의-역할-2" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="데이터-분석에서의-역할-2"><span class="header-section-number">2.4.1</span> 데이터 분석에서의 역할</h3>
<p><strong>핵심 강점:</strong><br>
- <strong>자동 특징 추출</strong> (Feature Learning)<br>
- 비정형 데이터 (이미지, 텍스트, 음성) 처리 탁월<br>
- 대규모 데이터에서 복잡한 패턴 학습<br>
- 전이 학습 (Transfer Learning) 가능<br>
- 최고 수준의 예측 정확도<br>
- 비정형 데이터 처리 탁월<br>
- 자동 특징 추출 (사람의 개입 최소화)<br>
- 전이 학습으로 효율성 향상</p>
<p><strong>단점:</strong><br>
- 대량의 데이터 필요 (수천~수백만 샘플)<br>
- 막대한 컴퓨팅 자원 (GPU/TPU)<br>
- 학습 시간 오래 걸림<br>
- 블랙박스로 해석 매우 어려움<br>
- 과적합 위험 높음</p>
<p><strong>활용 분야:</strong><br>
- 이미지: 제품 불량 검사, 의료 영상 진단<br>
- 텍스트: 감성 분석, 문서 분류, 챗봇<br>
- 음성: 음성 인식, 화자 식별<br>
- 시계열: 이상 탐지, 수요 예측</p>
</section>
<section id="머신러닝과의-차이" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="머신러닝과의-차이"><span class="header-section-number">2.4.2</span> 머신러닝과의 차이</h3>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>머신러닝</th>
<th>딥러닝</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>모델 구조</strong></td>
<td>얕은 구조</td>
<td>깊은 다층 구조</td>
</tr>
<tr class="even">
<td><strong>특징 추출</strong></td>
<td>수동 (Feature Engineering)</td>
<td>자동 (Feature Learning)</td>
</tr>
<tr class="odd">
<td><strong>데이터 요구량</strong></td>
<td>중간 규모 가능</td>
<td>대규모 필수</td>
</tr>
<tr class="even">
<td><strong>컴퓨팅 자원</strong></td>
<td>적음</td>
<td>많음 (GPU 필요)</td>
</tr>
<tr class="odd">
<td><strong>해석 가능성</strong></td>
<td>중간</td>
<td>낮음 (블랙박스)</td>
</tr>
<tr class="even">
<td><strong>적합 데이터</strong></td>
<td>정형 데이터 우수</td>
<td>비정형 데이터 우수</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="인공지능-artificial-intelligence-ai" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="인공지능-artificial-intelligence-ai"><span class="header-section-number">2.5</span> 인공지능 (Artificial Intelligence, AI)</h2>
<ul>
<li>인간의 지능을 모방하여 학습하고, 문제를 해결하며, 의사결정을 내리는 컴퓨터 시스템을 만드는 것을 목표로 하는 <strong>가장 광범위한 분야</strong>이다.</li>
<li>머신러닝과 딥러닝은 모두 AI의 하위 분야에 속한다.</li>
</ul>
<section id="ai의-분류-체계" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="ai의-분류-체계"><span class="header-section-number">2.5.1</span> AI의 분류 체계</h3>
<section id="능력-수준별-분류" class="level4" data-number="2.5.1.1">
<h4 data-number="2.5.1.1" class="anchored" data-anchor-id="능력-수준별-분류"><span class="header-section-number">2.5.1.1</span> 능력 수준별 분류**</h4>
<p><strong>1. ANI (Artificial Narrow Intelligence) - 약인공지능</strong><br>
- 특정 작업에 특화된 AI<br>
- 현황: 현재 모든 AI가 여기 해당<br>
- 예시: 체스 AI, 이미지 인식, 음성 비서</p>
<p><strong>2. AGI (Artificial General Intelligence) - 강인공지능</strong><br>
- 정의: 인간 수준의 범용 지능<br>
- 현황: 아직 실현 안 됨<br>
- 목표: 모든 지적 작업 수행 가능</p>
<p><strong>3. ASI (Artificial Super Intelligence) - 초인공지능</strong><br>
- 인간을 초월한 지능<br>
- 현황: 이론적 개념<br>
- 우려: 통제 가능성 문제</p>
</section>
<section id="작동-방식별-분류" class="level4" data-number="2.5.1.2">
<h4 data-number="2.5.1.2" class="anchored" data-anchor-id="작동-방식별-분류"><span class="header-section-number">2.5.1.2</span> 작동 방식별 분류**</h4>
<ol type="1">
<li>Rule-based AI (규칙 기반 AI)</li>
</ol>
<ul>
<li>인간이 미리 정의한 <strong>명시적인 규칙 (IF-THEN 로직)</strong>을 바탕으로 작동하는 AI</li>
<li>지식 베이스 (Knowledge Base): 규칙 저장소</li>
<li>추론 엔진 (Inference Engine): 규칙 실행 엔진</li>
<li>전문가 시스템 (Expert System): 특정 도메인 전문 지식 활용</li>
<li>비즈니스 로직 기반 데이터 분류</li>
<li>이상 징후 감지 (threshold 기반)</li>
<li>규정 준수 검증</li>
<li>의사결정 트리 기반 분석</li>
</ul>
<p><strong>장점:</strong><br>
- 결과 설명 가능 (완벽한 투명성)<br>
- 학습 데이터 불필요<br>
- 즉시 배포 가능<br>
- 일관된 결과 보장<br>
- 도메인 전문가 지식 활용</p>
<p><strong>단점:</strong><br>
- 유연성 낮음 (새로운 상황 대응 어려움)<br>
- 규칙 관리 복잡 (규칙 증가 시 유지보수 어려움)<br>
- 예외 처리 한계<br>
- 확장성 부족<br>
- 복잡한 패턴 포착 불가</p>
<pre><code>IF 조건1 AND 조건2 THEN 행동A
ELSE IF 조건3 THEN 행동B
ELSE 행동C</code></pre>
<p><strong>활용 예시:</strong></p>
<pre><code>금융 사기 탐지:
IF 거래금액 &gt; 1,000,000원 AND 해외거래 = True AND 시간 = 새벽
THEN 경고알림

재고 관리:
IF 재고량 &lt; 안전재고 THEN 발주요청

고객 등급 분류:
IF 구매금액 &gt; 1,000만원 AND 방문횟수 &gt; 50 THEN VIP등급</code></pre>
<ol start="2" type="1">
<li>Data-driven AI (데이터 기반 AI)</li>
</ol>
<ul>
<li><strong>대량의 데이터를 학습</strong>하여 패턴을 스스로 찾아내고, 이를 바탕으로 예측하거나 의사결정을 내리는 AI. <strong>머신러닝과 딥러닝이 여기에 속한다.</strong></li>
<li><strong>학습 과정:</strong>
<ol type="1">
<li>데이터 수집 및 전처리<br>
</li>
<li>모델 선택 및 학습<br>
</li>
<li>검증 및 튜닝<br>
</li>
<li>배포 및 모니터링<br>
</li>
<li>재학습 (Continuous Learning)<br>
</li>
</ol></li>
<li><strong>데이터 분석에서의 역할:</strong>
<ul>
<li>복잡한 예측 모델 구축<br>
</li>
<li>자동 패턴 발견<br>
</li>
<li>개인화 추천<br>
</li>
<li>자연어 이해<br>
</li>
<li>이미지/음성 인식<br>
<strong>장점:</strong><br>
</li>
</ul></li>
<li>복잡한 패턴 자동 학습<br>
</li>
<li>새로운 데이터에 적응 가능<br>
</li>
<li>높은 예측 정확도<br>
</li>
<li>사람이 발견 못한 인사이트 도출<br>
</li>
<li>확장성 우수<br>
<strong>단점:</strong><br>
</li>
<li>대량의 학습 데이터 필요<br>
</li>
<li>블랙박스 (해석 어려움)<br>
</li>
<li>편향 (Bias) 위험<br>
</li>
<li>학습 시간/비용 많이 소요<br>
</li>
<li>예측 불가능한 실패 가능성</li>
</ul>
<pre><code>대량 데이터 → 학습 알고리즘 → 패턴 발견 → 예측 모델
↑                                              ↓
└──────────── 피드백 및 재학습 ←───────────────┘</code></pre>
<p><strong>활용 예시:</strong></p>
<pre><code>고객 이탈 예측:
과거 이탈 고객 데이터 학습 → 이탈 가능성 점수 예측

추천 시스템:
사용자 행동 데이터 학습 → 개인 맞춤 상품 추천

감성 분석:
리뷰 데이터 학습 → 긍정/부정 자동 분류</code></pre>
</section>
<section id="rule-based-vs-data-driven-비교" class="level4" data-number="2.5.1.3">
<h4 data-number="2.5.1.3" class="anchored" data-anchor-id="rule-based-vs-data-driven-비교"><span class="header-section-number">2.5.1.3</span> Rule-based vs Data-driven 비교</h4>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>Rule-based AI</th>
<th>Data-driven AI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>학습 방식</strong></td>
<td>규칙 정의</td>
<td>데이터 학습</td>
</tr>
<tr class="even">
<td><strong>데이터 필요성</strong></td>
<td>불필요</td>
<td>대량 필수</td>
</tr>
<tr class="odd">
<td><strong>유연성</strong></td>
<td>낮음</td>
<td>높음</td>
</tr>
<tr class="even">
<td><strong>설명 가능성</strong></td>
<td>완벽</td>
<td>낮음</td>
</tr>
<tr class="odd">
<td><strong>정확도</strong></td>
<td>제한적</td>
<td>높음</td>
</tr>
<tr class="even">
<td><strong>유지보수</strong></td>
<td>복잡</td>
<td>재학습으로 해결</td>
</tr>
<tr class="odd">
<td><strong>적합 상황</strong></td>
<td>명확한 규칙 존재</td>
<td>복잡한 패턴</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="하이브리드-접근법" class="level3" data-number="2.5.2">
<h3 data-number="2.5.2" class="anchored" data-anchor-id="하이브리드-접근법"><span class="header-section-number">2.5.2</span> 하이브리드 접근법</h3>
<p><strong>실무에서는 두 방식을 결합하여 사용:</strong></p>
<pre><code>Rule-based AI (기본 로직) + Data-driven AI (복잡한 판단)

예시: 신용평가 시스템
1. Rule-based: 기본 자격 요건 검증 (연령, 소득 범위)
2. Data-driven: 신용 점수 예측 (복잡한 패턴 분석)
3. Rule-based: 최종 승인 정책 적용 (규제 준수)</code></pre>
</section>
</section>
<section id="생성형-ai-generative-ai" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="생성형-ai-generative-ai"><span class="header-section-number">2.6</span> 생성형 AI (Generative AI)</h2>
<ul>
<li>딥러닝 기반 AI의 한 분야로, 기존 데이터를 학습하여 <strong>새롭고 독창적인 콘텐츠(텍스트, 이미지, 오디오, 비디오, 코드 등)를 생성하는 능력</strong>을 가진 AI이다.</li>
<li><strong>생성 vs 판별:</strong>
<ul>
<li><strong>판별 모델 (Discriminative)</strong>: 입력 → 분류/예측 (기존 AI/ML)<br>
</li>
<li><strong>생성 모델 (Generative)</strong>: 입력 → 새로운 콘텐츠 생성<br>
</li>
</ul></li>
<li><strong>주요 아키텍처:</strong><br>
<strong>1. GAN (Generative Adversarial Network)</strong>
<ul>
<li>구조: 생성자(Generator) vs 판별자(Discriminator) 경쟁<br>
</li>
<li>메커니즘:
<ul>
<li>생성자: 가짜 데이터 생성<br>
</li>
<li>판별자: 진짜/가짜 구분<br>
</li>
<li>경쟁을 통해 점점 더 진짜 같은 데이터 생성<br>
</li>
</ul></li>
<li>활용: 이미지 생성, 스타일 변환, 초고해상도 변환<br>
<strong>2. VAE (Variational Autoencoder)</strong><br>
</li>
<li>구조: 인코더 + 디코더<br>
</li>
<li>메커니즘: 데이터를 잠재 공간(latent space)으로 압축 후 재생성<br>
</li>
<li>활용: 이미지 생성, 이상 탐지, 데이터 증강<br>
<strong>3. Diffusion Model</strong><br>
</li>
<li>구조: 노이즈 추가 과정을 역으로 학습<br>
</li>
<li>메커니즘: 무작위 노이즈에서 점진적으로 이미지 복원<br>
</li>
<li>활용: Stable Diffusion, DALL-E 2, Midjourney<br>
</li>
<li>특징: GAN보다 안정적이고 고품질<br>
<strong>4. Transformer 기반 LLM (Large Language Model)</strong><br>
</li>
<li>구조: 어텐션 메커니즘 기반 거대 모델<br>
</li>
<li>메커니즘: 수십억~수조 개 파라미터로 언어 패턴 학습<br>
</li>
<li>활용: GPT-4, Claude, Gemini, LLaMA<br>
</li>
<li>능력: 텍스트 생성, 번역, 요약, 코드 생성, 대화</li>
</ul></li>
</ul>
<section id="데이터-분석에서의-역할-3" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="데이터-분석에서의-역할-3"><span class="header-section-number">2.6.1</span> 데이터 분석에서의 역할</h3>
<ul>
<li><strong>데이터 증강 (Data Augmentation)</strong>: 학습 데이터 부족 문제 해결<br>
</li>
<li><strong>합성 데이터 생성</strong>: 개인정보 보호 유지하며 분석용 데이터 생성<br>
</li>
<li><strong>텍스트 분석 자동화</strong>: 대규모 문서 요약, 분류, 정보 추출<br>
</li>
<li><strong>코드 생성</strong>: 데이터 분석 스크립트 자동 작성<br>
</li>
<li><strong>인사이트 도출</strong>: 패턴 해석 및 보고서 생성</li>
</ul>
<p><strong>1. 데이터 증강:</strong></p>
<pre><code>원본 이미지 100장 → GAN으로 1,000장 생성 → 모델 성능 향상</code></pre>
<p><strong>2. 합성 데이터:</strong></p>
<pre><code>실제 고객 데이터 → 통계적 특성 학습 → 합성 고객 데이터 생성
→ 개인정보 보호 + 분석 가능</code></pre>
<p><strong>3. 텍스트 분석:</strong></p>
<pre><code>고객 리뷰 10,000개 → LLM 요약 → 주요 불만 사항 5가지 도출</code></pre>
<p><strong>4. 코드 생성:</strong></p>
<pre><code>"pandas로 결측치 처리하고 정규화해줘"
→ LLM이 즉시 코드 생성</code></pre>
<p><strong>5. 리포트 자동화:</strong></p>
<pre><code>데이터 분석 결과 → LLM이 비즈니스 인사이트 문장으로 작성
→ 경영진 보고서 자동 생성</code></pre>
</section>
<section id="기존-ai와의-차이" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="기존-ai와의-차이"><span class="header-section-number">2.6.2</span> 기존 AI와의 차이</h3>
<table class="table">
<thead>
<tr class="header">
<th>구분</th>
<th>기존 AI (판별 모델)</th>
<th>생성형 AI</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>목적</strong></td>
<td>분류, 예측</td>
<td>생성, 창작</td>
</tr>
<tr class="even">
<td><strong>출력</strong></td>
<td>레이블, 점수</td>
<td>새로운 콘텐츠</td>
</tr>
<tr class="odd">
<td><strong>질문</strong></td>
<td>“이것은 무엇인가?”</td>
<td>“이것을 만들어줘”</td>
</tr>
<tr class="even">
<td><strong>활용</strong></td>
<td>이미지 분류, 사기 탐지</td>
<td>이미지 생성, 텍스트 작성</td>
</tr>
<tr class="odd">
<td><strong>예시</strong></td>
<td>“이 이미지는 고양이다”</td>
<td>“고양이 이미지를 그려줘”</td>
</tr>
</tbody>
</table>
</section>
<section id="생성형-ai의-유형" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="생성형-ai의-유형"><span class="header-section-number">2.6.3</span> 생성형 AI의 유형</h3>
<p><strong>1. 텍스트 생성 (LLM)</strong><br>
- GPT-4, Claude, Gemini<br>
- 활용: 콘텐츠 작성, 코드 생성, 대화, 번역</p>
<p><strong>2. 이미지 생성</strong><br>
- DALL-E 3, Midjourney, Stable Diffusion<br>
- 활용: 디자인, 광고 소재, 제품 시각화</p>
<p><strong>3. 음성 생성 (TTS)</strong><br>
- ElevenLabs, Google WaveNet<br>
- 활용: 내레이션, 오디오북, 가상 비서</p>
<p><strong>4. 비디오 생성</strong><br>
- Sora, Runway, Synthesia<br>
- 활용: 광고 영상, 교육 콘텐츠</p>
<p><strong>5. 코드 생성</strong><br>
- GitHub Copilot, Amazon CodeWhisperer<br>
- 활용: 프로그래밍 보조, 디버깅</p>
<p><strong>6. 음악 생성</strong><br>
- MusicLM, AIVA<br>
- 활용: 배경음악, 작곡 보조</p>
</section>
<section id="장단점" class="level3" data-number="2.6.4">
<h3 data-number="2.6.4" class="anchored" data-anchor-id="장단점"><span class="header-section-number">2.6.4</span> 장단점</h3>
<p><strong>장점:</strong><br>
- 창의적 콘텐츠 대량 생성<br>
- 데이터 부족 문제 해결<br>
- 반복 작업 자동화<br>
- 개인화 콘텐츠 제작<br>
- 언어 장벽 해소</p>
<p><strong>단점:</strong><br>
- 환각 (Hallucination): 그럴듯하지만 틀린 정보 생성<br>
- 저작권 이슈<br>
- 편향 및 윤리 문제<br>
- 막대한 컴퓨팅 비용<br>
- 악용 가능성 (딥페이크, 허위정보)</p>
</section>
<section id="주요-llm-비교" class="level3" data-number="2.6.5">
<h3 data-number="2.6.5" class="anchored" data-anchor-id="주요-llm-비교"><span class="header-section-number">2.6.5</span> 주요 LLM 비교</h3>
<table class="table">
<thead>
<tr class="header">
<th>모델</th>
<th>개발사</th>
<th>특징</th>
<th>강점</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>GPT-4</strong></td>
<td>OpenAI</td>
<td>범용 언어 모델</td>
<td>코딩, 창의성</td>
</tr>
<tr class="even">
<td><strong>Claude 3</strong></td>
<td>Anthropic</td>
<td>안전성 중시</td>
<td>긴 문서 분석, 윤리</td>
</tr>
<tr class="odd">
<td><strong>Gemini</strong></td>
<td>Google</td>
<td>멀티모달</td>
<td>이미지+텍스트 통합</td>
</tr>
<tr class="even">
<td><strong>LLaMA 3</strong></td>
<td>Meta</td>
<td>오픈소스</td>
<td>커스터마이징 가능</td>
</tr>
</tbody>
</table>


</section>
</section>
</section>

 ]]></description>
  <category>Statistics</category>
  <category>Data Science</category>
  <category>Machine Learning</category>
  <category>AI</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Statistics/00-basic-concept.html</guid>
  <pubDate>Sun, 07 Dec 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>SSH 개요</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Security/0-ssh.html</link>
  <description><![CDATA[ 





<ul>
<li>2025-11-24, <a href="./Infra/Security/ssh.qmd">SSH 기본 개념</a><br>
</li>
<li>2025-11-25, <a href="./Infra/Security/ssh.qmd">SSH 보안 매커니즘</a><br>
</li>
<li>2025-11-26, <a href="./Infra/Security/ssh.qmd">SSH 설치 및 설정</a><br>
</li>
<li>2025-11-27, <a href="./Infra/Security/ssh.qmd">SSH 접속 방법</a><br>
</li>
<li>2025-11-28, <a href="./Infra/Security/ssh.qmd">SSH Config 파일</a><br>
</li>
<li>2025-11-29, <a href="./Infra/Security/ssh.qmd">SSH 사용 - 파일 전송</a><br>
</li>
<li>2025-11-30, <a href="./Infra/Security/ssh.qmd">SSH 사용 - 포트 포워딩</a><br>
</li>
<li>2025-12-01, <a href="./Infra/Security/ssh.qmd">SSH 사용 - 고급활용</a><br>
</li>
<li>2025-12-01, <a href="./Infra/Security/ssh.qmd">SSH 보안 강화</a><br>
</li>
<li>2025-12-01, <a href="./Infra/Security/ssh.qmd">SSH 문제 해결</a></li>
</ul>
<section id="sshsecure-shell-완벽-가이드" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> SSH(Secure Shell) 완벽 가이드</h1>
<p>SSH는 원격 서버에 안전하게 접속하고 관리하기 위한 네트워크 프로토콜이다. 클라우드와 On-Premise 환경 모두에서 필수적인 도구로, 시스템 관리, 개발, 보안 업무에 광범위하게 사용된다.</p>
<section id="ssh란-무엇인가" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="ssh란-무엇인가"><span class="header-section-number">1.1</span> SSH란 무엇인가?</h2>
<section id="정의와-역사" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="정의와-역사"><span class="header-section-number">1.1.1</span> 정의와 역사</h3>
<p><strong>SSH (Secure Shell)</strong>는 암호화된 네트워크 프로토콜로, 안전하지 않은 네트워크에서 안전하게 네트워크 서비스를 운영하기 위해 설계되었다.</p>
<p><strong>역사:</strong><br>
- <strong>1995년</strong>: Tatu Ylönen이 SSH-1 프로토콜 개발 (핀란드 헬싱키대학교)<br>
- <strong>1996년</strong>: SSH Communications Security 설립<br>
- <strong>1999년</strong>: IETF에서 SSH-2 표준화 시작<br>
- <strong>2006년</strong>: OpenSSH가 사실상 표준으로 자리잡음</p>
<p><strong>SSH가 해결한 문제:</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>기존 프로토콜</th>
<th>문제점</th>
<th>SSH 해결책</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Telnet</strong></td>
<td>평문 전송 (패킷 스니핑 취약)</td>
<td>모든 데이터 암호화</td>
</tr>
<tr class="even">
<td><strong>rlogin</strong></td>
<td>약한 인증 (IP 기반)</td>
<td>Public Key 암호화 인증</td>
</tr>
<tr class="odd">
<td><strong>FTP</strong></td>
<td>비밀번호 평문 전송</td>
<td>SFTP로 안전한 파일 전송</td>
</tr>
<tr class="even">
<td><strong>rsh</strong></td>
<td>권한 상승 취약점</td>
<td>강력한 호스트 키 검증</td>
</tr>
<tr class="odd">
<td><strong>rsh</strong></td>
<td>권한 상승 취약점</td>
<td>강력한 호스트 키 검증</td>
</tr>
</tbody>
</table>
</section>
<section id="ssh가-안전한-이유" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="ssh가-안전한-이유"><span class="header-section-number">1.1.2</span> SSH가 안전한 이유?</h3>
<ol type="1">
<li><p><strong>공개키 암호화</strong> (Public Key Cryptography)</p>
<ul>
<li>클라이언트(PC)가 공개키를 가짐<br>
</li>
<li>서버(Azure VM)가 비공개키를 가짐<br>
</li>
<li>공개키로 암호화한 메시지는 비공개키로만 복호화 가능<br>
</li>
<li>통신 과정이 모두 암호화됨</li>
</ul></li>
<li><p><strong>Private Key 인증</strong><br>
```<br>
클라이언트 (PC) 서버 (Azure VM)<br>
test-agent_key.pem ←→ 비공개키 저장<br>
(Private Key) (Private Key)</p>
<p>접속 요청 시:</p>
<ol type="1">
<li>클라이언트가 Public Key로 challenge를 보냄<br>
</li>
<li>서버가 비공개키로 검증<br>
</li>
<li>Private Key가 일치하면 접속 허용<br>
```</li>
</ol></li>
<li><p><strong>중간자 공격 방지</strong></p>
<ul>
<li>SSH 키 교환 과정에서 호스트 키를 검증<br>
</li>
<li>첫 접속 시 호스트 지문(fingerprint)을 확인<br>
</li>
<li>같은 호스트면 이후 자동 인증</li>
</ul></li>
<li><p><strong>비밀번호 방식의 문제점</strong></p>
<ul>
<li>약한 비밀번호 → 브루트포스 공격에 취약<br>
</li>
<li>비밀번호 탈취 → 전체 VM 장악<br>
</li>
<li>SSH Key는 수천 자리의 암호화된 파일 → 거의 불가능</li>
</ul></li>
</ol>
</section>
<section id="ssh의-주요-기능" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="ssh의-주요-기능"><span class="header-section-number">1.1.3</span> SSH의 주요 기능</h3>
<ol type="1">
<li><strong>원격 로그인 (Remote Login)</strong>
<ul>
<li>원격 서버의 쉘(Shell)에 접속<br>
</li>
<li>명령어 실행, 시스템 관리</li>
</ul></li>
<li><strong>파일 전송 (File Transfer)</strong>
<ul>
<li>SCP (Secure Copy Protocol)<br>
</li>
<li>SFTP (SSH File Transfer Protocol)</li>
</ul></li>
<li><strong>포트 포워딩 (Port Forwarding)</strong>
<ul>
<li>로컬 포트 포워딩<br>
</li>
<li>리모트 포트 포워딩<br>
</li>
<li>다이나믹 포트 포워딩 (SOCKS 프록시)</li>
</ul></li>
<li><strong>터널링 (Tunneling)</strong>
<ul>
<li>암호화된 터널을 통한 안전한 데이터 전송<br>
</li>
<li>VPN 대체 솔루션</li>
</ul></li>
<li><strong>X11 포워딩</strong>
<ul>
<li>원격 서버의 GUI 애플리케이션을 로컬에서 실행</li>
</ul></li>
</ol>
</section>
<section id="ssh-작동-원리" class="level3" data-number="1.1.4">
<h3 data-number="1.1.4" class="anchored" data-anchor-id="ssh-작동-원리"><span class="header-section-number">1.1.4</span> SSH 작동 원리</h3>
<p><strong>SSH 연결 프로세스:</strong></p>
<pre><code>클라이언트                                서버  
   │                                      │  
   │  1. TCP 연결 요청 (Port 22)           │  
   ├─────────────────────────────────────&gt;│  
   │                                      │  
   │  2. 서버 버전 정보                     │  
   │&lt;─────────────────────────────────────┤  
   │                                      │  
   │  3. 클라이언트 버전 정보                │  
   ├─────────────────────────────────────&gt;│  
   │                                      │  
   │  4. 키 교환 (Diffie-Hellman)          │  
   │&lt;────────────────────────────────────&gt;│  
   │                                      │  
   │  5. 호스트 키 검증                     │  
   │&lt;─────────────────────────────────────┤  
   │                                      │  
   │  6. 세션 키 생성 (대칭키 암호화)         │  
   │&lt;────────────────────────────────────&gt;│  
   │                                      │  
   │  7. 사용자 인증 (비밀번호 or Key)        │  
   ├─────────────────────────────────────&gt;│  
   │                                      │  
   │  8. 인증 성공                          │  
   │&lt;─────────────────────────────────────┤  
   │                                      │  
   │  9. 암호화된 세션 시작                  │  
   │&lt;════════════════════════════════════&gt;│  </code></pre>
<p><strong>암호화 계층:</strong></p>
<ol type="1">
<li><strong>트랜스포트 계층 (Transport Layer)</strong>
<ul>
<li>서버 인증<br>
</li>
<li>데이터 기밀성 (암호화)<br>
</li>
<li>데이터 무결성 (해시)</li>
</ul></li>
<li><strong>사용자 인증 계층 (User Authentication Layer)</strong>
<ul>
<li>비밀번호 인증<br>
</li>
<li>Public Key 인증<br>
</li>
<li>호스트 기반 인증<br>
</li>
<li>Keyboard-interactive 인증</li>
</ul></li>
<li><strong>연결 계층 (Connection Layer)</strong>
<ul>
<li>다중 채널 지원<br>
</li>
<li>데이터 압축<br>
</li>
<li>포트 포워딩</li>
</ul></li>
</ol>
</section>
</section>
<section id="ssh-보안-메커니즘" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="ssh-보안-메커니즘"><span class="header-section-number">1.2</span> SSH 보안 메커니즘</h2>
<section id="공개키-암호화-public-key-cryptography" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="공개키-암호화-public-key-cryptography"><span class="header-section-number">1.2.1</span> 공개키 암호화 (Public Key Cryptography)</h3>
<p><strong>비대칭 암호화 원리:</strong></p>
<pre><code>Public Key (공개키)         Private Key (비공개키)  
    │                          │  
    │  암호화 ─────────&gt;        │  
    │                          │  복호화  
    │  &lt;───────── 서명          │  
    │          검증             │  
    
특징:  
- Public Key로 암호화한 데이터는 Private Key로만 복호화 가능  
- Private Key로 서명한 데이터는 Public Key로 검증 가능  
- Public Key는 공개해도 안전  
- Private Key는 절대 공유하지 않음  </code></pre>
<p><strong>SSH Key 쌍 구조:</strong></p>
<pre><code>~/.ssh/  
├── id_rsa              # Private Key (절대 공유 금지!)  
├── id_rsa.pub          # Public Key (서버에 등록)  
├── id_ed25519          # 최신 알고리즘 Private Key  
├── id_ed25519.pub      # 최신 알고리즘 Public Key  
└── known_hosts         # 알려진 호스트 목록  </code></pre>
</section>
<section id="호스트-키-검증-host-key-verification" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="호스트-키-검증-host-key-verification"><span class="header-section-number">1.2.2</span> 호스트 키 검증 (Host Key Verification)</h3>
<p><strong>중간자 공격(MITM) 방지:</strong></p>
<pre><code>첫 접속 시:  
The authenticity of host '192.168.1.100' can't be established.  
ED25519 key fingerprint is SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.  
Are you sure you want to continue connecting (yes/no)?  

↓ yes 입력 시  

Warning: Permanently added '192.168.1.100' (ED25519) to the list of known hosts.  

→ ~/.ssh/known_hosts 파일에 호스트 키 저장  
→ 다음 접속부터 자동으로 검증  
→ 호스트 키가 변경되면 경고  </code></pre>
<p><strong>호스트 키 변경 경고:</strong></p>
<pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @  
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!  
Someone could be eavesdropping on you right now (man-in-the-middle attack)!  

→ 서버가 재설치되었거나 중간자 공격 가능성  </code></pre>
</section>
<section id="암호화-알고리즘" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="암호화-알고리즘"><span class="header-section-number">1.2.3</span> 암호화 알고리즘</h3>
<p><strong>지원 암호화 방식:</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>알고리즘</th>
<th>키 크기</th>
<th>보안 수준</th>
<th>속도</th>
<th>권장</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>RSA</strong></td>
<td>2048-4096 bit</td>
<td>중간</td>
<td>느림</td>
<td>레거시 호환용</td>
</tr>
<tr class="even">
<td><strong>DSA</strong></td>
<td>1024 bit</td>
<td>낮음</td>
<td>중간</td>
<td>사용 금지 (deprecated)</td>
</tr>
<tr class="odd">
<td><strong>ECDSA</strong></td>
<td>256-521 bit</td>
<td>높음</td>
<td>빠름</td>
<td>권장</td>
</tr>
<tr class="even">
<td><strong>Ed25519</strong></td>
<td>256 bit</td>
<td>매우 높음</td>
<td>매우 빠름</td>
<td><strong>강력 권장</strong></td>
</tr>
</tbody>
</table>
<p><strong>대칭키 암호화 (세션 암호화):</strong><br>
- AES-256-CBC<br>
- AES-128-GCM<br>
- ChaCha20-Poly1305</p>
<p><strong>해시 함수 (무결성 검증):</strong><br>
- SHA-256<br>
- SHA-512<br>
- HMAC-SHA2-256</p>
</section>
</section>
<section id="ssh-설치-및-기본-설정" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="ssh-설치-및-기본-설정"><span class="header-section-number">1.3</span> SSH 설치 및 기본 설정</h2>
<section id="ssh-클라이언트-설치" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="ssh-클라이언트-설치"><span class="header-section-number">1.3.1</span> SSH 클라이언트 설치</h3>
</section>
</section>
<section id="ssh-설치-및-기본-설정-1" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="ssh-설치-및-기본-설정-1"><span class="header-section-number">1.4</span> SSH 설치 및 기본 설정</h2>
<section id="ssh-클라이언트-설치-1" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="ssh-클라이언트-설치-1"><span class="header-section-number">1.4.1</span> SSH 클라이언트 설치</h3>
<p><strong>Windows:</strong></p>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Windows 10/11은 기본 내장  </span></span>
<span id="cb6-2">ssh <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>V  </span>
<span id="cb6-3"></span>
<span id="cb6-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 없다면 설치:  </span></span>
<span id="cb6-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 설정 → 앱 → 선택적 기능 → OpenSSH 클라이언트 추가  </span></span></code></pre></div>
<p><strong>macOS:</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 내장  </span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-V</span>  </span></code></pre></div>
<p><strong>Linux (Ubuntu/Debian):</strong></p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt update  </span>
<span id="cb8-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt install openssh-client <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span>  </span>
<span id="cb8-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-V</span>  </span></code></pre></div>
<p><strong>Linux (CentOS/RHEL):</strong></p>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> yum install openssh-clients <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span>  </span>
<span id="cb9-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-V</span>  </span></code></pre></div>
</section>
<section id="ssh-서버-설치-접속받을-서버" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="ssh-서버-설치-접속받을-서버"><span class="header-section-number">1.4.2</span> SSH 서버 설치 (접속받을 서버)</h3>
<p><strong>Ubuntu/Debian:</strong></p>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt update  </span>
<span id="cb10-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt install openssh-server <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span>  </span>
<span id="cb10-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl status sshd  </span>
<span id="cb10-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl enable sshd  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 부팅 시 자동 시작  </span></span></code></pre></div>
<p><strong>CentOS/RHEL:</strong></p>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> yum install openssh-server <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span>  </span>
<span id="cb11-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl start sshd  </span>
<span id="cb11-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl enable sshd  </span></code></pre></div>
<p><strong>서버 설정 파일:</strong></p>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SSH 데몬 설정  </span></span>
<span id="cb12-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> nano /etc/ssh/sshd_config  </span></code></pre></div>
<p><strong>주요 설정 옵션:</strong></p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 포트 변경 (기본 22 → 보안 강화를 위해 변경 권장)  </span></span>
<span id="cb13-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Port</span> 2222  </span>
<span id="cb13-3"></span>
<span id="cb13-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Root 로그인 금지 (보안 필수)  </span></span>
<span id="cb13-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PermitRootLogin</span> no  </span>
<span id="cb13-6"></span>
<span id="cb13-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 비밀번호 인증 비활성화 (Key 인증만 허용)  </span></span>
<span id="cb13-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PasswordAuthentication</span> no  </span>
<span id="cb13-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PubkeyAuthentication</span> yes  </span>
<span id="cb13-10"></span>
<span id="cb13-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 빈 비밀번호 금지  </span></span>
<span id="cb13-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PermitEmptyPasswords</span> no  </span>
<span id="cb13-13"></span>
<span id="cb13-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># X11 포워딩 (GUI 필요시)  </span></span>
<span id="cb13-15"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">X11Forwarding</span> yes  </span>
<span id="cb13-16"></span>
<span id="cb13-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 최대 인증 시도 횟수  </span></span>
<span id="cb13-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">MaxAuthTries</span> 3  </span>
<span id="cb13-19"></span>
<span id="cb13-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 접속 허용 사용자 (화이트리스트)  </span></span>
<span id="cb13-21"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">AllowUsers</span> alice bob  </span>
<span id="cb13-22"></span>
<span id="cb13-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 접속 금지 사용자 (블랙리스트)  </span></span>
<span id="cb13-24"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">DenyUsers</span> attacker  </span></code></pre></div>
<p><strong>설정 변경 후 재시작:</strong></p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl restart sshd  </span></code></pre></div>
</section>
</section>
<section id="ssh-접속-방법" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="ssh-접속-방법"><span class="header-section-number">1.5</span> SSH 접속 방법</h2>
<section id="기본-접속-비밀번호-인증" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="기본-접속-비밀번호-인증"><span class="header-section-number">1.5.1</span> 1. 기본 접속 (비밀번호 인증)</h3>
<p><strong>문법:</strong></p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">옵션</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span> 사용자명@호스트주소  </span></code></pre></div>
<p><strong>예시:</strong></p>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 포트(22) 접속  </span></span>
<span id="cb16-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> ubuntu@192.168.1.100  </span>
<span id="cb16-3"></span>
<span id="cb16-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 포트 접속  </span></span>
<span id="cb16-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> 2222 ubuntu@192.168.1.100  </span>
<span id="cb16-6"></span>
<span id="cb16-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 도메인으로 접속  </span></span>
<span id="cb16-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> admin@myserver.example.com  </span>
<span id="cb16-9"></span>
<span id="cb16-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># IPv6 접속  </span></span>
<span id="cb16-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@2001:db8::1  </span></code></pre></div>
<p><strong>클라우드 서버 접속:</strong></p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure VM  </span></span>
<span id="cb17-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> azureuser@20.196.144.16  </span>
<span id="cb17-3"></span>
<span id="cb17-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># AWS EC2  </span></span>
<span id="cb17-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> ec2-user@ec2-1-2-3-4.compute-1.amazonaws.com  </span>
<span id="cb17-6"></span>
<span id="cb17-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GCP Compute Engine  </span></span>
<span id="cb17-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@35.192.0.1  </span>
<span id="cb17-9"></span>
<span id="cb17-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># DigitalOcean Droplet  </span></span>
<span id="cb17-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> root@droplet-ip-address  </span></code></pre></div>
<p><strong>On-Premise 서버 접속:</strong></p>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 내부 네트워크 (사내 서버)  </span></span>
<span id="cb18-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> admin@192.168.10.50  </span>
<span id="cb18-3"></span>
<span id="cb18-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># VPN 연결 후 접속  </span></span>
<span id="cb18-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> engineer@10.0.1.100  </span>
<span id="cb18-6"></span>
<span id="cb18-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 점프 서버 (Bastion Host)를 통한 접속  </span></span>
<span id="cb18-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-J</span> jumpuser@jumphost.company.com user@internal-server  </span></code></pre></div>
</section>
<section id="ssh-key-인증-권장" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="ssh-key-인증-권장"><span class="header-section-number">1.5.2</span> SSH Key 인증 (권장)</h3>
<p><strong>SSH Key 생성:</strong></p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ed25519 알고리즘 (권장)  </span></span>
<span id="cb19-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> ed25519 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-C</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your_email@example.com"</span>  </span>
<span id="cb19-3"></span>
<span id="cb19-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># RSA 4096 bit (레거시 호환)  </span></span>
<span id="cb19-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> rsa <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-b</span> 4096 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-C</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your_email@example.com"</span>  </span>
<span id="cb19-6"></span>
<span id="cb19-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ECDSA (대안)  </span></span>
<span id="cb19-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> ecdsa <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-b</span> 521 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-C</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"your_email@example.com"</span>  </span></code></pre></div>
<p><strong>Key 생성 프로세스:</strong></p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Generating</span> public/private ed25519 key pair.  </span>
<span id="cb20-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Enter</span> file in which to save the key <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/home/user/.ssh/id_ed25519</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   </span>
<span id="cb20-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> 엔터 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">기본</span> 경로<span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">또는</span> custom_key 입력  </span>
<span id="cb20-4"></span>
<span id="cb20-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Enter</span> passphrase <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">empty</span> for no passphrase<span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">:</span>   </span>
<span id="cb20-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> 추가 보안을 위한 암호 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">선택</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span>  </span>
<span id="cb20-7"></span>
<span id="cb20-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Enter</span> same passphrase again:   </span>
<span id="cb20-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> 암호 재입력  </span>
<span id="cb20-10"></span>
<span id="cb20-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Your</span> identification has been saved in /home/user/.ssh/id_ed25519  </span>
<span id="cb20-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Your</span> public key has been saved in /home/user/.ssh/id_ed25519.pub  </span>
<span id="cb20-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">The</span> key fingerprint is:  </span>
<span id="cb20-14"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span> your_email@example.com  </span></code></pre></div>
<p><strong>생성된 Key 확인:</strong></p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ls</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-la</span> ~/.ssh/  </span>
<span id="cb21-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-------</span>  1 user user  464 Nov 28 10:00 id_ed25519      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Private Key  </span></span>
<span id="cb21-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-r--r--</span>  1 user user  102 Nov 28 10:00 id_ed25519.pub  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Public Key  </span></span></code></pre></div>
<p><strong>Public Key 서버에 등록:</strong></p>
<p><strong>방법 1: ssh-copy-id 사용 (자동)</strong></p>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ssh-copy-id</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> ~/.ssh/id_ed25519.pub user@server-ip  </span>
<span id="cb22-2"></span>
<span id="cb22-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 포트  </span></span>
<span id="cb22-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ssh-copy-id</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> ~/.ssh/id_ed25519.pub <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> 2222 user@server-ip  </span></code></pre></div>
<p><strong>방법 2: 수동 복사</strong></p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. Public Key 내용 확인  </span></span>
<span id="cb23-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span> ~/.ssh/id_ed25519.pub  </span>
<span id="cb23-3"></span>
<span id="cb23-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. 서버에 로그인 (비밀번호)  </span></span>
<span id="cb23-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@server-ip  </span>
<span id="cb23-6"></span>
<span id="cb23-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. .ssh 디렉토리 생성 (없다면)  </span></span>
<span id="cb23-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> ~/.ssh  </span>
<span id="cb23-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 700 ~/.ssh  </span>
<span id="cb23-10"></span>
<span id="cb23-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4. authorized_keys 파일에 Public Key 추가  </span></span>
<span id="cb23-12"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ssh-ed25519 AAAAC3Nza... your_email@example.com"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&gt;</span> ~/.ssh/authorized_keys  </span>
<span id="cb23-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 600 ~/.ssh/authorized_keys  </span>
<span id="cb23-14"></span>
<span id="cb23-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5. 로그아웃  </span></span>
<span id="cb23-16"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span>  </span></code></pre></div>
<p><strong>방법 3: 클라우드 콘솔에서 등록</strong></p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure: VM 생성 시 또는 SSH Key 관리 메뉴  </span></span>
<span id="cb24-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># AWS: EC2 Key Pairs 메뉴  </span></span>
<span id="cb24-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GCP: Metadata → SSH Keys 메뉴  </span></span></code></pre></div>
<p><strong>Key로 접속:</strong></p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 Key 사용 (id_ed25519 or id_rsa)  </span></span>
<span id="cb25-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@server-ip  </span>
<span id="cb25-3"></span>
<span id="cb25-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 Key 파일 지정  </span></span>
<span id="cb25-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> ~/.ssh/custom_key user@server-ip  </span>
<span id="cb25-6"></span>
<span id="cb25-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure VM (.pem 파일)  </span></span>
<span id="cb25-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> ~/Downloads/azure-vm.pem azureuser@20.196.144.16  </span>
<span id="cb25-9"></span>
<span id="cb25-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># AWS EC2 (.pem 파일)  </span></span>
<span id="cb25-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> ~/Downloads/aws-key.pem ec2-user@ec2-ip  </span></code></pre></div>
</section>
</section>
<section id="ssh-config-파일로-접속-간소화" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="ssh-config-파일로-접속-간소화"><span class="header-section-number">1.6</span> SSH Config 파일로 접속 간소화</h2>
<section id="config-파일-생성" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="config-파일-생성"><span class="header-section-number">1.6.1</span> Config 파일 생성</h3>
<p><strong>위치:</strong><br>
- <strong>Linux/macOS</strong>: <code>~/.ssh/config</code><br>
- <strong>Windows</strong>: <code>C:\Users\username\.ssh\config</code></p>
<p><strong>기본 구조:</strong></p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ~/.ssh/config  </span></span>
<span id="cb26-2"></span>
<span id="cb26-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure VM  </span></span>
<span id="cb26-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> azure-dev  </span>
<span id="cb26-5">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> 20.196.144.16  </span>
<span id="cb26-6">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> azureuser  </span>
<span id="cb26-7">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/azure-vm.pem  </span>
<span id="cb26-8">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Port</span> 22  </span>
<span id="cb26-9"></span>
<span id="cb26-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># AWS EC2  </span></span>
<span id="cb26-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> aws-prod  </span>
<span id="cb26-12">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> ec2-1-2-3-4.compute-1.amazonaws.com  </span>
<span id="cb26-13">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> ec2-user  </span>
<span id="cb26-14">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/aws-key.pem  </span>
<span id="cb26-15">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Port</span> 22  </span>
<span id="cb26-16"></span>
<span id="cb26-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># On-Premise 서버  </span></span>
<span id="cb26-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> office-server  </span>
<span id="cb26-19">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> 192.168.10.50  </span>
<span id="cb26-20">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> admin  </span>
<span id="cb26-21">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/office_key  </span>
<span id="cb26-22">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Port</span> 2222  </span>
<span id="cb26-23"></span>
<span id="cb26-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GitHub  </span></span>
<span id="cb26-25"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> github.com  </span>
<span id="cb26-26">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> github.com  </span>
<span id="cb26-27">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> git  </span>
<span id="cb26-28">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/github_personal  </span>
<span id="cb26-29">    </span>
<span id="cb26-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GitLab (회사)  </span></span>
<span id="cb26-31"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> gitlab-work  </span>
<span id="cb26-32">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> gitlab.company.com  </span>
<span id="cb26-33">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> git  </span>
<span id="cb26-34">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/gitlab_work  </span>
<span id="cb26-35">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Port</span> 2222  </span>
<span id="cb26-36"></span>
<span id="cb26-37"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Jump Host (Bastion)를 통한 접속  </span></span>
<span id="cb26-38"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> internal-server  </span>
<span id="cb26-39">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> 10.0.1.100  </span>
<span id="cb26-40">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> engineer  </span>
<span id="cb26-41">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ProxyJump</span> jumpuser@jumphost.company.com  </span>
<span id="cb26-42">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/internal_key  </span></code></pre></div>
</section>
<section id="config-파일-고급-옵션" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="config-파일-고급-옵션"><span class="header-section-number">1.6.2</span> Config 파일 고급 옵션</h3>
<div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 연결 유지 (Keep Alive)  </span></span>
<span id="cb27-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>  </span>
<span id="cb27-3">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ServerAliveInterval</span> 60  </span>
<span id="cb27-4">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ServerAliveCountMax</span> 3  </span>
<span id="cb27-5">    </span>
<span id="cb27-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 연결 재사용 (속도 향상)  </span></span>
<span id="cb27-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>  </span>
<span id="cb27-8">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ControlMaster</span> auto  </span>
<span id="cb27-9">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ControlPath</span> ~/.ssh/sockets/%r@%h-%p  </span>
<span id="cb27-10">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ControlPersist</span> 600  </span>
<span id="cb27-11"></span>
<span id="cb27-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 호스트만 설정  </span></span>
<span id="cb27-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> dev-<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>  </span>
<span id="cb27-14">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> developer  </span>
<span id="cb27-15">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/dev_key  </span>
<span id="cb27-16">    </span>
<span id="cb27-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 와일드카드 매칭  </span></span>
<span id="cb27-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>.example.com  </span>
<span id="cb27-19">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> admin  </span>
<span id="cb27-20">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Port</span> 2222  </span>
<span id="cb27-21"></span>
<span id="cb27-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 로컬 포트 포워딩 (고정)  </span></span>
<span id="cb27-23"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> db-tunnel  </span>
<span id="cb27-24">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> db-server.company.com  </span>
<span id="cb27-25">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> dbadmin  </span>
<span id="cb27-26">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">LocalForward</span> 3306 localhost:3306  </span>
<span id="cb27-27">    </span>
<span id="cb27-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 다이나믹 포트 포워딩 (SOCKS 프록시)  </span></span>
<span id="cb27-29"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> proxy-server  </span>
<span id="cb27-30">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> proxy.company.com  </span>
<span id="cb27-31">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> proxyuser  </span>
<span id="cb27-32">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">DynamicForward</span> 1080  </span></code></pre></div>
</section>
<section id="config-사용-예시" class="level3" data-number="1.6.3">
<h3 data-number="1.6.3" class="anchored" data-anchor-id="config-사용-예시"><span class="header-section-number">1.6.3</span> Config 사용 예시</h3>
<p><strong>설정 전:</strong></p>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> ~/.ssh/azure-vm.pem <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> 22 azureuser@20.196.144.16  </span></code></pre></div>
<p><strong>설정 후:</strong></p>
<div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> azure-dev  </span></code></pre></div>
<p><strong>자동 완성 (Tab):</strong></p>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> az<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">Tab</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span>  → ssh azure-dev  </span></code></pre></div>
</section>
</section>
<section id="ssh-다양한-사용-시나리오" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="ssh-다양한-사용-시나리오"><span class="header-section-number">1.7</span> SSH 다양한 사용 시나리오</h2>
<section id="파일-전송-scp" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="파일-전송-scp"><span class="header-section-number">1.7.1</span> 파일 전송 (SCP)</h3>
<p><strong>기본 문법:</strong></p>
<div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">옵션</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span> 출발지 목적지  </span></code></pre></div>
<p><strong>로컬 → 서버:</strong></p>
<div class="sourceCode" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 파일 복사  </span></span>
<span id="cb32-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> file.txt user@server:/home/user/  </span>
<span id="cb32-3"></span>
<span id="cb32-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 디렉토리 복사 (-r recursive)  </span></span>
<span id="cb32-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> folder/ user@server:/home/user/  </span>
<span id="cb32-6"></span>
<span id="cb32-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 Key 사용  </span></span>
<span id="cb32-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> ~/.ssh/custom_key file.txt user@server:/path/  </span>
<span id="cb32-9"></span>
<span id="cb32-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 포트  </span></span>
<span id="cb32-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-P</span> 2222 file.txt user@server:/path/  </span>
<span id="cb32-12"></span>
<span id="cb32-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Config 사용  </span></span>
<span id="cb32-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> file.txt azure-dev:/home/azureuser/  </span></code></pre></div>
<p><strong>서버 → 로컬:</strong></p>
<div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 파일 다운로드  </span></span>
<span id="cb33-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> user@server:/home/user/file.txt ./  </span>
<span id="cb33-3"></span>
<span id="cb33-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 디렉토리 다운로드  </span></span>
<span id="cb33-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> user@server:/home/user/folder/ ./  </span>
<span id="cb33-6"></span>
<span id="cb33-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 여러 파일  </span></span>
<span id="cb33-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> user@server:<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/path/*.txt"</span> ./  </span></code></pre></div>
<p><strong>서버 → 서버 (직접):</strong></p>
<div class="sourceCode" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scp</span> user1@server1:/path/file.txt user2@server2:/path/  </span></code></pre></div>
<p><strong>SCP 옵션:</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>옵션</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-r</code></td>
<td>디렉토리 재귀 복사</td>
</tr>
<tr class="even">
<td><code>-P</code></td>
<td>포트 지정</td>
</tr>
<tr class="odd">
<td><code>-i</code></td>
<td>Private Key 파일 지정</td>
</tr>
<tr class="even">
<td><code>-C</code></td>
<td>압축 전송 (대용량 파일)</td>
</tr>
<tr class="odd">
<td><code>-p</code></td>
<td>원본 파일의 권한/시간 보존</td>
</tr>
<tr class="even">
<td><code>-q</code></td>
<td>진행 상황 숨김</td>
</tr>
<tr class="odd">
<td><code>-v</code></td>
<td>상세 모드 (디버깅)</td>
</tr>
</tbody>
</table>
</section>
<section id="sftp-ssh-file-transfer-protocol" class="level3" data-number="1.7.2">
<h3 data-number="1.7.2" class="anchored" data-anchor-id="sftp-ssh-file-transfer-protocol"><span class="header-section-number">1.7.2</span> SFTP (SSH File Transfer Protocol)</h3>
<p><strong>접속:</strong></p>
<div class="sourceCode" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span> user@server  </span>
<span id="cb35-2"></span>
<span id="cb35-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Config 사용  </span></span>
<span id="cb35-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span> azure-dev  </span></code></pre></div>
<p><strong>SFTP 명령어:</strong></p>
<div class="sourceCode" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb36-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> ls                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원격 디렉토리 목록  </span></span>
<span id="cb36-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> lls                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 로컬 디렉토리 목록  </span></span>
<span id="cb36-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> pwd                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원격 현재 경로  </span></span>
<span id="cb36-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> lpwd                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 로컬 현재 경로  </span></span>
<span id="cb36-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> cd /path              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원격 경로 이동  </span></span>
<span id="cb36-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> lcd /path             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 로컬 경로 이동  </span></span>
<span id="cb36-7"></span>
<span id="cb36-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 파일 다운로드  </span></span>
<span id="cb36-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> get remote_file.txt  </span>
<span id="cb36-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> get <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> remote_folder/  </span>
<span id="cb36-11"></span>
<span id="cb36-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 파일 업로드  </span></span>
<span id="cb36-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> put local_file.txt  </span>
<span id="cb36-14"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> put <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> local_folder/  </span>
<span id="cb36-15"></span>
<span id="cb36-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 파일 삭제  </span></span>
<span id="cb36-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> rm remote_file.txt  </span>
<span id="cb36-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> rmdir remote_folder/  </span>
<span id="cb36-19"></span>
<span id="cb36-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 권한 변경  </span></span>
<span id="cb36-21"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> chmod 644 file.txt  </span>
<span id="cb36-22"></span>
<span id="cb36-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 종료  </span></span>
<span id="cb36-24"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sftp</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> exit  </span></code></pre></div>
</section>
<section id="포트-포워딩-port-forwarding" class="level3" data-number="1.7.3">
<h3 data-number="1.7.3" class="anchored" data-anchor-id="포트-포워딩-port-forwarding"><span class="header-section-number">1.7.3</span> 포트 포워딩 (Port Forwarding)</h3>
<p><strong>로컬 포트 포워딩 (Local Forward):</strong></p>
<div class="sourceCode" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 문법  </span></span>
<span id="cb37-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">로컬포트</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span>:목적지:목적지포트 user@server  </span>
<span id="cb37-3"></span>
<span id="cb37-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 예: 원격 MySQL 접속  </span></span>
<span id="cb37-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> 3306:localhost:3306 user@db-server  </span>
<span id="cb37-6"></span>
<span id="cb37-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> localhost:3306 접속 시 db-server의 3306으로 터널링  </span>
<span id="cb37-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> MySQL Workbench에서 localhost:3306으로 연결  </span></code></pre></div>
<p><strong>실무 예시:</strong></p>
<div class="sourceCode" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원격 데이터베이스 접속  </span></span>
<span id="cb38-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> 3306:localhost:3306 admin@db.company.com  </span>
<span id="cb38-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">mysql</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-h</span> localhost <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-P</span> 3306 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-u</span> dbuser <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span>  </span>
<span id="cb38-4"></span>
<span id="cb38-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원격 웹 서버 접속 (방화벽 우회)  </span></span>
<span id="cb38-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> 8080:localhost:80 user@web-server  </span>
<span id="cb38-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 브라우저: http://localhost:8080  </span></span>
<span id="cb38-8"></span>
<span id="cb38-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Jupyter Notebook 원격 접속  </span></span>
<span id="cb38-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> 8888:localhost:8888 user@ml-server  </span>
<span id="cb38-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 브라우저: http://localhost:8888  </span></span></code></pre></div>
<p><strong>리모트 포트 포워딩 (Remote Forward):</strong></p>
<div class="sourceCode" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb39-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 문법  </span></span>
<span id="cb39-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">원격포트</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span>:목적지:목적지포트 user@server  </span>
<span id="cb39-3"></span>
<span id="cb39-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 예: 로컬 웹서버를 원격에서 접근 가능하게  </span></span>
<span id="cb39-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> 8080:localhost:80 user@public-server  </span>
<span id="cb39-6"></span>
<span id="cb39-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> public-server의 8080 포트가 로컬 80 포트로 연결  </span>
<span id="cb39-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> 로컬 개발 서버를 외부에 공개 <span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">데모/테스트</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span>  </span></code></pre></div>
<p><strong>다이나믹 포트 포워딩 (SOCKS 프록시):</strong></p>
<div class="sourceCode" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 문법  </span></span>
<span id="cb40-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-D</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">로컬포트</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span> user@server  </span>
<span id="cb40-3"></span>
<span id="cb40-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 예: SOCKS 프록시 생성  </span></span>
<span id="cb40-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-D</span> 1080 user@proxy-server  </span>
<span id="cb40-6"></span>
<span id="cb40-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> 브라우저 SOCKS 프록시 설정: localhost:1080  </span>
<span id="cb40-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> 모든 트래픽이 proxy-server를 경유  </span>
<span id="cb40-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">→</span> 회사 내부망 접근, 지역 제한 우회  </span></code></pre></div>
<p><strong>백그라운드 실행:</strong></p>
<div class="sourceCode" id="cb41" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -f: 백그라운드  </span></span>
<span id="cb41-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># -N: 명령 실행 안 함 (포워딩만)  </span></span>
<span id="cb41-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-N</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-L</span> 3306:localhost:3306 user@db-server  </span></code></pre></div>
</section>
<section id="ssh-터널링-tunneling" class="level3" data-number="1.7.4">
<h3 data-number="1.7.4" class="anchored" data-anchor-id="ssh-터널링-tunneling"><span class="header-section-number">1.7.4</span> SSH 터널링 (Tunneling)</h3>
<p><strong>다중 홉 터널링:</strong></p>
<div class="sourceCode" id="cb42" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb42-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 점프 서버를 통한 접속  </span></span>
<span id="cb42-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-J</span> jumpuser@jumphost user@internal-server  </span>
<span id="cb42-3"></span>
<span id="cb42-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 여러 점프 서버  </span></span>
<span id="cb42-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-J</span> jump1@host1,jump2@host2 user@final-server  </span>
<span id="cb42-6"></span>
<span id="cb42-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ProxyCommand 사용 (Config)  </span></span>
<span id="cb42-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> internal-server  </span>
<span id="cb42-9">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> 10.0.1.100  </span>
<span id="cb42-10">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> engineer  </span>
<span id="cb42-11">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ProxyCommand</span> ssh <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-W</span> %h:%p jumphost  </span></code></pre></div>
<p><strong>SSH VPN (Poor Man’s VPN):</strong></p>
<div class="sourceCode" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># tun 장치를 사용한 터널링  </span></span>
<span id="cb43-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> ssh <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-w</span> 0:0 user@server  </span>
<span id="cb43-3"></span>
<span id="cb43-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 서버 측 설정 필요:  </span></span>
<span id="cb43-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># /etc/ssh/sshd_config  </span></span>
<span id="cb43-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PermitTunnel</span> yes  </span></code></pre></div>
</section>
<section id="원격-명령-실행" class="level3" data-number="1.7.5">
<h3 data-number="1.7.5" class="anchored" data-anchor-id="원격-명령-실행"><span class="header-section-number">1.7.5</span> 원격 명령 실행</h3>
<p><strong>단일 명령:</strong></p>
<div class="sourceCode" id="cb44" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb44-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 명령 실행 후 종료  </span></span>
<span id="cb44-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@server <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ls -la /var/log"</span>  </span>
<span id="cb44-3"></span>
<span id="cb44-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 여러 명령 (세미콜론)  </span></span>
<span id="cb44-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@server <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cd /var/www; git pull; sudo systemctl restart nginx"</span>  </span>
<span id="cb44-6"></span>
<span id="cb44-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 환경 변수 포함  </span></span>
<span id="cb44-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@server <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"export PATH=/opt/bin:</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\$</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">PATH; mycommand"</span>  </span></code></pre></div>
<p><strong>스크립트 실행:</strong></p>
<div class="sourceCode" id="cb45" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 로컬 스크립트를 원격에서 실행  </span></span>
<span id="cb45-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@server <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'bash -s'</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> local_script.sh  </span>
<span id="cb45-3"></span>
<span id="cb45-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 파이프라인  </span></span>
<span id="cb45-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span> local_file.txt <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@server <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'cat &gt; remote_file.txt'</span>  </span></code></pre></div>
<p><strong>여러 서버 동시 실행:</strong></p>
<div class="sourceCode" id="cb46" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># parallel-ssh 사용  </span></span>
<span id="cb46-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt install pssh  </span>
<span id="cb46-3"></span>
<span id="cb46-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 서버 목록 작성 (hosts.txt)  </span></span>
<span id="cb46-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">user@server1</span>  </span>
<span id="cb46-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">user@server2</span>  </span>
<span id="cb46-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">user@server3</span>  </span>
<span id="cb46-8"></span>
<span id="cb46-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 동시 실행  </span></span>
<span id="cb46-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">parallel-ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-h</span> hosts.txt <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-l</span> user <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sudo apt update &amp;&amp; sudo apt upgrade -y"</span>  </span></code></pre></div>
</section>
<section id="x11-포워딩-gui-애플리케이션" class="level3" data-number="1.7.6">
<h3 data-number="1.7.6" class="anchored" data-anchor-id="x11-포워딩-gui-애플리케이션"><span class="header-section-number">1.7.6</span> X11 포워딩 (GUI 애플리케이션)</h3>
<p><strong>X11 포워딩 활성화:</strong></p>
<div class="sourceCode" id="cb47" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 접속 시 -X 옵션  </span></span>
<span id="cb47-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-X</span> user@server  </span>
<span id="cb47-3"></span>
<span id="cb47-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GUI 애플리케이션 실행  </span></span>
<span id="cb47-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">firefox</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">&amp;</span>  </span>
<span id="cb47-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">gedit</span> myfile.txt <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">&amp;</span>  </span></code></pre></div>
<p><strong>서버 설정 필요:</strong></p>
<div class="sourceCode" id="cb48" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># /etc/ssh/sshd_config  </span></span>
<span id="cb48-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">X11Forwarding</span> yes  </span>
<span id="cb48-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">X11UseLocalhost</span> yes  </span></code></pre></div>
</section>
<section id="ssh-에이전트-ssh-agent" class="level3" data-number="1.7.7">
<h3 data-number="1.7.7" class="anchored" data-anchor-id="ssh-에이전트-ssh-agent"><span class="header-section-number">1.7.7</span> SSH 에이전트 (ssh-agent)</h3>
<p><strong>에이전트 시작:</strong></p>
<div class="sourceCode" id="cb49" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 에이전트 시작  </span></span>
<span id="cb49-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-agent</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-s</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>  </span>
<span id="cb49-3"></span>
<span id="cb49-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Key 추가  </span></span>
<span id="cb49-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-add</span> ~/.ssh/id_ed25519  </span>
<span id="cb49-6"></span>
<span id="cb49-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Passphrase 입력 (한 번만)  </span></span>
<span id="cb49-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Enter</span> passphrase for /home/user/.ssh/id_ed25519:  </span>
<span id="cb49-9"></span>
<span id="cb49-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 등록된 Key 확인  </span></span>
<span id="cb49-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-add</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-l</span>  </span></code></pre></div>
<p><strong>에이전트 포워딩:</strong></p>
<div class="sourceCode" id="cb50" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 로컬 Key를 원격에서도 사용  </span></span>
<span id="cb50-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-A</span> user@jumphost  </span>
<span id="cb50-3"></span>
<span id="cb50-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># jumphost에서 다른 서버 접속 시 로컬 Key 사용  </span></span>
<span id="cb50-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> user@internal-server  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Key 재입력 불필요  </span></span></code></pre></div>
<p><strong>Config에서 설정:</strong></p>
<div class="sourceCode" id="cb51" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb51-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> jumphost  </span>
<span id="cb51-2">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> jumphost.company.com  </span>
<span id="cb51-3">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ForwardAgent</span> yes  </span></code></pre></div>
</section>
<section id="ssh를-활용한-백업" class="level3" data-number="1.7.8">
<h3 data-number="1.7.8" class="anchored" data-anchor-id="ssh를-활용한-백업"><span class="header-section-number">1.7.8</span> SSH를 활용한 백업</h3>
<p><strong>rsync over SSH:</strong></p>
<div class="sourceCode" id="cb52" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 백업  </span></span>
<span id="cb52-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rsync</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-avz</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-e</span> ssh /local/data/ user@backup-server:/remote/backup/  </span>
<span id="cb52-3"></span>
<span id="cb52-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 진행 상황 표시  </span></span>
<span id="cb52-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rsync</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-avzP</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-e</span> ssh /local/data/ user@backup-server:/remote/backup/  </span>
<span id="cb52-6"></span>
<span id="cb52-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 삭제된 파일 동기화  </span></span>
<span id="cb52-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rsync</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-avz</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--delete</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-e</span> ssh /local/data/ user@backup-server:/remote/backup/  </span>
<span id="cb52-9"></span>
<span id="cb52-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 파일 제외  </span></span>
<span id="cb52-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rsync</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-avz</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--exclude</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'*.log'</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-e</span> ssh /local/data/ user@backup-server:/remote/backup/  </span></code></pre></div>
<p><strong>rsync 옵션:</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>옵션</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-a</code></td>
<td>아카이브 모드 (권한, 소유자, 시간 보존)</td>
</tr>
<tr class="even">
<td><code>-v</code></td>
<td>상세 출력</td>
</tr>
<tr class="odd">
<td><code>-z</code></td>
<td>압축 전송</td>
</tr>
<tr class="even">
<td><code>-P</code></td>
<td>진행 상황 표시 + 중단 시 이어받기</td>
</tr>
<tr class="odd">
<td><code>--delete</code></td>
<td>목적지에서 삭제된 파일 제거</td>
</tr>
<tr class="even">
<td><code>--exclude</code></td>
<td>특정 패턴 제외</td>
</tr>
</tbody>
</table>
</section>
<section id="ssh-bastion-host-jump-server" class="level3" data-number="1.7.9">
<h3 data-number="1.7.9" class="anchored" data-anchor-id="ssh-bastion-host-jump-server"><span class="header-section-number">1.7.9</span> SSH Bastion Host (Jump Server)</h3>
<p><strong>Bastion Host 아키텍처:</strong></p>
<pre><code>인터넷                    회사 방화벽              내부 네트워크  
   │                          │                      │  
   │                     ┌────────┐                  │  
   │──────────────────&gt;  │ Bastion│                  │  
   │   (SSH 22)          │ Host   │                  │  
   │                     └────┬───┘                  │  
   │                          │                      │  
   │                          │   SSH                │  
   │                          ├──────────&gt; Server 1  │  
   │                          │            Server 2  │  
   │                          └──────────&gt; Server 3  │  
   
특징:  
- 외부에서 직접 내부 서버 접속 불가  
- Bastion Host만 외부 노출  
- 모든 접속은 Bastion을 경유  
- 접속 로그 중앙 관리  </code></pre>
<p><strong>Bastion 통한 접속:</strong></p>
<div class="sourceCode" id="cb54" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ProxyJump 사용 (SSH 7.3+)  </span></span>
<span id="cb54-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-J</span> bastion-user@bastion.company.com internal-user@10.0.1.100  </span>
<span id="cb54-3"></span>
<span id="cb54-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Config 설정  </span></span>
<span id="cb54-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> bastion  </span>
<span id="cb54-6">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">HostName</span> bastion.company.com  </span>
<span id="cb54-7">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> bastion-user  </span>
<span id="cb54-8">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/bastion_key  </span>
<span id="cb54-9"></span>
<span id="cb54-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Host</span> internal-<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">*</span>  </span>
<span id="cb54-11">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">User</span> internal-user  </span>
<span id="cb54-12">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ProxyJump</span> bastion  </span>
<span id="cb54-13">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">IdentityFile</span> ~/.ssh/internal_key  </span>
<span id="cb54-14"></span>
<span id="cb54-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 접속  </span></span>
<span id="cb54-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> internal-db-server  </span></code></pre></div>
</section>
</section>
<section id="ssh-보안-강화" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="ssh-보안-강화"><span class="header-section-number">1.8</span> SSH 보안 강화</h2>
<section id="key-기반-인증-강제" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="key-기반-인증-강제"><span class="header-section-number">1.8.1</span> Key 기반 인증 강제</h3>
<div class="sourceCode" id="cb55" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb55-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># /etc/ssh/sshd_config  </span></span>
<span id="cb55-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PasswordAuthentication</span> no  </span>
<span id="cb55-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PubkeyAuthentication</span> yes  </span></code></pre></div>
</section>
<section id="포트-변경" class="level3" data-number="1.8.2">
<h3 data-number="1.8.2" class="anchored" data-anchor-id="포트-변경"><span class="header-section-number">1.8.2</span> 포트 변경</h3>
<div class="sourceCode" id="cb56" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb56-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 22 → 다른 포트 (예: 2222)  </span></span>
<span id="cb56-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">Port</span> 2222  </span>
<span id="cb56-3"></span>
<span id="cb56-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 재시작  </span></span>
<span id="cb56-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl restart sshd  </span></code></pre></div>
</section>
<section id="root-로그인-금지" class="level3" data-number="1.8.3">
<h3 data-number="1.8.3" class="anchored" data-anchor-id="root-로그인-금지"><span class="header-section-number">1.8.3</span> Root 로그인 금지</h3>
<div class="sourceCode" id="cb57" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">PermitRootLogin</span> no  </span></code></pre></div>
</section>
<section id="특정-사용자만-허용" class="level3" data-number="1.8.4">
<h3 data-number="1.8.4" class="anchored" data-anchor-id="특정-사용자만-허용"><span class="header-section-number">1.8.4</span> 특정 사용자만 허용</h3>
<div class="sourceCode" id="cb58" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">AllowUsers</span> alice bob charlie  </span></code></pre></div>
</section>
<section id="fail2ban-설치-brute-force-방어" class="level3" data-number="1.8.5">
<h3 data-number="1.8.5" class="anchored" data-anchor-id="fail2ban-설치-brute-force-방어"><span class="header-section-number">1.8.5</span> Fail2Ban 설치 (Brute-force 방어)</h3>
<div class="sourceCode" id="cb59" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Ubuntu/Debian  </span></span>
<span id="cb59-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt install fail2ban <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span>  </span>
<span id="cb59-3"></span>
<span id="cb59-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 설정  </span></span>
<span id="cb59-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> nano /etc/fail2ban/jail.local  </span>
<span id="cb59-6"></span>
<span id="cb59-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">[sshd]</span>  </span>
<span id="cb59-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">enabled</span> = true  </span>
<span id="cb59-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">port</span> = 22  </span>
<span id="cb59-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">filter</span> = sshd  </span>
<span id="cb59-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">logpath</span> = /var/log/auth.log  </span>
<span id="cb59-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">maxretry</span> = 3  </span>
<span id="cb59-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">bantime</span> = 3600  </span>
<span id="cb59-14"></span>
<span id="cb59-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 재시작  </span></span>
<span id="cb59-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl restart fail2ban  </span></code></pre></div>
</section>
<section id="fa-two-factor-authentication" class="level3" data-number="1.8.6">
<h3 data-number="1.8.6" class="anchored" data-anchor-id="fa-two-factor-authentication"><span class="header-section-number">1.8.6</span> 2FA (Two-Factor Authentication)</h3>
<div class="sourceCode" id="cb60" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb60-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Google Authenticator 설치  </span></span>
<span id="cb60-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> apt install libpam-google-authenticator <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-y</span>  </span>
<span id="cb60-3"></span>
<span id="cb60-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 사용자별 설정  </span></span>
<span id="cb60-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">google-authenticator</span>  </span>
<span id="cb60-6"></span>
<span id="cb60-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># PAM 설정  </span></span>
<span id="cb60-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> nano /etc/pam.d/sshd  </span>
<span id="cb60-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 추가:  </span></span>
<span id="cb60-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">auth</span> required pam_google_authenticator.so  </span>
<span id="cb60-11"></span>
<span id="cb60-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SSH 설정  </span></span>
<span id="cb60-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> nano /etc/ssh/sshd_config  </span>
<span id="cb60-14"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ChallengeResponseAuthentication</span> yes  </span>
<span id="cb60-15"></span>
<span id="cb60-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 재시작  </span></span>
<span id="cb60-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl restart sshd  </span></code></pre></div>
</section>
</section>
<section id="ssh-문제-해결" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="ssh-문제-해결"><span class="header-section-number">1.9</span> SSH 문제 해결</h2>
<section id="연결-문제-진단" class="level3" data-number="1.9.1">
<h3 data-number="1.9.1" class="anchored" data-anchor-id="연결-문제-진단"><span class="header-section-number">1.9.1</span> 연결 문제 진단</h3>
<p><strong>상세 모드 (-v):</strong></p>
<div class="sourceCode" id="cb61" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb61-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-v</span> user@server      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Verbose  </span></span>
<span id="cb61-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-vv</span> user@server     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># More verbose  </span></span>
<span id="cb61-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-vvv</span> user@server    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Debug mode  </span></span></code></pre></div>
<p><strong>일반적인 오류와 해결:</strong></p>
<p><strong>1. Permission denied (publickey)</strong></p>
<div class="sourceCode" id="cb62" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb62-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원인: Public Key가 서버에 등록되지 않음  </span></span>
<span id="cb62-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 해결:  </span></span>
<span id="cb62-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ssh-copy-id</span> user@server  </span>
<span id="cb62-4"></span>
<span id="cb62-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 또는 수동으로 ~/.ssh/authorized_keys에 추가  </span></span></code></pre></div>
<p><strong>2. Connection refused</strong></p>
<div class="sourceCode" id="cb63" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb63-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원인: SSH 서버 미실행 또는 방화벽 차단  </span></span>
<span id="cb63-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 해결:  </span></span>
<span id="cb63-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl status sshd  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 서버 상태 확인  </span></span>
<span id="cb63-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> systemctl start sshd   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 서버 시작  </span></span>
<span id="cb63-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> ufw allow 22/tcp       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 방화벽 허용  </span></span></code></pre></div>
<p><strong>3. WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED</strong></p>
<div class="sourceCode" id="cb64" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb64-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원인: 서버 재설치 또는 중간자 공격  </span></span>
<span id="cb64-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 해결 (서버 재설치 확실한 경우):  </span></span>
<span id="cb64-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-R</span> server-ip  </span>
<span id="cb64-4"></span>
<span id="cb64-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># known_hosts에서 해당 호스트 제거  </span></span></code></pre></div>
<p><strong>4. Permission denied for .ssh directory</strong></p>
<div class="sourceCode" id="cb65" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb65-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원인: 권한 설정 오류  </span></span>
<span id="cb65-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 해결:  </span></span>
<span id="cb65-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 700 ~/.ssh  </span>
<span id="cb65-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 600 ~/.ssh/authorized_keys  </span>
<span id="cb65-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 600 ~/.ssh/id_ed25519  </span>
<span id="cb65-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">chmod</span> 644 ~/.ssh/id_ed25519.pub  </span></code></pre></div>
<p><strong>5. Too many authentication failures</strong></p>
<div class="sourceCode" id="cb66" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb66-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 원인: 여러 Key 시도 후 제한 도달  </span></span>
<span id="cb66-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 해결: 특정 Key만 지정  </span></span>
<span id="cb66-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-o</span> IdentitiesOnly=yes <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> ~/.ssh/specific_key user@server  </span></code></pre></div>
</section>
</section>
<section id="ssh-활용-시나리오-요약" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="ssh-활용-시나리오-요약"><span class="header-section-number">1.10</span> SSH 활용 시나리오 요약</h2>
<table class="table">
<colgroup>
<col style="width: 41%">
<col style="width: 33%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>시나리오</th>
<th>명령어</th>
<th>용도</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>기본 접속</strong></td>
<td><code>ssh user@server</code></td>
<td>원격 서버 로그인</td>
</tr>
<tr class="even">
<td><strong>Key 인증</strong></td>
<td><code>ssh -i ~/.ssh/key user@server</code></td>
<td>안전한 Key 기반 인증</td>
</tr>
<tr class="odd">
<td><strong>Config 사용</strong></td>
<td><code>ssh alias-name</code></td>
<td>접속 명령 간소화</td>
</tr>
<tr class="even">
<td><strong>파일 전송</strong></td>
<td><code>scp file user@server:/path</code></td>
<td>단순 파일 복사</td>
</tr>
<tr class="odd">
<td><strong>디렉토리 동기화</strong></td>
<td><code>rsync -avz dir/ user@server:/path</code></td>
<td>백업/동기화</td>
</tr>
<tr class="even">
<td><strong>DB 터널링</strong></td>
<td><code>ssh -L 3306:localhost:3306 user@db</code></td>
<td>원격 DB 로컬 접속</td>
</tr>
<tr class="odd">
<td><strong>SOCKS 프록시</strong></td>
<td><code>ssh -D 1080 user@server</code></td>
<td>전체 트래픽 프록시</td>
</tr>
<tr class="even">
<td><strong>점프 서버</strong></td>
<td><code>ssh -J jump user@internal</code></td>
<td>Bastion 경유 접속</td>
</tr>
<tr class="odd">
<td><strong>원격 명령</strong></td>
<td><code>ssh user@server "command"</code></td>
<td>명령 실행 후 종료</td>
</tr>
<tr class="even">
<td><strong>GUI 실행</strong></td>
<td><code>ssh -X user@server</code></td>
<td>X11 포워딩</td>
</tr>
</tbody>
</table>
</section>
<section id="마무리" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="마무리"><span class="header-section-number">1.11</span> 마무리</h2>
<p>SSH는 현대 인프라 관리의 핵심 도구다. 클라우드든 On-Premise든 관계없이 안전하고 효율적인 원격 접속을 제공한다. Key 기반 인증, Config 파일, 포트 포워딩, Bastion Host 등을 적절히 활용하면 보안과 생산성을 동시에 향상시킬 수 있다.</p>
<p><strong>핵심 원칙:</strong><br>
1. <strong>비밀번호 대신 Key 인증 사용</strong><br>
2. <strong>Config 파일로 관리 간소화</strong><br>
3. <strong>Private Key는 절대 공유/업로드 금지</strong><br>
4. <strong>서버 보안 설정 강화 (Root 금지, 포트 변경, Fail2Ban)</strong><br>
5. <strong>정기적인 Key 갱신 및 권한 검토</strong></p>


</section>
</section>

 ]]></description>
  <category>Engineering</category>
  <category>Infrastructure</category>
  <category>Security</category>
  <category>DevOps</category>
  <category>Cloud</category>
  <category>On-Premise</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/Infra/Security/0-ssh.html</guid>
  <pubDate>Thu, 27 Nov 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Agent 개발을 위한 Poetry로 Python 가상환경 관리하기</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/2-vm_venv_setup.html</link>
  <description><![CDATA[ 





<section id="poetry를-활용한-dependency-관리" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="poetry를-활용한-dependency-관리"><span class="header-section-number">1</span> Poetry를 활용한 Dependency 관리</h2>
<p>Poetry는 Python 프로젝트의 <strong>의존성 관리</strong>와 <strong>패키징</strong>을 위한 현대적인 도구다.</p>
<section id="poetry의-장점" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="poetry의-장점"><span class="header-section-number">1.1</span> Poetry의 장점</h3>
<ul>
<li>의존성 관리: <code>pyproject.toml</code> 파일로 모든 패키지 버전 관리<br>
</li>
<li>가상환경 자동 생성: 프로젝트별로 독립된 Python 환경 자동 구축<br>
</li>
<li>Lock 파일: <code>poetry.lock</code>으로 정확한 버전 재현 가능<br>
</li>
<li>패키징: 배포용 패키지 빌드 자동화<br>
</li>
<li>개발/운영 분리: 개발용/프로덕션용 디펜던시 구분 관리</li>
</ul>
</section>
<section id="pip-vs-poetry" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="pip-vs-poetry"><span class="header-section-number">1.2</span> pip vs Poetry</h3>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 61%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>pip + requirements.txt</th>
<th>Poetry</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>설정 파일</td>
<td><code>requirements.txt</code> (수동 관리)</td>
<td><code>pyproject.toml</code> (자동 생성)</td>
</tr>
<tr class="even">
<td>버전 고정</td>
<td>수동으로 작성</td>
<td><code>poetry.lock</code> 자동 생성</td>
</tr>
<tr class="odd">
<td>가상환경</td>
<td>별도 도구 필요 (venv, virtualenv)</td>
<td>내장 기능</td>
</tr>
<tr class="even">
<td>의존성 해결</td>
<td>충돌 시 수동 해결</td>
<td>자동 해결</td>
</tr>
<tr class="odd">
<td>개발/운영 분리</td>
<td>별도 파일 필요</td>
<td>하나의 파일로 관리</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="프로젝트-생성-및-설정" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="프로젝트-생성-및-설정"><span class="header-section-number">2</span> 프로젝트 생성 및 설정</h2>
<ul>
<li><a href="https://python-poetry.org/docs/cli/">Poetry cli 명령어 공식 목록-https://python-poetry.org/docs/cli/</a></li>
</ul>
<section id="새-프로젝트-생성" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="새-프로젝트-생성"><span class="header-section-number">2.1</span> 새 프로젝트 생성</h3>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 수동 생성  </span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> ~/projects/insilico  </span>
<span id="cb1-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> ~/projects/insilico  </span>
<span id="cb1-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> local 3.11.10  </span></code></pre></div>
<pre><code>#생성된 디렉토리 구조  
insilico/  
├── pyproject.toml  
└── main.py          # ← 소스 코드는 루트에 (또는 직접 src/ 생성)  </code></pre>
<ul>
<li>폴더 생성: 수동<br>
</li>
<li>프로젝트 구조: insilico/ (빈 폴더)<br>
</li>
<li>pyproject.toml: 대화형으로 생성<br>
</li>
<li>소스 폴더: 없음 (직접 생성 필요)<br>
</li>
<li>tests 폴더: 없음 (직접 생성 필요)<br>
</li>
<li>README.md: 없음 (직접 생성 필요)<br>
</li>
<li>Python 버전: pyenv local 3.11.10으로 명시</li>
</ul>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 자동생성  </span></span>
<span id="cb3-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> new insilico  </span>
<span id="cb3-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> insilico  </span></code></pre></div>
<pre><code>#생성된 디렉토리 구조  
insilico/  
├── pyproject.toml  
├── README.md  
├── insilico/        # ← 소스 코드는 여기  
│   └── __init__.py  
└── tests/  </code></pre>
<ul>
<li>폴더 생성: 자동 (중첩 구조)<br>
</li>
<li>프로젝트 구조: insilico/insilico/ (패키지 폴더 포함)<br>
</li>
<li>pyproject.toml: 자동 생성 (기본값)<br>
</li>
<li>소스 폴더: insilico/ 자동 생성<br>
</li>
<li>tests 폴더: 자동 생성<br>
</li>
<li>README.md: 자동 생성<br>
</li>
<li>Python 버전: 시스템 기본값</li>
</ul>
<p><strong>본인은 수동으로 다음과 같이 생성</strong></p>
<ul>
<li>본인은 poetry 어떻게 동작하는지 알고싶어서 수동으로 생성했지만 자동 생성도 괜찮음</li>
</ul>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. 폴더 생성 및 Python 버전 고정  </span></span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> ~/projects/insilico  </span>
<span id="cb5-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> ~/projects/insilico  </span>
<span id="cb5-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> local 3.11.10  </span>
<span id="cb5-5"></span>
<span id="cb5-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. Poetry 초기화  </span></span>
<span id="cb5-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> init <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pyproject.toml 파일을 생성  </span></span></code></pre></div>
<ul>
<li>아래는 <code>poetry init</code> 실행으로 인해 <code>pyproject.toml</code> 파일을 생성하기 위해 나타나는 대화형 질문들이다.</li>
</ul>
<pre><code>Package name [insilico]: insilico  
Version [0.1.0]: 0.1.0  
Description []: AI Agent Development Using LangChain &amp; LangGraph  
Author [kmkim, n to skip]:   
License []: MIT  
Compatible Python versions [^3.11]: ^3.11   
Would you like to define your main dependencies interactively? (yes/no) [yes] no  
Would you like to define your development dependencies interactively? (yes/no) [yes] no  

Do you confirm generation? (yes/no) [yes] yes  </code></pre>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. 수동으로 구조 생성  </span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> insilico tests  </span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> insilico/__init__.py tests/__init__.py  </span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> README.md  </span></code></pre></div>
<pre><code>insilico/                      # 프로젝트 루트 폴더  
├── pyproject.toml            # 자동 생성 (기본 설정 포함)  
├── README.md                 # 수동 생성   
├── src/                 # 수동 생성  
└── tests/                    # 수동 생성  </code></pre>
<ul>
<li>수동으로 하든 자동으로 하든 후에 <code>pyproject.toml</code>만 잘 작성해주면 아무 문제 없음</li>
</ul>
</section>
<section id="poetry-가상-환경-생성" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="poetry-가상-환경-생성"><span class="header-section-number">2.2</span> Poetry 가상 환경 생성</h3>
<ul>
<li>기존 pyproject.toml이 있을때 가상환경 생성</li>
</ul>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기존 pyproject.toml이 있을때, 가상환경 생성 (자동으로 .venv 폴더에 생성)  </span></span>
<span id="cb9-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> install   </span></code></pre></div>
<ul>
<li><code>install</code>: The install command reads the pyproject.toml file from the current project, resolves the dependencies, and installs them.<br>
</li>
<li>이때 가상환경 생성됨<br>
</li>
<li><code>.venv/</code> 폴더 생성<br>
</li>
<li><code>poetry.lock</code> 생성<br>
</li>
<li><code>pyproject.toml</code>에 정의된 패키지 설치</li>
</ul>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env list  </span></code></pre></div>
<pre><code>insilico-sFIBWfwq-py3.11 (Activated)  </code></pre>
<ul>
<li>본인은 conda를 사용자라서 activation의 의미가 혼동이 왔었는데 conda의 가상환경 활성화 상태와 poetry의 활성화 상태의 정의가 다름을 깨달았다.
<ul>
<li>Conda 환경: <code>conda activate env_name</code> 로 실행하면 <strong>쉘 명령어(activate)</strong>를 사용하여 쉘 프롬프트를 변경하는 의미<br>
</li>
<li>Poetry 환경: <code>poetry env list</code>로 실행하면 현재 <code>poetry env list</code> 명령어를 실행 중인 곳이 해당 환경인지를 나타낸다. 즉, 위의 <code>(Activated)</code>의 의미는 <code>poetry env list</code> 명령어를 실행하고 있는 현재 프로세스가 해당 <code>insilico-sFIBWfwq-py3.11</code> 가상 환경 내부에 있음을 의미하는 것이다.</li>
</ul></li>
</ul>
</section>
<section id="가상환경-활성화-및-비활성화" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="가상환경-활성화-및-비활성화"><span class="header-section-number">2.3</span> 가상환경 활성화 및 비활성화</h3>
<ul>
<li>Poetry 환경에서 실제 가상환경을 활성화 시키려면?
<ul>
<li>poetry에서 가상환경의 활성화는 <code>poetry shell</code>로 가능했는데 <code>Poetry 2.0+</code>부터는 이 명령어가 코어 기능에서 제거(Removed)되었다 (deprecated)</li>
</ul></li>
</ul>
<section id="표준-활성화-방법" class="level4" data-number="2.3.1">
<h4 data-number="2.3.1" class="anchored" data-anchor-id="표준-활성화-방법"><span class="header-section-number">2.3.1</span> 표준 활성화 방법</h4>
<ul>
<li><code>eval $(poetry env activate)</code>: 공식 웹사이트에서 제 1 에시로 나옴</li>
</ul>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> eval <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env activate<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 활성화   </span></span>
<span id="cb12-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">insilico-py3.11</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> deactivate <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경이 활성화되었음. 가상환경 비활성화 명령어 입력  </span></span>
<span id="cb12-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 비활성화됨  </span></span></code></pre></div>
</section>
<section id="개별-명령어-실행" class="level4" data-number="2.3.2">
<h4 data-number="2.3.2" class="anchored" data-anchor-id="개별-명령어-실행"><span class="header-section-number">2.3.2</span> 개별 명령어 실행</h4>
<ul>
<li>poetry run 명령어는 가상환경을 수동으로 활성화하지 않아도 프로젝트의 가상환경을 찾고, 해당 가상환경 안에서 명령어를 실행해주는 역할을 한다.<br>
</li>
<li>poetry run은 뒤에 <strong>실행하고자 하는 명령(Command)</strong>을 인수로 받는다.
<ul>
<li>Poetry는 <code>insilico/.venv/bin/python</code>을 사용하도록 설정한 후, 이 Python으로 <code>test_setup.py</code> 스크립트를 실행</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> cat test_setup.py  </span>
<span id="cb13-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> langchain import __version__ as lc_version  </span>
<span id="cb13-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> langgraph import version  </span>
<span id="cb13-4"></span>
<span id="cb13-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">print</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">f</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LangChain: {lc_version}"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span>  </span>
<span id="cb13-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">print</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LangGraph: imported successfully"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span>  </span></code></pre></div>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 활성화 없이 Poetry로 명령어 실행  </span></span>
<span id="cb14-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> run python test_setup.py  </span></code></pre></div>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry run python test_setup.py  </span>
<span id="cb15-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">LangChain:</span> 1.1.0  </span>
<span id="cb15-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">LangGraph:</span> imported successfully  </span></code></pre></div>
</section>
<section id="수동-활성화" class="level4" data-number="2.3.3">
<h4 data-number="2.3.3" class="anchored" data-anchor-id="수동-활성화"><span class="header-section-number">2.3.3</span> 수동 활성화</h4>
<ul>
<li>가장 직접적인 방법으로 path 를 읽어와서 활성화시킨다. poetry 가 비정상적으로 설치됐을 경우 가장 효과적으로 활성화 시킬 수 있다.</li>
</ul>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env info <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--path</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span>/bin/activate  </span></code></pre></div>
</section>
</section>
<section id="poetry의-가상환경-위치-설정" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="poetry의-가상환경-위치-설정"><span class="header-section-number">2.4</span> Poetry의 가상환경 위치 설정</h3>
<ul>
<li><code>pyenv</code> vs <code>venv</code>
<ul>
<li><code>pyenv</code>: Python 버전 관리
<ul>
<li><code>pyenv local 3.11.10</code><br>
</li>
<li>역할: Python 인터프리터 버전 관리<br>
</li>
<li>설치 위치: ~/.pyenv/versions/3.11.10/<br>
</li>
<li>관리 대상: Python 실행 파일 자체<br>
</li>
<li>목적: 프로젝트마다 다른 Python 버전 사용<br>
</li>
</ul></li>
<li><code>Poetry .venv</code>: 패키지 격리
<ul>
<li><code>poetry config virtualenvs.in-project true</code>: 프로젝트 폴더 내에 .venv 생성하도록 설정<br>
</li>
<li><code>poetry install</code><br>
</li>
<li>설치 위치: 프로젝트 폴더 내 .venv/<br>
</li>
<li>관리 대상: 패키지(langchain, fastapi 등)<br>
</li>
<li>목적: 프로젝트마다 독립된 패키지 환경</li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 폴더 내에 .venv 생성 (권장)  </span></span>
<span id="cb17-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry config virtualenvs.in-project true  </span>
<span id="cb17-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> ls <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-la</span>  </span>
<span id="cb17-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">total</span> 316  </span>
<span id="cb17-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">drwxrwxr-x</span> 4 azureuser azureuser   4096 Dec  3 04:18 .  </span>
<span id="cb17-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">drwxrwxr-x</span> 3 azureuser azureuser   4096 Dec  1 07:45 ..  </span>
<span id="cb17-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-rw-r--</span> 1 azureuser azureuser      8 Dec  1 07:45 .python-version  </span>
<span id="cb17-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-rw-r--</span> 1 azureuser azureuser 293841 Dec  1 07:55 poetry.lock  </span>
<span id="cb17-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-rw-r--</span> 1 azureuser azureuser    711 Dec  1 07:55 pyproject.toml  </span>
<span id="cb17-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">drwxrwxr-x</span> 4 azureuser azureuser   4096 Dec  1 08:02 src  </span>
<span id="cb17-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-rw-r--</span> 1 azureuser azureuser    155 Dec  1 08:02 test_setup.py  </span>
<span id="cb17-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">drwxrwxr-x</span> 2 azureuser azureuser   4096 Dec  1 08:02 tests  </span></code></pre></div>
<ul>
<li><code>poetry config virtualenvs.in-project true</code> 명령어를 실행했지만 <code>.venv</code> 폴더가 아직 생성되지 않았다.
<ul>
<li>시행착오 결과, 내가 poetry에서 가상환경 재설치를 위해 필요한 폴더 구조를 만들지 않아서 <code>.venv</code> 생성이 되지 않았던 것<br>
</li>
<li>필요한 폴더 구조: Python 패키지 규칙과 Poetry의 프로젝트 구조 요구사항을 의미<br>
</li>
<li>Python 패키지 = 폴더 + <code>__init__.py</code></li>
</ul>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># __init__.py 있음 → Python 패키지  </span></span>
<span id="cb18-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">insilico/</span>                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 루트  </span></span>
<span id="cb18-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> README.md                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 설명  </span></span>
<span id="cb18-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> pyproject.toml  </span>
<span id="cb18-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> poetry.lock  </span>
<span id="cb18-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> .venv/  </span>
<span id="cb18-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> src/  </span>
<span id="cb18-8">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> insilico/                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 루트 (프로젝트명과 동일)  </span></span>
<span id="cb18-9">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> __init__.py            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 표시 (필수)  </span></span>
<span id="cb18-10">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> agents/  </span>
<span id="cb18-11">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>   ├── __init__.py        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 서브패키지 표시 (필수)  </span></span>
<span id="cb18-12">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>   └── chat_agent.py  </span>
<span id="cb18-13">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> utils/  </span>
<span id="cb18-14">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> __init__.py        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 서브패키지 표시 (필수)  </span></span>
<span id="cb18-15">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> helpers.py  </span>
<span id="cb18-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># import 성공  </span></span>
<span id="cb18-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"import insilico.agents"</span>  </span>
<span id="cb18-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"from insilico import Agent"</span>  </span>
<span id="cb18-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 정상 작동  </span></span></code></pre></div></li>
<li><code>poetry new insilico</code> 로 자동설치하면 이런 시행착오를 안겪고 가상환경으로 자동으로 만들 수 있음<br>
</li>
<li>수동 설치시 아래의 구조를 수동으로 만들어야함</li>
</ul>
<pre><code>#가능한 디렉토리 구조: Flat 레이아웃 사용 (덜 권장)  
insilico/  
├── pyproject.toml  
├── README.md # 포에트리 구조 요구 사항: PyPI 등록 시 표시될 설명. 이 파일이 없어도 가상환경이 설치되지만 경고 메세지가 출력된다.  
├── insilico/        # 소스 코드 폴더명은 프로젝트 폴더명과 일치시켜야함  
│   └── __init__.py # 패키지 인식 스크립트 필요  
└── tests/  </code></pre>
<ul>
<li>소스 코드 폴더명과 프로젝트 폴더명의 일치
<ul>
<li>별도 설정 없이 패키지 자동 인식시키면 <code>pip install insilico</code> 후 <code>import insilico</code>로 자동 사용 가능<br>
</li>
</ul></li>
<li>만약 소스 코드 폴더명 과 폴더명이 불일치하면 <code>pyproject.toml</code>을 수정해야함
<ul>
<li>그래도 여전히, 패키지 이름과 일치하는 폴더는 필수적으로 만들어야한다.</li>
</ul></li>
</ul>
<pre><code>#가능한 디렉토리 구조: src 레이아웃 사용 (표준 권장)  
insilico/ # 프로젝트 명 or 패키지 명  
├── pyproject.toml  
├── src/ # 소스 코드 폴더명: 프로젝트 명 or 패키지 명과 달라도 됨  
│&nbsp; &nbsp; &nbsp; &nbsp;└── insilico/  # **패키지 이름과 일치하는 폴더 (필수)**  
│&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;├── __init__.py  
│&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;└── (모듈 파일들...)  
└── tests/  </code></pre>
<ul>
<li>pyproject.toml 변경: Poetry가 src/ 디렉토리 내에서 패키지 소스 코드를 찾도록 지정</li>
</ul>
<pre><code>&lt;중략&gt;  
[tool.poetry]  
name = "insilico"  
packages = [{ include = "insilico", from = "src" } # src/insilico/를 패키지로 지정]  
# ...  
&lt;중략&gt;  </code></pre>
<ul>
<li>개발만 하고 배포 안 할 경우: 패키지 모드 비활성화 (비권장)
<ul>
<li><code>poetry install --no-root</code>: # 폴더명, <strong>init</strong>.py 상관없이 설치 가능</li>
</ul></li>
</ul>
<pre><code>[tool.poetry]  
package-mode = false  # ← 패키지 구조 무시  
name = "insilico"  </code></pre>
<ul>
<li>아예 깔끔하게 기존 가상환경 삭제 하고 재생성 시도</li>
</ul>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Poetry가 캐시 폴더에 이미 만든 가상환경 확인  </span></span>
<span id="cb23-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env list  </span>
<span id="cb23-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 출력: insilico-sFIBWfwq-py3.11 (Activated)  </span></span>
<span id="cb23-4"></span>
<span id="cb23-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기존 환경 삭제  </span></span>
<span id="cb23-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env remove python  </span>
<span id="cb23-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 또는 전체 삭제  </span></span>
<span id="cb23-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env remove <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--all</span>  </span></code></pre></div>
<ul>
<li>가상환경 재설치</li>
</ul>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># insilico 폴더에 __init__.py 생성  </span></span>
<span id="cb24-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> ~/projects/insilico  </span>
<span id="cb24-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> __init__.py  </span>
<span id="cb24-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> README.md  </span></code></pre></div>
<ul>
<li>pyproject.toml 수정</li>
</ul>
<pre><code>[tool.poetry]  
name = "insilico"  
version = "0.1.0"  
description = "AI Agent Development Using LangChain &amp; LangGraph"  
authors = ["kmkim &lt;kmkim@seegene.com&gt;"]  
license = "MIT"  
readme = "README.md"  
packages = [{include = "insilico", from = "src"}]  # 가상환경 만들기전에 명시적으로 이 줄 추가  

[tool.poetry.dependencies]  
python = "^3.11"  
langchain = "^1.1.0"  
langchain-community = "^0.4.1"  
langgraph = "^1.0.4"  
python-dotenv = "^1.2.1"  
pydantic = "^2.12.5"  
fastapi = "^0.123.0"  
uvicorn = "^0.38.0"  
numpy = "^2.3.5"  
pandas = "^2.3.3"  
polars = "^1.35.2"  

[build-system]  
requires = ["poetry-core&gt;=2.0.0,&lt;3.0.0"]  
build-backend = "poetry.core.masonry.api"  </code></pre>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 재생성  </span></span>
<span id="cb26-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry install  </span></code></pre></div>
<pre><code>azureuser@test-agent:~/projects/insilico$ cd ~/projects/insilico  

# insilico 폴더에 __init__.py 생성  
touch insilico/__init__.py  

# agents 폴더에 __init__.py 생성  
touch insilico/agents/__init__.py  

# utils 폴더에 __init__.py 생성  
touch insilico/utils/__init__.py  
azureuser@test-agent:~/projects/insilico$ cd insilico/  
azureuser@test-agent:~/projects/insilico/insilico$ ls  
__init__.py  agents  utils  
azureuser@test-agent:~/projects/insilico/insilico$ cd agents  
azureuser@test-agent:~/projects/insilico/insilico/agents$ ls  
__init__.py  
azureuser@test-agent:~/projects/insilico/insilico/agents$ cd ../../  
azureuser@test-agent:~/projects/insilico$ ls  
README.md  insilico  poetry.lock  pyproject.toml  test_setup.py  tests  
azureuser@test-agent:~/projects/insilico$ nano pyproject.toml  
azureuser@test-agent:~/projects/insilico$ poetry install  
Creating virtualenv insilico in /home/azureuser/projects/insilico/.venv  
Installing dependencies from lock file  

Package operations: 64 installs, 0 updates, 0 removals  

  - Installing certifi (2025.11.12)  
  - Installing charset-normalizer (3.4.4)  
  - Installing h11 (0.16.0)  
  - Installing idna (3.11)  
  - Installing typing-extensions (4.15.0)  
  - Installing urllib3 (2.5.0)  
  - Installing annotated-types (0.7.0)  
  - Installing anyio (4.12.0)  
  - Installing httpcore (1.0.9)  
  - Installing pydantic-core (2.41.5)  
  - Installing requests (2.32.5)  
  - Installing typing-inspection (0.4.2)  
  - Installing httpx (0.28.1)  
  - Installing jsonpointer (3.0.0)  
  - Installing orjson (3.11.4)  
  - Installing packaging (25.0)  
  - Installing pydantic (2.12.5)  
  - Installing requests-toolbelt (1.0.0)  
  - Installing zstandard (0.25.0)  
  - Installing jsonpatch (1.33)  
  - Installing langsmith (0.4.49)  
  - Installing pyyaml (6.0.3)  
  - Installing tenacity (9.1.2)  
  - Installing langchain-core (1.1.0)  
  - Installing ormsgpack (1.12.0)  
  - Installing frozenlist (1.8.0)  
  - Installing greenlet (3.2.4)  
  - Installing langgraph-checkpoint (3.0.1)  
  - Installing multidict (6.7.0)  
  - Installing mypy-extensions (1.1.0)  
  - Installing propcache (0.4.1)  
  - Installing aiohappyeyeballs (2.6.1)  
  - Installing aiosignal (1.4.0)  
  - Installing attrs (25.4.0)  
  - Installing langchain-text-splitters (1.0.0)  
  - Installing langgraph-prebuilt (1.0.5)  
  - Installing langgraph-sdk (0.2.10)  
  - Installing marshmallow (3.26.1)  
  - Installing python-dotenv (1.2.1)  
  - Installing six (1.17.0)  
  - Installing sqlalchemy (2.0.44)  
  - Installing typing-inspect (0.9.0)  
  - Installing xxhash (3.6.0)  
  - Installing yarl (1.22.0)  
  - Installing aiohttp (3.13.2)  
  - Installing annotated-doc (0.0.4)  
  - Installing click (8.3.1)  
  - Installing dataclasses-json (0.6.7)  
  - Installing httpx-sse (0.4.3)  
  - Installing langchain-classic (1.0.0)  
  - Installing langgraph (1.0.4)  
  - Installing numpy (2.3.5)  
  - Installing polars-runtime-32 (1.35.2)  
  - Installing pydantic-settings (2.12.0)  
  - Installing python-dateutil (2.9.0.post0)  
  - Installing pytz (2025.2)  
  - Installing starlette (0.50.0)  
  - Installing tzdata (2025.2)  
  - Installing fastapi (0.123.0)  
  - Installing langchain (1.1.0)  
  - Installing langchain-community (0.4.1)  
  - Installing pandas (2.3.3)  
  - Installing polars (1.35.2)  
  - Installing uvicorn (0.38.0)  

Installing the current project: insilico (0.1.0)  </code></pre>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 설정 확인  </span></span>
<span id="cb28-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry config <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--list</span>  </span></code></pre></div>
<pre><code>cache-dir = "/home/azureuser/.cache/pypoetry"  
data-dir = "/home/azureuser/.local/share/pypoetry"  
installer.max-workers = null  
installer.no-binary = null  
installer.only-binary = null  
installer.parallel = true  
installer.re-resolve = true  
keyring.enabled = true  
python.installation-dir = "{data-dir}/python"  # /home/azureuser/.local/share/pypoetry/python  
requests.max-retries = 0  
solver.lazy-wheel = true  
system-git-client = false  
virtualenvs.create = true # Poetry가 poetry install 또는 poetry shell 실행 시 가상환경을 생성하도록 설정되어 있다.  
virtualenvs.in-project = true # 가상환경을 프로젝트 루트 디렉토리 내부에 생성하도록 설정되어 있다.   
virtualenvs.options.always-copy = false  
virtualenvs.options.no-pip = false  
virtualenvs.options.system-site-packages = false  
virtualenvs.path = "{cache-dir}/virtualenvs"  # /home/azureuser/.cache/pypoetry/virtualenvs  
virtualenvs.prompt = "{project_name}-py{python_version}"  
virtualenvs.use-poetry-python = false  </code></pre>
</section>
<section id="현재-가상환경-정보" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="현재-가상환경-정보"><span class="header-section-number">2.5</span> 현재 가상환경 정보</h3>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Poetry가 사용 중인 가상환경 경로  </span></span>
<span id="cb30-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry env info  </span>
<span id="cb30-3"></span>
<span id="cb30-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Virtualenv  </span></span>
<span id="cb30-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python:         3.11.10  </span></span>
<span id="cb30-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Implementation: CPython  </span></span>
<span id="cb30-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Path:           /home/azureuser/projects/insilico/.venv  </span></span>
<span id="cb30-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Executable:     /home/azureuser/projects/insilico/.venv/bin/python  </span></span>
<span id="cb30-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Valid:          True  </span></span>
<span id="cb30-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   </span></span>
<span id="cb30-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Base  </span></span>
<span id="cb30-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Platform:   linux  </span></span>
<span id="cb30-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># OS:         posix  </span></span>
<span id="cb30-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python:     3.11.10  </span></span>
<span id="cb30-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Path:       /home/azureuser/.pyenv/versions/3.11.10  </span></span>
<span id="cb30-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Executable: /home/azureuser/.pyenv/versions/3.11.10/bin/python3.11  </span></span></code></pre></div>


</section>
</section>

 ]]></description>
  <category>Engineering</category>
  <category>DevOps</category>
  <category>Python</category>
  <category>Agent</category>
  <category>Cloud</category>
  <category>Azure</category>
  <category>Poetry</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/2-vm_venv_setup.html</guid>
  <pubDate>Tue, 25 Nov 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure VM에 Poetry로 Agent 프로젝트 디펜던시 관리하기</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/3-vm_dependency_setup.html</link>
  <description><![CDATA[ 





<section id="poetry를-활용한-dependency-관리" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="poetry를-활용한-dependency-관리"><span class="header-section-number">1</span> Poetry를 활용한 Dependency 관리</h2>
<p>Poetry는 Python 프로젝트의 <strong>의존성 관리</strong>와 <strong>패키징</strong>을 위한 현대적인 도구다.</p>
<section id="poetry의-장점" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="poetry의-장점"><span class="header-section-number">1.1</span> Poetry의 장점</h3>
<ul>
<li>의존성 관리: <code>pyproject.toml</code> 파일로 모든 패키지 버전 관리<br>
</li>
<li>가상환경 자동 생성: 프로젝트별로 독립된 Python 환경 자동 구축<br>
</li>
<li>Lock 파일: <code>poetry.lock</code>으로 정확한 버전 재현 가능<br>
</li>
<li>패키징: 배포용 패키지 빌드 자동화<br>
</li>
<li>개발/운영 분리: 개발용/프로덕션용 디펜던시 구분 관리</li>
</ul>
</section>
<section id="pip-vs-poetry" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="pip-vs-poetry"><span class="header-section-number">1.2</span> pip vs Poetry</h3>
<table class="table">
<colgroup>
<col style="width: 16%">
<col style="width: 61%">
<col style="width: 22%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>pip + requirements.txt</th>
<th>Poetry</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>설정 파일</td>
<td><code>requirements.txt</code> (수동 관리)</td>
<td><code>pyproject.toml</code> (자동 생성)</td>
</tr>
<tr class="even">
<td>버전 고정</td>
<td>수동으로 작성</td>
<td><code>poetry.lock</code> 자동 생성</td>
</tr>
<tr class="odd">
<td>가상환경</td>
<td>별도 도구 필요 (venv, virtualenv)</td>
<td>내장 기능</td>
</tr>
<tr class="even">
<td>의존성 해결</td>
<td>충돌 시 수동 해결</td>
<td>자동 해결</td>
</tr>
<tr class="odd">
<td>개발/운영 분리</td>
<td>별도 파일 필요</td>
<td>하나의 파일로 관리</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="프로젝트-생성-및-설정" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="프로젝트-생성-및-설정"><span class="header-section-number">2</span> 프로젝트 생성 및 설정</h2>
<ul>
<li><a href="https://python-poetry.org/docs/cli/">Poetry cli 명령어 공식 목록-https://python-poetry.org/docs/cli/</a></li>
</ul>
<section id="새-프로젝트-생성" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="새-프로젝트-생성"><span class="header-section-number">2.1</span> 새 프로젝트 생성</h3>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 수동 생성  </span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> ~/projects/insilico  </span>
<span id="cb1-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> ~/projects/insilico  </span>
<span id="cb1-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> local 3.11.10  </span></code></pre></div>
<pre><code>#생성된 디렉토리 구조  
insilico/  
├── pyproject.toml  
└── main.py          # ← 소스 코드는 루트에 (또는 직접 src/ 생성)  </code></pre>
<ul>
<li>폴더 생성: 수동<br>
</li>
<li>프로젝트 구조: insilico/ (빈 폴더)<br>
</li>
<li>pyproject.toml: 대화형으로 생성<br>
</li>
<li>소스 폴더: 없음 (직접 생성 필요)<br>
</li>
<li>tests 폴더: 없음 (직접 생성 필요)<br>
</li>
<li>README.md: 없음 (직접 생성 필요)<br>
</li>
<li>Python 버전: pyenv local 3.11.10으로 명시</li>
</ul>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 자동생성  </span></span>
<span id="cb3-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> new insilico  </span>
<span id="cb3-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> insilico  </span></code></pre></div>
<pre><code>#생성된 디렉토리 구조  
insilico/  
├── pyproject.toml  
├── README.md  
├── insilico/        # ← 소스 코드는 여기  
│   └── __init__.py  
└── tests/  </code></pre>
<ul>
<li>폴더 생성: 자동 (중첩 구조)<br>
</li>
<li>프로젝트 구조: insilico/insilico/ (패키지 폴더 포함)<br>
</li>
<li>pyproject.toml: 자동 생성 (기본값)<br>
</li>
<li>소스 폴더: insilico/ 자동 생성<br>
</li>
<li>tests 폴더: 자동 생성<br>
</li>
<li>README.md: 자동 생성<br>
</li>
<li>Python 버전: 시스템 기본값</li>
</ul>
<p><strong>본인은 수동으로 다음과 같이 생성</strong></p>
<ul>
<li>본인은 poetry 어떻게 동작하는지 알고싶어서 수동으로 생성했지만 자동 생성도 괜찮음</li>
</ul>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. 폴더 생성 및 Python 버전 고정  </span></span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> ~/projects/insilico  </span>
<span id="cb5-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> ~/projects/insilico  </span>
<span id="cb5-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> local 3.11.10  </span>
<span id="cb5-5"></span>
<span id="cb5-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. Poetry 초기화  </span></span>
<span id="cb5-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> init <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pyproject.toml 파일을 생성  </span></span></code></pre></div>
<ul>
<li>아래는 <code>poetry init</code> 실행으로 인해 <code>pyproject.toml</code> 파일을 생성하기 위해 나타나는 대화형 질문들이다.</li>
</ul>
<pre><code>Package name [insilico]: insilico  
Version [0.1.0]: 0.1.0  
Description []: AI Agent Development Using LangChain &amp; LangGraph  
Author [kmkim, n to skip]:   
License []: MIT  
Compatible Python versions [^3.11]: ^3.11   
Would you like to define your main dependencies interactively? (yes/no) [yes] no  
Would you like to define your development dependencies interactively? (yes/no) [yes] no  

Do you confirm generation? (yes/no) [yes] yes  </code></pre>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. 수동으로 구조 생성  </span></span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mkdir</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> insilico tests  </span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> insilico/__init__.py tests/__init__.py  </span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> README.md  </span></code></pre></div>
<pre><code>insilico/                      # 프로젝트 루트 폴더  
├── pyproject.toml            # 자동 생성 (기본 설정 포함)  
├── README.md                 # 수동 생성   
├── src/                 # 수동 생성  
└── tests/                    # 수동 생성  </code></pre>
<ul>
<li>수동으로 하든 자동으로 하든 후에 <code>pyproject.toml</code>만 잘 작성해주면 아무 문제 없음</li>
</ul>
</section>
<section id="poetry-가상-환경-생성" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="poetry-가상-환경-생성"><span class="header-section-number">2.2</span> Poetry 가상 환경 생성</h3>
<ul>
<li>기존 pyproject.toml이 있을때 가상환경 생성</li>
</ul>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기존 pyproject.toml이 있을때, 가상환경 생성 (자동으로 .venv 폴더에 생성)  </span></span>
<span id="cb9-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> install   </span></code></pre></div>
<ul>
<li><code>install</code>: The install command reads the pyproject.toml file from the current project, resolves the dependencies, and installs them.<br>
</li>
<li>이때 가상환경 생성됨<br>
</li>
<li><code>.venv/</code> 폴더 생성<br>
</li>
<li><code>poetry.lock</code> 생성<br>
</li>
<li><code>pyproject.toml</code>에 정의된 패키지 설치</li>
</ul>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env list  </span></code></pre></div>
<pre><code>insilico-sFIBWfwq-py3.11 (Activated)  </code></pre>
<ul>
<li>본인은 conda를 사용자라서 activation의 의미가 혼동이 왔었는데 conda의 가상환경 활성화 상태와 poetry의 활성화 상태의 정의가 다름을 깨달았다.
<ul>
<li>Conda 환경: <code>conda activate env_name</code> 로 실행하면 <strong>쉘 명령어(activate)</strong>를 사용하여 쉘 프롬프트를 변경하는 의미<br>
</li>
<li>Poetry 환경: <code>poetry env list</code>로 실행하면 현재 <code>poetry env list</code> 명령어를 실행 중인 곳이 해당 환경인지를 나타낸다. 즉, 위의 <code>(Activated)</code>의 의미는 <code>poetry env list</code> 명령어를 실행하고 있는 현재 프로세스가 해당 <code>insilico-sFIBWfwq-py3.11</code> 가상 환경 내부에 있음을 의미하는 것이다.</li>
</ul></li>
</ul>
</section>
<section id="가상환경-활성화-및-비활성화" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="가상환경-활성화-및-비활성화"><span class="header-section-number">2.3</span> 가상환경 활성화 및 비활성화</h3>
<ul>
<li>Poetry 환경에서 실제 가상환경을 활성화 시키려면?
<ul>
<li>poetry에서 가상환경의 활성화는 <code>poetry shell</code>로 가능했는데 <code>Poetry 2.0+</code>부터는 이 명령어가 코어 기능에서 제거(Removed)되었다 (deprecated)</li>
</ul></li>
</ul>
<section id="표준-활성화-방법" class="level4" data-number="2.3.1">
<h4 data-number="2.3.1" class="anchored" data-anchor-id="표준-활성화-방법"><span class="header-section-number">2.3.1</span> 표준 활성화 방법</h4>
<ul>
<li><code>eval $(poetry env activate)</code>: 공식 웹사이트에서 제 1 에시로 나옴</li>
</ul>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> eval <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env activate<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 활성화   </span></span>
<span id="cb12-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">insilico-py3.11</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> deactivate <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경이 활성화되었음. 가상환경 비활성화 명령어 입력  </span></span>
<span id="cb12-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 비활성화됨  </span></span></code></pre></div>
</section>
<section id="개별-명령어-실행" class="level4" data-number="2.3.2">
<h4 data-number="2.3.2" class="anchored" data-anchor-id="개별-명령어-실행"><span class="header-section-number">2.3.2</span> 개별 명령어 실행</h4>
<ul>
<li>poetry run 명령어는 가상환경을 수동으로 활성화하지 않아도 프로젝트의 가상환경을 찾고, 해당 가상환경 안에서 명령어를 실행해주는 역할을 한다.<br>
</li>
<li>poetry run은 뒤에 <strong>실행하고자 하는 명령(Command)</strong>을 인수로 받는다.
<ul>
<li>Poetry는 <code>insilico/.venv/bin/python</code>을 사용하도록 설정한 후, 이 Python으로 <code>test_setup.py</code> 스크립트를 실행</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> cat test_setup.py  </span>
<span id="cb13-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> langchain import __version__ as lc_version  </span>
<span id="cb13-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">from</span> langgraph import version  </span>
<span id="cb13-4"></span>
<span id="cb13-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">print</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">f</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LangChain: {lc_version}"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span>  </span>
<span id="cb13-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">print</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LangGraph: imported successfully"</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span>  </span></code></pre></div>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 활성화 없이 Poetry로 명령어 실행  </span></span>
<span id="cb14-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> run python test_setup.py  </span></code></pre></div>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry run python test_setup.py  </span>
<span id="cb15-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">LangChain:</span> 1.1.0  </span>
<span id="cb15-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">LangGraph:</span> imported successfully  </span></code></pre></div>
</section>
<section id="수동-활성화" class="level4" data-number="2.3.3">
<h4 data-number="2.3.3" class="anchored" data-anchor-id="수동-활성화"><span class="header-section-number">2.3.3</span> 수동 활성화</h4>
<ul>
<li>가장 직접적인 방법으로 path 를 읽어와서 활성화시킨다. poetry 가 비정상적으로 설치됐을 경우 가장 효과적으로 활성화 시킬 수 있다.</li>
</ul>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env info <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--path</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span>/bin/activate  </span></code></pre></div>
</section>
</section>
<section id="poetry의-가상환경-위치-설정" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="poetry의-가상환경-위치-설정"><span class="header-section-number">2.4</span> Poetry의 가상환경 위치 설정</h3>
<ul>
<li><code>pyenv</code> vs <code>venv</code>
<ul>
<li><code>pyenv</code>: Python 버전 관리
<ul>
<li><code>pyenv local 3.11.10</code><br>
</li>
<li>역할: Python 인터프리터 버전 관리<br>
</li>
<li>설치 위치: ~/.pyenv/versions/3.11.10/<br>
</li>
<li>관리 대상: Python 실행 파일 자체<br>
</li>
<li>목적: 프로젝트마다 다른 Python 버전 사용<br>
</li>
</ul></li>
<li><code>Poetry .venv</code>: 패키지 격리
<ul>
<li><code>poetry config virtualenvs.in-project true</code>: 프로젝트 폴더 내에 .venv 생성하도록 설정<br>
</li>
<li><code>poetry install</code><br>
</li>
<li>설치 위치: 프로젝트 폴더 내 .venv/<br>
</li>
<li>관리 대상: 패키지(langchain, fastapi 등)<br>
</li>
<li>목적: 프로젝트마다 독립된 패키지 환경</li>
</ul></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 폴더 내에 .venv 생성 (권장)  </span></span>
<span id="cb17-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry config virtualenvs.in-project true  </span>
<span id="cb17-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> ls <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-la</span>  </span>
<span id="cb17-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">total</span> 316  </span>
<span id="cb17-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">drwxrwxr-x</span> 4 azureuser azureuser   4096 Dec  3 04:18 .  </span>
<span id="cb17-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">drwxrwxr-x</span> 3 azureuser azureuser   4096 Dec  1 07:45 ..  </span>
<span id="cb17-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-rw-r--</span> 1 azureuser azureuser      8 Dec  1 07:45 .python-version  </span>
<span id="cb17-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-rw-r--</span> 1 azureuser azureuser 293841 Dec  1 07:55 poetry.lock  </span>
<span id="cb17-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-rw-r--</span> 1 azureuser azureuser    711 Dec  1 07:55 pyproject.toml  </span>
<span id="cb17-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">drwxrwxr-x</span> 4 azureuser azureuser   4096 Dec  1 08:02 src  </span>
<span id="cb17-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">-rw-rw-r--</span> 1 azureuser azureuser    155 Dec  1 08:02 test_setup.py  </span>
<span id="cb17-12"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">drwxrwxr-x</span> 2 azureuser azureuser   4096 Dec  1 08:02 tests  </span></code></pre></div>
<ul>
<li><code>poetry config virtualenvs.in-project true</code> 명령어를 실행했지만 <code>.venv</code> 폴더가 아직 생성되지 않았다.
<ul>
<li>시행착오 결과, 내가 poetry에서 가상환경 재설치를 위해 필요한 폴더 구조를 만들지 않아서 <code>.venv</code> 생성이 되지 않았던 것<br>
</li>
<li>필요한 폴더 구조: Python 패키지 규칙과 Poetry의 프로젝트 구조 요구사항을 의미<br>
</li>
<li>Python 패키지 = 폴더 + <code>__init__.py</code></li>
</ul>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># __init__.py 있음 → Python 패키지  </span></span>
<span id="cb18-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">insilico/</span>                       <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 루트  </span></span>
<span id="cb18-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> README.md                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 설명  </span></span>
<span id="cb18-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> pyproject.toml  </span>
<span id="cb18-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> poetry.lock  </span>
<span id="cb18-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> .venv/  </span>
<span id="cb18-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> src/  </span>
<span id="cb18-8">    <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> insilico/                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 루트 (프로젝트명과 동일)  </span></span>
<span id="cb18-9">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> __init__.py            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 표시 (필수)  </span></span>
<span id="cb18-10">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> agents/  </span>
<span id="cb18-11">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>   ├── __init__.py        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 서브패키지 표시 (필수)  </span></span>
<span id="cb18-12">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">│</span>   └── chat_agent.py  </span>
<span id="cb18-13">        <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> utils/  </span>
<span id="cb18-14">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">├──</span> __init__.py        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 서브패키지 표시 (필수)  </span></span>
<span id="cb18-15">            <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">└──</span> helpers.py  </span>
<span id="cb18-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># import 성공  </span></span>
<span id="cb18-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"import insilico.agents"</span>  </span>
<span id="cb18-18"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-c</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"from insilico import Agent"</span>  </span>
<span id="cb18-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 정상 작동  </span></span></code></pre></div></li>
<li><code>poetry new insilico</code> 로 자동설치하면 이런 시행착오를 안겪고 가상환경으로 자동으로 만들 수 있음<br>
</li>
<li>수동 설치시 아래의 구조를 수동으로 만들어야함</li>
</ul>
<pre><code>#가능한 디렉토리 구조: Flat 레이아웃 사용 (덜 권장)  
insilico/  
├── pyproject.toml  
├── README.md # 포에트리 구조 요구 사항: PyPI 등록 시 표시될 설명. 이 파일이 없어도 가상환경이 설치되지만 경고 메세지가 출력된다.  
├── insilico/        # 소스 코드 폴더명은 프로젝트 폴더명과 일치시켜야함  
│   └── __init__.py # 패키지 인식 스크립트 필요  
└── tests/  </code></pre>
<ul>
<li>소스 코드 폴더명과 프로젝트 폴더명의 일치
<ul>
<li>별도 설정 없이 패키지 자동 인식시키면 <code>pip install insilico</code> 후 <code>import insilico</code>로 자동 사용 가능<br>
</li>
</ul></li>
<li>만약 소스 코드 폴더명 과 폴더명이 불일치하면 <code>pyproject.toml</code>을 수정해야함
<ul>
<li>그래도 여전히, 패키지 이름과 일치하는 폴더는 필수적으로 만들어야한다.</li>
</ul></li>
</ul>
<pre><code>#가능한 디렉토리 구조: src 레이아웃 사용 (표준 권장)  
insilico/ # 프로젝트 명 or 패키지 명  
├── pyproject.toml  
├── src/ # 소스 코드 폴더명: 프로젝트 명 or 패키지 명과 달라도 됨  
│&nbsp; &nbsp; &nbsp; &nbsp;└── insilico/  # **패키지 이름과 일치하는 폴더 (필수)**  
│&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;├── __init__.py  
│&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;└── (모듈 파일들...)  
└── tests/  </code></pre>
<ul>
<li>pyproject.toml 변경: Poetry가 src/ 디렉토리 내에서 패키지 소스 코드를 찾도록 지정</li>
</ul>
<pre><code>&lt;중략&gt;  
[tool.poetry]  
name = "insilico"  
packages = [{ include = "insilico", from = "src" } # src/insilico/를 패키지로 지정]  
# ...  
&lt;중략&gt;  </code></pre>
<ul>
<li>개발만 하고 배포 안 할 경우: 패키지 모드 비활성화 (비권장)
<ul>
<li><code>poetry install --no-root</code>: # 폴더명, <strong>init</strong>.py 상관없이 설치 가능</li>
</ul></li>
</ul>
<pre><code>[tool.poetry]  
package-mode = false  # ← 패키지 구조 무시  
name = "insilico"  </code></pre>
<ul>
<li>아예 깔끔하게 기존 가상환경 삭제 하고 재생성 시도</li>
</ul>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Poetry가 캐시 폴더에 이미 만든 가상환경 확인  </span></span>
<span id="cb23-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env list  </span>
<span id="cb23-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 출력: insilico-sFIBWfwq-py3.11 (Activated)  </span></span>
<span id="cb23-4"></span>
<span id="cb23-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기존 환경 삭제  </span></span>
<span id="cb23-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env remove python  </span>
<span id="cb23-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 또는 전체 삭제  </span></span>
<span id="cb23-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env remove <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--all</span>  </span></code></pre></div>
<ul>
<li>가상환경 재설치</li>
</ul>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb24-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># insilico 폴더에 __init__.py 생성  </span></span>
<span id="cb24-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> ~/projects/insilico  </span>
<span id="cb24-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> __init__.py  </span>
<span id="cb24-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">touch</span> README.md  </span></code></pre></div>
<ul>
<li>pyproject.toml 수정</li>
</ul>
<pre><code>[tool.poetry]  
name = "insilico"  
version = "0.1.0"  
description = "AI Agent Development Using LangChain &amp; LangGraph"  
authors = ["kmkim &lt;kmkim@seegene.com&gt;"]  
license = "MIT"  
readme = "README.md"  
packages = [{include = "insilico", from = "src"}]  # 가상환경 만들기전에 명시적으로 이 줄 추가  

[tool.poetry.dependencies]  
python = "^3.11"  
langchain = "^1.1.0"  
langchain-community = "^0.4.1"  
langgraph = "^1.0.4"  
python-dotenv = "^1.2.1"  
pydantic = "^2.12.5"  
fastapi = "^0.123.0"  
uvicorn = "^0.38.0"  
numpy = "^2.3.5"  
pandas = "^2.3.3"  
polars = "^1.35.2"  

[build-system]  
requires = ["poetry-core&gt;=2.0.0,&lt;3.0.0"]  
build-backend = "poetry.core.masonry.api"  </code></pre>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 재생성  </span></span>
<span id="cb26-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry install  </span></code></pre></div>
<pre><code>azureuser@test-agent:~/projects/insilico$ cd ~/projects/insilico  

# insilico 폴더에 __init__.py 생성  
touch insilico/__init__.py  

# agents 폴더에 __init__.py 생성  
touch insilico/agents/__init__.py  

# utils 폴더에 __init__.py 생성  
touch insilico/utils/__init__.py  
azureuser@test-agent:~/projects/insilico$ cd insilico/  
azureuser@test-agent:~/projects/insilico/insilico$ ls  
__init__.py  agents  utils  
azureuser@test-agent:~/projects/insilico/insilico$ cd agents  
azureuser@test-agent:~/projects/insilico/insilico/agents$ ls  
__init__.py  
azureuser@test-agent:~/projects/insilico/insilico/agents$ cd ../../  
azureuser@test-agent:~/projects/insilico$ ls  
README.md  insilico  poetry.lock  pyproject.toml  test_setup.py  tests  
azureuser@test-agent:~/projects/insilico$ nano pyproject.toml  
azureuser@test-agent:~/projects/insilico$ poetry install  
Creating virtualenv insilico in /home/azureuser/projects/insilico/.venv  
Installing dependencies from lock file  

Package operations: 64 installs, 0 updates, 0 removals  

  - Installing certifi (2025.11.12)  
  - Installing charset-normalizer (3.4.4)  
  - Installing h11 (0.16.0)  
  - Installing idna (3.11)  
  - Installing typing-extensions (4.15.0)  
  - Installing urllib3 (2.5.0)  
  - Installing annotated-types (0.7.0)  
  - Installing anyio (4.12.0)  
  - Installing httpcore (1.0.9)  
  - Installing pydantic-core (2.41.5)  
  - Installing requests (2.32.5)  
  - Installing typing-inspection (0.4.2)  
  - Installing httpx (0.28.1)  
  - Installing jsonpointer (3.0.0)  
  - Installing orjson (3.11.4)  
  - Installing packaging (25.0)  
  - Installing pydantic (2.12.5)  
  - Installing requests-toolbelt (1.0.0)  
  - Installing zstandard (0.25.0)  
  - Installing jsonpatch (1.33)  
  - Installing langsmith (0.4.49)  
  - Installing pyyaml (6.0.3)  
  - Installing tenacity (9.1.2)  
  - Installing langchain-core (1.1.0)  
  - Installing ormsgpack (1.12.0)  
  - Installing frozenlist (1.8.0)  
  - Installing greenlet (3.2.4)  
  - Installing langgraph-checkpoint (3.0.1)  
  - Installing multidict (6.7.0)  
  - Installing mypy-extensions (1.1.0)  
  - Installing propcache (0.4.1)  
  - Installing aiohappyeyeballs (2.6.1)  
  - Installing aiosignal (1.4.0)  
  - Installing attrs (25.4.0)  
  - Installing langchain-text-splitters (1.0.0)  
  - Installing langgraph-prebuilt (1.0.5)  
  - Installing langgraph-sdk (0.2.10)  
  - Installing marshmallow (3.26.1)  
  - Installing python-dotenv (1.2.1)  
  - Installing six (1.17.0)  
  - Installing sqlalchemy (2.0.44)  
  - Installing typing-inspect (0.9.0)  
  - Installing xxhash (3.6.0)  
  - Installing yarl (1.22.0)  
  - Installing aiohttp (3.13.2)  
  - Installing annotated-doc (0.0.4)  
  - Installing click (8.3.1)  
  - Installing dataclasses-json (0.6.7)  
  - Installing httpx-sse (0.4.3)  
  - Installing langchain-classic (1.0.0)  
  - Installing langgraph (1.0.4)  
  - Installing numpy (2.3.5)  
  - Installing polars-runtime-32 (1.35.2)  
  - Installing pydantic-settings (2.12.0)  
  - Installing python-dateutil (2.9.0.post0)  
  - Installing pytz (2025.2)  
  - Installing starlette (0.50.0)  
  - Installing tzdata (2025.2)  
  - Installing fastapi (0.123.0)  
  - Installing langchain (1.1.0)  
  - Installing langchain-community (0.4.1)  
  - Installing pandas (2.3.3)  
  - Installing polars (1.35.2)  
  - Installing uvicorn (0.38.0)  

Installing the current project: insilico (0.1.0)  </code></pre>
<div class="sourceCode" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 설정 확인  </span></span>
<span id="cb28-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry config <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--list</span>  </span></code></pre></div>
<pre><code>cache-dir = "/home/azureuser/.cache/pypoetry"  
data-dir = "/home/azureuser/.local/share/pypoetry"  
installer.max-workers = null  
installer.no-binary = null  
installer.only-binary = null  
installer.parallel = true  
installer.re-resolve = true  
keyring.enabled = true  
python.installation-dir = "{data-dir}/python"  # /home/azureuser/.local/share/pypoetry/python  
requests.max-retries = 0  
solver.lazy-wheel = true  
system-git-client = false  
virtualenvs.create = true # Poetry가 poetry install 또는 poetry shell 실행 시 가상환경을 생성하도록 설정되어 있다.  
virtualenvs.in-project = true # 가상환경을 프로젝트 루트 디렉토리 내부에 생성하도록 설정되어 있다.   
virtualenvs.options.always-copy = false  
virtualenvs.options.no-pip = false  
virtualenvs.options.system-site-packages = false  
virtualenvs.path = "{cache-dir}/virtualenvs"  # /home/azureuser/.cache/pypoetry/virtualenvs  
virtualenvs.prompt = "{project_name}-py{python_version}"  
virtualenvs.use-poetry-python = false  </code></pre>
</section>
<section id="현재-가상환경-정보" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="현재-가상환경-정보"><span class="header-section-number">2.5</span> 현재 가상환경 정보</h3>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Poetry가 사용 중인 가상환경 경로  </span></span>
<span id="cb30-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry env info  </span>
<span id="cb30-3"></span>
<span id="cb30-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Virtualenv  </span></span>
<span id="cb30-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python:         3.11.10  </span></span>
<span id="cb30-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Implementation: CPython  </span></span>
<span id="cb30-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Path:           /home/azureuser/projects/insilico/.venv  </span></span>
<span id="cb30-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Executable:     /home/azureuser/projects/insilico/.venv/bin/python  </span></span>
<span id="cb30-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Valid:          True  </span></span>
<span id="cb30-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   </span></span>
<span id="cb30-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Base  </span></span>
<span id="cb30-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Platform:   linux  </span></span>
<span id="cb30-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># OS:         posix  </span></span>
<span id="cb30-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python:     3.11.10  </span></span>
<span id="cb30-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Path:       /home/azureuser/.pyenv/versions/3.11.10  </span></span>
<span id="cb30-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Executable: /home/azureuser/.pyenv/versions/3.11.10/bin/python3.11  </span></span></code></pre></div>
</section>
<section id="설치된-패키지-확인" class="level3" data-number="2.6">
<h3 data-number="2.6" class="anchored" data-anchor-id="설치된-패키지-확인"><span class="header-section-number">2.6</span> 설치된 패키지 확인</h3>
<div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb31-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 현재 설치된 모든 패키지  </span></span>
<span id="cb31-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry show  </span>
<span id="cb31-3"></span>
<span id="cb31-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># aiohappyeyeballs         2.6.1       Happy Eyeballs for asyncio  </span></span>
<span id="cb31-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># aiohttp                  3.13.2      Async http client/server framework (asyncio)  </span></span>
<span id="cb31-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># aiosignal                1.4.0       aiosignal: a list of registered asynchronous callbacks  </span></span>
<span id="cb31-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># annotated-doc            0.0.4       Document parameters, class attributes, return types, and variables inline, with Annotated.  </span></span>
<span id="cb31-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># annotated-types          0.7.0       Reusable constraint types to use with typing.Annotated  </span></span>
<span id="cb31-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># anyio                    4.12.0      High-level concurrency and networking framework on top of asyncio or Trio  </span></span>
<span id="cb31-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># attrs                    25.4.0      Classes Without Boilerplate  </span></span>
<span id="cb31-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># certifi                  2025.11.12  Python package for providing Mozilla's CA Bundle.  </span></span>
<span id="cb31-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># charset-normalizer       3.4.4       The Real First Universal Charset Detector. Open, modern and actively maintained alternative to Chardet.  </span></span>
<span id="cb31-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># click                    8.3.1       Composable command line interface toolkit  </span></span>
<span id="cb31-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># dataclasses-json         0.6.7       Easily serialize dataclasses to and from JSON.  </span></span>
<span id="cb31-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># fastapi                  0.123.0     FastAPI framework, high performance, easy to learn, fast to code, ready for production  </span></span>
<span id="cb31-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># frozenlist               1.8.0       A list-like structure which implements collections.abc.MutableSequence  </span></span>
<span id="cb31-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># greenlet                 3.2.4       Lightweight in-process concurrent programming  </span></span>
<span id="cb31-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># (중략)  </span></span></code></pre></div>
<div class="sourceCode" id="cb32" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 패키지 상세 정보  </span></span>
<span id="cb32-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry show langchain  </span>
<span id="cb32-3"></span>
<span id="cb32-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  name         : langchain  </span></span>
<span id="cb32-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  version      : 1.1.0  </span></span>
<span id="cb32-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  description  : Building applications with LLMs through composability  </span></span>
<span id="cb32-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#   </span></span>
<span id="cb32-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># dependencies  </span></span>
<span id="cb32-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  - langchain-core &gt;=1.1.0,&lt;2.0.0  </span></span>
<span id="cb32-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  - langgraph &gt;=1.0.2,&lt;1.1.0  </span></span>
<span id="cb32-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#  - pydantic &gt;=2.7.4,&lt;3.0.0  </span></span></code></pre></div>
<div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 디펜던시 트리 확인  </span></span>
<span id="cb33-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry show <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--tree</span>  </span>
<span id="cb33-3"></span>
<span id="cb33-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># (중략)  </span></span>
<span id="cb33-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># langgraph 1.0.4 Building stateful, multi-actor applications with LLMs  </span></span>
<span id="cb33-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ├── langchain-core &gt;=0.1  </span></span>
<span id="cb33-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   ├── jsonpatch &gt;=1.33.0,&lt;2.0.0  </span></span>
<span id="cb33-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   └── jsonpointer &gt;=1.9  </span></span>
<span id="cb33-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   ├── langsmith &gt;=0.3.45,&lt;1.0.0  </span></span>
<span id="cb33-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   ├── httpx &gt;=0.23.0,&lt;1  </span></span>
<span id="cb33-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── anyio *  </span></span>
<span id="cb33-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   │   ├── idna &gt;=2.8  </span></span>
<span id="cb33-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   │   └── typing-extensions &gt;=4.5  </span></span>
<span id="cb33-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── certifi *  </span></span>
<span id="cb33-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── httpcore ==1.*  </span></span>
<span id="cb33-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   │   ├── certifi * (circular dependency aborted here)  </span></span>
<span id="cb33-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   │   └── h11 &gt;=0.16  </span></span>
<span id="cb33-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   └── idna * (circular dependency aborted here)  </span></span>
<span id="cb33-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   ├── orjson &gt;=3.9.14  </span></span>
<span id="cb33-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   ├── packaging &gt;=23.2  </span></span>
<span id="cb33-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   ├── pydantic &gt;=1,&lt;3  </span></span>
<span id="cb33-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── annotated-types &gt;=0.6.0  </span></span>
<span id="cb33-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── pydantic-core 2.41.5  </span></span>
<span id="cb33-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   │   └── typing-extensions &gt;=4.14.1 (circular dependency aborted here)  </span></span>
<span id="cb33-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── typing-extensions &gt;=4.14.1 (circular dependency aborted here)  </span></span>
<span id="cb33-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   └── typing-inspection &gt;=0.4.2  </span></span>
<span id="cb33-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │       └── typing-extensions &gt;=4.12.0 (circular dependency aborted here)  </span></span>
<span id="cb33-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   ├── requests &gt;=2.0.0  </span></span>
<span id="cb33-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── certifi &gt;=2017.4.17 (circular dependency aborted here)  </span></span>
<span id="cb33-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── charset-normalizer &gt;=2,&lt;4  </span></span>
<span id="cb33-31"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   ├── idna &gt;=2.5,&lt;4 (circular dependency aborted here)  </span></span>
<span id="cb33-32"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   └── urllib3 &gt;=1.21.1,&lt;3  </span></span>
<span id="cb33-33"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   ├── requests-toolbelt &gt;=1.0.0  </span></span>
<span id="cb33-34"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   │   └── requests &gt;=2.0.1,&lt;3.0.0 (circular dependency aborted here)  </span></span>
<span id="cb33-35"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   │   └── zstandard &gt;=0.23.0  </span></span>
<span id="cb33-36"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   ├── packaging &gt;=23.2.0,&lt;26.0.0 (circular dependency aborted here)  </span></span>
<span id="cb33-37"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   ├── pydantic &gt;=2.7.4,&lt;3.0.0 (circular dependency aborted here)  </span></span>
<span id="cb33-38"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   ├── pyyaml &gt;=5.3.0,&lt;7.0.0  </span></span>
<span id="cb33-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   ├── tenacity &gt;=8.1.0,&lt;8.4.0 || &gt;8.4.0,&lt;10.0.0  </span></span>
<span id="cb33-40"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># │   └── typing-extensions &gt;=4.7.0,&lt;5.0.0 (circular dependency aborted here)  </span></span>
<span id="cb33-41"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ```  </span></span>
<span id="cb33-42"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># (중략)  </span></span></code></pre></div>
</section>
<section id="python-버전-확인" class="level3" data-number="2.7">
<h3 data-number="2.7" class="anchored" data-anchor-id="python-버전-확인"><span class="header-section-number">2.7</span> Python 버전 확인</h3>
<div class="sourceCode" id="cb34" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Poetry 환경의 Python 버전  </span></span>
<span id="cb34-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> poetry run python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  </span>
<span id="cb34-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 3.11.10  </span></span></code></pre></div>
<p>또는</p>
<div class="sourceCode" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb35-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> eval <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env activate<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span>  </span>
<span id="cb35-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">insilico-py3.11</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  </span>
<span id="cb35-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 3.11.10  </span></span>
<span id="cb35-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">(</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">insilico-py3.11</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">)</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~/projects/insilico$</span> which python  </span>
<span id="cb35-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># /home/azureuser/projects/insilico/.venv/bin/python  </span></span></code></pre></div>
</section>
</section>
<section id="pyproject.toml-입력-가이드" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="pyproject.toml-입력-가이드"><span class="header-section-number">3</span> pyproject.toml 입력 가이드</h2>
<section id="버전-지정-방식" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="버전-지정-방식"><span class="header-section-number">3.1</span> 버전 지정 방식</h3>
<table class="table">
<thead>
<tr class="header">
<th>표기법</th>
<th>의미</th>
<th>예시</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>^1.2.3</code></td>
<td>1.2.3 이상, 2.0.0 미만</td>
<td><code>^1.2.3</code> → <code>&gt;=1.2.3 &lt;2.0.0</code></td>
</tr>
<tr class="even">
<td><code>~1.2.3</code></td>
<td>1.2.3 이상, 1.3.0 미만</td>
<td><code>~1.2.3</code> → <code>&gt;=1.2.3 &lt;1.3.0</code></td>
</tr>
<tr class="odd">
<td><code>&gt;=1.2.3</code></td>
<td>1.2.3 이상</td>
<td>최신 버전까지 허용</td>
</tr>
<tr class="even">
<td><code>1.2.3</code></td>
<td>정확히 1.2.3만</td>
<td>고정 버전</td>
</tr>
<tr class="odd">
<td><code>*</code></td>
<td>모든 버전</td>
<td>최신 버전 (비권장)</td>
</tr>
</tbody>
</table>
</section>
<section id="개발운영-디펜던시-분리" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="개발운영-디펜던시-분리"><span class="header-section-number">3.2</span> 개발/운영 디펜던시 분리</h3>
<div class="sourceCode" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode numberSource toml number-lines code-with-copy"><code class="sourceCode toml"><span id="cb36-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[tool.poetry.dependencies]</span>  </span>
<span id="cb36-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 운영 환경에 필요한 패키지  </span></span>
<span id="cb36-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">python</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^3.11"</span>  </span>
<span id="cb36-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fastapi</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.109.0"</span>  </span>
<span id="cb36-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">langchain</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.1.0"</span>  </span>
<span id="cb36-6"></span>
<span id="cb36-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[tool.poetry.group.dev.dependencies]</span>  </span>
<span id="cb36-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 개발 환경에서만 필요한 패키지  </span></span>
<span id="cb36-9"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">pytest</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^8.0.0"</span>  </span>
<span id="cb36-10"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">black</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^24.0.0"</span>  </span>
<span id="cb36-11"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">mypy</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^1.8.0"</span>  </span></code></pre></div>
<p><strong>설치 시 차이:</strong></p>
<div class="sourceCode" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb37-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 운영 + 개발 디펜던시 모두 설치  </span></span>
<span id="cb37-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> install  </span>
<span id="cb37-3"></span>
<span id="cb37-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 운영 디펜던시만 설치 (프로덕션 배포 시)  </span></span>
<span id="cb37-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--only</span> main  </span></code></pre></div>
</section>
</section>
<section id="디펜던시-설치" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="디펜던시-설치"><span class="header-section-number">4</span> 디펜던시 설치</h2>
<section id="agent-개발-핵심-패키지" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="agent-개발-핵심-패키지"><span class="header-section-number">4.1</span> Agent 개발 핵심 패키지</h3>
<section id="데이터-처리" class="level4" data-number="4.1.1">
<h4 data-number="4.1.1" class="anchored" data-anchor-id="데이터-처리"><span class="header-section-number">4.1.1</span> 데이터 처리</h4>
<div class="sourceCode" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb38-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Pandas: 데이터 분석 및 처리  </span></span>
<span id="cb38-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add pandas  </span>
<span id="cb38-3"></span>
<span id="cb38-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Polars: 고성능 데이터프레임 (Pandas보다 빠름)  </span></span>
<span id="cb38-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add polars  </span>
<span id="cb38-6"></span>
<span id="cb38-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># NumPy: 수치 계산  </span></span>
<span id="cb38-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add numpy  </span></code></pre></div>
<p><strong>pyproject.toml에 자동 추가됨:</strong></p>
<div class="sourceCode" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode numberSource toml number-lines code-with-copy"><code class="sourceCode toml"><span id="cb39-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[tool.poetry.dependencies]</span>  </span>
<span id="cb39-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">pandas</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^2.2.0"</span>  </span>
<span id="cb39-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">polars</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.20.0"</span>  </span>
<span id="cb39-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">numpy</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^1.26.0"</span>  </span></code></pre></div>
</section>
<section id="langchain-생태계" class="level4" data-number="4.1.2">
<h4 data-number="4.1.2" class="anchored" data-anchor-id="langchain-생태계"><span class="header-section-number">4.1.2</span> LangChain 생태계</h4>
<div class="sourceCode" id="cb40" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb40-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># LangChain 코어: Agent 프레임워크  </span></span>
<span id="cb40-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add langchain  </span>
<span id="cb40-3"></span>
<span id="cb40-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># LangChain Community: 추가 통합 기능  </span></span>
<span id="cb40-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add langchain-community  </span>
<span id="cb40-6"></span>
<span id="cb40-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># LangGraph: Agent 워크플로우 오케스트레이션  </span></span>
<span id="cb40-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add langgraph  </span></code></pre></div>
<p><strong>LangChain 패키지 구성:</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>패키지</th>
<th>용도</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>langchain</code></td>
<td>코어 프레임워크 (LLM, Chains, Agents)</td>
</tr>
<tr class="even">
<td><code>langchain-community</code></td>
<td>써드파티 통합 (Vector DB, APIs)</td>
</tr>
<tr class="odd">
<td><code>langgraph</code></td>
<td>상태 기반 Agent 워크플로우</td>
</tr>
<tr class="even">
<td><code>langchain-openai</code></td>
<td>OpenAI 통합 (별도 설치 시)</td>
</tr>
</tbody>
</table>
</section>
<section id="환경-변수-및-설정" class="level4" data-number="4.1.3">
<h4 data-number="4.1.3" class="anchored" data-anchor-id="환경-변수-및-설정"><span class="header-section-number">4.1.3</span> 환경 변수 및 설정</h4>
<div class="sourceCode" id="cb41" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb41-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python-dotenv: .env 파일 로드  </span></span>
<span id="cb41-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add python-dotenv  </span>
<span id="cb41-3"></span>
<span id="cb41-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Pydantic: 데이터 검증 및 설정 관리  </span></span>
<span id="cb41-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add pydantic  </span></code></pre></div>
<p><strong>사용 예시:</strong></p>
<div class="sourceCode" id="cb42" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># .env 파일  </span></span>
<span id="cb42-2">OPENAI_API_KEY<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>sk<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>...  </span>
<span id="cb42-3">DATABASE_URL<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>postgresql:<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//</span>...  </span>
<span id="cb42-4"></span>
<span id="cb42-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># main.py  </span></span>
<span id="cb42-6"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> dotenv <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> load_dotenv  </span>
<span id="cb42-7"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> pydantic <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> BaseModel  </span>
<span id="cb42-8"></span>
<span id="cb42-9">load_dotenv()  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># .env 파일 로드  </span></span>
<span id="cb42-10"></span>
<span id="cb42-11"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> AgentConfig(BaseModel):  </span>
<span id="cb42-12">    model: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4"</span>  </span>
<span id="cb42-13">    temperature: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>  </span></code></pre></div>
</section>
<section id="api-서버" class="level4" data-number="4.1.4">
<h4 data-number="4.1.4" class="anchored" data-anchor-id="api-서버"><span class="header-section-number">4.1.4</span> API 서버</h4>
<div class="sourceCode" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb43-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># FastAPI: 웹 API 프레임워크  </span></span>
<span id="cb43-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add fastapi  </span>
<span id="cb43-3"></span>
<span id="cb43-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Uvicorn: ASGI 서버  </span></span>
<span id="cb43-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add uvicorn<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">standard</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span>  </span></code></pre></div>
<p><strong>FastAPI 기본 템플릿:</strong></p>
<div class="sourceCode" id="cb44" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> fastapi <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> FastAPI  </span>
<span id="cb44-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> pydantic <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> BaseModel  </span>
<span id="cb44-3"></span>
<span id="cb44-4">app <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> FastAPI()  </span>
<span id="cb44-5"></span>
<span id="cb44-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> AgentRequest(BaseModel):  </span>
<span id="cb44-7">    query: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>  </span>
<span id="cb44-8">    model: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4"</span>  </span>
<span id="cb44-9"></span>
<span id="cb44-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@app.post</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/agent/chat"</span>)  </span>
<span id="cb44-11"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">async</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> chat(request: AgentRequest):  </span>
<span id="cb44-12">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Agent 로직  </span></span>
<span id="cb44-13">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"response"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"..."</span>}  </span></code></pre></div>
<p><strong>서버 실행:</strong></p>
<div class="sourceCode" id="cb45" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb45-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> run uvicorn main:app <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--reload</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--host</span> 0.0.0.0 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--port</span> 8000  </span></code></pre></div>
</section>
</section>
<section id="전체-디펜던시-한-번에-설치" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="전체-디펜던시-한-번에-설치"><span class="header-section-number">4.2</span> 전체 디펜던시 한 번에 설치</h3>
<div class="sourceCode" id="cb46" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb46-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add pandas polars numpy <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb46-2">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">langchain</span> langchain-community langgraph <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb46-3">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python-dotenv</span> pydantic <span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\ </span> </span>
<span id="cb46-4">  <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">fastapi</span> uvicorn<span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">[</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">standard</span><span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">]</span>  </span></code></pre></div>
</section>
<section id="개발-도구-추가-선택사항" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="개발-도구-추가-선택사항"><span class="header-section-number">4.3</span> 개발 도구 추가 (선택사항)</h3>
<div class="sourceCode" id="cb47" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 코드 포맷터  </span></span>
<span id="cb47-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--group</span> dev black ruff  </span>
<span id="cb47-3"></span>
<span id="cb47-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 타입 체커  </span></span>
<span id="cb47-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--group</span> dev mypy  </span>
<span id="cb47-6"></span>
<span id="cb47-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 테스트 프레임워크  </span></span>
<span id="cb47-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--group</span> dev pytest pytest-asyncio  </span>
<span id="cb47-9"></span>
<span id="cb47-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Jupyter Notebook (실험용)  </span></span>
<span id="cb47-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--group</span> dev jupyter ipykernel  </span></code></pre></div>
</section>
</section>
<section id="디펜던시-관리-명령어" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="디펜던시-관리-명령어"><span class="header-section-number">5</span> 디펜던시 관리 명령어</h2>
<section id="패키지-추가제거" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="패키지-추가제거"><span class="header-section-number">5.1</span> 패키지 추가/제거</h3>
<div class="sourceCode" id="cb48" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb48-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 추가  </span></span>
<span id="cb48-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>package-name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>  </span>
<span id="cb48-3"></span>
<span id="cb48-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 버전 설치  </span></span>
<span id="cb48-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add langchain@^0.1.0  </span>
<span id="cb48-6"></span>
<span id="cb48-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 개발 디펜던시로 추가  </span></span>
<span id="cb48-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--group</span> dev pytest  </span>
<span id="cb48-9"></span>
<span id="cb48-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 제거  </span></span>
<span id="cb48-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> remove <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>package-name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>  </span></code></pre></div>
</section>
<section id="업데이트" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="업데이트"><span class="header-section-number">5.2</span> 업데이트</h3>
<div class="sourceCode" id="cb49" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb49-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 모든 패키지 최신 버전으로 업데이트  </span></span>
<span id="cb49-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> update  </span>
<span id="cb49-3"></span>
<span id="cb49-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 특정 패키지만 업데이트  </span></span>
<span id="cb49-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> update langchain  </span>
<span id="cb49-6"></span>
<span id="cb49-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Lock 파일만 업데이트 (설치는 안 함)  </span></span>
<span id="cb49-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> lock <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--no-update</span>  </span></code></pre></div>
</section>
<section id="의존성-확인" class="level3" data-number="5.3">
<h3 data-number="5.3" class="anchored" data-anchor-id="의존성-확인"><span class="header-section-number">5.3</span> 의존성 확인</h3>
<div class="sourceCode" id="cb50" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb50-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 오래된 패키지 확인  </span></span>
<span id="cb50-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> show <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--outdated</span>  </span>
<span id="cb50-3"></span>
<span id="cb50-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 보안 취약점 확인 (별도 플러그인 필요)  </span></span>
<span id="cb50-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> run pip-audit  </span></code></pre></div>
</section>
</section>
<section id="완성된-pyproject.toml-예시" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="완성된-pyproject.toml-예시"><span class="header-section-number">6</span> 완성된 pyproject.toml 예시</h2>
<div class="sourceCode" id="cb51" style="background: #f1f3f5;"><pre class="sourceCode numberSource toml number-lines code-with-copy"><code class="sourceCode toml"><span id="cb51-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[tool.poetry]</span>  </span>
<span id="cb51-2"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">name</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent-platform"</span>  </span>
<span id="cb51-3"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"0.1.0"</span>  </span>
<span id="cb51-4"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">description</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AI Agent Platform with LangChain and FastAPI"</span>  </span>
<span id="cb51-5"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">authors</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Kwangmin Kim &lt;your@email.com&gt;"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span>  </span>
<span id="cb51-6"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">readme</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"README.md"</span>  </span>
<span id="cb51-7"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">license</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MIT"</span>  </span>
<span id="cb51-8"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">packages</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">include</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_platform"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}]</span>  </span>
<span id="cb51-9"></span>
<span id="cb51-10"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[tool.poetry.dependencies]</span>  </span>
<span id="cb51-11"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">python</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^3.11"</span>  </span>
<span id="cb51-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 데이터 처리  </span></span>
<span id="cb51-13"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">pandas</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^2.2.0"</span>  </span>
<span id="cb51-14"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">polars</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.20.0"</span>  </span>
<span id="cb51-15"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">numpy</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^1.26.0"</span>  </span>
<span id="cb51-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># LangChain 생태계  </span></span>
<span id="cb51-17"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">langchain</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.1.0"</span>  </span>
<span id="cb51-18"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">langchain-community</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.0.20"</span>  </span>
<span id="cb51-19"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">langgraph</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.0.20"</span>  </span>
<span id="cb51-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 환경 설정  </span></span>
<span id="cb51-21"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">python-dotenv</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^1.0.0"</span>  </span>
<span id="cb51-22"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">pydantic</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^2.5.0"</span>  </span>
<span id="cb51-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># API 서버  </span></span>
<span id="cb51-24"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">fastapi</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.109.0"</span>  </span>
<span id="cb51-25"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">uvicorn</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">extras</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"standard"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">], </span><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">version</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"> =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.27.0"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span>  </span>
<span id="cb51-26"></span>
<span id="cb51-27"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[tool.poetry.group.dev.dependencies]</span>  </span>
<span id="cb51-28"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">pytest</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^8.0.0"</span>  </span>
<span id="cb51-29"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">pytest-asyncio</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.23.0"</span>  </span>
<span id="cb51-30"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">black</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^24.0.0"</span>  </span>
<span id="cb51-31"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">ruff</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^0.1.0"</span>  </span>
<span id="cb51-32"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">mypy</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^1.8.0"</span>  </span>
<span id="cb51-33"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">jupyter</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^1.0.0"</span>  </span>
<span id="cb51-34"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">ipykernel</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"^6.29.0"</span>  </span>
<span id="cb51-35"></span>
<span id="cb51-36"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[build-system]</span>  </span>
<span id="cb51-37"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">requires</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"poetry-core"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span>  </span>
<span id="cb51-38"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">build-backend</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"poetry.core.masonry.api"</span>  </span>
<span id="cb51-39"></span>
<span id="cb51-40"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[tool.black]</span>  </span>
<span id="cb51-41"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">line-length</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>  </span>
<span id="cb51-42"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">target-version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">[</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="vs" style="color: #20794D;
background-color: null;
font-style: inherit;">py311</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">]</span>  </span>
<span id="cb51-43"></span>
<span id="cb51-44"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">[tool.ruff]</span>  </span>
<span id="cb51-45"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">line-length</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>  </span>
<span id="cb51-46"><span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">target-version</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"py311"</span>  </span></code></pre></div>
</section>
<section id="프로젝트-공유-및-배포" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="프로젝트-공유-및-배포"><span class="header-section-number">7</span> 프로젝트 공유 및 배포</h2>
<section id="다른-환경에서-프로젝트-복원" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="다른-환경에서-프로젝트-복원"><span class="header-section-number">7.1</span> 다른 환경에서 프로젝트 복원</h3>
<div class="sourceCode" id="cb52" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb52-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. 프로젝트 클론  </span></span>
<span id="cb52-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> clone <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>repository-url<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>  </span>
<span id="cb52-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> agent-platform  </span>
<span id="cb52-4"></span>
<span id="cb52-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. Poetry로 디펜던시 설치  </span></span>
<span id="cb52-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> install  </span>
<span id="cb52-7"></span>
<span id="cb52-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># poetry.lock 파일이 있으면 정확히 같은 버전 설치됨  </span></span></code></pre></div>
</section>
<section id="requirements.txt-생성-레거시-호환" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="requirements.txt-생성-레거시-호환"><span class="header-section-number">7.2</span> Requirements.txt 생성 (레거시 호환)</h3>
<div class="sourceCode" id="cb53" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Poetry 디펜던시를 requirements.txt로 변환  </span></span>
<span id="cb53-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> export <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> requirements.txt <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--output</span> requirements.txt  </span>
<span id="cb53-3"></span>
<span id="cb53-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 개발 디펜던시 제외  </span></span>
<span id="cb53-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> export <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> requirements.txt <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--output</span> requirements.txt <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--without</span> dev  </span></code></pre></div>
</section>
</section>
<section id="실전-워크플로우" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="실전-워크플로우"><span class="header-section-number">8</span> 실전 워크플로우</h2>
<section id="일반적인-개발-흐름" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="일반적인-개발-흐름"><span class="header-section-number">8.1</span> 일반적인 개발 흐름</h3>
<div class="sourceCode" id="cb54" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb54-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. 프로젝트 생성  </span></span>
<span id="cb54-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> new agent-platform  </span>
<span id="cb54-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">cd</span> agent-platform  </span>
<span id="cb54-4"></span>
<span id="cb54-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. 가상환경 설정  </span></span>
<span id="cb54-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> config virtualenvs.in-project true  </span>
<span id="cb54-7"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> install  </span>
<span id="cb54-8"></span>
<span id="cb54-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. 필요한 패키지 추가  </span></span>
<span id="cb54-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add langchain fastapi  </span>
<span id="cb54-11"></span>
<span id="cb54-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4. 개발 시작  </span></span>
<span id="cb54-13"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> shell  </span>
<span id="cb54-14"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> main.py  </span>
<span id="cb54-15"></span>
<span id="cb54-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5. 새로운 패키지 필요 시  </span></span>
<span id="cb54-17"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span>package-name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span>  </span>
<span id="cb54-18"></span>
<span id="cb54-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 6. 테스트 실행  </span></span>
<span id="cb54-20"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> run pytest  </span>
<span id="cb54-21"></span>
<span id="cb54-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 7. 코드 포맷팅  </span></span>
<span id="cb54-23"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> run black .  </span>
<span id="cb54-24"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> run ruff check .  </span></code></pre></div>
</section>
<section id="git-관리" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="git-관리"><span class="header-section-number">8.2</span> Git 관리</h3>
<p><strong>.gitignore 권장 설정:</strong></p>
<pre><code># Python  
__pycache__/  
*.py[cod]  
*$py.class  
*.so  

# Poetry  
.venv/  
dist/  
*.egg-info/  

# 환경 변수  
.env  
.env.local  

# IDE  
.vscode/  
.idea/  
*.swp  

# OS  
.DS_Store  
Thumbs.db  </code></pre>
<p><strong>Git에 포함할 파일:</strong></p>
<pre><code>✅ pyproject.toml      # 디펜던시 정의  
✅ poetry.lock         # 정확한 버전 고정  
✅ README.md  
✅ .gitignore  
❌ .venv/              # 가상환경은 제외  
❌ __pycache__/        # 캐시 파일 제외  </code></pre>
</section>
</section>
<section id="문제-해결" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="문제-해결"><span class="header-section-number">9</span> 문제 해결</h2>
<section id="가상환경-재생성" class="level3" data-number="9.1">
<h3 data-number="9.1" class="anchored" data-anchor-id="가상환경-재생성"><span class="header-section-number">9.1</span> 가상환경 재생성</h3>
<div class="sourceCode" id="cb57" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb57-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기존 가상환경 삭제  </span></span>
<span id="cb57-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> env remove python  </span>
<span id="cb57-3"></span>
<span id="cb57-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 또는 .venv 폴더 직접 삭제  </span></span>
<span id="cb57-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rm</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-rf</span> .venv  </span>
<span id="cb57-6"></span>
<span id="cb57-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 재생성  </span></span>
<span id="cb57-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> install  </span></code></pre></div>
</section>
<section id="lock-파일-충돌" class="level3" data-number="9.2">
<h3 data-number="9.2" class="anchored" data-anchor-id="lock-파일-충돌"><span class="header-section-number">9.2</span> Lock 파일 충돌</h3>
<div class="sourceCode" id="cb58" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb58-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Lock 파일 재생성  </span></span>
<span id="cb58-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> lock <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--no-update</span>  </span>
<span id="cb58-3"></span>
<span id="cb58-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 강제 업데이트  </span></span>
<span id="cb58-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> lock  </span>
<span id="cb58-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> install  </span></code></pre></div>
</section>
<section id="캐시-정리" class="level3" data-number="9.3">
<h3 data-number="9.3" class="anchored" data-anchor-id="캐시-정리"><span class="header-section-number">9.3</span> 캐시 정리</h3>
<div class="sourceCode" id="cb59" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb59-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Poetry 캐시 정리  </span></span>
<span id="cb59-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> cache clear pypi <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--all</span>  </span></code></pre></div>
</section>
</section>
<section id="요약" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="요약"><span class="header-section-number">10</span> 요약</h2>
<table class="table">
<colgroup>
<col style="width: 30%">
<col style="width: 40%">
<col style="width: 30%">
</colgroup>
<thead>
<tr class="header">
<th>단계</th>
<th>명령어</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>1. 프로젝트 생성</strong></td>
<td><code>poetry new &lt;project&gt;</code></td>
<td>새 프로젝트 생성</td>
</tr>
<tr class="even">
<td><strong>2. 가상환경 설정</strong></td>
<td><code>poetry config virtualenvs.in-project true</code></td>
<td><code>.venv</code> 로컬 생성</td>
</tr>
<tr class="odd">
<td><strong>3. 디펜던시 설치</strong></td>
<td><code>poetry add &lt;package&gt;</code></td>
<td>패키지 추가</td>
</tr>
<tr class="even">
<td><strong>4. 환경 활성화</strong></td>
<td><code>poetry shell</code></td>
<td>Shell 진입</td>
</tr>
<tr class="odd">
<td><strong>5. 확인</strong></td>
<td><code>poetry show</code></td>
<td>설치된 패키지 확인</td>
</tr>
<tr class="even">
<td><strong>6. 업데이트</strong></td>
<td><code>poetry update</code></td>
<td>패키지 업데이트</td>
</tr>
</tbody>
</table>
<p><strong>핵심 파일:</strong><br>
- <code>pyproject.toml</code>: 프로젝트 설정 및 디펜던시 정의<br>
- <code>poetry.lock</code>: 정확한 버전 고정 (Git 포함 필수)<br>
- <code>.venv/</code>: 가상환경 폴더 (Git 제외)</p>
<p>Poetry를 사용하면 Python 프로젝트의 디펜던시 관리가 <strong>일관되고</strong>, <strong>재현 가능하며</strong>, <strong>충돌 없이</strong> 진행됩니다.</p>


</section>

 ]]></description>
  <category>Engineering</category>
  <category>DevOps</category>
  <category>Python</category>
  <category>Poetry</category>
  <category>Agent</category>
  <category>Cloud</category>
  <category>Azure</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/3-vm_dependency_setup.html</guid>
  <pubDate>Tue, 25 Nov 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure Blob Storage Data Lake 구성하기</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/4-blob_data_lake_setup.html</link>
  <description><![CDATA[ 





<section id="스토리지-계정-생성" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> 스토리지 계정 생성</h1>
<ul>
<li>Agent 개발을 위한 Data Lake로서 Azure Blob Storage를 사용할 계획
<ul>
<li><strong>Blob (Binary Large Object)</strong>: 이미지, 비디오, 문서, 로그 파일 등 모든 종류의 비구조화된 데이터를 저장하는 객체 스토리지다. 파일 시스템과 달리 계층 구조 없이 평면적으로 저장되며, 각 파일은 고유한 URL을 통해 접근한다.<br>
</li>
<li><strong>Azure Blob Storage vs Data Lake Storage Gen2</strong>:
<ul>
<li>Blob Storage: 기본적인 객체 스토리지로, REST API를 통해 파일을 업로드/다운로드한다.<br>
</li>
<li>Data Lake Gen2: Blob Storage에 계층 구조 네임스페이스를 추가하여 폴더/파일 개념을 도입하고, POSIX 호환 ACL, 원자적 디렉터리 작업, 빅데이터 분석 도구(Hadoop, Spark)와의 최적화된 통합을 제공한다.<br>
</li>
</ul></li>
</ul></li>
<li>Azure Portal에서 Storage Account를 생성한다.</li>
</ul>
<section id="기본-설정" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="기본-설정"><span class="header-section-number">1.1</span> 기본 설정</h2>
<section id="프로젝트-세부-정보" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="프로젝트-세부-정보"><span class="header-section-number">1.1.1</span> 프로젝트 세부 정보</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/images/storage_creation_basic.png" class="img-fluid figure-img"></p>
<figcaption>Azure Blog Stroage 기본 설정</figcaption>
</figure>
</div>
<p><strong>구독(Subscription)</strong><br>
- 설명: 사용할 Azure 구독을 선택한다.<br>
- 입력 값: <code>swlab-test-subs</code></p>
<p><strong>리소스 그룹(Resource Group)</strong><br>
- 설명: 스토리지 계정을 포함할 리소스 그룹을 선택하거나 새로 만든다.<br>
- 입력 값: <code>rg-aipoc-test-krc-001</code></p>
</section>
<section id="인스턴스-세부-정보" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="인스턴스-세부-정보"><span class="header-section-number">1.1.2</span> 인스턴스 세부 정보</h3>
<p><strong>스토리지 계정 이름</strong><br>
- 설명: 전역적으로 고유한 스토리지 계정 이름을 입력한다 (3-24자, 소문자와 숫자만 사용 가능).<br>
- 논리적 의미: <code>storage-acount-ai-poc-test-korea-central-001</code><br>
- 입력 값: <code>saaipoctestkrc001</code></p>
<p><strong>지역(Region)</strong><br>
- 설명: 스토리지 계정이 생성될 Azure 데이터 센터 위치를 선택한다.<br>
- 입력 값: <code>(Asia Pacific) Korea Central</code></p>
<p><strong>기본 스토리지 유형</strong></p>
<ul>
<li>설명: 사용할 스토리지 서비스 유형을 선택한다. 이 선택은 Azure가 최적화된 권장 구성을 제시하는 기준이 되며, 실제로는 다른 스토리지 서비스(Table, Queue 등)도 함께 사용할 수 있다.<br>
</li>
<li>입력 값: <code>Azure Blob Storage 또는 Azure Data Lake Storage Gen 2</code><br>
</li>
<li>이 설정은 관련 지침을 제공하는 데 도움이 되지만, 실제로 스토리지를 이 특정 유형으로만 제한하지는 않는다.<br>
</li>
<li>참고: Data Lake Gen2 기능을 활성화하려면 이후 ‘계층 구조 네임스페이스’ 옵션을 반드시 활성화해야 한다.</li>
</ul>
<p><strong>기본 워크로드</strong><br>
- 설명: 스토리지를 주로 사용할 목적(사용 패턴)을 선택한다. Azure는 선택한 워크로드에 맞춰 최적화된 설정을 자동으로 권장한다.<br>
- <strong>빅 데이터 분석</strong>: 대용량 데이터를 Hadoop, Spark 등의 도구로 분석하는 경우<br>
- <strong>백업 및 아카이브</strong>: 장기 보관용 데이터 저장<br>
- <strong>미디어 스트리밍</strong>: 비디오/오디오 파일 제공<br>
- <strong>일반 용도</strong>: 특정 용도 없이 범용적으로 사용<br>
- 입력 값: <code>빅 데이터 분석</code><br>
- 참고: 이 설정은 권장 구성을 제시할 뿐이며, 실제 사용 방식을 제한하지 않는다.</p>
<p><strong>성능(Performance)</strong><br>
- 설명: 스토리지 계정의 성능 계층을 선택한다.<br>
- <strong>표준</strong>: 대부분 시나리오에 권장됨 (범용 v2 계정)<br>
- <strong>프리미엄</strong>: 짧은 대기 시간이 필요한 경우에 권장됨<br>
- 선택 값: <code>표준: 대부분 시나리오에 권장됨(범용 v2 계정)</code><br>
- 참고: 표준 성능 워크로드에는 빅 데이터 분석(를) 사용하는 것이 좋다.</p>
<p><strong>중복도(Redundancy)</strong><br>
- 설명: 데이터 내구성을 위한 복제 전략을 선택한다. 하드웨어 장애 또는 재해 발생 시 데이터 손실을 방지하기 위해 여러 복사본을 유지한다.<br>
- <strong>LRS (Locally Redundant Storage)</strong>: 동일 데이터센터 내에서 3개 복사본 유지. 가장 저렴하지만, 데이터센터 전체 장애 시 데이터 손실 가능.<br>
- <strong>ZRS (Zone-Redundant Storage)</strong>: 동일 지역 내 3개의 가용성 영역(Availability Zone)에 걸쳐 복제. 데이터센터 하나가 다운되어도 데이터 접근 가능.<br>
- <strong>GRS (Geo-Redundant Storage)</strong>: 주 지역(예: Korea Central)에 LRS + 보조 지역(예: Korea South)에 LRS로 총 6개 복사본. 지역 재해 대비.<br>
- <strong>RA-GRS (Read-Access Geo-Redundant Storage)</strong>: GRS + 보조 지역에서도 읽기 가능. 주 지역 장애 시에도 데이터 읽기 가능.<br>
- 선택 값: <code>LRS(로컬 중복 스토리지)</code><br>
- 참고: 고가용성이 중요한 프로덕션 환경에서는 ZRS 이상을 권장한다.</p>
</section>
</section>
<section id="고급-설정" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="고급-설정"><span class="header-section-number">1.2</span> 고급 설정</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/images/storage_creation_advanced.png" class="img-fluid figure-img"></p>
<figcaption>Azure Blob Storage 고급 설정</figcaption>
</figure>
</div>
<section id="보안" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="보안"><span class="header-section-number">1.2.1</span> 보안</h3>
<p><strong>REST API 작업을 위한 보안 전송 필요</strong><br>
- 설명: HTTPS를 통한 보안 연결만 허용한다.<br>
- 선택 값: 체크됨</p>
<p><strong>개별 컨테이너에 대한 익명 액세스 허용</strong><br>
- 설명: 익명 Blob 액세스를 컨테이너 수준에서 허용할지 여부를 설정한다.<br>
- 선택 값: 체크 안 됨</p>
<p><strong>스토리지 계정 키 액세스 사용</strong><br>
- 설명: 공유 키를 통한 스토리지 계정 액세스를 허용한다.<br>
- 선택 값: 체크됨</p>
<p><strong>Azure Portal에서 Microsoft Entra 인증 기본값 사용</strong></p>
<ul>
<li>설명: Azure Portal 액세스 시 Microsoft Entra ID를 기본 인증 방법으로 사용한다.
<ul>
<li><strong>참고</strong>: Microsoft Entra는 Azure AD(Active Directory, window에서의 사용자의 계정정보를 담아 놓는 장소)를 zero trust(모든 보안 인증 실시 개념)의 새로운 브랜드명이다.<br>
</li>
<li><strong>네트워크 용어 구분</strong>:
<ul>
<li>Microsoft Entra: 보안, 인증, AD 등이 포함된 서비스 제품군의 상위 개념<br>
</li>
<li><strong>인터넷 (Internet)</strong>: 전 세계 컴퓨터들이 TCP/IP 프로토콜로 연결된 공용 네트워크<br>
</li>
<li><strong>인트라넷 (Intranet)</strong>: 조직 내부에서만 접근 가능한 사설 네트워크 (회사 내부망)<br>
</li>
<li><strong>엑스트라넷 (Extranet)</strong>: 인트라넷을 특정 외부 조직(파트너사, 협력업체)에 제한적으로 개방한 네트워크<br>
</li>
</ul></li>
</ul></li>
<li>선택 값: 체크 안 됨</li>
</ul>
<p><strong>최소 TLS 버전</strong><br>
- 설명: 클라이언트에서 요청하는 최소 TLS(Transport Layer Security, 전송 계층 보안) 버전을 설정한다.<br>
- <strong>TLS</strong>: HTTPS 통신을 암호화하는 프로토콜로, SSL의 후속 버전이다. 데이터 전송 시 도청, 변조를 방지한다.<br>
- <strong>TLS 1.2</strong>: 2008년 발표된 버전으로, 현재 업계 표준. 대부분의 보안 정책에서 최소 요구사항이다.<br>
- <strong>TLS 1.3</strong>: 2018년 발표된 최신 버전으로, 더 빠르고 안전하다.<br>
- 선택 값: <code>버전 1.2</code><br>
- 참고: TLS 1.0/1.1은 보안 취약점이 있어 사용이 권장되지 않는다.</p>
<p><strong>복사 작업에 대해 허용된 범위(미리 보기)</strong><br>
- 설명: 데이터 복사 작업의 허용 범위를 지정한다.<br>
- 선택 값: <code>모든 스토리지 계정에서</code></p>
</section>
<section id="계층-구조-네임스페이스" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="계층-구조-네임스페이스"><span class="header-section-number">1.2.2</span> 계층 구조 네임스페이스</h3>
<p>계층 구조 네임스페이스는 Blob Storage를 Data Lake Storage Gen2로 변환하는 핵심 기능이다. 활성화하면 파일/디렉터리 구조를 사용할 수 있고, POSIX 호환 ACL을 통한 세밀한 권한 제어가 가능하며, 빅 데이터 분석 도구(Spark, Hadoop 등)와의 호환성이 향상된다.</p>
<p><strong>계층 구조 네임스페이스 사용</strong></p>
<ul>
<li>Blob Storage를 Data Lake Gen2로 업그레이드한다. 폴더/파일 개념, POSIX ACL, 원자적 디렉터리 작업을 지원한다.
<ul>
<li><strong>Blob</strong>: Binary Large Object의 약자로, 비구조화된 데이터를 저장하는 객체<br>
</li>
<li><strong>ACL (Access Control List)</strong>: 파일/디렉터리별로 읽기, 쓰기, 실행 권한을 사용자/그룹별로 세밀하게 지정하는 접근 제어 목록. Linux/Unix의 chmod와 유사한 개념.<br>
</li>
<li><strong>원자적 디렉터리 작업</strong>: 디렉터리 이름 변경, 이동, 삭제가 단일 작업(All-or-Nothing)으로 처리됨. 작업 도중 실패하면 원래 상태로 롤백되어 데이터 일관성이 보장된다.<br>
</li>
</ul></li>
<li>선택 값: 체크됨<br>
</li>
<li>참고: 빅 데이터 분석 워크로드에 필수적이며, 한 번 활성화하면 비활성화할 수 없다.</li>
</ul>
</section>
<section id="액세스-프로토콜" class="level3" data-number="1.2.3">
<h3 data-number="1.2.3" class="anchored" data-anchor-id="액세스-프로토콜"><span class="header-section-number">1.2.3</span> 액세스 프로토콜</h3>
<p>BLOB 및 Data Lake Gen2 엔드포인트는 기본적으로 제공되며, 추가로 SFTP 및 NFS 프로토콜을 활성화할 수 있다.</p>
<p><strong>SFTP 사용</strong><br>
- 설명: SFTP 프로토콜을 통한 파일 전송을 활성화한다.<br>
- <strong>SFTP (SSH File Transfer Protocol)</strong>: SSH 암호화를 사용하는 안전한 파일 전송 프로토콜. FTP와 달리 모든 데이터가 암호화되어 전송된다. FileZilla 등의 FTP 클라이언트로 접속 가능.<br>
- 선택 값: 체크됨<br>
- 참고: SFTP 활성화 후 별도로 로컬 사용자 계정을 생성하고 SSH 키 또는 비밀번호를 설정해야 접속 가능하다.</p>
<p><strong>네트워크 파일 시스템 v3 사용</strong><br>
- 설명: NFS v3 프로토콜을 사용하여 파일 시스템을 마운트한다.<br>
- <strong>NFS (Network File System)</strong>: 네트워크를 통해 원격 서버의 파일 시스템을 로컬 디스크처럼 마운트하여 사용하는 프로토콜. Linux/Unix 서버에서 주로 사용하며, <code>mount</code> 명령으로 마운트 후 일반 파일처럼 읽기/쓰기가 가능하다.<br>
- 선택 값: 체크됨</p>
</section>
<section id="blob-storage" class="level3" data-number="1.2.4">
<h3 data-number="1.2.4" class="anchored" data-anchor-id="blob-storage"><span class="header-section-number">1.2.4</span> Blob Storage</h3>
<p><strong>테넌트 간 복제 허용</strong></p>
<ul>
<li>설명: 다른 Azure AD 테넌트 간 Blob 복제를 허용한다.
<ul>
<li><strong>Azure AD (Active Directory)</strong>: Microsoft의 클라우드 기반 ID 및 접근 관리 서비스. 사용자 인증, 권한 관리, SSO(Single Sign-On) 등을 제공한다.<br>
</li>
<li><strong>테넌트 (Tenant)</strong>: Azure AD의 전용 인스턴스로, 조직 단위를 의미한다. 회사마다 별도의 테넌트를 가지며, 테넌트 간에는 기본적으로 리소스가 격리된다. (예: 삼성 테넌트, LG 테넌트)<br>
</li>
</ul></li>
<li>선택 값: 체크 안 됨<br>
</li>
<li>참고
<ul>
<li>테넌트 간 복제 및 계층 구조 네임스페이스를 동시에 사용하도록 설정할 수 없다.<br>
</li>
<li><strong>Microsoft Entra</strong>
<ul>
<li>Microsoft의 통합 ID 및 액세스 관리 제품군. 2023년에 Azure Active Directory(Azure AD)를 Microsoft Entra ID로 리브랜딩했다.<br>
</li>
</ul></li>
<li>Microsoft Entra 제품군 구성:
<ul>
<li>Microsoft Entra ID: (기존 Azure AD) 클라우드 기반 사용자 인증 및 권한 관리<br>
</li>
<li>Microsoft Entra Permissions Management: 멀티 클라우드(Azure, AWS, GCP) 권한 관리<br>
</li>
<li>Microsoft Entra Verified ID: 분산 ID 및 검증 서비스<br>
</li>
<li>Microsoft Entra External ID: B2C(고객 대상) 및 B2B(파트너사) ID 관리<br>
</li>
</ul></li>
<li>Microsoft Entra 핵심 기능:
<ul>
<li>SSO (Single Sign-On): 한 번 로그인으로 여러 서비스 접근<br>
</li>
<li>MFA (Multi-Factor Authentication): 다단계 인증<br>
</li>
<li>조건부 액세스: 위치, 디바이스, 위험 수준에 따른 접근 제어<br>
</li>
<li>ID 보호: 위험한 로그인 시도 감지 및 차단<br>
</li>
</ul></li>
<li>실무 사용 예:
<ul>
<li>회사 직원이 Azure Portal, Microsoft 365, 사내 시스템에 하나의 계정으로 로그인<br>
</li>
<li>외부에서 접속 시 추가 인증 요구<br>
</li>
<li>특정 국가에서의 접속 차단</li>
</ul></li>
</ul></li>
</ul>
<p><strong>액세스 계층</strong><br>
- 설명: 데이터 액세스 빈도에 따른 기본 저장소 계층을 선택한다.<br>
- <strong>핫</strong>: 자주 액세스하는 데이터 및 일상적인 사용 시나리오에 최적화됨<br>
- <strong>쿸</strong>: 자주 액세스하지 않는 데이터 및 백업 시나리오에 최적화됨<br>
- <strong>콜드</strong>: 거의 액세스하지 않는 데이터 및 백업 시나리오에 최적화됨<br>
- 선택 값: <code>핫</code><br>
- 참고: 핫 Blob 액세스 계층 워크로드에는 빅 데이터 분석(를) 사용하는 것이 좋다.</p>
</section>
<section id="azure-files" class="level3" data-number="1.2.5">
<h3 data-number="1.2.5" class="anchored" data-anchor-id="azure-files"><span class="header-section-number">1.2.5</span> Azure Files</h3>
<p><strong>큰 파일 공유 사용</strong></p>
<ul>
<li>설명: 최대 100TiB 용량의 대용량 파일 공유를 지원한다.
<ul>
<li><strong>TiB (Tebibyte)</strong>: 2^40 바이트 = 1,099,511,627,776 바이트 ≈ 1.1조 바이트.<br>
</li>
<li>일반적으로 말하는 TB(Terabyte, 10^12 = 1조 바이트)와 약간 다르며, 실제로는 TiB가 약 9.95% 더 크다. (1 TiB = 1.0995 TB)<br>
</li>
</ul></li>
<li>선택 값: 체크됨 (비활성화됨)</li>
</ul>
</section>
</section>
<section id="네트워킹-설정" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="네트워킹-설정"><span class="header-section-number">1.3</span> 네트워킹 설정</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/images/storage_creation_network.png" class="img-fluid figure-img"></p>
<figcaption>Azure Blob Storage 네트워킹 설정</figcaption>
</figure>
</div>
<section id="공용-액세스" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="공용-액세스"><span class="header-section-number">1.3.1</span> 공용 액세스</h3>
<p>공용 네트워크를 통해 어디서나 리소스에 액세스한다.</p>
<p>참고: 공용 네트워크를 통해 리소스에 액세스할 수 있게 되면 보안 위험이 증가한다.</p>
<p><strong>공용 네트워크 액세스</strong><br>
- 설명: 공용 인터넷에서 스토리지 계정에 대한 액세스 권한을 설정한다.<br>
- 선택 값: <code>사용</code><br>
- 옵션:<br>
- <strong>사용</strong>: 네트워크 액세스 규칙(방화벽)을 통해 특정 가상 네트워크 및 IP 주소만 허용하도록 제한할 수 있다. 인바운드(스토리지 접근) 및 아웃바운드(복제 등) 트래픽을 모두 허용한다.<br>
- <strong>사용 안 함</strong>: 모든 공용 인터넷 액세스를 차단한다. Private Endpoint를 통해서만 접근 가능하며, 아웃바운드 복제는 허용된다.<br>
- <strong>경계로 보호(가장 제한됨)</strong>: Azure Network Security Perimeter를 사용하여 인바운드 및 아웃바운드 모두 엄격하게 제한한다. 가장 높은 수준의 네트워크 격리를 제공한다.</p>
<p><strong>공용 네트워크 액세스 범위</strong><br>
- 설명: 공용 네트워크를 통해 액세스할 수 있는 리소스의 범위를 지정한다.<br>
- 선택 값: <code>선택한 가상 네트워크 및 IP 주소에서 사용</code><br>
- 옵션:<br>
- <strong>모든 네트워크에서 사용</strong><br>
- <strong>선택한 가상 네트워크 및 IP 주소에서 사용</strong></p>
</section>
<section id="가상-네트워크" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="가상-네트워크"><span class="header-section-number">1.3.2</span> 가상 네트워크</h3>
<p>선택한 네트워크만 이 스토리지 계정에 액세스할 수 있다.</p>
<p><strong>가상 네트워크 구독</strong><br>
- 설명: 가상 네트워크가 속한 Azure 구독을 선택한다.<br>
- 입력 값: <code>swlab-test-subs</code></p>
<p><strong>가상 네트워크</strong><br>
- 설명: 스토리지 계정에 액세스할 수 있는 가상 네트워크를 선택한다.<br>
- 입력 값: <code>vnet-aipoc-test-krc-insilico-001</code><br>
- 링크: [가상 네트워크 만들기] / [선택한 가상 네트워크 관리]</p>
<p><strong>서브넷</strong><br>
- 설명: 가상 네트워크 내에서 액세스를 허용할 서브넷을 선택한다.<br>
- 입력 값: <code>subnet-aipoc-test-krc-insilico-001(172.16.0.0/24)</code></p>
</section>
<section id="방화벽---허용-ip-주소" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="방화벽---허용-ip-주소"><span class="header-section-number">1.3.3</span> 방화벽 - 허용 IP 주소</h3>
<p>특정 공용 IP 주소에서만 스토리지 계정 접근을 허용한다.</p>
<p><strong>허용된 IP 주소</strong><br>
- 설명: 스토리지 계정에 액세스할 수 있는 공용 IP 주소를 지정한다. CIDR 표기법(예: 203.0.113.0/24) 또는 개별 IP 주소 입력이 가능하다.<br>
- 입력 값: <code>61.74.175.54</code> (예시)</p>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
⚠️ 중요
</div>
</div>
<div class="callout-body-container callout-body">
<p>이 값을 <strong>자신의 로컬 PC Public IP</strong>로 설정해야 Azure Portal에서 직접 파일 업로드/다운로드가 가능하다. 공용 IP는 <a href="https://www.whatismyip.com">https://www.whatismyip.com</a>에서 확인할 수 있다.</p>
</div>
</div>
</section>
<section id="프라이빗-엔드포인트" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="프라이빗-엔드포인트"><span class="header-section-number">1.3.4</span> 프라이빗 엔드포인트</h3>
<p><strong>프라이빗 엔드포인트</strong><br>
- 설명: 프라이빗 엔드포인트를 만들어 이 리소스에 대한 프라이빗 연결을 허용한다. 추가 프라이빗 엔드포인트 연결은 스토리지 계정 또는 프라이빗 링크 센터 내에서 만들 수 있다.<br>
- 선택 값: [+ 프라이빗 엔드포인트 추가] 클릭 가능<br>
- 상태: 프라이빗 엔드포인트를 만들려면 (추가를 클릭한다)</p>
</section>
<section id="네트워크-라우팅" class="level3" data-number="1.3.5">
<h3 data-number="1.3.5" class="anchored" data-anchor-id="네트워크-라우팅"><span class="header-section-number">1.3.5</span> 네트워크 라우팅</h3>
<p>트래픽이 원본에서 Azure 엔드포인트로 이동하는 과정에서 트래픽을 라우팅할 방법을 결정하세요. 대부분의 고객의 경우 Microsoft 네트워크 라우팅이 권장된다.</p>
<p><strong>라우팅 기본 설정</strong><br>
- 설명: 트래픽이 원본에서 Azure 엔드포인트로 이동하는 과정에서 트래픽을 라우팅할 방법을 결정한다.<br>
- 선택 값: <code>Microsoft 네트워크 라우팅</code><br>
- 옵션:<br>
- ⭕ <strong>Microsoft 네트워크 라우팅</strong><br>
- ⚪ <strong>인터넷 라우팅</strong></p>
</section>
</section>
<section id="데이터-보호-설정" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="데이터-보호-설정"><span class="header-section-number">1.4</span> 데이터 보호 설정</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/images/storage_creation_data.png" class="img-fluid figure-img"></p>
<figcaption>Azure Blob Storage 데이터 보호 설정</figcaption>
</figure>
</div>
<section id="복구" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="복구"><span class="header-section-number">1.4.1</span> 복구</h3>
<p>일시 삭제(Soft Delete) 기능은 실수로 삭제된 데이터를 지정된 기간 동안 보존하여 복구할 수 있게 한다.</p>
<p><strong>Blob에 일시 삭제 사용</strong><br>
- 설명: 일시 삭제를 사용하면 덮어쓴 Blob을 포함하여 이전에 삭제로 표시되었던 Blob을 복구할 수 있다.<br>
- 선택 값: ☑ 체크됨<br>
- <strong>삭제된 Blob 보존 기간(일)</strong>: <code>7</code></p>
<p><strong>컨테이너에 일시 삭제 사용</strong><br>
- 설명: 일시 삭제를 사용하면 이전에 삭제로 표시된 컨테이너를 복구할 수 있다.<br>
- 선택 값: ☑ 체크됨<br>
- <strong>삭제된 컨테이너 보존 기간(일)</strong>: <code>7</code><br>
- 참고: 자주 덮어쓰는 데이터에 대해 일시 삭제를 사용하도록 설정하면 스토리지 비용이 증가할 수 있다.</p>
<p><strong>파일 공유에 일시 삭제 사용</strong><br>
- 설명: 일시 삭제를 사용하면 이전에 삭제로 표시된 파일 공유를 복구할 수 있다.<br>
- 선택 값: ☑ 체크됨<br>
- <strong>삭제된 파일 공유 보존 기간(일)</strong>: <code>7</code></p>
</section>
<section id="추적" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="추적"><span class="header-section-number">1.4.2</span> 추적</h3>
<p><strong>Blob에 버전 관리 사용</strong><br>
- 설명: 버전 관리를 사용하여 Blob의 이전 버전을 자동으로 유지한다. 각 수정마다 새로운 버전이 생성된다.<br>
- 선택 값: 체크 안 됨<br>
- 참고: 빈번한 수정이 발생하는 파일의 경우 버전 수가 급증하여 스토리지 비용이 크게 증가할 수 있다. Lifecycle Management 정책으로 오래된 버전을 자동 삭제하여 비용을 최적화할 수 있다.</p>
<p><strong>Blob 변경 피드 사용</strong><br>
- 설명: 계정의 Blob에 대한 만들기, 수정 및 삭제 변경 내용을 추적한다.<br>
- 선택 값: 체크 안 됨</p>
</section>
<section id="액세스-제어" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="액세스-제어"><span class="header-section-number">1.4.3</span> 액세스 제어</h3>
<p><strong>버전 수준 불변성 지원 사용</strong><br>
- 설명: 모든 Blob 버전에 적용할 계정 수준에서 시간 기반 보존 정책(WORM - Write Once Read Many)을 설정할 수 있다.<br>
- 선택 값: 체크 안 됨<br>
- 참고: 규정 준수(Compliance)가 필요한 경우 활성화한다. 계정 수준에서 기본 정책을 설정하거나, 컨테이너 수준 또는 특정 Blob 버전별로 개별 정책을 설정할 수 있다. 이 기능을 사용하려면 ’버전 관리’가 활성화되어 있어야 한다.</p>
</section>
</section>
</section>
<section id="컨테이너-생성-blob-파일-업로드" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> 컨테이너 생성 &amp; Blob 파일 업로드</h1>
<section id="azure-portal에서-컨테이너를-생성한다." class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="azure-portal에서-컨테이너를-생성한다."><span class="header-section-number">2.1</span> Azure Portal에서 컨테이너를 생성한다.</h2>
<p>컨테이너는 Blob Storage의 논리적 그룹 단위로, 파일 시스템의 최상위 디렉터리와 유사하다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/images/container_creation_condainer.png" class="img-fluid figure-img"></p>
<figcaption>컨테이너 생성 화면</figcaption>
</figure>
</div>
</section>
<section id="디렉터리-추가" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="디렉터리-추가"><span class="header-section-number">2.2</span> 디렉터리 추가</h2>
<p>계층 구조 네임스페이스가 활성화된 경우, Azure Portal에서 직접 디렉터리(폴더)를 생성하고 관리할 수 있다.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
⚠️ 주의사항
</div>
</div>
<div class="callout-body-container callout-body">
<p>네트워크 설정에서 <strong>공용 네트워크 액세스</strong>가 <strong>‘사용(Enabled from selected networks)’</strong>으로 설정되어 있고, 현재 사용 중인 PC의 공용 IP가 허용 목록에 추가되어 있어야 Azure Portal에서 컨테이너 및 디렉터리에 접근할 수 있다.</p>
<p><code>사용 안 함(Disabled)</code> 또는 <code>경계로 보호</code>로 설정된 경우, Private Endpoint를 통해서만 접근 가능하다.</p>
</div>
</div>
<p>폴더 구조는 아래와 같은 구조로 되어있다.</p>
<pre><code>rag-container  
 ├─ code  
 │   ├─ moduleA  
 │   ├─ moduleB  
 │   └─ moduleC  
 └─ docs  
     ├─ moduleA  
     ├─ moduleB  
     └─ moduleC  </code></pre>
</section>
<section id="blob-파일-업로드" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="blob-파일-업로드"><span class="header-section-number">2.3</span> Blob 파일 업로드</h2>
<p>Azure Portal의 ‘업로드’ 버튼을 통해 로컬 파일을 Blob Storage에 업로드할 수 있다.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/images/storage_creation_hierarchy.png" class="img-fluid figure-img"></p>
<figcaption>Blob 파일 업로드 화면</figcaption>
</figure>
</div>
</section>
</section>
<section id="vm-내부에서-blob-파일-접근" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> VM 내부에서 Blob 파일 접근</h1>
<p>NFS v3 프로토콜을 사용하여 Azure Blob Storage를 Linux VM의 파일 시스템으로 마운트한다. 이를 통해 Blob Storage를 로컬 디렉터리처럼 사용할 수 있다.</p>
<section id="nfs-클라이언트-패키지-설치" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="nfs-클라이언트-패키지-설치"><span class="header-section-number">3.1</span> NFS 클라이언트 패키지 설치</h2>
<p>Ubuntu/Debian 계열 Linux에 NFS 클라이언트를 설치한다.</p>
<pre><code>sudo apt-get update  
sudo apt-get install nfs-common  </code></pre>
</section>
</section>
<section id="etcfstab-영구-마운트-설정" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> /etc/fstab 영구 마운트 설정</h1>
<p>시스템 재부팅 시에도 자동으로 마운트되도록 <code>/etc/fstab</code> 파일에 마운트 정보를 추가한다.</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> vi /etc/fstab  </span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 아래 라인을 파일 끝에 추가  </span></span>
<span id="cb3-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">saaipoctestkrc001.blob.core.windows.net:/saaipoctestkrc001/bc-aipoc-test-krc001</span> /mnt/bc-aipoc-test-krc001 aznfs defaults,sec=sys,vers=3,nolock,proto=tcp,nofail,_netdev 0 0  </span></code></pre></div>
<p><strong>마운트 옵션 설명:</strong><br>
- <code>saaipoctestkrc001.blob.core.windows.net:/saaipoctestkrc001/bc-aipoc-test-krc001</code>: NFS 서버 경로 (스토리지계정명.blob.core.windows.net:/스토리지계정명/컨테이너명)<br>
- <code>/mnt/bc-aipoc-test-krc001</code>: 로컬 마운트 지점 (미리 생성 필요: <code>sudo mkdir -p /mnt/bc-aipoc-test-krc001</code>)<br>
- <code>aznfs</code>: Azure NFS 파일 시스템 타입<br>
- <code>sec=sys</code>: 인증 방식 (시스템 기본 인증 사용)<br>
- <code>vers=3</code>: NFS 프로토콜 버전 3 사용<br>
- <code>nolock</code>: 파일 잠금 비활성화 (성능 향상)<br>
- <code>proto=tcp</code>: TCP 프로토콜 사용<br>
- <code>nofail</code>: 마운트 실패 시에도 부팅 계속 진행<br>
- <code>_netdev</code>: 네트워크 연결 후 마운트 시도<br>
- <code>0 0</code>: dump 및 fsck 옵션 (백업 및 파일 시스템 체크 비활성화)</p>
<section id="마운트-적용" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="마운트-적용"><span class="header-section-number">4.1</span> 마운트 적용</h2>
<p>fstab 설정을 즉시 적용한다.</p>
<pre><code>sudo mount -a  </code></pre>


</section>
</section>

 ]]></description>
  <category>Engineering</category>
  <category>DevOps</category>
  <category>Agent</category>
  <category>Cloud</category>
  <category>Azure</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/4-blob_data_lake_setup.html</guid>
  <pubDate>Tue, 25 Nov 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure VM에 개발 환경 구축하기</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/1-vm_dev_envs_settings.html</link>
  <description><![CDATA[ 





<section id="vm에-개발-환경-구축하기" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> VM에 개발 환경 구축하기</h1>
<ul>
<li>Project: Agent Platform PoC 환경 구축<br>
</li>
<li>조건: Azure VM(Ubuntu 24.04)에서의 개발환경<br>
</li>
<li>Azure Portal에서 Ubuntu 24.04 LTS VM을 생성한 후 git, conda, pyenv, poetry를 설치하는 과정에서 마주칠 수 있는 문제들과 해결 방법을 정리</li>
</ul>
<section id="구축할-개발환경-모식도" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="구축할-개발환경-모식도"><span class="header-section-number">1.1</span> 구축할 개발환경 모식도</h2>
<section id="작업-환경-구조" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="작업-환경-구조"><span class="header-section-number">1.1.1</span> 작업 환경 구조</h3>
<pre><code>┌─────────────────────────────────────┐  
│  로컬 PC (Windows)                   │  
│  PowerShell Terminal                │  
└──────────────────┬──────────────────┘  
                   │ SSH  
                   ↓  
┌─────────────────────────────────────┐  
│  Azure VM (Ubuntu 24.04)            │  
│  azureuser@test-agent               │  
│  - git                              │  
│  - conda                            |  
│  - pyenv                            │  
│  - poetry                           │  
│  - 개발 작업 환경                     │  
└─────────────────────────────────────┘  </code></pre>
</section>
<section id="중요-개념" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="중요-개념"><span class="header-section-number">1.1.2</span> 중요 개념</h3>
<table class="table">
<thead>
<tr class="header">
<th>개념</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>VM (Virtual Machine)</strong></td>
<td>클라우드에서 실행되는 가상 컴퓨터</td>
</tr>
<tr class="even">
<td><strong>Image</strong></td>
<td>VM의 운영체제 템플릿 (Docker와 다름)</td>
</tr>
<tr class="odd">
<td><strong>SSH</strong></td>
<td>원격 서버에 안전하게 접속하는 프로토콜</td>
</tr>
<tr class="even">
<td><strong>Private Key</strong></td>
<td>SSH 접속 인증용 파일</td>
</tr>
<tr class="odd">
<td><strong>웹 콘솔</strong></td>
<td>Azure Portal의 브라우저 기반 터미널 (제약이 있음)</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="초기-상황" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="초기-상황"><span class="header-section-number">1.2</span> 초기 상황</h2>
<section id="생성한-vm-스펙" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="생성한-vm-스펙"><span class="header-section-number">1.2.1</span> 생성한 VM 스펙</h3>
<ul>
<li><strong>VM명</strong>: test-agent<br>
</li>
<li><strong>OS</strong>: Ubuntu 24.04 LTS (Canonical official image)<br>
</li>
<li><strong>크기</strong>: Standard D8as v5 (8vCPUs, 32GB RAM)<br>
</li>
<li><strong>접속 방식</strong>:
<ul>
<li>웹 브라우저 콘솔 (Azure Portal 내 터미널) - sudo 제약 있음<br>
</li>
<li>SSH (원격 접속) - 권장 방식</li>
</ul></li>
</ul>
</section>
<section id="설치-목표" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="설치-목표"><span class="header-section-number">1.2.2</span> 설치 목표</h3>
<ul>
<li>git: source code 버전 관리<br>
</li>
<li>Miniconda (conda): DL/ML/Stat dependency 관리<br>
</li>
<li>pyenv: python interpreter 버전 관리<br>
</li>
<li>Poetry: Python 개발관련 dependency 관리</li>
</ul>
</section>
</section>
<section id="발생한-문제들과-해결-방법" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="발생한-문제들과-해결-방법"><span class="header-section-number">1.3</span> 발생한 문제들과 해결 방법</h2>
<section id="웹-브라우저-콘솔에서-sudo-권한-제약" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="웹-브라우저-콘솔에서-sudo-권한-제약"><span class="header-section-number">1.3.1</span> 웹 브라우저 콘솔에서 sudo 권한 제약</h3>
<ul>
<li>증상</li>
</ul>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">kmkim</span> [ ~ ]$ sudo apt update  </span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sudo:</span> The <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"no new privileges"</span> flag is set, which prevents sudo from running as root.  </span>
<span id="cb2-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">sudo:</span> If sudo is running in a container, you may need to adjust the container configuration to disable the flag.  </span></code></pre></div>
<ul>
<li>원인
<ul>
<li><strong>웹 브라우저 콘솔</strong> = Azure Portal의 웹 화면 내에 내장된 터미널 창 (Cloud Shell이 아닌 경우)<br>
</li>
<li>Azure Portal의 웹 브라우저 콘솔은 보안상 <code>no-new-privileges</code> 플래그가 설정되어 있어서 sudo 권한 상승이 불가능<br>
</li>
<li>이는 컨테이너 환경의 제약이 아니라 웹 콘솔 자체의 보안 제한<br>
</li>
<li>왜 이런 제한이 필요한가?
<ul>
<li>웹 브라우저는 악성 JavaScript나 공격으로 조작될 수 있음<br>
</li>
<li>브라우저 콘솔을 통해 root 권한을 얻을 수 있다면, 전체 VM을 장악당할 위험 증가<br>
</li>
<li><code>no-new-privileges</code> 플래그는 이미 실행 중인 프로세스가 권한을 <strong>상승</strong>시키는 것을 막음 (기존 권한 유지는 가능)<br>
</li>
<li>따라서 웹 콘솔로 일반 사용자(azureuser) 작업은 가능하지만, sudo로 root 권한이 필요한 작업은 차단<br>
</li>
</ul></li>
</ul></li>
<li><strong>해결책</strong>
<ul>
<li>웹 브라우저 콘솔대신 local cmd prompt (power shell)에서 <strong>SSH로 직접 접속</strong></li>
</ul></li>
</ul>
</section>
<section id="local에서-ssh-접속-방법" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="local에서-ssh-접속-방법"><span class="header-section-number">1.3.2</span> Local에서 SSH 접속 방법</h3>
<ul>
<li>증상
<ul>
<li>웹 콘솔의 sudo 제약으로 인해 패키지 설치가 불가능한 상황<br>
</li>
</ul></li>
<li>SSH란?
<ul>
<li>SSH (Secure Shell) = 인터넷을 통해 원격 컴퓨터에 안전하게 접속하는 프로토콜<br>
</li>
<li>자세한 내용은 <a href="../Infra/Security/ssh.qmd">SSH 개요 블로그 참조</a><br>
</li>
</ul></li>
<li>장점
<ul>
<li>웹 콘솔의 제약이 없음<br>
</li>
<li>sudo 권한이 정상 작동<br>
</li>
<li>웹 콘솔보다 더 안정적이고 빠름<br>
</li>
<li>로컬에서 언제든 접속 가능<br>
</li>
</ul></li>
<li>웹 브라우저 콘솔 vs SSH의 차이:</li>
</ul>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 59%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>웹 브라우저 콘솔</th>
<th>SSH</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>접속 방식</strong></td>
<td>Azure Portal 웹 페이지 내</td>
<td>암호화된 네트워크 연결</td>
</tr>
<tr class="even">
<td><strong>보안</strong></td>
<td>웹 브라우저 보안 정책 적용 (제약 많음)</td>
<td>공개키 암호화 (매우 강력)</td>
</tr>
<tr class="odd">
<td><strong>권한</strong></td>
<td><code>no-new-privileges</code> 플래그로 sudo 차단</td>
<td>일반 사용자이지만 sudo 가능</td>
</tr>
<tr class="even">
<td><strong>통신</strong></td>
<td>평문 또는 약한 암호화</td>
<td>모든 데이터 암호화 (AES-256 등)</td>
</tr>
<tr class="odd">
<td><strong>인증</strong></td>
<td>Azure Portal 로그인</td>
<td>Private Key 파일 기반</td>
</tr>
<tr class="even">
<td><strong>안정성</strong></td>
<td>브라우저 다운시 연결 끊김</td>
<td>네트워크만 안정하면 지속 연결</td>
</tr>
</tbody>
</table>
<ul>
<li>SSH 접속 단계
<ul>
<li><p>1단계: Private Key 파일 준비</p>
<ul>
<li>VM 생성 시 Azure가 생성한 <code>test-agent_key.pem</code> 파일을 다운로드<br>
</li>
<li>보통 Downloads 폴더에 저장됨<br>
</li>
</ul></li>
<li><p>2단계: 로컬 PowerShell(Windows) 또는 Terminal(macOS/Linux)에서 접속</p>
<ul>
<li><code>ssh -i C:\Users\kmkim\Downloads\test-agent_key.pem azureuser@20.196.144.16</code><br>
</li>
<li><code>-i</code> 옵션은 Identity file(신원 확인 파일)을 지정하는 옵션<br>
</li>
</ul></li>
<li><p>3단계: 첫 접속 시 호스트 인증</p>
<pre><code>The authenticity of host '20.196.144.16' can't be established.  
Are you sure you want to continue connecting (yes/no)?  </code></pre>
<p>→ <code>yes</code> 입력</p></li>
<li><p>4단계: 접속 완료</p>
<pre><code>azureuser@test-agent:~$  </code></pre></li>
</ul></li>
</ul>
</section>
<section id="conda-설치-시-권한-부족" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="conda-설치-시-권한-부족"><span class="header-section-number">1.3.3</span> Conda 설치 시 권한 부족</h3>
<ul>
<li>증상</li>
</ul>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~$</span> bash Miniconda3-latest-Linux-x86_64.sh <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-b</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> /opt/conda  </span>
<span id="cb5-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">mkdir:</span> cannot create directory <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'/opt/conda'</span>: Permission denied  </span>
<span id="cb5-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ERROR:</span> Could not create directory: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'/opt/conda'</span>.  </span></code></pre></div>
<ul>
<li>원인
<ul>
<li><code>/opt</code> 디렉토리는 root 권한이 필요<br>
</li>
<li>azureuser는 일반 사용자이므로 직접 접근 불가.<br>
</li>
</ul></li>
<li>해결책</li>
</ul>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sudo</span> bash Miniconda3-latest-Linux-x86_64.sh <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-b</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-p</span> /opt/conda  </span></code></pre></div>
</section>
<section id="conda-초기화-실패" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="conda-초기화-실패"><span class="header-section-number">1.3.4</span> Conda 초기화 실패</h3>
<ul>
<li>증상<br>
</li>
</ul>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~$</span> sudo /opt/conda/bin/conda init bash  </span>
<span id="cb7-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">no</span> change     /root/.bashrc  </span>
<span id="cb7-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">No</span> action taken.  </span></code></pre></div>
<ul>
<li>원인
<ul>
<li><code>sudo</code>로 실행하면 root의 <code>.bashrc</code>가 수정되지만, azureuser로 로그인하면 <code>/home/azureuser/.bashrc</code>를 사용<br>
</li>
</ul></li>
<li>해결책
<ul>
<li>sudo 없이 실행하거나, 수동으로 초기화 코드를 추가</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sudo 없이 실행. conda가 자동으로 .bashrc를 수정  </span></span>
<span id="cb8-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">/opt/conda/bin/conda</span> init bash  </span>
<span id="cb8-3"></span>
<span id="cb8-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 실행 결과: .bashrc에 다음과 같은 긴 초기화 블록이 자동 추가됨  </span></span>
<span id="cb8-5"></span>
<span id="cb8-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;  </span></span>
<span id="cb8-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># !! Contents within this block are managed by 'conda init' !!  </span></span>
<span id="cb8-8"><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">__conda_setup</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'/opt/conda/bin/conda'</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'shell.bash'</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'hook'</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> /dev/null<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">)</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>  </span>
<span id="cb8-9"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$?</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-eq</span> 0 <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">then</span>  </span>
<span id="cb8-10">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$__conda_setup</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>  </span>
<span id="cb8-11"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>  </span>
<span id="cb8-12">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">[</span> <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-f</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/opt/conda/etc/profile.d/conda.sh"</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">]</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">;</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">then</span>  </span>
<span id="cb8-13">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">.</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/opt/conda/etc/profile.d/conda.sh"</span>  </span>
<span id="cb8-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>  </span>
<span id="cb8-15">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">PATH</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/opt/conda/bin:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PATH</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>  </span>
<span id="cb8-16">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">fi</span>  </span>
<span id="cb8-17"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">fi</span>  </span>
<span id="cb8-18"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">unset</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">__conda_setup</span>  </span>
<span id="cb8-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># &lt;&lt;&lt; conda initialize &lt;&lt;&lt;  </span></span></code></pre></div>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 수동으로 초기화: conda shell.bash hook를 실행하여 초기화에 필요한 최소한의 코드만 생성  </span></span>
<span id="cb9-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># eval로 그 코드를 실행하도록 .bashrc에 추가  </span></span>
<span id="cb9-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 자동 초기화와 동일한 효과  </span></span>
<span id="cb9-4"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'eval "$(/opt/conda/bin/conda shell.bash hook)"'</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&gt;</span> ~/.bashrc  </span>
<span id="cb9-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> ~/.bashrc  </span></code></pre></div>
<ul>
<li>Conda 설치 확인</li>
</ul>
<div class="sourceCode" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">conda</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  </span></code></pre></div>
</section>
<section id="pyenv-설치" class="level3" data-number="1.3.5">
<h3 data-number="1.3.5" class="anchored" data-anchor-id="pyenv-설치"><span class="header-section-number">1.3.5</span> Pyenv 설치</h3>
<section id="python-개발-환경-구축" class="level4" data-number="1.3.5.1">
<h4 data-number="1.3.5.1" class="anchored" data-anchor-id="python-개발-환경-구축"><span class="header-section-number">1.3.5.1</span> Python 개발 환경 구축</h4>
<ul>
<li>conda와 pyenv는 python interpreter의 버전을 독립적으로 관리한다.
<ul>
<li>conda는 deep learning, machine learning, statistics 관련 패키지들과 더불어 java, c++과 같은 python외 개발 관련 가상환경을 관리한다.<br>
</li>
<li>pyenv는 오로지 python으로만 개발이 될 프로젝트용으로 사용되며 python version만 관리하고 후에 설치할 poetry와 맞물려 사용된다.<br>
</li>
</ul></li>
<li>사실, conda는 순서에 상관없이 나중에 설치해도 되지만 python개발환경 구축시엔 git이 편의성에 있어서 필요할 수 있다.<br>
</li>
<li>pyenv는 Python을 설치하고 버전을 관리하는 도구이다<br>
</li>
<li>Poetry는 Python 위에서 실행되므로, Python이 먼저 설치되어야 한다.<br>
</li>
<li>python 개발 환경 구축 순서는 다음의 단계를 따라야한다.
<ol type="1">
<li>pyenv 설치 (Python 버전 관리자)<br>
</li>
<li>Python 3.11 설치 (프로그래밍 언어로 pyenv로 설치해야함)<br>
</li>
<li>Poetry 설치 (Python 패키지 관리자, Python 3.11 기반으로 설치)</li>
</ol></li>
<li>Pyenv 설치</li>
</ul>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 방법1  </span></span>
<span id="cb11-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> https://pyenv.io/install.sh <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">bash</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 회사 네트워크 방화벽때문에 pyenv.io 네트워크 접근 불가 → GitHub clone으로 해결  </span></span>
<span id="cb11-3"></span>
<span id="cb11-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 방법2: GitHub에서 직접 clone (권장)  </span></span>
<span id="cb11-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">git</span> clone https://github.com/pyenv/pyenv.git ~/.pyenv  </span></code></pre></div>
<p><strong>설치 후 PATH 설정</strong><br>
- pyenv를 Shell 환경에 영구 등록<br>
- heredoc(히어닥) 문법: 여러 줄의 텍스트를 파일에 추가하는 방식</p>
<pre><code>cat &gt;&gt; ~/.bashrc &lt;&lt; 'EOF'  
[여기에 작성된 내용들]  
EOF  </code></pre>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&gt;</span> ~/.bashrc <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;&lt; 'EOF'</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">   </span></span>
<span id="cb13-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">export PYENV_ROOT="$HOME/.pyenv"   </span></span>
<span id="cb13-3"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">export PATH="$PYENV_ROOT/bin:$PATH"  </span></span>
<span id="cb13-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">eval "$(pyenv init -)"  </span></span>
<span id="cb13-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">eval "$(pyenv virtualenv-init -)"  </span></span>
<span id="cb13-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">EOF  </span></span>
<span id="cb13-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">source ~/.bashrc  </span></span></code></pre></div>
<p>코드 설명<br>
1. cat &gt;&gt; ~/.bashrc<br>
* cat: 텍스트를 출력하는 명령어<br>
* &gt;&gt;: 파일 끝에 추가(append)하라는 의미 (&gt; 하나만 쓰면 덮어쓰기)<br>
* ~/.bashrc: 현재 사용자의 홈 디렉토리(~)에 있는 .bashrc 파일<br>
2. &lt;&lt; ‘EOF’<br>
* &lt;&lt;: heredoc 시작을 의미 (여러 줄 입력 시작)<br>
* ‘EOF’: 입력 종료 마커 (End Of File)<br>
* 작은따옴표(’)로 감싸면 → 변수 치환 안 함 (문자 그대로 저장)<br>
* 큰따옴표(“) 또는 따옴표 없으면 → 변수 치환 함<br>
3. export PYENV_ROOT=”<img src="https://latex.codecogs.com/png.latex?HOME/.pyenv%22%0A%20%20*%20export:%20%ED%99%98%EA%B2%BD%20%EB%B3%80%EC%88%98%EB%A5%BC%20%EC%84%A4%EC%A0%95%ED%95%98%EA%B3%A0%20%EC%9E%90%EC%8B%9D%20%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4%EB%8F%84%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EB%8A%A5%ED%95%98%EA%B2%8C%20%EB%A7%8C%EB%93%A6%0A%20%20*%20PYENV_ROOT:%20pyenv%EA%B0%80%20%EC%84%A4%EC%B9%98%EB%90%9C%20%EC%9C%84%EC%B9%98%EB%A5%BC%20%EC%A0%80%EC%9E%A5%ED%95%98%EB%8A%94%20%EB%B3%80%EC%88%98%0A%20%20*%20%22">HOME/.pyenv”: /home/azureuser/.pyenv (사용자 홈 폴더의 .pyenv 디렉토리)<br>
4. export PATH=“<img src="https://latex.codecogs.com/png.latex?PYENV_ROOT/bin:">PATH”<br>
* PATH: Shell이 명령어를 찾는 경로 목록<br>
* <img src="https://latex.codecogs.com/png.latex?PYENV_ROOT/bin:%20pyenv%20%EC%8B%A4%ED%96%89%20%ED%8C%8C%EC%9D%BC%EC%9D%B4%20%EC%9E%88%EB%8A%94%20%ED%8F%B4%EB%8D%94%EB%A5%BC%20PATH%20%EB%A7%A8%20%EC%95%9E%EC%97%90%20%EC%B6%94%EA%B0%80%0A%20%20*%20:">PATH: 기존 PATH 내용은 뒤에 유지<br>
* 왜 맨 앞에? → 같은 이름의 명령어가 있으면 pyenv 버전을 우선 실행<br>
5. eval “$(pyenv init -)”<br>
* pyenv init -: pyenv 초기화 스크립트 생성 (실제로는 긴 Shell 코드 출력)<br>
* <img src="https://latex.codecogs.com/png.latex?():%20%EB%AA%85%EB%A0%B9%EC%96%B4%20%EC%B9%98%ED%99%98%20-%20%EA%B4%84%ED%98%B8%20%EC%95%88%20%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A5%BC%20%EC%8B%A4%ED%96%89%ED%95%98%EA%B3%A0%20%EA%B2%B0%EA%B3%BC%EB%A5%BC%20%EB%B0%98%ED%99%98%0A%20%20*%20eval:%20%EB%AC%B8%EC%9E%90%EC%97%B4%EC%9D%84%20Shell%20%EB%AA%85%EB%A0%B9%EC%96%B4%EB%A1%9C%20%EC%8B%A4%ED%96%89%0A%20%20*%20%EC%8B%A4%EC%A0%9C%20%EB%8F%99%EC%9E%91:%20pyenv%EA%B0%80%20%EC%B6%9C%EB%A0%A5%ED%95%9C%20%EC%B4%88%EA%B8%B0%ED%99%94%20%EC%BD%94%EB%93%9C%EB%A5%BC%20%EC%A6%89%EC%8B%9C%20%EC%8B%A4%ED%96%89%0A6.%20eval%20%22">(pyenv virtualenv-init -)”<br>
* pyenv-virtualenv 플러그인 초기화 (가상 환경 관리 기능)<br>
* 위와 동일한 방식으로 초기화 코드 실행<br>
7. EOF<br>
* heredoc 종료 마커 (여기까지가 추가할 내용)<br>
8. source ~/.bashrc<br>
* .bashrc 파일을 즉시 재실행 → 현재 Shell에 바로 적용<br>
* 안 하면? → 다음 로그인이나 새 터미널을 열어야 적용됨</p>
<ul>
<li>Pyenv 설치 확인: <code>pyenv --version</code></li>
</ul>
</section>
<section id="python-설치" class="level4" data-number="1.3.5.2">
<h4 data-number="1.3.5.2" class="anchored" data-anchor-id="python-설치"><span class="header-section-number">1.3.5.2</span> python 설치</h4>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># python 설치  </span></span>
<span id="cb14-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~$</span> pyenv install 3.11.10  </span>
<span id="cb14-3"></span>
<span id="cb14-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~$</span> python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  </span></code></pre></div>
<p>ubuntu에 python이 설치되어 있지 않아 다음 메세지가 뜰 것.</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv:</span> python: command not found  </span>
<span id="cb15-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">The</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">`</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">' command exists in these Python versions:  </span></span>
<span id="cb15-3"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">  3.11.10  </span></span>
<span id="cb15-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">Note: See '</span><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> help global<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">' for tips on allowing both  </span></span>
<span id="cb15-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">      python2 and python3 to be found.  </span></span></code></pre></div>
<ul>
<li>시스템이 인식할 python버전을 설정</li>
</ul>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 시스템 전체의 기본 Python 버전을 3.11.10으로 설정 (OS의 python 설치 유무와 버전을 신경쓸필요없어짐)  </span></span>
<span id="cb16-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~$</span> pyenv global 3.11.10  </span>
<span id="cb16-3"></span>
<span id="cb16-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># global 설정하면 pyenv가 관리하는 경로로 고정 되게됨  </span></span>
<span id="cb16-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~$</span> which python  </span>
<span id="cb16-6"></span>
<span id="cb16-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 또는 python의 특정 버전의 최신 버전을 찾으려면 다음의 명령어를 입력하여 확인하여 설치  </span></span>
<span id="cb16-8"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--list</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grep</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3.11"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">|</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tail</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-1</span>  </span>
<span id="cb16-9"></span>
<span id="cb16-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># python 설치 확인  </span></span>
<span id="cb16-11"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">azureuser@test-agent:~$</span> python <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  </span></code></pre></div>
</section>
<section id="poetry-설치" class="level4" data-number="1.3.5.3">
<h4 data-number="1.3.5.3" class="anchored" data-anchor-id="poetry-설치"><span class="header-section-number">1.3.5.3</span> Poetry 설치</h4>
<ul>
<li>pip install poetry = 간편 설치
<ul>
<li>pip(Python 패키지 관리자)를 사용<br>
</li>
<li>가장 간단하고 빠름<br>
</li>
<li>pyenv로 설치한 Python 환경에 직접 설치<br>
</li>
<li>하지만 Poetry 공식 문서는 이 방법을 권장하지 않음</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 방법 1: pip를 이용한 간편 설치 (비권장)  </span></span>
<span id="cb17-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install poetry  </span>
<span id="cb17-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 확인  </span></span></code></pre></div>
<ul>
<li>curl 방식 = 공식 권장 설치 (독립 설치)
<ul>
<li>Poetry 설치 스크립트를 다운받아 실행<br>
</li>
<li>Poetry를 시스템 Python과 분리하여 독립 환경에 설치<br>
</li>
<li><code>~/.local/bin</code>에 독립 설치<br>
</li>
<li>독립 환경이라 충돌 없음<br>
</li>
<li>더 깨끗하고 안전함<br>
</li>
<li>Poetry 공식 문서의 표준 방법</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 방법 2: 공식 설치 스크립트 (권장)  </span></span>
<span id="cb18-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-ssl</span> https://install.python-poetry.org <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">|</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python3</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-</span>  </span>
<span id="cb18-3"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">export</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">PATH</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$HOME</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">/.local/bin:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PATH</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>  </span>
<span id="cb18-4"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">echo</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'export PATH="$HOME/.local/bin:$PATH"'</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;&gt;</span> ~/.bashrc  </span>
<span id="cb18-5"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> ~/.bashrc  </span>
<span id="cb18-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 확인  </span></span></code></pre></div>
<ul>
<li>발생 가능한 귀찮은 문제
<ul>
<li>pip 방식의 문제</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 3.11에서 poetry 설치  </span></span>
<span id="cb19-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> global 3.11.10  </span>
<span id="cb19-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install poetry  </span>
<span id="cb19-4"></span>
<span id="cb19-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 나중에 Python 3.12로 변경  </span></span>
<span id="cb19-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> global 3.12.5  </span>
<span id="cb19-7"></span>
<span id="cb19-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># poetry가 사라짐!  </span></span>
<span id="cb19-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  </span>
<span id="cb19-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># bash: poetry: command not found  </span></span></code></pre></div>
<ul>
<li>curl 방식은 안전</li>
</ul>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 독립 설치  </span></span>
<span id="cb20-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">curl</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-sSL</span> https://install.python-poetry.org <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">|</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python3</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-</span>  </span>
<span id="cb20-3"></span>
<span id="cb20-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 버전 바꿔도 poetry는 유지됨  </span></span>
<span id="cb20-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> global 3.12.5  </span>
<span id="cb20-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>  </span>
<span id="cb20-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Poetry (version 1.8.3) ✅  </span></span></code></pre></div>
</section>
</section>
</section>
<section id="vm-종료-및-관리" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="vm-종료-및-관리"><span class="header-section-number">1.4</span> VM 종료 및 관리</h2>
<section id="vm-중지-비용-절감" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="vm-중지-비용-절감"><span class="header-section-number">1.4.1</span> VM 중지 (비용 절감)</h3>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SSH 연결 종료  </span></span>
<span id="cb21-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span>  </span></code></pre></div>
<p>또는 Azure Portal에서 <code>Virtual Machines → test-agent → Stop</code> 클릭</p>
<ul>
<li><strong>Stop</strong>: 비용 청구 안 됨, 나중에 재시작 가능<br>
</li>
<li><strong>Delete</strong>: <strong>주의!</strong> VM 완전 삭제 (복구 불가)</li>
</ul>
</section>
<section id="vm-재시작" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="vm-재시작"><span class="header-section-number">1.4.2</span> VM 재시작</h3>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> C:<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\U</span>sers<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\k</span>mkim<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\D</span>ownloads<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\t</span>est-agent_key.pem azureuser@20.196.144.16  </span></code></pre></div>
</section>
</section>
<section id="편의성-개선-선택사항" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="편의성-개선-선택사항"><span class="header-section-number">1.5</span> 편의성 개선 (선택사항)</h2>
<section id="powershell에-ssh-alias-설정" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="powershell에-ssh-alias-설정"><span class="header-section-number">1.5.1</span> PowerShell에 SSH Alias 설정</h3>
<p>PowerShell 프로필 편집:</p>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb23-1">notepad <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PROFILE</span>  </span></code></pre></div>
<p>다음 추가:</p>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb24-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Set-Alias</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>Name ssh-vm <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>Value <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ssh -i C:\Users\kmkim\Downloads\test-agent_key.pem azureuser@20.196.144.16'</span>  </span></code></pre></div>
<p>이후 접속:</p>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ssh-vm</span>  </span></code></pre></div>
</section>
</section>
<section id="ssh-key-관리-여러-vm서버-사용할-때" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="ssh-key-관리-여러-vm서버-사용할-때"><span class="header-section-number">1.6</span> SSH Key 관리 (여러 VM/서버 사용할 때)</h2>
<ul>
<li>Key가 여러 개일 때 관리 방법
<ul>
<li>Azure VM, AWS EC2, GitHub, GitLab 등 여러 서비스를 사용하면 SSH Key가 점점 많아진다.<br>
</li>
</ul></li>
<li>SSH Key 관리 전략
<ol type="1">
<li>Key 저장소 통일 (<code>.ssh</code> 폴더)</li>
</ol></li>
</ul>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Windows의 .ssh 폴더 (자동 생성됨)  </span></span>
<span id="cb26-2">C<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>\Users\kmkim\<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span>\  </span>
<span id="cb26-3"></span>
<span id="cb26-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Key 파일들을 모두 여기에 정리  </span></span>
<span id="cb26-5">C<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>\Users\kmkim\<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span>\  </span>
<span id="cb26-6">├── azure-vm-test-agent<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pem</span>      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure VM용  </span></span>
<span id="cb26-7">├── aws-ec2-dev<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pem</span>               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># AWS EC2용  </span></span>
<span id="cb26-8">├── github-personal                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GitHub용 (확장자 없음)  </span></span>
<span id="cb26-9">├── gitlab-work                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GitLab용  </span></span>
<span id="cb26-10">├── id_rsa                         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 key (old format)  </span></span>
<span id="cb26-11">└── id_ed25519                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 최신 key format  </span></span></code></pre></div>
<ol start="2" type="1">
<li>SSH Config 파일로 Host 별칭 관리</li>
</ol>
<p>SSH config 파일 생성:</p>
<div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb27-1">notepad C<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>\Users\kmkim\<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span>\config  </span></code></pre></div>
<p>다음 내용 추가:</p>
<pre><code># Azure VM - test-agent  
Host azure-test  
    HostName 20.196.144.16  
    User azureuser  
    IdentityFile C:\Users\kmkim\.ssh\azure-vm-test-agent.pem  
    Port 22  

# AWS EC2 - Development Server  
Host aws-dev  
    HostName ec2-1-2-3-4.compute-1.amazonaws.com  
    User ec2-user  
    IdentityFile C:\Users\kmkim\.ssh\aws-ec2-dev.pem  
    Port 22  

# GitHub  
Host github.com  
    HostName github.com  
    User git  
    IdentityFile C:\Users\kmkim\.ssh\github-personal  

# GitLab  
Host gitlab.com  
    HostName gitlab.com  
    User git  
    IdentityFile C:\Users\kmkim\.ssh\gitlab-work  </code></pre>
<ol start="3" type="1">
<li>간단한 접속 명령<br>
* SSH config를 설정하면 긴 명령을 단축</li>
</ol>
<p><strong>Before (설정 전):</strong></p>
<div class="sourceCode" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> C:<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\U</span>sers<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\k</span>mkim<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\.</span>ssh<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\a</span>zure-vm-test-agent.pem azureuser@20.196.144.16  </span></code></pre></div>
<p><strong>After (설정 후):</strong></p>
<div class="sourceCode" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> azure-test  </span></code></pre></div>
<ol start="4" type="1">
<li>Key 권한 설정 (Windows)<br>
* SSH Key는 신중하게 보관<br>
* Windows에서는:</li>
</ol>
<div class="sourceCode" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb31-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># .ssh 폴더 우클릭 → 속성 → 보안 → 고급  </span></span>
<span id="cb31-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 현재 사용자만 읽기/쓰기 권한 허용  </span></span>
<span id="cb31-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 다른 사용자는 접근 차단  </span></span>
<span id="cb31-4"></span>
<span id="cb31-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 또는 PowerShell로:  </span></span>
<span id="cb31-6">icacls <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C:\Users\kmkim\.ssh"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>inheritance<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>r <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>grant<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>r <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$env</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">USERNAME</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">`:</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">(F)"</span>  </span></code></pre></div>
<ul>
<li>SSH Key 명명 규칙 (권장)</li>
</ul>
<pre><code>&lt;서비스&gt;-&lt;용도&gt;-&lt;환경&gt;.pem  

예:  
- azure-vm-dev.pem  
- aws-ec2-prod.pem  
- github-personal  
- gitlab-work-deploy  </code></pre>
<section id="ssh-key-재생성-기존-key-분실탈취-시" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="ssh-key-재생성-기존-key-분실탈취-시"><span class="header-section-number">1.6.1</span> SSH Key 재생성 (기존 Key 분실/탈취 시)</h3>
<div class="sourceCode" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. 새로운 Key 생성  </span></span>
<span id="cb33-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> ed25519 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-C</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure-vm-replacement"</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> C:<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\U</span>sers<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\k</span>mkim<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\.</span>ssh<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\a</span>zure-vm-new.pem  </span>
<span id="cb33-3"></span>
<span id="cb33-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. Azure Portal에서 기존 public key 삭제  </span></span>
<span id="cb33-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. 새로운 public key 등록  </span></span>
<span id="cb33-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4. .ssh/config 파일 업데이트  </span></span>
<span id="cb33-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5. 기존 Key 파일 삭제 (또는 백업 폴더로 이동)  </span></span></code></pre></div>


</section>
</section>
</section>

 ]]></description>
  <category>Engineering</category>
  <category>DevOps</category>
  <category>Infrastructure</category>
  <category>Azure</category>
  <category>Cloud</category>
  <category>Poetry</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/1-vm_dev_envs_settings.html</guid>
  <pubDate>Mon, 24 Nov 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Python 개발 &amp; 배포 생태계</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/0-dev_envs.html</link>
  <description><![CDATA[ 





<section id="python-개발-배포-생태계-개요" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Python 개발 &amp; 배포 생태계 개요</h1>
<section id="단계-라이프사이클" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="단계-라이프사이클"><span class="header-section-number">1.1</span> 3단계 라이프사이클</h2>
<p>Python 프로젝트는 <strong>개발 단계</strong> → <strong>배포 단계</strong> → <strong>운영 단계</strong>의 3단계를 거친다.</p>
<table class="table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th>단계</th>
<th>도구</th>
<th>목적</th>
<th>특징</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>개발</strong></td>
<td>venv / pyenv / Poetry / Conda</td>
<td>로컬에서 안전하게 코드 작성 &amp; 테스트</td>
<td>의존성 격리, 버전 관리</td>
</tr>
<tr class="even">
<td><strong>배포</strong></td>
<td>Docker</td>
<td>개발 환경 전체를 컨테이너로 패킹</td>
<td>재현성 100%, 어디서나 동일 실행</td>
</tr>
<tr class="odd">
<td><strong>운영</strong></td>
<td>Kubernetes (또는 Docker Compose/ECS)</td>
<td>수백/수천 개 컨테이너 자동 관리</td>
<td>자동 스케일링, 무중단 배포, 자가 치유</td>
</tr>
</tbody>
</table>
</section>
<section id="전체-생태계-계층" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="전체-생태계-계층"><span class="header-section-number">1.2</span> 전체 생태계 계층</h2>
<section id="단계-도구-스택" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="단계-도구-스택"><span class="header-section-number">1.2.1</span> 3단계 도구 스택</h3>
<section id="개발-단계-venv-pyenv-poetry-conda" class="level4" data-number="1.2.1.1">
<h4 data-number="1.2.1.1" class="anchored" data-anchor-id="개발-단계-venv-pyenv-poetry-conda"><span class="header-section-number">1.2.1.1</span> 개발 단계: venv → pyenv → Poetry → Conda</h4>
<p>로컬 머신에서 코드 작성 &amp; 테스트</p>
<section id="conda-가장-포괄적" class="level5" data-number="1.2.1.1.1">
<h5 data-number="1.2.1.1.1" class="anchored" data-anchor-id="conda-가장-포괄적"><span class="header-section-number">1.2.1.1.1</span> Conda (가장 포괄적)</h5>
<ul>
<li>언어 무관 + Python 버전 관리 + 이진 파일<br>
</li>
<li><strong>추천</strong>: Data Science / 과학 계산</li>
</ul>
</section>
<section id="pyenv-poetry-권장" class="level5" data-number="1.2.1.1.2">
<h5 data-number="1.2.1.1.2" class="anchored" data-anchor-id="pyenv-poetry-권장"><span class="header-section-number">1.2.1.1.2</span> pyenv + Poetry (권장)</h5>
<ul>
<li>Python 의존성 + 패키징 + 가상환경<br>
</li>
<li><strong>추천</strong>: 순수 Python 개발 / 팀 협업</li>
</ul>
</section>
<section id="pyenv-pip-비권장" class="level5" data-number="1.2.1.1.3">
<h5 data-number="1.2.1.1.3" class="anchored" data-anchor-id="pyenv-pip-비권장"><span class="header-section-number">1.2.1.1.3</span> pyenv + pip (비권장)</h5>
<ul>
<li>pyenv: Python 버전 관리<br>
</li>
<li>pip: 패키지 설치 (수동 관리)<br>
</li>
<li>권장하지 않음</li>
</ul>
</section>
<section id="venv-pip-기본-학습용" class="level5" data-number="1.2.1.1.4">
<h5 data-number="1.2.1.1.4" class="anchored" data-anchor-id="venv-pip-기본-학습용"><span class="header-section-number">1.2.1.1.4</span> venv + pip (기본 학습용)</h5>
<ul>
<li>가상환경 + 수동 패키지 설치<br>
</li>
<li><strong>추천</strong>: Python 학습 초기 단계만</li>
</ul>
</section>
<section id="venv-가장-기본" class="level5" data-number="1.2.1.1.5">
<h5 data-number="1.2.1.1.5" class="anchored" data-anchor-id="venv-가장-기본"><span class="header-section-number">1.2.1.1.5</span> venv (가장 기본)</h5>
<ul>
<li>가상환경 생성만<br>
</li>
<li>실무에서는 권장하지 않음</li>
</ul>
</section>
</section>
<section id="배포-단계-docker-환경-캡슐화" class="level4" data-number="1.2.1.2">
<h4 data-number="1.2.1.2" class="anchored" data-anchor-id="배포-단계-docker-환경-캡슐화"><span class="header-section-number">1.2.1.2</span> 배포 단계: Docker (환경 캡슐화)</h4>
<ul>
<li>개발 환경 전체를 컨테이너로 패킹<br>
</li>
<li>macOS/Linux/Windows 어디서나 동일 실행<br>
</li>
<li>OS 부터 Python, 라이브러리까지 모두 포함<br>
</li>
<li>재현성 100% (언제 어디서나 같은 결과)<br>
</li>
<li><strong>언제</strong>: 팀 협업, 클라우드 배포, CI/CD<br>
</li>
<li><strong>추천</strong>: 권장</li>
</ul>
</section>
<section id="운영-단계-kubernetes-대규모-자동화" class="level4" data-number="1.2.1.3">
<h4 data-number="1.2.1.3" class="anchored" data-anchor-id="운영-단계-kubernetes-대규모-자동화"><span class="header-section-number">1.2.1.3</span> 운영 단계: Kubernetes (대규모 자동화)</h4>
<ul>
<li>수백 개 컨테이너 동시 관리<br>
</li>
<li>자동 스케일링 (트래픽 많으면 자동 복사본 증가)<br>
</li>
<li>무중단 배포 (한두 개씩 교체하며 업데이트)<br>
</li>
<li>로드밸런싱 (여러 복사본 사이에 트래픽 분산)<br>
</li>
<li>자동 복구 (컨테이너 죽으면 자동 재시작)<br>
</li>
<li><strong>언제</strong>: 대규모 서비스 (마이크로서비스, 엔터프라이즈)<br>
</li>
<li>PoC/개인 프로젝트는 오버킬</li>
</ul>
</section>
</section>
</section>
<section id="개발-단계-도구별-상세-분석" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="개발-단계-도구별-상세-분석"><span class="header-section-number">1.3</span> 개발 단계: 도구별 상세 분석</h2>
<section id="도구-비교표-기본-포괄적" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="도구-비교표-기본-포괄적"><span class="header-section-number">1.3.1</span> 도구 비교표 (기본 → 포괄적)</h3>
<table class="table">
<colgroup>
<col style="width: 12%">
<col style="width: 20%">
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 20%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th><strong>venv</strong></th>
<th><strong>pyenv</strong></th>
<th><strong>Poetry</strong></th>
<th><strong>Conda</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>역할</strong></td>
<td>가상환경만</td>
<td>여러 Python 버전 병렬 관리</td>
<td>의존성 + 패키징 + 환경</td>
<td>언어 무관 패키지 관리</td>
</tr>
<tr class="even">
<td><strong>관리 대상</strong></td>
<td>패키지 격리</td>
<td>Python 인터프리터 버전</td>
<td>패키지 + Python 버전</td>
<td>모든 언어 패키지 + 이진 파일</td>
</tr>
<tr class="odd">
<td><strong>지원 언어</strong></td>
<td>Python만</td>
<td>Python만</td>
<td>Python만</td>
<td>Python, R, C++, Java 등</td>
</tr>
<tr class="even">
<td><strong>설정 파일</strong></td>
<td>없음 (수동)</td>
<td>버전 파일만 (<code>.python-version</code>)</td>
<td><code>pyproject.toml</code>, <code>poetry.lock</code></td>
<td><code>environment.yml</code>, <code>conda.lock</code></td>
</tr>
<tr class="odd">
<td><strong>저장소</strong></td>
<td>PyPI (pip)</td>
<td>없음 (Python.org)</td>
<td>PyPI</td>
<td>Conda-forge, Anaconda</td>
</tr>
<tr class="even">
<td><strong>설치 명령</strong></td>
<td><code>python -m venv</code></td>
<td><code>brew install pyenv</code> (또는 git clone)</td>
<td><code>pip install poetry</code></td>
<td><code>conda install</code></td>
</tr>
<tr class="odd">
<td><strong>가상환경</strong></td>
<td>✓ 생성</td>
<td>△ 조합 필요 (다른 도구와)</td>
<td>✓ 자동 생성</td>
<td>✓ 생성 (이름 지정)</td>
</tr>
<tr class="even">
<td><strong>의존성 관리</strong></td>
<td>✗ 수동 (pip)</td>
<td>✗ 없음</td>
<td>✓ 자동 + 잠금</td>
<td>✓ 자동 + 잠금</td>
</tr>
<tr class="odd">
<td><strong>버전 해석</strong></td>
<td>PEP 440 (pip)</td>
<td>N/A</td>
<td>PEP 440 + Semantic Versioning</td>
<td>Conda 규칙 (유연함)</td>
</tr>
<tr class="even">
<td><strong>패키징/배포</strong></td>
<td>✗ 불가능</td>
<td>✗ 불가능</td>
<td>✓ 자동화</td>
<td>△ 가능 (복잡)</td>
</tr>
<tr class="odd">
<td><strong>의존성 잠금</strong></td>
<td>✗ 수동</td>
<td>N/A</td>
<td>✓ <code>poetry.lock</code> 자동</td>
<td>✓ 자동 (<code>conda-lock</code> 포함)</td>
</tr>
<tr class="even">
<td><strong>재현성</strong></td>
<td>50% (수동 관리)</td>
<td>100% (버전 파일)</td>
<td>100%</td>
<td>100%</td>
</tr>
<tr class="odd">
<td><strong>학습곡선</strong></td>
<td>극저 (1~2줄)</td>
<td>낮음 (직관적)</td>
<td>낮음 (직관적)</td>
<td>중간~높음</td>
</tr>
<tr class="even">
<td><strong>엔터프라이즈</strong></td>
<td>최소 (레거시)</td>
<td>중간 (증가 중)</td>
<td>높음 (표준화 추세)</td>
<td>높음 (데이터 과학)</td>
</tr>
</tbody>
</table>
</section>
<section id="버전관리-도구-선택-기준" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="버전관리-도구-선택-기준"><span class="header-section-number">1.3.2</span> 버전관리 도구 선택 기준</h3>
<section id="단계-venv-가장-기본" class="level4" data-number="1.3.2.1">
<h4 data-number="1.3.2.1" class="anchored" data-anchor-id="단계-venv-가장-기본"><span class="header-section-number">1.3.2.1</span> 1단계: venv (가장 기본)</h4>
<ul>
<li>정의: Python 표준 라이브러리의 가상환경 도구<br>
</li>
<li>교육/단순한 스크립트<br>
</li>
<li>Python 학습 초기 단계<br>
</li>
<li>매우 간단한 일회성 스크립트<br>
</li>
<li>의존성 추적이 불필요한 경우<br>
</li>
<li>한계
<ul>
<li>패키지 버전 관리 수동<br>
</li>
<li>lock file 없음 (재현 불가)<br>
</li>
<li>배포 불가능</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> venv venv              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 생성 (빈 상자)  </span></span>
<span id="cb1-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> venv/bin/activate         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 활성화  </span></span>
<span id="cb1-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install pandas               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 수동으로 패키지 설치  </span></span>
<span id="cb1-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 문제: 누가 어떤 버전 설치했는지 추적 불가능  </span></span></code></pre></div>
<hr>
</section>
<section id="단계-pyenv-python-버전-관리-추가" class="level4" data-number="1.3.2.2">
<h4 data-number="1.3.2.2" class="anchored" data-anchor-id="단계-pyenv-python-버전-관리-추가"><span class="header-section-number">1.3.2.2</span> 2단계: pyenv (Python 버전 관리 추가)</h4>
<ul>
<li>정의: 시스템에 여러 Python 버전을 설치/관리하는 도구<br>
</li>
<li>언제 사용:
<ul>
<li>여러 프로젝트가 다른 Python 버전 필요<br>
</li>
<li>신 버전과 구 버전을 동시 테스트 필요<br>
</li>
<li>프로젝트별 Python 버전 격리 필요<br>
</li>
</ul></li>
<li>특징
<ul>
<li>Python 인터프리터 버전만 관리<br>
</li>
<li>패키지 관리는 별도 도구 필요<br>
</li>
<li>venv와 함께 사용 가능</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> install 3.11          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 3.11 설치  </span></span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> install 3.9           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 3.9 설치  </span></span>
<span id="cb2-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> global 3.11           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 버전을 3.11로 설정  </span></span>
<span id="cb2-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> local 3.9             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 폴더에서는 3.9 사용  </span></span>
<span id="cb2-5"></span>
<span id="cb2-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--version</span>            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 자동으로 설정된 버전 사용  </span></span></code></pre></div>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pyenv + venv 조합  </span></span>
<span id="cb3-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pyenv</span> global 3.11              <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 3.11 선택  </span></span>
<span id="cb3-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> venv project_env     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가상환경 생성  </span></span>
<span id="cb3-4"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">source</span> project_env/bin/activate  </span>
<span id="cb3-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install pandas  </span></code></pre></div>
</section>
<section id="단계-poetry-python-버전-의존성-패키징" class="level4" data-number="1.3.2.3">
<h4 data-number="1.3.2.3" class="anchored" data-anchor-id="단계-poetry-python-버전-의존성-패키징"><span class="header-section-number">1.3.2.3</span> 3단계: Poetry (Python 버전 + 의존성 + 패키징)</h4>
<ul>
<li>정의: Python 프로젝트의 의존성 관리, 가상환경, 패키징을 통합 관리<br>
</li>
<li>언제 사용:
<ul>
<li>최신 개발자/팀 협업<br>
</li>
<li>순수 Python 프로젝트<br>
</li>
<li>PyPI에 배포할 계획<br>
</li>
<li>팀 협업 (재현성이 중요할 때)<br>
</li>
<li>프로젝트 템플릿 필요<br>
</li>
</ul></li>
<li>장점:
<ul>
<li>선언적 문법 (직관적)<br>
</li>
<li>자동 하위 의존성 관리<br>
</li>
<li><code>poetry.lock</code>으로 100% 재현성<br>
</li>
<li>배포까지 통합 지원<br>
</li>
</ul></li>
<li>한계:
<ul>
<li>Python 언어만 지원<br>
</li>
<li>별도 설치 필요</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> new my_project           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 완전한 프로젝트 생성  </span></span>
<span id="cb4-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> add pandas numpy          <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 의존성 자동 관리  </span></span>
<span id="cb4-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> run python main.py        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 격리된 환경에서 실행  </span></span>
<span id="cb4-4"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> build                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 배포 가능한 패키지 생성  </span></span>
<span id="cb4-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">poetry</span> publish                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># PyPI에 배포  </span></span></code></pre></div>
</section>
<section id="단계-conda-가장-포괄적" class="level4" data-number="1.3.2.4">
<h4 data-number="1.3.2.4" class="anchored" data-anchor-id="단계-conda-가장-포괄적"><span class="header-section-number">1.3.2.4</span> 4단계: Conda (가장 포괄적)</h4>
<ul>
<li>정의: 모든 프로그래밍 언어의 패키지를 관리하는 생태계<br>
</li>
<li>언제 사용:
<ul>
<li>데이터 사이언스 (NumPy, Pandas, SciPy, Pytorch, sklearn, etc.)<br>
</li>
<li>다국어 환경 (Python + R + C++)<br>
</li>
<li>과학 계산 커뮤니티 (Anaconda 생태계)<br>
</li>
<li>복잡한 바이너리 의존성<br>
</li>
<li>회사에서 라이센스 지원<br>
</li>
<li>특수 라이브러리가 PyPI에 없을 때<br>
</li>
</ul></li>
<li>장점:
<ul>
<li>언어 무관 (Python, R, Julia, C++ 등)<br>
</li>
<li>바이너리 사전 컴파일 (과학 패키지 최적화)<br>
</li>
<li>거대한 커뮤니티 (특히 데이터 과학)<br>
</li>
<li>채널 시스템 (더 유연한 버전 관리)<br>
</li>
</ul></li>
<li>한계:
<ul>
<li>학습곡선이 높음 (옵션 많음)<br>
</li>
<li>디스크 용량 큼<br>
</li>
<li>배포 어려움</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">conda</span> create <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-n</span> my_env python=3.11 numpy pandas scipy  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 통합 설치  </span></span>
<span id="cb5-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">conda</span> activate my_env                                  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 활성화  </span></span>
<span id="cb5-3"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">conda</span> install scikit-learn                             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 추가 설치  </span></span></code></pre></div>
</section>
</section>
</section>
<section id="배포-단계-docker" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="배포-단계-docker"><span class="header-section-number">1.4</span> 배포 단계: Docker</h2>
<section id="docker란" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="docker란"><span class="header-section-number">1.4.1</span> Docker란?</h3>
<ul>
<li>정의: 시스템 포함 개발 환경 전체를 컨테이너(가상 상자)로 패킹하여 어디서나 동일하게 실행하는 도구<br>
</li>
<li>특징:
<ul>
<li>OS 부터 언어(Python, R), 라이브러리까지 모두 포함<br>
</li>
<li>macOS, Linux, Windows에서 <strong>100% 동일하게 실행</strong><br>
</li>
<li>“내 컴퓨터에선 되는데, 서버에선 왜 안 돼?” 문제 해결<br>
</li>
</ul></li>
<li>언제 사용:
<ul>
<li>팀 협업 (개발자마다 다른 환경)<br>
</li>
<li>클라우드 배포 (AWS, GCP, Azure)<br>
</li>
<li>CI/CD 파이프라인 (자동화 테스트)<br>
</li>
<li>마이크로서비스 아키텍처<br>
</li>
</ul></li>
<li>한계:
<ul>
<li>이미지 크기가 큼 (수백 MB ~ GB)<br>
</li>
<li>초기 학습곡선이 있음<br>
</li>
<li>오버헤드가 있음 (가상 OS 실행)</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource dockerfile number-lines code-with-copy"><code class="sourceCode dockerfile"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Dockerfile: 실행 환경 정의  </span></span>
<span id="cb6-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">FROM</span> python:3.11                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Python 3.11 설치  </span></span>
<span id="cb6-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">WORKDIR</span> /app                        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 작업 폴더 설정  </span></span>
<span id="cb6-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">COPY</span> requirements.txt .             <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 의존성 파일 복사  </span></span>
<span id="cb6-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">RUN</span> <span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-r</span> requirements.txt <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 패키지 설치  </span></span>
<span id="cb6-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">COPY</span> . .                            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 코드 복사  </span></span>
<span id="cb6-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">CMD</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"python"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"main.py"</span>]           <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 실행 명령  </span></span></code></pre></div>
<p><strong>실행:</strong></p>
<div class="sourceCode" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">docker</span> build <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> my_app .            <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 이미지 빌드  </span></span>
<span id="cb7-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">docker</span> run my_app                   <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 컨테이너 실행  </span></span></code></pre></div>
</section>
<section id="venvpoetry-vs-docker-선택-기준" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="venvpoetry-vs-docker-선택-기준"><span class="header-section-number">1.4.2</span> venv/Poetry vs Docker 선택 기준</h3>
<table class="table">
<thead>
<tr class="header">
<th>상황</th>
<th>도구</th>
<th>이유</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>혼자 개발, 로컬 테스트만</td>
<td>venv / Poetry</td>
<td>간단, 빠름</td>
</tr>
<tr class="even">
<td>팀 협업 (같은 환경 필요)</td>
<td><strong>Docker</strong></td>
<td>재현성 100%, 환경 일관성</td>
</tr>
<tr class="odd">
<td>클라우드 배포</td>
<td><strong>Docker</strong></td>
<td>필수 (서버 환경 캡슐화)</td>
</tr>
<tr class="even">
<td>프로토타입 PoC</td>
<td>pyenv / Poetry</td>
<td>빠른 개발</td>
</tr>
<tr class="odd">
<td>프로덕션 서비스</td>
<td><strong>Docker</strong></td>
<td>안정성, 버전 관리</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="운영-단계-kubernetes" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="운영-단계-kubernetes"><span class="header-section-number">1.5</span> 운영 단계: Kubernetes</h2>
<section id="kubernetes란" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="kubernetes란"><span class="header-section-number">1.5.1</span> Kubernetes란?</h3>
<ul>
<li><p>정의: 수백/수천 개의 Docker 컨테이너를 자동으로 관리, 배포, 스케일링하는 오케스트레이션 도구<br>
</p></li>
<li><p>기능:</p>
<ul>
<li>자동 스케일링: 트래픽 많으면 자동으로 복사본 증가<br>
</li>
<li>무중단 배포: 한두 개씩 교체하며 업데이트 (사용자 영향 0)<br>
</li>
<li>로드밸런싱: 여러 복사본 사이에 트래픽 분산<br>
</li>
<li>자동 복구: 컨테이너 죽으면 자동 재시작<br>
</li>
<li>버전 관리: 이전 버전으로 빠르게 롤백 가능<br>
</li>
</ul></li>
<li><p>예시:</p>
<pre><code>트래픽 100 req/s → 3개 복사본 (각 33 req/s)  
트래픽 500 req/s → 자동으로 10개 복사본 (각 50 req/s)  
배포 중 → 5개 → 8개 → 10개 순차적 교체 (무중단)  
컨테이너 1개 죽음 → 자동 재시작 (사용자는 모름)  </code></pre></li>
<li><p>언제 사용:</p>
<ul>
<li>대규모 서비스 (Netflix, Google 등)<br>
</li>
<li>마이크로서비스 아키텍처<br>
</li>
<li>트래픽이 불규칙한 서비스<br>
</li>
<li>엔터프라이즈 환경<br>
</li>
</ul></li>
<li><p>한계:</p>
<ul>
<li>⚠️ PoC/개인 프로젝트: 오버킬<br>
</li>
<li>학습곡선이 가파름<br>
</li>
<li>클러스터 운영 복잡도 높음<br>
</li>
<li>비용 증가</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># kubernetes-deployment.yaml  </span></span>
<span id="cb9-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">apiVersion</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> apps/v1  </span></span>
<span id="cb9-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kind</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> Deployment  </span></span>
<span id="cb9-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">metadata</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-5"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> my-app  </span></span>
<span id="cb9-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">spec</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-7"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">replicas</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">                    # 3개 복사본 실행  </span></span>
<span id="cb9-8"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">selector</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-9"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">matchLabels</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-10"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">app</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> my-app  </span></span>
<span id="cb9-11"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">template</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-12"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">metadata</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-13"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labels</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-14"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">app</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> my-app  </span></span>
<span id="cb9-15"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">    </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">spec</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-16"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">containers</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-17"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">      </span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">name</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> my-app  </span></span>
<span id="cb9-18"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">image</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> my-app:latest  </span></span>
<span id="cb9-19"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ports</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span>
<span id="cb9-20"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">        </span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">-</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">containerPort</span><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">:</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;"> </span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8000</span><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">  </span></span></code></pre></div>
</section>
<section id="배포-흐름-개발-배포-운영" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2" class="anchored" data-anchor-id="배포-흐름-개발-배포-운영"><span class="header-section-number">1.5.2</span> 배포 흐름 (개발 → 배포 → 운영)</h3>
<pre><code>로컬 개발 (venv/Poetry/Conda)  
        ↓  
코드 작성 &amp; 테스트  
        ↓  
Git에 커밋  
        ↓  
Docker 빌드 (자동)  
        ↓  
Docker 이미지 생성  
        ↓  
Docker 레지스트리에 푸시 (Docker Hub, ECR)  
        ↓  
운영 서버 (AWS/GCP/Azure)  
        ↓  
Kubernetes 배포 (대규모만)  
        또는  
Docker Compose (소규모) / ECS (AWS 중규모)  
        ↓  
사용자 접근  </code></pre>


</section>
</section>
</section>

 ]]></description>
  <category>Engineering</category>
  <category>DevOps</category>
  <category>Python</category>
  <category>Docker</category>
  <category>Kubernetes</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/0-dev_envs.html</guid>
  <pubDate>Sun, 23 Nov 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Azure VM 생성부터 개발 환경 구축까지</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/0-vm_creation.html</link>
  <description><![CDATA[ 





<section id="azure-vm-생성-및-개발-환경-구축" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Azure VM 생성 및 개발 환경 구축</h1>
<p>Azure Portal에서 Ubuntu 24.04 LTS VM을 처음부터 생성하고, Git, Conda, Poetry를 설치하여 완전한 개발 환경을 구축하는 과정을 단계별로 정리한다.</p>
<section id="azure-vm이란" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="azure-vm이란"><span class="header-section-number">1.1</span> Azure VM이란?</h2>
<section id="vm-virtual-machine-개념" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="vm-virtual-machine-개념"><span class="header-section-number">1.1.1</span> VM (Virtual Machine) 개념</h3>
<p><strong>VM (가상 머신)</strong>은 클라우드에서 실행되는 가상 컴퓨터다. 물리적 서버 하나에서 여러 개의 독립적인 컴퓨터를 동시에 실행할 수 있다.</p>
<pre><code>물리 서버 (Azure 데이터센터)  
├── VM 1 (Ubuntu 24.04) ← 우리가 생성할 VM  
├── VM 2 (Windows Server)  
├── VM 3 (Ubuntu 22.04)  
└── VM 4 (CentOS)  </code></pre>
</section>
<section id="azure-vm의-장점" class="level3" data-number="1.1.2">
<h3 data-number="1.1.2" class="anchored" data-anchor-id="azure-vm의-장점"><span class="header-section-number">1.1.2</span> Azure VM의 장점</h3>
<table class="table">
<thead>
<tr class="header">
<th>항목</th>
<th>물리 서버</th>
<th>Azure VM</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>구매 시간</strong></td>
<td>수일~수주</td>
<td>5분</td>
</tr>
<tr class="even">
<td><strong>초기 비용</strong></td>
<td>수백만~수천만원</td>
<td>Pay As You Go (사용한 만큼만)</td>
</tr>
<tr class="odd">
<td><strong>확장성</strong></td>
<td>하드웨어 추가 구매 필요</td>
<td>클릭 몇 번으로 즉시 확장</td>
</tr>
<tr class="even">
<td><strong>유지보수</strong></td>
<td>직접 관리</td>
<td>Azure가 관리</td>
</tr>
<tr class="odd">
<td><strong>위치</strong></td>
<td>한 곳 고정</td>
<td>전 세계 60+ 리전 선택 가능</td>
</tr>
</tbody>
</table>
</section>
<section id="주요-사용-사례" class="level3" data-number="1.1.3">
<h3 data-number="1.1.3" class="anchored" data-anchor-id="주요-사용-사례"><span class="header-section-number">1.1.3</span> 주요 사용 사례</h3>
<ul>
<li><strong>개발/테스트 환경</strong>: 로컬 PC 리소스 절약<br>
</li>
<li><strong>ML/DL 학습</strong>: GPU VM으로 모델 훈련<br>
</li>
<li><strong>웹 서버 호스팅</strong>: 24시간 서비스 운영<br>
</li>
<li><strong>데이터 분석</strong>: 대용량 메모리 사용<br>
</li>
<li><strong>CI/CD 파이프라인</strong>: 자동화된 빌드/배포</li>
</ul>
</section>
</section>
<section id="azure-vm-생성-과정" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="azure-vm-생성-과정"><span class="header-section-number">1.2</span> Azure VM 생성 과정</h2>
<section id="사전-준비" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="사전-준비"><span class="header-section-number">1.2.1</span> 사전 준비</h3>
<ol type="1">
<li><strong>Azure 계정</strong>
<ul>
<li><a href="https://portal.azure.com">Azure Portal</a> 접속<br>
</li>
<li>Microsoft 계정으로 로그인<br>
</li>
<li>무료 계정: 12개월 무료 서비스 + $200 크레딧 제공</li>
</ul></li>
<li><strong>구독 (Subscription) 확인</strong>
<ul>
<li>Azure Portal → 구독 메뉴에서 활성 구독 확인<br>
</li>
<li>무료 평가판 또는 종량제 구독 필요</li>
</ul></li>
</ol>
</section>
<section id="vm-생성-단계별-가이드" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="vm-생성-단계별-가이드"><span class="header-section-number">1.2.2</span> VM 생성 단계별 가이드</h3>
<section id="단계-vm-생성-시작" class="level4" data-number="1.2.2.1">
<h4 data-number="1.2.2.1" class="anchored" data-anchor-id="단계-vm-생성-시작"><span class="header-section-number">1.2.2.1</span> 1단계: VM 생성 시작</h4>
<pre><code>Azure Portal   
  → Virtual Machines   
  → Create   
  → Azure virtual machine  </code></pre>
</section>
<section id="단계-기본-설정-basics" class="level4" data-number="1.2.2.2">
<h4 data-number="1.2.2.2" class="anchored" data-anchor-id="단계-기본-설정-basics"><span class="header-section-number">1.2.2.2</span> 2단계: 기본 설정 (Basics)</h4>
<p><strong>프로젝트 세부 정보</strong></p>
<table class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 42%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Subscription</strong></td>
<td>본인의 구독 선택</td>
<td>비용이 청구될 구독</td>
</tr>
<tr class="even">
<td><strong>Resource group</strong></td>
<td>신규 생성 또는 기존 선택</td>
<td>리소스 그룹명: <code>rg-dev-vm</code></td>
</tr>
</tbody>
</table>
<p><strong>인스턴스 세부 정보</strong></p>
<table class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 42%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Virtual machine name</strong></td>
<td><code>test-agent</code></td>
<td>VM 식별용 이름</td>
</tr>
<tr class="even">
<td><strong>Region</strong></td>
<td><code>Korea Central</code></td>
<td>서울 리전 (지연 시간 최소화)</td>
</tr>
<tr class="odd">
<td><strong>Availability options</strong></td>
<td>No infrastructure redundancy required</td>
<td>개발용은 단일 VM</td>
</tr>
<tr class="even">
<td><strong>Security type</strong></td>
<td>Standard</td>
<td>기본 보안</td>
</tr>
<tr class="odd">
<td><strong>Image</strong></td>
<td><strong>Ubuntu Server 24.04 LTS - x64 Gen2</strong></td>
<td>운영체제 선택</td>
</tr>
<tr class="even">
<td><strong>VM architecture</strong></td>
<td>x64</td>
<td>표준 아키텍처</td>
</tr>
</tbody>
</table>
<p><strong>크기 (Size)</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>스펙</th>
<th>월 예상 비용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Size</strong></td>
<td><code>Standard_D8as_v5</code></td>
<td>8 vCPUs, 32 GiB RAM</td>
<td>~$280</td>
</tr>
</tbody>
</table>
<p>크기 선택 팁:<br>
- <strong>B-series</strong>: 저렴, CPU 버스트 가능 (개발/테스트)<br>
- <strong>D-series</strong>: 범용, 균형잡힌 CPU/메모리 (일반 워크로드)<br>
- <strong>E-series</strong>: 메모리 집약적 (데이터베이스, 캐싱)<br>
- <strong>N-series</strong>: GPU 포함 (ML/DL, 렌더링)</p>
<p><strong>관리자 계정 (Administrator account)</strong></p>
<table class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 42%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Authentication type</strong></td>
<td><strong>SSH public key</strong></td>
<td>비밀번호보다 안전</td>
</tr>
<tr class="even">
<td><strong>Username</strong></td>
<td><code>azureuser</code></td>
<td>기본 사용자명 (변경 가능)</td>
</tr>
<tr class="odd">
<td><strong>SSH public key source</strong></td>
<td>Generate new key pair</td>
<td>Azure가 자동 생성</td>
</tr>
<tr class="even">
<td><strong>Key pair name</strong></td>
<td><code>test-agent_key</code></td>
<td>Private key 파일명</td>
</tr>
</tbody>
</table>
<blockquote class="blockquote">
<p><strong>중요</strong>: Private key (<code>.pem</code> 파일)는 VM 생성 완료 시 단 한 번만 다운로드 가능하다. 분실 시 VM 재생성 필요.</p>
</blockquote>
<p><strong>인바운드 포트 규칙 (Inbound port rules)</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Public inbound ports</strong></td>
<td>Allow selected ports</td>
<td>SSH 접속 허용</td>
</tr>
<tr class="even">
<td><strong>Select inbound ports</strong></td>
<td><strong>SSH (22)</strong></td>
<td>원격 접속용</td>
</tr>
</tbody>
</table>
<p>보안 강화 방법 (선택):<br>
- SSH 포트를 22에서 다른 포트로 변경 (예: 2222)<br>
- 특정 IP만 허용하도록 제한</p>
</section>
<section id="단계-디스크-설정-disks" class="level4" data-number="1.2.2.3">
<h4 data-number="1.2.2.3" class="anchored" data-anchor-id="단계-디스크-설정-disks"><span class="header-section-number">1.2.2.3</span> 3단계: 디스크 설정 (Disks)</h4>
<table class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 42%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>OS disk type</strong></td>
<td><strong>Standard SSD (locally-redundant storage)</strong></td>
<td>개발용은 Standard SSD 충분</td>
</tr>
<tr class="even">
<td><strong>Delete with VM</strong></td>
<td>체크</td>
<td>VM 삭제 시 디스크도 삭제</td>
</tr>
<tr class="odd">
<td><strong>Encryption type</strong></td>
<td>(Default) Encryption at rest with platform-managed key</td>
<td>기본 암호화</td>
</tr>
</tbody>
</table>
<p>디스크 타입 비교:</p>
<table class="table">
<thead>
<tr class="header">
<th>타입</th>
<th>IOPS</th>
<th>처리량</th>
<th>용도</th>
<th>비용</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Premium SSD</strong></td>
<td>최대 20,000</td>
<td>900 MB/s</td>
<td>프로덕션, DB</td>
<td>높음</td>
</tr>
<tr class="even">
<td><strong>Standard SSD</strong></td>
<td>최대 6,000</td>
<td>750 MB/s</td>
<td>개발, 테스트</td>
<td>중간</td>
</tr>
<tr class="odd">
<td><strong>Standard HDD</strong></td>
<td>최대 2,000</td>
<td>500 MB/s</td>
<td>백업, 아카이브</td>
<td>낮음</td>
</tr>
</tbody>
</table>
</section>
<section id="단계-네트워킹-networking" class="level4" data-number="1.2.2.4">
<h4 data-number="1.2.2.4" class="anchored" data-anchor-id="단계-네트워킹-networking"><span class="header-section-number">1.2.2.4</span> 4단계: 네트워킹 (Networking)</h4>
<p><strong>가상 네트워크 (Virtual network)</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Virtual network</strong></td>
<td>(new) test-agent-vnet</td>
<td>자동 생성</td>
</tr>
<tr class="even">
<td><strong>Subnet</strong></td>
<td>(new) default (10.0.0.0/24)</td>
<td>기본 서브넷</td>
</tr>
<tr class="odd">
<td><strong>Public IP</strong></td>
<td>(new) test-agent-ip</td>
<td>외부 접속용 공인 IP</td>
</tr>
<tr class="even">
<td><strong>NIC network security group</strong></td>
<td>Basic</td>
<td>기본 방화벽</td>
</tr>
<tr class="odd">
<td><strong>Public inbound ports</strong></td>
<td>Allow selected ports</td>
<td></td>
</tr>
<tr class="even">
<td><strong>Select inbound ports</strong></td>
<td>SSH (22)</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>고급 네트워킹 (선택)</strong><br>
- Load balancing: 여러 VM에 트래픽 분산 (프로덕션)<br>
- Accelerated networking: 네트워크 성능 향상</p>
</section>
<section id="단계-관리-management" class="level4" data-number="1.2.2.5">
<h4 data-number="1.2.2.5" class="anchored" data-anchor-id="단계-관리-management"><span class="header-section-number">1.2.2.5</span> 5단계: 관리 (Management)</h4>
<p><strong>모니터링</strong></p>
<table class="table">
<colgroup>
<col style="width: 28%">
<col style="width: 42%">
<col style="width: 28%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Boot diagnostics</strong></td>
<td>Enable with managed storage account</td>
<td>부팅 문제 진단용</td>
</tr>
<tr class="even">
<td><strong>Enable OS guest diagnostics</strong></td>
<td>선택 해제</td>
<td>추가 비용 발생</td>
</tr>
</tbody>
</table>
<p><strong>자동 종료 (Auto-shutdown)</strong></p>
<table class="table">
<thead>
<tr class="header">
<th>항목</th>
<th>설정 값</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Enable auto-shutdown</strong></td>
<td>체크 권장</td>
<td>비용 절감</td>
</tr>
<tr class="even">
<td><strong>Shutdown time</strong></td>
<td>19:00 (KST)</td>
<td>업무 종료 시간</td>
</tr>
<tr class="odd">
<td><strong>Time zone</strong></td>
<td>(UTC+09:00) Seoul</td>
<td></td>
</tr>
<tr class="even">
<td><strong>Notification before shutdown</strong></td>
<td>체크</td>
<td>종료 15분 전 알림</td>
</tr>
</tbody>
</table>
</section>
<section id="단계-고급-설정-advanced---기본값-유지" class="level4" data-number="1.2.2.6">
<h4 data-number="1.2.2.6" class="anchored" data-anchor-id="단계-고급-설정-advanced---기본값-유지"><span class="header-section-number">1.2.2.6</span> 6단계: 고급 설정 (Advanced) - 기본값 유지</h4>
<ul>
<li><strong>Extensions</strong>: VM 생성 후 설치 가능<br>
</li>
<li><strong>Cloud init</strong>: 초기화 스크립트 (선택)<br>
</li>
<li><strong>User data</strong>: 부팅 시 실행할 스크립트</li>
</ul>
</section>
<section id="단계-태그-tags---선택-사항" class="level4" data-number="1.2.2.7">
<h4 data-number="1.2.2.7" class="anchored" data-anchor-id="단계-태그-tags---선택-사항"><span class="header-section-number">1.2.2.7</span> 7단계: 태그 (Tags) - 선택 사항</h4>
<p>리소스 분류 및 비용 추적용:</p>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Environment</td>
<td>Development</td>
</tr>
<tr class="even">
<td>Project</td>
<td>ML-Research</td>
</tr>
<tr class="odd">
<td>Owner</td>
<td>your-email@example.com</td>
</tr>
</tbody>
</table>
</section>
<section id="단계-검토-및-생성-review-create" class="level4" data-number="1.2.2.8">
<h4 data-number="1.2.2.8" class="anchored" data-anchor-id="단계-검토-및-생성-review-create"><span class="header-section-number">1.2.2.8</span> 8단계: 검토 및 생성 (Review + create)</h4>
<ol type="1">
<li><p><strong>비용 확인</strong></p>
<pre><code>Virtual machine: $280.00/month  
Disks: $19.20/month (128 GiB Standard SSD)  
Total estimated cost: ~$300/month  </code></pre></li>
<li><p><strong>유효성 검증</strong></p>
<ul>
<li>“Validation passed” 확인</li>
</ul></li>
<li><p><strong>생성 클릭</strong></p>
<ul>
<li><strong>중요</strong>: Private key 다운로드 팝업이 나타남<br>
</li>
<li><code>test-agent_key.pem</code> 파일 다운로드 (필수!)<br>
</li>
<li>Downloads 폴더에 저장됨</li>
</ul></li>
<li><p><strong>배포 진행</strong></p>
<pre><code>Deployment is in progress...  
├── Creating network interface...  
├── Creating virtual machine...  
├── Creating disk...  
└── Starting virtual machine...  

Deployment complete (약 2-3분 소요)  </code></pre></li>
</ol>
</section>
<section id="단계-vm-생성-완료-확인" class="level4" data-number="1.2.2.9">
<h4 data-number="1.2.2.9" class="anchored" data-anchor-id="단계-vm-생성-완료-확인"><span class="header-section-number">1.2.2.9</span> 9단계: VM 생성 완료 확인</h4>
<p><strong>리소스 그룹에서 확인</strong></p>
<pre><code>Resource group: rg-dev-vm  
├── test-agent (Virtual machine)  
├── test-agent-ip (Public IP address)  
├── test-agent-nsg (Network security group)  
├── test-agent-vnet (Virtual network)  
└── test-agent_disk_... (Disk)  </code></pre>
<p><strong>Public IP 주소 확인</strong></p>
<pre><code>Virtual Machines → test-agent → Overview  
Public IP address: 20.196.144.16 (예시)  </code></pre>
</section>
</section>
</section>
<section id="ssh를-통한-vm-접속" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="ssh를-통한-vm-접속"><span class="header-section-number">1.3</span> SSH를 통한 VM 접속</h2>
<section id="ssh란" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="ssh란"><span class="header-section-number">1.3.1</span> SSH란?</h3>
<p><strong>SSH (Secure Shell)</strong>는 인터넷을 통해 원격 컴퓨터에 안전하게 접속하는 프로토콜이다.</p>
</section>
<section id="웹-브라우저-콘솔-vs-ssh" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="웹-브라우저-콘솔-vs-ssh"><span class="header-section-number">1.3.2</span> 웹 브라우저 콘솔 vs SSH</h3>
<table class="table">
<colgroup>
<col style="width: 22%">
<col style="width: 59%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>항목</th>
<th>웹 브라우저 콘솔</th>
<th>SSH</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>접속 방식</strong></td>
<td>Azure Portal 웹 페이지 내</td>
<td>암호화된 네트워크 연결</td>
</tr>
<tr class="even">
<td><strong>보안</strong></td>
<td>웹 브라우저 보안 정책 적용 (제약 많음)</td>
<td>공개키 암호화 (매우 강력)</td>
</tr>
<tr class="odd">
<td><strong>권한</strong></td>
<td><code>no-new-privileges</code> 플래그로 sudo 차단</td>
<td>일반 사용자이지만 sudo 가능</td>
</tr>
<tr class="even">
<td><strong>통신</strong></td>
<td>평문 또는 약한 암호화</td>
<td>모든 데이터 암호화 (AES-256 등)</td>
</tr>
<tr class="odd">
<td><strong>인증</strong></td>
<td>Azure Portal 로그인</td>
<td>Private Key 파일 기반</td>
</tr>
<tr class="even">
<td><strong>안정성</strong></td>
<td>브라우저 다운시 연결 끊김</td>
<td>네트워크만 안정하면 지속 연결</td>
</tr>
</tbody>
</table>
</section>
<section id="ssh가-안전한-이유" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="ssh가-안전한-이유"><span class="header-section-number">1.3.3</span> SSH가 안전한 이유</h3>
<ol type="1">
<li><p><strong>공개키 암호화</strong> (Public Key Cryptography)</p>
<ul>
<li>클라이언트(PC)가 공개키를 가짐<br>
</li>
<li>서버(Azure VM)가 비공개키를 가짐<br>
</li>
<li>공개키로 암호화한 메시지는 비공개키로만 복호화 가능<br>
</li>
<li>통신 과정이 모두 암호화됨</li>
</ul></li>
<li><p><strong>Private Key 인증</strong></p>
<pre><code>클라이언트 (PC)           서버 (Azure VM)  
test-agent_key.pem    ←→ 비공개키 저장  
(Private Key)            (Private Key)  

접속 요청 시:  
1. 클라이언트가 Public Key로 challenge를 보냄  
2. 서버가 비공개키로 검증  
3. Private Key가 일치하면 접속 허용  </code></pre></li>
<li><p><strong>중간자 공격 방지</strong></p>
<ul>
<li>SSH 키 교환 과정에서 호스트 키를 검증<br>
</li>
<li>첫 접속 시 호스트 지문(fingerprint)을 확인<br>
</li>
<li>같은 호스트면 이후 자동 인증</li>
</ul></li>
<li><p><strong>비밀번호 방식의 문제점</strong></p>
<ul>
<li>약한 비밀번호 → 브루트포스 공격에 취약<br>
</li>
<li>비밀번호 탈취 → 전체 VM 장악<br>
</li>
<li>SSH Key는 수천 자리의 암호화된 파일 → 거의 불가능</li>
</ul></li>
</ol>
</section>
<section id="ssh-접속-단계" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="ssh-접속-단계"><span class="header-section-number">1.3.4</span> SSH 접속 단계</h3>
<p><strong>1단계: Private Key 파일 준비</strong><br>
- VM 생성 시 다운로드한 <code>test-agent_key.pem</code> 파일 위치 확인<br>
- 보통 Downloads 폴더에 저장됨</p>
<p><strong>2단계: 로컬 PowerShell(Windows) 또는 Terminal(macOS/Linux)에서 접속</strong></p>
<div class="sourceCode" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> C:<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\U</span>sers<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\k</span>mkim<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\D</span>ownloads<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\t</span>est-agent_key.pem azureuser@20.196.144.16  </span></code></pre></div>
<p><strong>3단계: 첫 접속 시 호스트 인증</strong></p>
<pre><code>The authenticity of host '20.196.144.16' can't be established.  
Are you sure you want to continue connecting (yes/no)?  </code></pre>
<p>→ <code>yes</code> 입력</p>
<p><strong>4단계: 접속 완료</strong></p>
<pre><code>azureuser@test-agent:~$  </code></pre>
<p><strong>SSH 접속의 장점:</strong><br>
- 웹 콘솔의 제약이 없음<br>
- sudo 권한이 정상 작동<br>
- 더 안정적이고 빠름<br>
- 로컬에서 언제든 접속 가능</p>
</section>
</section>
<section id="vm-종료-및-관리" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="vm-종료-및-관리"><span class="header-section-number">1.4</span> VM 종료 및 관리</h2>
<section id="vm-중지-비용-절감" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="vm-중지-비용-절감"><span class="header-section-number">1.4.1</span> VM 중지 (비용 절감)</h3>
<div class="sourceCode" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SSH 연결 종료  </span></span>
<span id="cb11-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span>  </span>
<span id="cb11-3"></span>
<span id="cb11-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure Portal에서:  </span></span>
<span id="cb11-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Virtual Machines → test-agent → Stop 클릭  </span></span></code></pre></div>
<ul>
<li><strong>Stop</strong>: 비용 청구 안 됨, 나중에 재시작 가능<br>
</li>
<li><strong>Delete</strong>: 완전 삭제 (복구 불가)</li>
</ul>
</section>
<section id="vm-재시작" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="vm-재시작"><span class="header-section-number">1.4.2</span> VM 재시작</h3>
<div class="sourceCode" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> C:<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\U</span>sers<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\k</span>mkim<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\D</span>ownloads<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\t</span>est-agent_key.pem azureuser@20.196.144.16  </span></code></pre></div>
</section>
</section>
<section id="편의성-개선-선택사항" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="편의성-개선-선택사항"><span class="header-section-number">1.5</span> 편의성 개선 (선택사항)</h2>
<section id="powershell에-ssh-alias-설정" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="powershell에-ssh-alias-설정"><span class="header-section-number">1.5.1</span> PowerShell에 SSH Alias 설정</h3>
<p>PowerShell 프로필 편집:</p>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb13-1">notepad <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$PROFILE</span>  </span></code></pre></div>
<p>다음 추가:</p>
<div class="sourceCode" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">Set-Alias</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>Name ssh-vm <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>Value <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'ssh -i C:\Users\kmkim\Downloads\test-agent_key.pem azureuser@20.196.144.16'</span>  </span></code></pre></div>
<p>이후 접속:</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">ssh-vm</span>  </span></code></pre></div>
</section>
</section>
<section id="ssh-key-관리-전략" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="ssh-key-관리-전략"><span class="header-section-number">1.6</span> SSH Key 관리 전략</h2>
<p>Azure VM, AWS EC2, GitHub, GitLab 등 여러 서비스를 사용하면 SSH Key가 점점 많아진다. 효율적인 관리 전략이 필요하다.</p>
<section id="key-저장소-통일-.ssh-폴더" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="key-저장소-통일-.ssh-폴더"><span class="header-section-number">1.6.1</span> 1. Key 저장소 통일 (.ssh 폴더)</h3>
<div class="sourceCode" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb16-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Windows의 .ssh 폴더 (자동 생성됨)  </span></span>
<span id="cb16-2">C<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>\Users\kmkim\<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span>\  </span>
<span id="cb16-3"></span>
<span id="cb16-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Key 파일들을 모두 여기에 정리  </span></span>
<span id="cb16-5">C<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>\Users\kmkim\<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span>\  </span>
<span id="cb16-6">├── azure-vm-test-agent<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pem</span>      <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure VM용  </span></span>
<span id="cb16-7">├── aws-ec2-dev<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pem</span>               <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># AWS EC2용  </span></span>
<span id="cb16-8">├── github-personal                <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GitHub용 (확장자 없음)  </span></span>
<span id="cb16-9">├── gitlab-work                    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># GitLab용  </span></span>
<span id="cb16-10">├── id_rsa                         <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 key (old format)  </span></span>
<span id="cb16-11">└── id_ed25519                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 최신 key format  </span></span>
<span id="cb16-12">└── id_ed25519                     <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 최신 key format  </span></span></code></pre></div>
</section>
<section id="ssh-config-파일로-host-별칭-관리" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="ssh-config-파일로-host-별칭-관리"><span class="header-section-number">1.6.2</span> 2. SSH Config 파일로 Host 별칭 관리</h3>
<p>SSH config 파일 생성:</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb17-1">notepad C<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>\Users\kmkim\<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span>\config  </span></code></pre></div>
<p>다음 내용 추가:</p>
<pre><code># Azure VM - test-agent  
Host azure-test  
    HostName 20.196.144.16  
    User azureuser  
    IdentityFile C:\Users\kmkim\.ssh\azure-vm-test-agent.pem  
    Port 22  

# AWS EC2 - Development Server  
Host aws-dev  
    HostName ec2-1-2-3-4.compute-1.amazonaws.com  
    User ec2-user  
    IdentityFile C:\Users\kmkim\.ssh\aws-ec2-dev.pem  
    Port 22  

# GitHub  
Host github.com  
    HostName github.com  
    User git  
    IdentityFile C:\Users\kmkim\.ssh\github-personal  

# GitLab  
Host gitlab.com  
    HostName gitlab.com  
    User git  
    IdentityFile C:\Users\kmkim\.ssh\gitlab-work  </code></pre>
</section>
<section id="간단한-접속-명령" class="level3" data-number="1.6.3">
<h3 data-number="1.6.3" class="anchored" data-anchor-id="간단한-접속-명령"><span class="header-section-number">1.6.3</span> 3. 간단한 접속 명령</h3>
<p>SSH config를 설정하면 긴 명령을 단축할 수 있다.</p>
<p><strong>Before (설정 전):</strong></p>
<div class="sourceCode" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> C:<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\U</span>sers<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\k</span>mkim<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\.</span>ssh<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\a</span>zure-vm-test-agent.pem azureuser@20.196.144.16  </span></code></pre></div>
<p><strong>After (설정 후):</strong></p>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> azure-test  </span></code></pre></div>
</section>
<section id="key-권한-설정-windows" class="level3" data-number="1.6.4">
<h3 data-number="1.6.4" class="anchored" data-anchor-id="key-권한-설정-windows"><span class="header-section-number">1.6.4</span> 4. Key 권한 설정 (Windows)</h3>
<p>SSH Key는 신중하게 보관해야 한다.</p>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource powershell number-lines code-with-copy"><code class="sourceCode powershell"><span id="cb21-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># .ssh 폴더 우클릭 → 속성 → 보안 → 고급  </span></span>
<span id="cb21-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 현재 사용자만 읽기/쓰기 권한 허용  </span></span>
<span id="cb21-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 다른 사용자는 접근 차단  </span></span>
<span id="cb21-4"></span>
<span id="cb21-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 또는 PowerShell로:  </span></span>
<span id="cb21-6">icacls <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C:\Users\kmkim\.ssh"</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>inheritance<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>r <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>grant<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>r <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">$env</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">USERNAME</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">`:</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">(F)"</span>  </span></code></pre></div>
</section>
<section id="ssh-key-명명-규칙-권장" class="level3" data-number="1.6.5">
<h3 data-number="1.6.5" class="anchored" data-anchor-id="ssh-key-명명-규칙-권장"><span class="header-section-number">1.6.5</span> 5. SSH Key 명명 규칙 (권장)</h3>
<pre><code>&lt;서비스&gt;-&lt;용도&gt;-&lt;환경&gt;.pem  

예:  
- azure-vm-dev.pem  
- aws-ec2-prod.pem  
- github-personal  
- gitlab-work-deploy  </code></pre>
</section>
</section>
<section id="ssh-key-보안" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="ssh-key-보안"><span class="header-section-number">1.7</span> SSH Key 보안</h2>
<section id="보안-체크리스트" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="보안-체크리스트"><span class="header-section-number">1.7.1</span> 보안 체크리스트</h3>
<p><strong>해야 할 것:</strong><br>
- [ ] <code>.ssh</code> 폴더는 사용자만 접근 가능하도록 권한 설정<br>
- [ ] Private Key는 절대 공유/업로드하지 않기<br>
- [ ] <code>.ssh/config</code> 파일로 중앙 관리<br>
- [ ] 각 Key마다 명확한 목적 주석 추가<br>
- [ ] 정기적으로 사용하지 않는 Key 삭제</p>
<p><strong>하지 말아야 할 것:</strong><br>
- [ ] Private Key를 GitHub에 커밋<br>
- [ ] <code>.gitignore</code>에 <code>*.pem</code> 추가하지 않기<br>
- [ ] 여러 서비스에 같은 Key 재사용 (한 곳 탈취 시 모두 위험)<br>
- [ ] Key 파일을 다운로드 폴더에 방치</p>
</section>
<section id="실무-key-관리" class="level3" data-number="1.7.2">
<h3 data-number="1.7.2" class="anchored" data-anchor-id="실무-key-관리"><span class="header-section-number">1.7.2</span> 실무 Key 관리</h3>
<p><strong>개인 PC:</strong></p>
<pre><code>Private Key (test-agent_key.pem)  
    ↓  
.ssh 폴더에만 저장  
    ↓  
접속 시만 사용  </code></pre>
<p><strong>서버:</strong></p>
<pre><code>Public Key만 저장 (~/.ssh/authorized_keys)  
    ↓  
Private Key는 저장하지 않음  
    ↓  
누군가 서버를 해킹해도 다른 서버에 접속 불가  </code></pre>
</section>
<section id="ssh-key-재생성-기존-key-분실탈취-시" class="level3" data-number="1.7.3">
<h3 data-number="1.7.3" class="anchored" data-anchor-id="ssh-key-재생성-기존-key-분실탈취-시"><span class="header-section-number">1.7.3</span> SSH Key 재생성 (기존 Key 분실/탈취 시)</h3>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. 새로운 Key 생성  </span></span>
<span id="cb25-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh-keygen</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-t</span> ed25519 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-C</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"azure-vm-replacement"</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-f</span> C:<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\U</span>sers<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\k</span>mkim<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\.</span>ssh<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\a</span>zure-vm-new.pem  </span>
<span id="cb25-3"></span>
<span id="cb25-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. Azure Portal에서 기존 public key 삭제  </span></span>
<span id="cb25-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. 새로운 public key 등록  </span></span>
<span id="cb25-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 4. .ssh/config 파일 업데이트  </span></span>
<span id="cb25-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5. 기존 Key 파일 삭제 (또는 백업 폴더로 이동)  </span></span></code></pre></div>
</section>
</section>
<section id="vm-관리" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="vm-관리"><span class="header-section-number">1.8</span> VM 관리</h2>
<section id="vm-중지-및-재시작" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="vm-중지-및-재시작"><span class="header-section-number">1.8.1</span> VM 중지 및 재시작</h3>
<p><strong>VM 중지 (비용 절감)</strong></p>
<div class="sourceCode" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># SSH 연결 종료  </span></span>
<span id="cb26-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">exit</span>  </span>
<span id="cb26-3"></span>
<span id="cb26-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Azure Portal에서:  </span></span>
<span id="cb26-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Virtual Machines → test-agent → Stop 클릭  </span></span></code></pre></div>
<ul>
<li><strong>Stop</strong>: 비용 청구 안 됨, 나중에 재시작 가능<br>
</li>
<li><strong>Delete</strong>: 완전 삭제 (복구 불가)</li>
</ul>
<p><strong>VM 재시작</strong></p>
<div class="sourceCode" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ssh</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-i</span> C:<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\U</span>sers<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\k</span>mkim<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\D</span>ownloads<span class="dt" style="color: #AD0000;
background-color: null;
font-style: inherit;">\t</span>est-agent_key.pem azureuser@20.196.144.16  </span></code></pre></div>
</section>
<section id="중요-개념-정리" class="level3" data-number="1.8.2">
<h3 data-number="1.8.2" class="anchored" data-anchor-id="중요-개념-정리"><span class="header-section-number">1.8.2</span> 중요 개념 정리</h3>
<table class="table">
<thead>
<tr class="header">
<th>개념</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>VM (Virtual Machine)</strong></td>
<td>클라우드에서 실행되는 가상 컴퓨터</td>
</tr>
<tr class="even">
<td><strong>Image</strong></td>
<td>VM의 운영체제 템플릿</td>
</tr>
<tr class="odd">
<td><strong>SSH</strong></td>
<td>원격 서버에 안전하게 접속하는 프로토콜</td>
</tr>
<tr class="even">
<td><strong>Private Key</strong></td>
<td>SSH 접속 인증용 파일 (.pem)</td>
</tr>
<tr class="odd">
<td><strong>Public IP</strong></td>
<td>외부에서 VM에 접속하기 위한 공인 IP 주소</td>
</tr>
</tbody>
</table>


</section>
</section>
</section>

 ]]></description>
  <category>Engineering</category>
  <category>DevOps</category>
  <category>Infrastructure</category>
  <category>Azure</category>
  <category>Cloud</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Engineering/DevOps/0-vm_creation.html</guid>
  <pubDate>Sun, 23 Nov 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Multi-Agent 시스템</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Agent/16-Agent/14-Multi-Agent.html</link>
  <description><![CDATA[ 





<section id="multi-agent-시스템이란" class="level2" data-number="0.1">
<h2 data-number="0.1" class="anchored" data-anchor-id="multi-agent-시스템이란"><span class="header-section-number">0.1</span> Multi-Agent 시스템이란?</h2>
<p>Multi-Agent 시스템은 <strong>각각의 전문성과 역할을 가진 여러 에이전트들이 협력하여 복잡한 문제를 해결하는 아키텍처</strong>이다.</p>
<section id="단일-에이전트의-한계" class="level3" data-number="0.1.1">
<h3 data-number="0.1.1" class="anchored" data-anchor-id="단일-에이전트의-한계"><span class="header-section-number">0.1.1</span> 단일 에이전트의 한계</h3>
<p><strong>ReAct/Plan-and-Execute의 문제점:</strong> - 하나의 모델이 모든 역할 수행 - 도메인 전문성 부족 - 확장성 제한 - 오류 누적</p>
<p><strong>Multi-Agent의 장점:</strong> - <strong>역할 분담</strong>: 각 에이전트가 특화된 역할 수행 - <strong>전문성</strong>: 도메인별 최적화된 모델 사용 - <strong>안정성</strong>: 특정 에이전트 실패 시 다른 에이전트가 보완 - <strong>확장성</strong>: 새로운 역할의 에이전트 추가 용이 - <strong>성능</strong>: 병렬 처리로 전체 실행 시간 단축</p>
</section>
<section id="multi-agent-작동-원리" class="level3" data-number="0.1.2">
<h3 data-number="0.1.2" class="anchored" data-anchor-id="multi-agent-작동-원리"><span class="header-section-number">0.1.2</span> Multi-Agent 작동 원리</h3>
<pre><code>User Request
    ↓
[Coordinator] (요청 분석 및 작업 분배)
    ↓
    ├─→ [Research Agent] (정보 수집)
    ├─→ [Analysis Agent] (데이터 분석)
    ├─→ [Writer Agent] (문서 작성)
    └─→ [Review Agent] (품질 검토)
    ↓
[Aggregator] (결과 통합)
    ↓
Final Output</code></pre>
</section>
<section id="에이전트의-역할-유형" class="level3" data-number="0.1.3">
<h3 data-number="0.1.3" class="anchored" data-anchor-id="에이전트의-역할-유형"><span class="header-section-number">0.1.3</span> 에이전트의 역할 유형</h3>
<p><strong>1. Coordinator Agent</strong> - 사용자 요청 분석 - 작업 분배 - 에이전트 간 통신 관리</p>
<p><strong>2. Specialist Agent</strong> - 특정 도메인 전문 수행 - Research, Analysis, Writing, Code Generation 등</p>
<p><strong>3. Validator Agent</strong> - 결과 검증 - 품질 확인 - 오류 감지 및 수정</p>
<p><strong>4. Aggregator Agent</strong> - 각 에이전트의 결과 통합 - 최종 응답 생성</p>
<div id="1bfe3060" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># API 키를 환경변수로 관리하기 위한 설정 파일</span></span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> dotenv <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> load_dotenv</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># API 키 정보 로드</span></span>
<span id="cb2-5">load_dotenv()</span></code></pre></div>
</details>
</div>
<div id="3535872a" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># LangSmith 추적을 설정한다. https://smith.langchain.com</span></span>
<span id="cb3-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># !pip install -qU langchain-teddynote</span></span>
<span id="cb3-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_teddynote <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> logging</span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 이름을 입력한다.</span></span>
<span id="cb3-6">logging.langsmith(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CH17-Multi-Agent-System"</span>)</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="환경-설정" class="level2" data-number="0.2">
<h2 data-number="0.2" class="anchored" data-anchor-id="환경-설정"><span class="header-section-number">0.2</span> 환경 설정</h2>
<section id="기본-구성-요소" class="level3" data-number="0.2.1">
<h3 data-number="0.2.1" class="anchored" data-anchor-id="기본-구성-요소"><span class="header-section-number">0.2.1</span> 기본 구성 요소</h3>
<p>Multi-Agent 시스템은 다음 요소들로 구성된다:</p>
<ol type="1">
<li><strong>Coordinator</strong>: 요청 라우팅 및 작업 분배</li>
<li><strong>Specialist Agents</strong>: 각 도메인별 전문 에이전트</li>
<li><strong>Communication Layer</strong>: 에이전트 간 메시지 전달</li>
<li><strong>Result Aggregator</strong>: 결과 통합</li>
<li><strong>Memory System</strong>: 에이전트 간 상태 공유</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/docs/blog/posts/Agent/16-Agent/assets/multi_agent_architecture.png" class="img-fluid figure-img"></p>
<figcaption>Multi-Agent 시스템 아키텍처</figcaption>
</figure>
</div>
<div id="687831e4" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_openai <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ChatOpenAI</span>
<span id="cb4-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_teddynote.tools.tavily <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> TavilySearch</span>
<span id="cb4-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_community.agent_toolkits <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> FileManagementToolkit</span>
<span id="cb4-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_core.tools.retriever <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> create_retriever_tool</span>
<span id="cb4-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langgraph.checkpoint.memory <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> MemorySaver</span>
<span id="cb4-6"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> List, Dict, Any</span>
<span id="cb4-7"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> pydantic <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> BaseModel, Field</span>
<span id="cb4-8"></span>
<span id="cb4-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 메모리 설정</span></span>
<span id="cb4-10">memory <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> MemorySaver()</span>
<span id="cb4-11"></span>
<span id="cb4-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 모델들 정의 (각 역할에 따라 다른 모델 사용 가능)</span></span>
<span id="cb4-13">coordinator_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o"</span>, temperature<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb4-14">research_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o-mini"</span>, temperature<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.3</span>)</span>
<span id="cb4-15">analysis_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o"</span>, temperature<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb4-16">writer_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o-mini"</span>, temperature<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.7</span>)</span>
<span id="cb4-17">reviewer_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o"</span>, temperature<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span></code></pre></div>
</details>
</div>
<p><strong>모델 선택 전략:</strong> - <strong>Coordinator</strong>: 강력한 모델 (복잡한 분석 필요) - <strong>Specialist</strong>: 역할에 맞는 모델 (Research는 정확성, Writer는 창의성) - <strong>Reviewer</strong>: 강력한 모델 (품질 평가)</p>
</section>
</section>
<section id="도구-설정" class="level2" data-number="0.3">
<h2 data-number="0.3" class="anchored" data-anchor-id="도구-설정"><span class="header-section-number">0.3</span> 도구 설정</h2>
<section id="웹-검색-도구" class="level3" data-number="0.3.1">
<h3 data-number="0.3.1" class="anchored" data-anchor-id="웹-검색-도구"><span class="header-section-number">0.3.1</span> 웹 검색 도구</h3>
<div id="80978fc5" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1">web_search <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> TavilySearch(</span>
<span id="cb5-2">    topic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"general"</span>,</span>
<span id="cb5-3">    max_results<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,</span>
<span id="cb5-4">    include_answer<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>,</span>
<span id="cb5-5">)</span>
<span id="cb5-6"></span>
<span id="cb5-7">web_search.name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"web_search"</span></span>
<span id="cb5-8">web_search.description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"웹에서 최신 정보를 검색합니다."</span></span></code></pre></div>
</details>
</div>
</section>
<section id="파일-관리-도구" class="level3" data-number="0.3.2">
<h3 data-number="0.3.2" class="anchored" data-anchor-id="파일-관리-도구"><span class="header-section-number">0.3.2</span> 파일 관리 도구</h3>
<div id="34a31371" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1">working_directory <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tmp"</span></span>
<span id="cb6-2">file_tools <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> FileManagementToolkit(</span>
<span id="cb6-3">    root_dir<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>(working_directory),</span>
<span id="cb6-4">).get_tools()</span>
<span id="cb6-5"></span>
<span id="cb6-6"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> tool <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> file_tools:</span>
<span id="cb6-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> tool.name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"file_write"</span>:</span>
<span id="cb6-8">        tool.description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"파일을 작성합니다."</span></span>
<span id="cb6-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> tool.name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"file_read"</span>:</span>
<span id="cb6-10">        tool.description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"파일을 읽습니다."</span></span>
<span id="cb6-11">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> tool.name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"list_directory"</span>:</span>
<span id="cb6-12">        tool.description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"디렉토리를 나열합니다."</span></span></code></pre></div>
</details>
</div>
</section>
<section id="pdf-검색-도구" class="level3" data-number="0.3.3">
<h3 data-number="0.3.3" class="anchored" data-anchor-id="pdf-검색-도구"><span class="header-section-number">0.3.3</span> PDF 검색 도구</h3>
<div id="00031b1f" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain.text_splitter <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> RecursiveCharacterTextSplitter</span>
<span id="cb7-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_community.vectorstores <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> FAISS</span>
<span id="cb7-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_openai <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> OpenAIEmbeddings</span>
<span id="cb7-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain.document_loaders <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> PDFPlumberLoader</span>
<span id="cb7-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_core.prompts <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> PromptTemplate</span>
<span id="cb7-6"></span>
<span id="cb7-7">loader <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> PDFPlumberLoader(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/sample_document.pdf"</span>)</span>
<span id="cb7-8">text_splitter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> RecursiveCharacterTextSplitter(chunk_size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>, chunk_overlap<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>)</span>
<span id="cb7-9">split_docs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> loader.load_and_split(text_splitter)</span>
<span id="cb7-10">vector <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> FAISS.from_documents(split_docs, OpenAIEmbeddings())</span>
<span id="cb7-11">pdf_retriever <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> vector.as_retriever()</span>
<span id="cb7-12"></span>
<span id="cb7-13">retriever_tool <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> create_retriever_tool(</span>
<span id="cb7-14">    pdf_retriever,</span>
<span id="cb7-15">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pdf_retriever"</span>,</span>
<span id="cb7-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"내부 문서에서 정보를 검색합니다."</span>,</span>
<span id="cb7-17">    document_prompt<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>PromptTemplate.from_template(</span>
<span id="cb7-18">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;document&gt;&lt;context&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{page_content}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/context&gt;&lt;metadata&gt;&lt;source&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{source}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/source&gt;&lt;page&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{page}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/page&gt;&lt;/metadata&gt;&lt;/document&gt;"</span></span>
<span id="cb7-19">    ),</span>
<span id="cb7-20">)</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="에이전트-정의" class="level2" data-number="0.4">
<h2 data-number="0.4" class="anchored" data-anchor-id="에이전트-정의"><span class="header-section-number">0.4</span> 에이전트 정의</h2>
<section id="에이전트-기본-구조" class="level3" data-number="0.4.1">
<h3 data-number="0.4.1" class="anchored" data-anchor-id="에이전트-기본-구조"><span class="header-section-number">0.4.1</span> 에이전트 기본 구조</h3>
<div id="7902452e" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> enum <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Enum</span>
<span id="cb8-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Optional</span>
<span id="cb8-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> datetime <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> datetime</span>
<span id="cb8-4"></span>
<span id="cb8-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> AgentRole(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, Enum):</span>
<span id="cb8-6">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""에이전트 역할 정의"""</span></span>
<span id="cb8-7">    COORDINATOR <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"coordinator"</span></span>
<span id="cb8-8">    RESEARCHER <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span></span>
<span id="cb8-9">    ANALYST <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst"</span></span>
<span id="cb8-10">    WRITER <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"writer"</span></span>
<span id="cb8-11">    REVIEWER <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"reviewer"</span></span>
<span id="cb8-12">    AGGREGATOR <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aggregator"</span></span>
<span id="cb8-13"></span>
<span id="cb8-14"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> Agent(BaseModel):</span>
<span id="cb8-15">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""에이전트 정의"""</span></span>
<span id="cb8-16">    name: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"에이전트 이름"</span>)</span>
<span id="cb8-17">    role: AgentRole <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"에이전트 역할"</span>)</span>
<span id="cb8-18">    model: Any <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LLM 모델"</span>)</span>
<span id="cb8-19">    tools: List[Any] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default_factory<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>, description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"사용 가능한 도구"</span>)</span>
<span id="cb8-20">    system_prompt: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"시스템 프롬프트"</span>)</span>
<span id="cb8-21">    </span>
<span id="cb8-22">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> Config:</span>
<span id="cb8-23">        arbitrary_types_allowed <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span>
<span id="cb8-24"></span>
<span id="cb8-25"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> AgentMessage(BaseModel):</span>
<span id="cb8-26">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""에이전트 메시지"""</span></span>
<span id="cb8-27">    agent_name: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"발신 에이전트"</span>)</span>
<span id="cb8-28">    timestamp: datetime <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default_factory<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>datetime.now)</span>
<span id="cb8-29">    content: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"메시지 내용"</span>)</span>
<span id="cb8-30">    metadata: Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, Any] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default_factory<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">dict</span>)</span>
<span id="cb8-31"></span>
<span id="cb8-32"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> MultiAgentState(BaseModel):</span>
<span id="cb8-33">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""멀티 에이전트 시스템 상태"""</span></span>
<span id="cb8-34">    user_input: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"사용자 입력"</span>)</span>
<span id="cb8-35">    coordinator_plan: Optional[Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, Any]] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"코디네이터 계획"</span>)</span>
<span id="cb8-36">    agent_results: Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default_factory<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">dict</span>, description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"각 에이전트 결과"</span>)</span>
<span id="cb8-37">    messages: List[AgentMessage] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default_factory<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>, description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"에이전트 간 메시지"</span>)</span>
<span id="cb8-38">    final_output: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"최종 출력"</span>)</span>
<span id="cb8-39">    </span>
<span id="cb8-40">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> add_message(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, agent_name: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, content: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, metadata: Dict <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>):</span>
<span id="cb8-41">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""메시지 추가"""</span></span>
<span id="cb8-42">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.messages.append(</span>
<span id="cb8-43">            AgentMessage(</span>
<span id="cb8-44">                agent_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>agent_name,</span>
<span id="cb8-45">                content<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>content,</span>
<span id="cb8-46">                metadata<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>metadata <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">or</span> {}</span>
<span id="cb8-47">            )</span>
<span id="cb8-48">        )</span></code></pre></div>
</details>
</div>
</section>
<section id="coordinator-agent" class="level3" data-number="0.4.2">
<h3 data-number="0.4.2" class="anchored" data-anchor-id="coordinator-agent"><span class="header-section-number">0.4.2</span> Coordinator Agent</h3>
<p>사용자 요청을 분석하고 작업을 분배한다.</p>
<div id="2197e6fd" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_core.prompts <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ChatPromptTemplate</span>
<span id="cb9-2"></span>
<span id="cb9-3">coordinator_prompt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatPromptTemplate.from_messages([</span>
<span id="cb9-4">    (</span>
<span id="cb9-5">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"system"</span>,</span>
<span id="cb9-6">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""당신은 조직의 최고 코디네이터(Coordinator)입니다.</span></span>
<span id="cb9-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        </span></span>
<span id="cb9-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">사용자의 요청을 분석하여 어떤 에이전트들이 필요한지, 각 에이전트의 역할이 무엇인지를 결정합니다.</span></span>
<span id="cb9-9"></span>
<span id="cb9-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">사용 가능한 에이전트:</span></span>
<span id="cb9-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- researcher: 웹 검색을 통한 정보 수집</span></span>
<span id="cb9-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- analyst: 수집된 정보의 분석 및 인사이트 도출</span></span>
<span id="cb9-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- writer: 분석 결과를 바탕으로 문서 작성</span></span>
<span id="cb9-14"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- reviewer: 최종 결과물의 품질 검증</span></span>
<span id="cb9-15"></span>
<span id="cb9-16"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">다음 JSON 형식으로 응답하세요:</span></span>
<span id="cb9-17"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">```json</span></span>
<span id="cb9-18"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{{</span></span>
<span id="cb9-19"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    "required_agents": ["researcher", "analyst", "writer"],</span></span>
<span id="cb9-20"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    "task_flow": [</span></span>
<span id="cb9-21"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{{</span></span>
<span id="cb9-22"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "agent": "researcher",</span></span>
<span id="cb9-23"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "task": "구체적인 작업 설명",</span></span>
<span id="cb9-24"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "dependencies": []</span></span>
<span id="cb9-25"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">,</span></span>
<span id="cb9-26"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{{</span></span>
<span id="cb9-27"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "agent": "analyst",</span></span>
<span id="cb9-28"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "task": "구체적인 작업 설명",</span></span>
<span id="cb9-29"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "dependencies": ["researcher"]</span></span>
<span id="cb9-30"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}}</span></span>
<span id="cb9-31"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    ],</span></span>
<span id="cb9-32"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    "success_criteria": "성공 기준 설명"</span></span>
<span id="cb9-33"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}}</span></span>
<span id="cb9-34"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">```"""</span>,</span>
<span id="cb9-35">    ),</span>
<span id="cb9-36">    (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"human"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"사용자 요청: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{input}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>),</span>
<span id="cb9-37">])</span>
<span id="cb9-38"></span>
<span id="cb9-39"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> coordinator_step(state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, Any]:</span>
<span id="cb9-40">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""코디네이터 실행"""</span></span>
<span id="cb9-41">    <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> json</span>
<span id="cb9-42">    </span>
<span id="cb9-43">    response <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> coordinator_model.invoke(</span>
<span id="cb9-44">        coordinator_prompt.format_prompt(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">input</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>state.user_input)</span>
<span id="cb9-45">    )</span>
<span id="cb9-46">    </span>
<span id="cb9-47">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># JSON 파싱</span></span>
<span id="cb9-48">    plan <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> json.loads(response.content)</span>
<span id="cb9-49">    state.add_message(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"coordinator"</span>, <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"계획 수립 완료: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(plan[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'required_agents'</span>])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">개 에이전트 필요"</span>)</span>
<span id="cb9-50">    </span>
<span id="cb9-51">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"coordinator_plan"</span>: plan}</span></code></pre></div>
</details>
</div>
</section>
<section id="researcher-agent" class="level3" data-number="0.4.3">
<h3 data-number="0.4.3" class="anchored" data-anchor-id="researcher-agent"><span class="header-section-number">0.4.3</span> Researcher Agent</h3>
<p>웹 검색을 통해 정보를 수집한다.</p>
<div id="5cbd2ec3" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1">researcher_prompt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatPromptTemplate.from_messages([</span>
<span id="cb10-2">    (</span>
<span id="cb10-3">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"system"</span>,</span>
<span id="cb10-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""당신은 데이터 조사 전문가(Research Agent)입니다.</span></span>
<span id="cb10-5"></span>
<span id="cb10-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">주어진 주제에 대해 웹 검색을 통해 신뢰할 수 있는 최신 정보를 수집합니다.</span></span>
<span id="cb10-7"></span>
<span id="cb10-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">다음을 고려하세요:</span></span>
<span id="cb10-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. 다양한 소스에서 정보 수집</span></span>
<span id="cb10-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. 정보의 신뢰도 평가</span></span>
<span id="cb10-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. 중요한 데이터와 통계 포함</span></span>
<span id="cb10-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. 출처 명시</span></span>
<span id="cb10-13"></span>
<span id="cb10-14"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">최종 결과는 다음 형식으로 제공하세요:</span></span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="조사-결과" class="level2" data-number="0.5">
<h2 data-number="0.5" class="anchored" data-anchor-id="조사-결과"><span class="header-section-number">0.5</span> 조사 결과</h2>
<section id="핵심-발견사항" class="level3" data-number="0.5.1">
<h3 data-number="0.5.1" class="anchored" data-anchor-id="핵심-발견사항"><span class="header-section-number">0.5.1</span> 핵심 발견사항</h3>
<ul>
<li>발견사항 1</li>
<li>발견사항 2</li>
</ul>
</section>
<section id="참고-자료" class="level3" data-number="0.5.2">
<h3 data-number="0.5.2" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">0.5.2</span> 참고 자료</h3>
<ul>
<li><a href="URL">출처1</a></li>
<li><a href="URL">출처2</a></li>
</ul>
<pre><code>""",
    ),
    ("human", "조사 주제: {topic}"),
])

from langgraph.prebuilt import create_react_agent

researcher_agent = create_react_agent(
    research_model,
    [web_search],
)

def researcher_step(state: MultiAgentState, topic: str) -&gt; str:
    """리서처 에이전트 실행"""
    result = researcher_agent.invoke(
        {"messages": [("human", researcher_prompt.format_prompt(topic=topic).to_string())]},
        {"configurable": {"thread_id": "researcher"}}
    )
    
    content = result["messages"][-1].content
    state.add_message("researcher", content)
    
    return content</code></pre>
</section>
<section id="analyst-agent" class="level3" data-number="0.5.3">
<h3 data-number="0.5.3" class="anchored" data-anchor-id="analyst-agent"><span class="header-section-number">0.5.3</span> Analyst Agent</h3>
<p>수집된 정보를 분석한다.</p>
<div id="796d8dba" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1">analyst_prompt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatPromptTemplate.from_messages([</span>
<span id="cb12-2">    (</span>
<span id="cb12-3">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"system"</span>,</span>
<span id="cb12-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""당신은 데이터 분석 전문가(Analysis Agent)입니다.</span></span>
<span id="cb12-5"></span>
<span id="cb12-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">리서처가 수집한 정보를 깊이 있게 분석합니다.</span></span>
<span id="cb12-7"></span>
<span id="cb12-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">분석 항목:</span></span>
<span id="cb12-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. **주요 트렌드**: 현재의 주요 변화</span></span>
<span id="cb12-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. **기회 요소**: 활용 가능한 기회</span></span>
<span id="cb12-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. **위험 요소**: 주의해야 할 위험</span></span>
<span id="cb12-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. **미래 전망**: 향후 발전 방향</span></span>
<span id="cb12-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">5. **통계 분석**: 수집된 데이터의 정량적 분석</span></span>
<span id="cb12-14"></span>
<span id="cb12-15"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">최종 분석은 다음 형식으로 제공하세요:</span></span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="분석-결과" class="level2" data-number="0.6">
<h2 data-number="0.6" class="anchored" data-anchor-id="분석-결과"><span class="header-section-number">0.6</span> 분석 결과</h2>
<section id="swot-분석" class="level3" data-number="0.6.1">
<h3 data-number="0.6.1" class="anchored" data-anchor-id="swot-분석"><span class="header-section-number">0.6.1</span> SWOT 분석</h3>
<section id="강점strengths" class="level4" data-number="0.6.1.1">
<h4 data-number="0.6.1.1" class="anchored" data-anchor-id="강점strengths"><span class="header-section-number">0.6.1.1</span> 강점(Strengths)</h4>
<ul>
<li>강점1</li>
<li>강점2</li>
</ul>
</section>
<section id="약점weaknesses" class="level4" data-number="0.6.1.2">
<h4 data-number="0.6.1.2" class="anchored" data-anchor-id="약점weaknesses"><span class="header-section-number">0.6.1.2</span> 약점(Weaknesses)</h4>
<ul>
<li>약점1</li>
</ul>
</section>
<section id="기회opportunities" class="level4" data-number="0.6.1.3">
<h4 data-number="0.6.1.3" class="anchored" data-anchor-id="기회opportunities"><span class="header-section-number">0.6.1.3</span> 기회(Opportunities)</h4>
<ul>
<li>기회1</li>
</ul>
</section>
<section id="위협threats" class="level4" data-number="0.6.1.4">
<h4 data-number="0.6.1.4" class="anchored" data-anchor-id="위협threats"><span class="header-section-number">0.6.1.4</span> 위협(Threats)</h4>
<ul>
<li>위협1</li>
</ul>
</section>
</section>
<section id="인사이트" class="level3" data-number="0.6.2">
<h3 data-number="0.6.2" class="anchored" data-anchor-id="인사이트"><span class="header-section-number">0.6.2</span> 인사이트</h3>
<ul>
<li>인사이트1</li>
<li>인사이트2</li>
</ul>
<div class="sourceCode" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource &quot;&quot;&quot;, number-lines code-with-copy"><code class="sourceCode"><span id="cb13-1">    ),</span>
<span id="cb13-2">    ("human", "분석 대상:\n{research_data}"),</span>
<span id="cb13-3">])</span>
<span id="cb13-4"></span>
<span id="cb13-5">analyst_agent = create_react_agent(</span>
<span id="cb13-6">    analysis_model,</span>
<span id="cb13-7">    [pdf_retriever],</span>
<span id="cb13-8">)</span>
<span id="cb13-9"></span>
<span id="cb13-10">def analyst_step(state: MultiAgentState, research_data: str) -&gt; str:</span>
<span id="cb13-11">    """분석가 에이전트 실행"""</span>
<span id="cb13-12">    result = analyst_agent.invoke(</span>
<span id="cb13-13">        {"messages": [("human", analyst_prompt.format_prompt(research_data=research_data).to_string())]},</span>
<span id="cb13-14">        {"configurable": {"thread_id": "analyst"}}</span>
<span id="cb13-15">    )</span>
<span id="cb13-16">    </span>
<span id="cb13-17">    content = result["messages"][-1].content</span>
<span id="cb13-18">    state.add_message("analyst", content)</span>
<span id="cb13-19">    </span>
<span id="cb13-20">    return content</span></code></pre></div>
</section>
<section id="writer-agent" class="level3" data-number="0.6.3">
<h3 data-number="0.6.3" class="anchored" data-anchor-id="writer-agent"><span class="header-section-number">0.6.3</span> Writer Agent</h3>
<p>분석 결과를 문서로 작성한다.</p>
<div id="3987a3a5" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1">writer_prompt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatPromptTemplate.from_messages([</span>
<span id="cb14-2">    (</span>
<span id="cb14-3">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"system"</span>,</span>
<span id="cb14-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""당신은 전문 작가(Writer Agent)입니다.</span></span>
<span id="cb14-5"></span>
<span id="cb14-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">분석된 정보를 바탕으로 높은 품질의 보고서를 작성합니다.</span></span>
<span id="cb14-7"></span>
<span id="cb14-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">작성 지침:</span></span>
<span id="cb14-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. **명확성**: 쉽고 명확한 표현</span></span>
<span id="cb14-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. **구조화**: 논리적인 흐름</span></span>
<span id="cb14-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. **시각화**: 테이블, 리스트 활용</span></span>
<span id="cb14-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. **설득력**: 데이터 기반의 주장</span></span>
<span id="cb14-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">5. **전문성**: 산업 용어 적절한 사용</span></span>
<span id="cb14-14"></span>
<span id="cb14-15"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">최종 보고서는 다음 구조를 따르세요:</span></span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="제목" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> [제목]</h1>
<section id="개요" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="개요"><span class="header-section-number">1.1</span> 개요</h2>
<p>[간단한 요약]</p>
</section>
<section id="주요-내용" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="주요-내용"><span class="header-section-number">1.2</span> 주요 내용</h2>
<p>[상세한 내용]</p>
</section>
<section id="결론" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="결론"><span class="header-section-number">1.3</span> 결론</h2>
<p>[핵심 결론 및 권장사항]</p>
<div class="sourceCode" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource &quot;&quot;&quot;, number-lines code-with-copy"><code class="sourceCode"><span id="cb15-1">    ),</span>
<span id="cb15-2">    ("human", "작성 자료:\n{analysis_data}"),</span>
<span id="cb15-3">])</span>
<span id="cb15-4"></span>
<span id="cb15-5">writer_agent = create_react_agent(</span>
<span id="cb15-6">    writer_model,</span>
<span id="cb15-7">    [*file_tools],</span>
<span id="cb15-8">)</span>
<span id="cb15-9"></span>
<span id="cb15-10">def writer_step(state: MultiAgentState, analysis_data: str) -&gt; str:</span>
<span id="cb15-11">    """작가 에이전트 실행"""</span>
<span id="cb15-12">    result = writer_agent.invoke(</span>
<span id="cb15-13">        {"messages": [("human", writer_prompt.format_prompt(analysis_data=analysis_data).to_string())]},</span>
<span id="cb15-14">        {"configurable": {"thread_id": "writer"}}</span>
<span id="cb15-15">    )</span>
<span id="cb15-16">    </span>
<span id="cb15-17">    content = result["messages"][-1].content</span>
<span id="cb15-18">    state.add_message("writer", content)</span>
<span id="cb15-19">    </span>
<span id="cb15-20">    return content</span></code></pre></div>
<section id="reviewer-agent" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="reviewer-agent"><span class="header-section-number">1.3.1</span> Reviewer Agent</h3>
<p>최종 결과를 검증한다.</p>
<div id="1d97fb9c" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1">reviewer_prompt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatPromptTemplate.from_messages([</span>
<span id="cb16-2">    (</span>
<span id="cb16-3">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"system"</span>,</span>
<span id="cb16-4">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""당신은 품질 검토 전문가(Review Agent)입니다.</span></span>
<span id="cb16-5"></span>
<span id="cb16-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">최종 결과물의 품질을 검증합니다.</span></span>
<span id="cb16-7"></span>
<span id="cb16-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">검증 항목:</span></span>
<span id="cb16-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. **정확성**: 사실에 기반했는가</span></span>
<span id="cb16-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. **완성도**: 모든 필요한 요소를 포함했는가</span></span>
<span id="cb16-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. **일관성**: 논리적 오류는 없는가</span></span>
<span id="cb16-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. **가독성**: 읽기 쉬운가</span></span>
<span id="cb16-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">5. **전문성**: 전문적인 수준인가</span></span>
<span id="cb16-14"></span>
<span id="cb16-15"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">평가 결과를 다음 형식으로 제공하세요:</span></span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="검토-결과" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="검토-결과"><span class="header-section-number">1.4</span> 검토 결과</h2>
<section id="종합-평가-passrevisereject" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="종합-평가-passrevisereject"><span class="header-section-number">1.4.1</span> 종합 평가: [Pass/Revise/Reject]</h3>
</section>
<section id="강점" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="강점"><span class="header-section-number">1.4.2</span> 강점</h3>
<ul>
<li>강점1</li>
<li>강점2</li>
</ul>
</section>
<section id="개선-필요-항목" class="level3" data-number="1.4.3">
<h3 data-number="1.4.3" class="anchored" data-anchor-id="개선-필요-항목"><span class="header-section-number">1.4.3</span> 개선 필요 항목</h3>
<ul>
<li>개선 사항1</li>
<li>개선 사항2</li>
</ul>
</section>
<section id="최종-의견" class="level3" data-number="1.4.4">
<h3 data-number="1.4.4" class="anchored" data-anchor-id="최종-의견"><span class="header-section-number">1.4.4</span> 최종 의견</h3>
<p>[종합 의견]</p>
<div class="sourceCode" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource &quot;&quot;&quot;, number-lines code-with-copy"><code class="sourceCode"><span id="cb17-1">    ),</span>
<span id="cb17-2">    ("human", "검토 대상:\n{document}"),</span>
<span id="cb17-3">])</span>
<span id="cb17-4"></span>
<span id="cb17-5">reviewer_agent = create_react_agent(</span>
<span id="cb17-6">    reviewer_model,</span>
<span id="cb17-7">    [pdf_retriever],</span>
<span id="cb17-8">)</span>
<span id="cb17-9"></span>
<span id="cb17-10">def reviewer_step(state: MultiAgentState, document: str) -&gt; str:</span>
<span id="cb17-11">    """검토자 에이전트 실행"""</span>
<span id="cb17-12">    result = reviewer_agent.invoke(</span>
<span id="cb17-13">        {"messages": [("human", reviewer_prompt.format_prompt(document=document).to_string())]},</span>
<span id="cb17-14">        {"configurable": {"thread_id": "reviewer"}}</span>
<span id="cb17-15">    )</span>
<span id="cb17-16">    </span>
<span id="cb17-17">    content = result["messages"][-1].content</span>
<span id="cb17-18">    state.add_message("reviewer", content)</span>
<span id="cb17-19">    </span>
<span id="cb17-20">    return content</span></code></pre></div>
</section>
</section>
<section id="multi-agent-시스템-그래프-구축" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="multi-agent-시스템-그래프-구축"><span class="header-section-number">1.5</span> Multi-Agent 시스템 그래프 구축</h2>
<section id="상태-관리-및-실행-흐름" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1" class="anchored" data-anchor-id="상태-관리-및-실행-흐름"><span class="header-section-number">1.5.1</span> 상태 관리 및 실행 흐름</h3>
<div id="98ffa18c" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langgraph.graph <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> StateGraph, START, END</span>
<span id="cb18-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langgraph.graph.message <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> add_messages</span>
<span id="cb18-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Annotated</span>
<span id="cb18-4"></span>
<span id="cb18-5"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> MultiAgentGraph:</span>
<span id="cb18-6">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""멀티 에이전트 시스템 그래프"""</span></span>
<span id="cb18-7">    </span>
<span id="cb18-8">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__init__</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>):</span>
<span id="cb18-9">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.state <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span></span>
<span id="cb18-10">        </span>
<span id="cb18-11">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> coordinator_node(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, Any]:</span>
<span id="cb18-12">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""코디네이터 노드"""</span></span>
<span id="cb18-13">        plan <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> coordinator_step(state)</span>
<span id="cb18-14">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"coordinator_plan"</span>: plan}</span>
<span id="cb18-15">    </span>
<span id="cb18-16">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> researcher_node(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]:</span>
<span id="cb18-17">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""리서처 노드"""</span></span>
<span id="cb18-18">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">not</span> state.coordinator_plan <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">or</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">not</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> state.coordinator_plan.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"required_agents"</span>, []):</span>
<span id="cb18-19">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_results"</span>: state.agent_results}</span>
<span id="cb18-20">        </span>
<span id="cb18-21">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 리서처 태스크 찾기</span></span>
<span id="cb18-22">        task <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">next</span>(</span>
<span id="cb18-23">            (t <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> t <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> state.coordinator_plan[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"task_flow"</span>] <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> t[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent"</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span>),</span>
<span id="cb18-24">            <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span></span>
<span id="cb18-25">        )</span>
<span id="cb18-26">        </span>
<span id="cb18-27">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> task:</span>
<span id="cb18-28">            result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> researcher_step(state, task[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"task"</span>])</span>
<span id="cb18-29">            state.agent_results[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> result</span>
<span id="cb18-30">        </span>
<span id="cb18-31">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_results"</span>: state.agent_results}</span>
<span id="cb18-32">    </span>
<span id="cb18-33">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> analyst_node(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]:</span>
<span id="cb18-34">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""분석가 노드"""</span></span>
<span id="cb18-35">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">not</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> state.agent_results:</span>
<span id="cb18-36">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_results"</span>: state.agent_results}</span>
<span id="cb18-37">        </span>
<span id="cb18-38">        result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> analyst_step(state, state.agent_results[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span>])</span>
<span id="cb18-39">        state.agent_results[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst"</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> result</span>
<span id="cb18-40">        </span>
<span id="cb18-41">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_results"</span>: state.agent_results}</span>
<span id="cb18-42">    </span>
<span id="cb18-43">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> writer_node(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]:</span>
<span id="cb18-44">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""작가 노드"""</span></span>
<span id="cb18-45">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">not</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> state.agent_results:</span>
<span id="cb18-46">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_results"</span>: state.agent_results}</span>
<span id="cb18-47">        </span>
<span id="cb18-48">        result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> writer_step(state, state.agent_results[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst"</span>])</span>
<span id="cb18-49">        state.agent_results[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"writer"</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> result</span>
<span id="cb18-50">        </span>
<span id="cb18-51">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_results"</span>: state.agent_results}</span>
<span id="cb18-52">    </span>
<span id="cb18-53">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> reviewer_node(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]:</span>
<span id="cb18-54">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""검토자 노드"""</span></span>
<span id="cb18-55">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"writer"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">not</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> state.agent_results:</span>
<span id="cb18-56">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_results"</span>: state.agent_results}</span>
<span id="cb18-57">        </span>
<span id="cb18-58">        result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> reviewer_step(state, state.agent_results[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"writer"</span>])</span>
<span id="cb18-59">        state.agent_results[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"reviewer"</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> result</span>
<span id="cb18-60">        </span>
<span id="cb18-61">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"agent_results"</span>: state.agent_results}</span>
<span id="cb18-62">    </span>
<span id="cb18-63">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> aggregator_node(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]:</span>
<span id="cb18-64">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""집계 노드"""</span></span>
<span id="cb18-65">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 최종 결과 통합</span></span>
<span id="cb18-66">        final_output <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"""</span></span>
<span id="cb18-67"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"># 최종 보고서</span></span>
<span id="cb18-68"></span>
<span id="cb18-69"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">## 프로세스 요약</span></span>
<span id="cb18-70"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- **조직**: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(state.messages)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">개의 에이전트 협력</span></span>
<span id="cb18-71"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">- **단계**: Coordinator → Researcher → Analyst → Writer → Reviewer</span></span>
<span id="cb18-72"></span>
<span id="cb18-73"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">## 최종 결과</span></span>
<span id="cb18-74"></span>
<span id="cb18-75"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>state<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>agent_results<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'writer'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'결과 없음'</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb18-76"></span>
<span id="cb18-77"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">## 검토 의견</span></span>
<span id="cb18-78"></span>
<span id="cb18-79"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>state<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>agent_results<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'reviewer'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'검토 없음'</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb18-80"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb18-81">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"final_output"</span>: final_output}</span>
<span id="cb18-82">    </span>
<span id="cb18-83">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> build_graph(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>):</span>
<span id="cb18-84">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""그래프 구성"""</span></span>
<span id="cb18-85">        workflow <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> StateGraph(MultiAgentState)</span>
<span id="cb18-86">        </span>
<span id="cb18-87">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 노드 추가</span></span>
<span id="cb18-88">        workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"coordinator"</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.coordinator_node)</span>
<span id="cb18-89">        workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.researcher_node)</span>
<span id="cb18-90">        workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst"</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.analyst_node)</span>
<span id="cb18-91">        workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"writer"</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.writer_node)</span>
<span id="cb18-92">        workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"reviewer"</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.reviewer_node)</span>
<span id="cb18-93">        workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aggregator"</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.aggregator_node)</span>
<span id="cb18-94">        </span>
<span id="cb18-95">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 엣지 구성</span></span>
<span id="cb18-96">        workflow.add_edge(START, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"coordinator"</span>)</span>
<span id="cb18-97">        workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"coordinator"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span>)</span>
<span id="cb18-98">        workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst"</span>)</span>
<span id="cb18-99">        workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"writer"</span>)</span>
<span id="cb18-100">        workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"writer"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"reviewer"</span>)</span>
<span id="cb18-101">        workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"reviewer"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aggregator"</span>)</span>
<span id="cb18-102">        workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"aggregator"</span>, END)</span>
<span id="cb18-103">        </span>
<span id="cb18-104">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> workflow.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">compile</span>(checkpointer<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>memory)</span>
<span id="cb18-105"></span>
<span id="cb18-106"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 그래프 생성</span></span>
<span id="cb18-107">multi_agent_graph <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> MultiAgentGraph()</span>
<span id="cb18-108">multi_agent_system <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> multi_agent_graph.build_graph()</span></code></pre></div>
</details>
</div>
<p><strong>그래프 구조:</strong></p>
<pre><code>START
  ↓
[Coordinator] - 작업 계획
  ↓
[Researcher] - 정보 수집
  ↓
[Analyst] - 데이터 분석
  ↓
[Writer] - 문서 작성
  ↓
[Reviewer] - 품질 검증
  ↓
[Aggregator] - 결과 통합
  ↓
END</code></pre>
</section>
</section>
<section id="실행-및-사용-예시" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="실행-및-사용-예시"><span class="header-section-number">1.6</span> 실행 및 사용 예시</h2>
<section id="실행-함수" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1" class="anchored" data-anchor-id="실행-함수"><span class="header-section-number">1.6.1</span> 실행 함수</h3>
<div id="fce659af" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> run_multi_agent_system(user_input: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, thread_id: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"main"</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb20-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""멀티 에이전트 시스템 실행"""</span></span>
<span id="cb20-3">    <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_teddynote.messages <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> stream_graph</span>
<span id="cb20-4">    </span>
<span id="cb20-5">    config <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"configurable"</span>: {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"thread_id"</span>: thread_id}}</span>
<span id="cb20-6">    inputs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"user_input"</span>: user_input}</span>
<span id="cb20-7">    </span>
<span id="cb20-8">    result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> multi_agent_system.invoke(inputs, config)</span>
<span id="cb20-9">    </span>
<span id="cb20-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> result[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"final_output"</span>]</span></code></pre></div>
</details>
</div>
</section>
<section id="예시-1-기술-트렌드-분석-보고서" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2" class="anchored" data-anchor-id="예시-1-기술-트렌드-분석-보고서"><span class="header-section-number">1.6.2</span> 예시 1: 기술 트렌드 분석 보고서</h3>
<div id="264b4608" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1">user_input <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb21-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2024년 AI 기술 트렌드에 대한 전문 보고서를 작성해주세요.</span></span>
<span id="cb21-3"></span>
<span id="cb21-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">보고서는 다음을 포함해야 합니다:</span></span>
<span id="cb21-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. 현재의 주요 AI 기술 트렌드</span></span>
<span id="cb21-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. 각 기술의 시장 영향도 분석</span></span>
<span id="cb21-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. 기업에 미치는 영향</span></span>
<span id="cb21-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. 향후 6개월 전망</span></span>
<span id="cb21-9"></span>
<span id="cb21-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">최종 보고서는 마크다운 형식으로, </span></span>
<span id="cb21-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">표, 핵심 포인트 정리 등을 포함해주세요.</span></span>
<span id="cb21-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb21-13"></span>
<span id="cb21-14">output <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> run_multi_agent_system(user_input)</span>
<span id="cb21-15"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(output)</span></code></pre></div>
</details>
</div>
<p><strong>실행 흐름:</strong> 1. <strong>Coordinator</strong>: “AI 트렌드 분석 보고서” 계획 수립 2. <strong>Researcher</strong>: 최신 AI 기술 트렌드 웹 검색 3. <strong>Analyst</strong>: 수집된 정보 분석 및 SWOT 분석 4. <strong>Writer</strong>: 전문 보고서 작성 5. <strong>Reviewer</strong>: 최종 품질 검증 6. <strong>Aggregator</strong>: 최종 보고서 생성</p>
</section>
<section id="예시-2-경쟁사-분석-및-전략-수립" class="level3" data-number="1.6.3">
<h3 data-number="1.6.3" class="anchored" data-anchor-id="예시-2-경쟁사-분석-및-전략-수립"><span class="header-section-number">1.6.3</span> 예시 2: 경쟁사 분석 및 전략 수립</h3>
<div id="3e62d558" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1">user_input <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb22-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">우리 회사의 주요 경쟁사 3곳에 대한 심층 분석 보고서와 </span></span>
<span id="cb22-3"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">대응 전략을 수립해주세요.</span></span>
<span id="cb22-4"></span>
<span id="cb22-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">분석 범위:</span></span>
<span id="cb22-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. 경쟁사별 시장 점유율 및 최신 동향</span></span>
<span id="cb22-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. 제품/서비스 비교 분석</span></span>
<span id="cb22-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. 강점 및 약점 평가</span></span>
<span id="cb22-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. 우리 회사의 차별화 전략</span></span>
<span id="cb22-10"></span>
<span id="cb22-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">최종 결과물:</span></span>
<span id="cb22-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- 경쟁사 분석 보고서 (competitor_analysis.md)</span></span>
<span id="cb22-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- 대응 전략 가이드 (strategy_guide.md)</span></span>
<span id="cb22-14"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb22-15"></span>
<span id="cb22-16">output <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> run_multi_agent_system(user_input)</span>
<span id="cb22-17"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(output)</span></code></pre></div>
</details>
</div>
</section>
<section id="예시-3-시장-진출-타당성-검토" class="level3" data-number="1.6.4">
<h3 data-number="1.6.4" class="anchored" data-anchor-id="예시-3-시장-진출-타당성-검토"><span class="header-section-number">1.6.4</span> 예시 3: 시장 진출 타당성 검토</h3>
<div id="1437fc81" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1">user_input <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb23-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">신시장 진출의 타당성을 검토하는 종합 보고서를 작성해주세요.</span></span>
<span id="cb23-3"></span>
<span id="cb23-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">검토 대상: [구체적인 시장/지역/제품]</span></span>
<span id="cb23-5"></span>
<span id="cb23-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">포함 항목:</span></span>
<span id="cb23-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. 시장 규모 및 성장률 조사</span></span>
<span id="cb23-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. 경쟁 환경 분석</span></span>
<span id="cb23-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. 규제 및 정책 환경</span></span>
<span id="cb23-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. 진출 시 기회 및 위험</span></span>
<span id="cb23-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">5. 예상 수익성 분석</span></span>
<span id="cb23-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">6. 최종 권장사항</span></span>
<span id="cb23-13"></span>
<span id="cb23-14"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">최종 결과는 경영진 보고 형식으로 작성해주세요.</span></span>
<span id="cb23-15"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb23-16"></span>
<span id="cb23-17">output <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> run_multi_agent_system(user_input)</span>
<span id="cb23-18"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(output)</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="고급-패턴" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="고급-패턴"><span class="header-section-number">1.7</span> 고급 패턴</h2>
<section id="패턴-1-병렬-처리" class="level3" data-number="1.7.1">
<h3 data-number="1.7.1" class="anchored" data-anchor-id="패턴-1-병렬-처리"><span class="header-section-number">1.7.1</span> 패턴 1: 병렬 처리</h3>
<p>여러 에이전트가 동시에 작업을 수행한다.</p>
<div id="1ba783c2" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> concurrent.futures <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ThreadPoolExecutor, as_completed</span>
<span id="cb24-2"></span>
<span id="cb24-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> parallel_agent_execution(tasks: Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]:</span>
<span id="cb24-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""여러 에이전트 병렬 실행"""</span></span>
<span id="cb24-5">    </span>
<span id="cb24-6">    results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {}</span>
<span id="cb24-7">    </span>
<span id="cb24-8">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">with</span> ThreadPoolExecutor(max_workers<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>) <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> executor:</span>
<span id="cb24-9">        futures <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {}</span>
<span id="cb24-10">        </span>
<span id="cb24-11">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 리서처 병렬 실행 (여러 주제)</span></span>
<span id="cb24-12">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> topic, instruction <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> tasks.items():</span>
<span id="cb24-13">            future <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> executor.submit(researcher_step, instruction)</span>
<span id="cb24-14">            futures[topic] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> future</span>
<span id="cb24-15">        </span>
<span id="cb24-16">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 결과 수집</span></span>
<span id="cb24-17">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> topic, future <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> futures.items():</span>
<span id="cb24-18">            results[topic] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> future.result()</span>
<span id="cb24-19">    </span>
<span id="cb24-20">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> results</span>
<span id="cb24-21"></span>
<span id="cb24-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 사용 예시</span></span>
<span id="cb24-23">parallel_tasks <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb24-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AI trends"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AI 기술 트렌드 조사"</span>,</span>
<span id="cb24-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Market data"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"시장 데이터 조사"</span>,</span>
<span id="cb24-26">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Competitor info"</span>: <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"경쟁사 정보 조사"</span></span>
<span id="cb24-27">}</span>
<span id="cb24-28"></span>
<span id="cb24-29">results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> parallel_agent_execution(parallel_tasks)</span></code></pre></div>
</details>
</div>
<p><strong>장점:</strong> - 실행 시간 단축 - 자원 효율적 활용</p>
</section>
<section id="패턴-2-조건부-에이전트-실행" class="level3" data-number="1.7.2">
<h3 data-number="1.7.2" class="anchored" data-anchor-id="패턴-2-조건부-에이전트-실행"><span class="header-section-number">1.7.2</span> 패턴 2: 조건부 에이전트 실행</h3>
<p>조건에 따라 특정 에이전트를 활성화한다.</p>
<div id="e5308c85" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> conditional_agent_routing(state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb25-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""조건부 에이전트 라우팅"""</span></span>
<span id="cb25-3">    </span>
<span id="cb25-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 사용자 입력의 복잡도에 따라 결정</span></span>
<span id="cb25-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(state.user_input.split()) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>:</span>
<span id="cb25-6">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 복잡한 요청: 전체 파이프라인 실행</span></span>
<span id="cb25-7">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"full_pipeline"</span></span>
<span id="cb25-8">    </span>
<span id="cb25-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"분석"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> state.user_input:</span>
<span id="cb25-10">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 분석만 필요</span></span>
<span id="cb25-11">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst_only"</span></span>
<span id="cb25-12">    </span>
<span id="cb25-13">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"최신 정보"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> state.user_input:</span>
<span id="cb25-14">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 리서치만 필요</span></span>
<span id="cb25-15">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher_only"</span></span>
<span id="cb25-16">    </span>
<span id="cb25-17">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:</span>
<span id="cb25-18">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 기본 파이프라인</span></span>
<span id="cb25-19">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"default_pipeline"</span></span></code></pre></div>
</details>
</div>
</section>
<section id="패턴-3-에이전트-간-피드백-루프" class="level3" data-number="1.7.3">
<h3 data-number="1.7.3" class="anchored" data-anchor-id="패턴-3-에이전트-간-피드백-루프"><span class="header-section-number">1.7.3</span> 패턴 3: 에이전트 간 피드백 루프</h3>
<p>에이전트의 결과에 대해 다른 에이전트가 피드백을 제공한다.</p>
<div id="36915d36" class="cell" data-execution_count="20">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb26" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> feedback_loop(</span>
<span id="cb26-2">    initial_result: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>,</span>
<span id="cb26-3">    feedback_provider: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span></span>
<span id="cb26-4">) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb26-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""피드백 루프"""</span></span>
<span id="cb26-6">    </span>
<span id="cb26-7">    feedback <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> reviewer_agent.invoke({</span>
<span id="cb26-8">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"messages"</span>: [</span>
<span id="cb26-9">            (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"human"</span>, <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"다음 결과를 검토하고 개선 사항을 제시하세요:</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>initial_result<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb26-10">        ]</span>
<span id="cb26-11">    })</span>
<span id="cb26-12">    </span>
<span id="cb26-13">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 개선된 버전 생성</span></span>
<span id="cb26-14">    improved_result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> writer_agent.invoke({</span>
<span id="cb26-15">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"messages"</span>: [</span>
<span id="cb26-16">            (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"human"</span>, <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"다음 피드백을 바탕으로 문서를 개선하세요:</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>feedback[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'messages'</span>][<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>content<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb26-17">        ]</span>
<span id="cb26-18">    })</span>
<span id="cb26-19">    </span>
<span id="cb26-20">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> improved_result[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"messages"</span>][<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>].content</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="성능-최적화" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="성능-최적화"><span class="header-section-number">1.8</span> 성능 최적화</h2>
<section id="캐싱-전략" class="level3" data-number="1.8.1">
<h3 data-number="1.8.1" class="anchored" data-anchor-id="캐싱-전략"><span class="header-section-number">1.8.1</span> 1. 캐싱 전략</h3>
<div id="75f70658" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> functools <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> lru_cache</span>
<span id="cb27-2"></span>
<span id="cb27-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@lru_cache</span>(maxsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">128</span>)</span>
<span id="cb27-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> cached_research(topic: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb27-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""연구 결과 캐싱"""</span></span>
<span id="cb27-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> researcher_step(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, topic)</span>
<span id="cb27-7"></span>
<span id="cb27-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 사용</span></span>
<span id="cb27-9">result1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> cached_research(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AI trends"</span>)</span>
<span id="cb27-10">result2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> cached_research(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AI trends"</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 캐시에서 반환</span></span></code></pre></div>
</details>
</div>
</section>
<section id="토큰-최적화" class="level3" data-number="1.8.2">
<h3 data-number="1.8.2" class="anchored" data-anchor-id="토큰-최적화"><span class="header-section-number">1.8.2</span> 2. 토큰 최적화</h3>
<div id="cf84990c" class="cell" data-execution_count="22">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb28" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> optimize_token_usage(result: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, max_tokens: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1500</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb28-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""토큰 사용량 최적화"""</span></span>
<span id="cb28-3">    </span>
<span id="cb28-4">    <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain.text_splitter <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> RecursiveCharacterTextSplitter</span>
<span id="cb28-5">    </span>
<span id="cb28-6">    splitter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> RecursiveCharacterTextSplitter(</span>
<span id="cb28-7">        chunk_size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>max_tokens,</span>
<span id="cb28-8">        chunk_overlap<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb28-9">    )</span>
<span id="cb28-10">    </span>
<span id="cb28-11">    chunks <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> splitter.split_text(result)</span>
<span id="cb28-12">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> chunks[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 가장 관련성 높은 청크만 사용</span></span></code></pre></div>
</details>
</div>
</section>
<section id="비용-절감-전략" class="level3" data-number="1.8.3">
<h3 data-number="1.8.3" class="anchored" data-anchor-id="비용-절감-전략"><span class="header-section-number">1.8.3</span> 3. 비용 절감 전략</h3>
<div id="1132a1a0" class="cell" data-execution_count="23">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> cost_optimized_model_selection(task_complexity: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> ChatOpenAI:</span>
<span id="cb29-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""작업 복잡도에 따른 모델 선택"""</span></span>
<span id="cb29-3">    </span>
<span id="cb29-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> task_complexity <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"simple"</span>:</span>
<span id="cb29-5">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o-mini"</span>)</span>
<span id="cb29-6">    </span>
<span id="cb29-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> task_complexity <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"medium"</span>:</span>
<span id="cb29-8">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o-mini"</span>)</span>
<span id="cb29-9">    </span>
<span id="cb29-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># complex</span></span>
<span id="cb29-11">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o"</span>)</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="에러-처리-및-복구" class="level2" data-number="1.9">
<h2 data-number="1.9" class="anchored" data-anchor-id="에러-처리-및-복구"><span class="header-section-number">1.9</span> 에러 처리 및 복구</h2>
<section id="에이전트-실패-처리" class="level3" data-number="1.9.1">
<h3 data-number="1.9.1" class="anchored" data-anchor-id="에이전트-실패-처리"><span class="header-section-number">1.9.1</span> 에이전트 실패 처리</h3>
<div id="68d134b4" class="cell" data-execution_count="24">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb30" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> handle_agent_failure(failed_agent: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, state: MultiAgentState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb30-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""에이전트 실패 시 대응"""</span></span>
<span id="cb30-3">    </span>
<span id="cb30-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> failed_agent <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span>:</span>
<span id="cb30-5">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 대체: PDF 문서에서 정보 검색</span></span>
<span id="cb30-6">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> pdf_retriever.invoke(state.user_input)</span>
<span id="cb30-7">    </span>
<span id="cb30-8">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> failed_agent <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"analyst"</span>:</span>
<span id="cb30-9">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 대체: 원본 데이터 직접 사용</span></span>
<span id="cb30-10">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> state.agent_results.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"researcher"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)</span>
<span id="cb30-11">    </span>
<span id="cb30-12">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> failed_agent <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"writer"</span>:</span>
<span id="cb30-13">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 대체: 간단한 텍스트 형식으로 작성</span></span>
<span id="cb30-14">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"## 분석 결과</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>state<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>agent_results[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'analyst'</span>]<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb30-15">    </span>
<span id="cb30-16">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:</span>
<span id="cb30-17">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">Exception</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Unknown agent: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>failed_agent<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span></code></pre></div>
</details>
</div>
</section>
<section id="재시도-메커니즘" class="level3" data-number="1.9.2">
<h3 data-number="1.9.2" class="anchored" data-anchor-id="재시도-메커니즘"><span class="header-section-number">1.9.2</span> 재시도 메커니즘</h3>
<div id="b53c849f" class="cell" data-execution_count="25">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb31-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> tenacity <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> retry, stop_after_attempt, wait_exponential</span>
<span id="cb31-2"></span>
<span id="cb31-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@retry</span>(</span>
<span id="cb31-4">    stop<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>stop_after_attempt(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>),</span>
<span id="cb31-5">    wait<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>wait_exponential(multiplier<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">min</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">max</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb31-6">)</span>
<span id="cb31-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> resilient_agent_call(agent_func, <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>args, <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span>kwargs):</span>
<span id="cb31-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""재시도 가능한 에이전트 호출"""</span></span>
<span id="cb31-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> agent_func(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>args, <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span>kwargs)</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="다양한-아키텍처-패턴" class="level2" data-number="1.10">
<h2 data-number="1.10" class="anchored" data-anchor-id="다양한-아키텍처-패턴"><span class="header-section-number">1.10</span> 다양한 아키텍처 패턴</h2>
<section id="패턴-1-순차적-파이프라인-sequential" class="level3" data-number="1.10.1">
<h3 data-number="1.10.1" class="anchored" data-anchor-id="패턴-1-순차적-파이프라인-sequential"><span class="header-section-number">1.10.1</span> 패턴 1: 순차적 파이프라인 (Sequential)</h3>
<pre><code>Agent1 → Agent2 → Agent3 → Output</code></pre>
<p><strong>사용 사례:</strong> 정보 수집 → 분석 → 작성</p>
</section>
<section id="패턴-2-병렬-처리-parallel" class="level3" data-number="1.10.2">
<h3 data-number="1.10.2" class="anchored" data-anchor-id="패턴-2-병렬-처리-parallel"><span class="header-section-number">1.10.2</span> 패턴 2: 병렬 처리 (Parallel)</h3>
<pre><code>      ├→ Agent1 ─┐
Input ┤           ├→ Aggregator → Output
      └→ Agent2 ─┘</code></pre>
<p><strong>사용 사례:</strong> 여러 시각에서의 분석 수행</p>
</section>
<section id="패턴-3-위임-구조-hierarchical" class="level3" data-number="1.10.3">
<h3 data-number="1.10.3" class="anchored" data-anchor-id="패턴-3-위임-구조-hierarchical"><span class="header-section-number">1.10.3</span> 패턴 3: 위임 구조 (Hierarchical)</h3>
<pre><code>Master Agent
    ├→ Team A
    │   ├→ Member 1
    │   └→ Member 2
    └→ Team B
        ├→ Member 3
        └→ Member 4</code></pre>
<p><strong>사용 사례:</strong> 대규모 조직 구조</p>
</section>
<section id="패턴-4-피드백-루프-feedback-loop" class="level3" data-number="1.10.4">
<h3 data-number="1.10.4" class="anchored" data-anchor-id="패턴-4-피드백-루프-feedback-loop"><span class="header-section-number">1.10.4</span> 패턴 4: 피드백 루프 (Feedback Loop)</h3>
<pre><code>Agent1 → Agent2 → Reviewer ─┐
         ↑                   ↓
         └────── Feedback ───┘</code></pre>
<p><strong>사용 사례:</strong> 반복적 개선 및 품질 보증</p>
</section>
</section>
<section id="multi-agent-vs-single-agent" class="level2" data-number="1.11">
<h2 data-number="1.11" class="anchored" data-anchor-id="multi-agent-vs-single-agent"><span class="header-section-number">1.11</span> Multi-Agent vs Single-Agent</h2>
<table class="table">
<thead>
<tr class="header">
<th>특성</th>
<th>Multi-Agent</th>
<th>Single-Agent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>전문성</strong></td>
<td>✅ 높음 (도메인별 최적화)</td>
<td>❌ 낮음 (일반화 필요)</td>
</tr>
<tr class="even">
<td><strong>복잡성</strong></td>
<td>높음 (시스템 관리)</td>
<td>✅ 낮음 (단순함)</td>
</tr>
<tr class="odd">
<td><strong>확장성</strong></td>
<td>✅ 높음 (에이전트 추가)</td>
<td>제한적</td>
</tr>
<tr class="even">
<td><strong>비용</strong></td>
<td>중간 (병렬 처리로 단축)</td>
<td>✅ 낮음</td>
</tr>
<tr class="odd">
<td><strong>안정성</strong></td>
<td>✅ 높음 (중복성)</td>
<td>낮음 (단일 실패점)</td>
</tr>
<tr class="even">
<td><strong>성능</strong></td>
<td>✅ 빠름 (병렬 처리)</td>
<td>느림 (순차 처리)</td>
</tr>
</tbody>
</table>
</section>
<section id="베스트-프랙티스" class="level2" data-number="1.12">
<h2 data-number="1.12" class="anchored" data-anchor-id="베스트-프랙티스"><span class="header-section-number">1.12</span> 베스트 프랙티스</h2>
<section id="명확한-역할-정의" class="level3" data-number="1.12.1">
<h3 data-number="1.12.1" class="anchored" data-anchor-id="명확한-역할-정의"><span class="header-section-number">1.12.1</span> 1. 명확한 역할 정의</h3>
<div class="sourceCode" id="cb36" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ❌ 나쁜 예</span></span>
<span id="cb36-2">Agent(name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Agent1"</span>, role<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"모든 작업 수행"</span>)</span>
<span id="cb36-3"></span>
<span id="cb36-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ✅ 좋은 예</span></span>
<span id="cb36-5">Agent(</span>
<span id="cb36-6">    name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Research Agent"</span>,</span>
<span id="cb36-7">    role<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>AgentRole.RESEARCHER,</span>
<span id="cb36-8">    system_prompt<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"웹 검색을 통한 정보 수집 전문가"</span></span>
<span id="cb36-9">)</span></code></pre></div>
</section>
<section id="적절한-에이전트-수" class="level3" data-number="1.12.2">
<h3 data-number="1.12.2" class="anchored" data-anchor-id="적절한-에이전트-수"><span class="header-section-number">1.12.2</span> 2. 적절한 에이전트 수</h3>
<div class="sourceCode" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb37-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ❌ 너무 많은 에이전트 (관리 복잡도 증가)</span></span>
<span id="cb37-2">agents <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [Agent() <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> _ <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>)]</span>
<span id="cb37-3"></span>
<span id="cb37-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ✅ 적절한 수 (5-7개)</span></span>
<span id="cb37-5">agents <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [</span>
<span id="cb37-6">    coordinator, researcher, analyst, writer, reviewer</span>
<span id="cb37-7">]</span></code></pre></div>
</section>
<section id="명확한-의사소통-프로토콜" class="level3" data-number="1.12.3">
<h3 data-number="1.12.3" class="anchored" data-anchor-id="명확한-의사소통-프로토콜"><span class="header-section-number">1.12.3</span> 3. 명확한 의사소통 프로토콜</h3>
<div class="sourceCode" id="cb38" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 에이전트 간 메시지 규격화</span></span>
<span id="cb38-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> AgentMessage(BaseModel):</span>
<span id="cb38-3">    sender: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span></span>
<span id="cb38-4">    recipient: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span></span>
<span id="cb38-5">    content: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span></span>
<span id="cb38-6">    metadata: Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, Any]</span></code></pre></div>
</section>
<section id="상태-관리" class="level3" data-number="1.12.4">
<h3 data-number="1.12.4" class="anchored" data-anchor-id="상태-관리"><span class="header-section-number">1.12.4</span> 4. 상태 관리</h3>
<div class="sourceCode" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 공유 상태 정의</span></span>
<span id="cb39-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> SharedState(BaseModel):</span>
<span id="cb39-3">    user_input: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span></span>
<span id="cb39-4">    intermediate_results: Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]</span>
<span id="cb39-5">    metadata: Dict[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, Any]</span></code></pre></div>
</section>
</section>
<section id="참고-자료-1" class="level2" data-number="1.13">
<h2 data-number="1.13" class="anchored" data-anchor-id="참고-자료-1"><span class="header-section-number">1.13</span> 참고 자료</h2>
<ul>
<li><a href="https://arxiv.org/abs/2308.00352">Multi-Agent Systems Paper</a></li>
<li><a href="https://langchain-ai.github.io/langgraph/">LangGraph Documentation</a></li>
<li><a href="https://langchain-ai.github.io/langgraph/tutorials/">Agent Design Patterns</a></li>
<li><a href="https://arxiv.org/abs/2402.18658">Distributed AI Systems</a></li>
</ul>
</section>
<section id="다음-단계" class="level2" data-number="1.14">
<h2 data-number="1.14" class="anchored" data-anchor-id="다음-단계"><span class="header-section-number">1.14</span> 다음 단계</h2>
<p>Multi-Agent 시스템의 기본을 익혔다면, 다음 주제들을 살펴보자:</p>
<ul>
<li><strong>Agent Orchestration</strong>: 복잡한 워크플로우 관리</li>
<li><strong>Knowledge Sharing</strong>: 에이전트 간 지식 공유 메커니즘</li>
<li><strong>Performance Monitoring</strong>: 멀티 에이전트 시스템의 모니터링 및 최적화</li>
<li><strong>Scalability</strong>: 대규모 멀티 에이전트 시스템 구축</li>
</ul>


</section>
</section>

 ]]></description>
  <category>AI</category>
  <category>Agent</category>
  <category>LangChain</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Agent/16-Agent/14-Multi-Agent.html</guid>
  <pubDate>Tue, 18 Nov 2025 15:00:00 GMT</pubDate>
</item>
<item>
  <title>Plan-and-Execute Agent</title>
  <dc:creator>Kwangmin Kim</dc:creator>
  <link>kk3225.netlify.app/docs/blog/posts/Agent/16-Agent/13-Plan-Execute-Agent.html</link>
  <description><![CDATA[ 





<section id="plan-and-execute-agent란" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="plan-and-execute-agent란"><span class="header-section-number">1</span> Plan-and-Execute Agent란?</h2>
<p>Plan-and-Execute는 대규모 언어 모델(LLM)이 <strong>계획(Planning)</strong>과 <strong>실행(Execution)</strong> 단계를 분리하여 복잡한 문제를 체계적으로 해결하는 패턴이다.</p>
<section id="react와의-차이" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="react와의-차이"><span class="header-section-number">1.1</span> ReAct와의 차이</h3>
<p><strong>ReAct 패턴의 한계:</strong> - 각 단계마다 즉시 행동 결정 - 복잡한 작업의 경우 비효율적인 단계 반복 - 전체 계획이 없어 방향 혼란 가능</p>
<p><strong>Plan-and-Execute의 장점:</strong> - <strong>2단계 분리</strong>: 먼저 전체 계획 수립, 후에 실행 - <strong>효율성</strong>: 불필요한 반복 작업 최소화 - <strong>재현성</strong>: 같은 계획으로 다른 입력에 적용 가능 - <strong>추적성</strong>: 계획 단계를 명시적으로 추적</p>
</section>
<section id="plan-and-execute-작동-원리" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="plan-and-execute-작동-원리"><span class="header-section-number">1.2</span> Plan-and-Execute 작동 원리</h3>
<pre><code>Phase 1: Planning
├─ 1. Task: "목표 분석"
├─ 2. Task: "필요 리소스 식별"
└─ 3. Task: "실행 순서 결정"

Phase 2: Execution
├─ Task 1 실행 (웹 검색)
├─ Task 2 실행 (파일 읽기)
├─ Task 3 실행 (데이터 분석)
└─ 최종 결과 생성</code></pre>
</section>
<section id="langgraph의-plan-and-execute-구현" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="langgraph의-plan-and-execute-구현"><span class="header-section-number">1.3</span> LangGraph의 Plan-and-Execute 구현</h3>
<p>LangGraph의 <code>create_planning_agent</code>를 사용하여 효과적으로 구현할 수 있다.</p>
<p><strong>핵심 특징:</strong> - <strong>계획 최적화</strong>: LLM이 한 번에 전체 계획 수립 - <strong>상태 관리</strong>: 각 태스크의 진행 상황 추적 - <strong>에러 복구</strong>: 특정 태스크 실패 시 재시도 또는 대체 방안 - <strong>결과 통합</strong>: 각 태스크의 결과를 최종 답변으로 통합</p>
<div id="ab2b67fe" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># API 키를 환경변수로 관리하기 위한 설정 파일</span></span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> dotenv <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> load_dotenv</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># API 키 정보 로드</span></span>
<span id="cb2-5">load_dotenv()</span></code></pre></div>
</details>
</div>
<div id="4e744933" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># LangSmith 추적을 설정한다. https://smith.langchain.com</span></span>
<span id="cb3-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># !pip install -qU langchain-teddynote</span></span>
<span id="cb3-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_teddynote <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> logging</span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 프로젝트 이름을 입력한다.</span></span>
<span id="cb3-6">logging.langsmith(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CH16-Plan-Execute-Agent"</span>)</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="환경-설정" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="환경-설정"><span class="header-section-number">2</span> 환경 설정</h2>
<section id="기본-구성-요소" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="기본-구성-요소"><span class="header-section-number">2.1</span> 기본 구성 요소</h3>
<p>Plan-and-Execute Agent는 네 가지 핵심 요소로 구성된다:</p>
<ol type="1">
<li><strong>Planner LLM</strong>: 계획 수립 담당</li>
<li><strong>Executor LLM</strong>: 실제 작업 수행</li>
<li><strong>도구(Tools)</strong>: 외부 작업 수행</li>
<li><strong>메모리(Memory)</strong>: 계획 및 실행 이력 저장</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="kk3225.netlify.app/docs/blog/posts/Agent/16-Agent/assets/plan_execute_agent.png" class="img-fluid figure-img"></p>
<figcaption>Plan-and-Execute Agent 아키텍처</figcaption>
</figure>
</div>
<div id="8db0de12" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_openai <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ChatOpenAI</span>
<span id="cb4-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_teddynote.tools.tavily <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> TavilySearch</span>
<span id="cb4-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_core.messages <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> HumanMessage</span>
<span id="cb4-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langgraph.checkpoint.memory <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> MemorySaver</span>
<span id="cb4-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langgraph.prebuilt <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> create_react_agent</span>
<span id="cb4-6"></span>
<span id="cb4-7"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 메모리 설정 (계획 및 실행 이력 저장)</span></span>
<span id="cb4-8">memory <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> MemorySaver()</span>
<span id="cb4-9"></span>
<span id="cb4-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 모델 설정</span></span>
<span id="cb4-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Planner: 복잡한 추론이 필요하므로 GPT-4o 사용</span></span>
<span id="cb4-12">planner_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o"</span>, temperature<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span>
<span id="cb4-13"></span>
<span id="cb4-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Executor: 비용 절감을 위해 GPT-4o-mini 사용</span></span>
<span id="cb4-15">executor_model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatOpenAI(model_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"gpt-4o-mini"</span>)</span></code></pre></div>
</details>
</div>
<p><strong>모델 선택 전략:</strong> - <strong>Planner</strong>: 더 강력한 모델 (복잡한 계획 수립) - <strong>Executor</strong>: 더 빠르고 저렴한 모델 (계획된 작업 수행)</p>
</section>
</section>
<section id="계획-작성-시스템" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="계획-작성-시스템"><span class="header-section-number">3</span> 계획 작성 시스템</h2>
<section id="계획-구조-정의" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="계획-구조-정의"><span class="header-section-number">3.1</span> 계획 구조 정의</h3>
<div id="72d4cb74" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> List</span>
<span id="cb5-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> pydantic <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> BaseModel, Field</span>
<span id="cb5-3"></span>
<span id="cb5-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> Task(BaseModel):</span>
<span id="cb5-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""수행할 작업의 단위"""</span></span>
<span id="cb5-6">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span>: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"작업 ID (1부터 시작)"</span>)</span>
<span id="cb5-7">    title: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"작업 제목"</span>)</span>
<span id="cb5-8">    description: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"작업 상세 설명"</span>)</span>
<span id="cb5-9">    required_tools: List[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"필요한 도구 목록"</span>)</span>
<span id="cb5-10">    dependencies: List[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(</span>
<span id="cb5-11">        default_factory<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>, </span>
<span id="cb5-12">        description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"선행 작업 ID 목록"</span></span>
<span id="cb5-13">    )</span>
<span id="cb5-14">    </span>
<span id="cb5-15">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__str__</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb5-16">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Task </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb5-17"></span>
<span id="cb5-18"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> Plan(BaseModel):</span>
<span id="cb5-19">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""전체 작업 계획"""</span></span>
<span id="cb5-20">    objective: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"최종 목표"</span>)</span>
<span id="cb5-21">    tasks: List[Task] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"수행할 작업 리스트"</span>)</span>
<span id="cb5-22">    </span>
<span id="cb5-23">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__str__</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb5-24">        task_str <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>.join(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"  </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>task<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> task <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.tasks)</span>
<span id="cb5-25">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Goal: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>objective<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">Tasks:</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>task_str<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span></code></pre></div>
</details>
</div>
<p><strong>Plan 구조의 장점:</strong> - 명확한 작업 구조 - 의존성 추적으로 순서 관리 - 필요한 도구 사전 식별</p>
</section>
<section id="planner-prompt-작성" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="planner-prompt-작성"><span class="header-section-number">3.2</span> Planner Prompt 작성</h3>
<div id="048f39e1" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_core.prompts <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ChatPromptTemplate</span>
<span id="cb6-2"></span>
<span id="cb6-3">planner_prompt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ChatPromptTemplate.from_messages([</span>
<span id="cb6-4">    (</span>
<span id="cb6-5">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"system"</span>,</span>
<span id="cb6-6">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""당신은 전문적인 작업 계획가(Project Manager)입니다.</span></span>
<span id="cb6-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        </span></span>
<span id="cb6-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">사용자의 요청을 분석하여 다음 규칙에 따라 상세한 작업 계획을 수립하세요:</span></span>
<span id="cb6-9"></span>
<span id="cb6-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. **작업 분해**: 복잡한 요청을 논리적인 소 작업들로 분해</span></span>
<span id="cb6-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. **순차성**: 선행 작업이 필요한 경우 dependencies에 명시</span></span>
<span id="cb6-12"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. **도구 식별**: 각 작업에 필요한 도구 명시 (web_search, file_management, pdf_retriever 등)</span></span>
<span id="cb6-13"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. **명확성**: 각 작업의 목표가 명확하고 측정 가능하도록 작성</span></span>
<span id="cb6-14"></span>
<span id="cb6-15"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">사용 가능한 도구:</span></span>
<span id="cb6-16"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- web_search: 웹 검색 (최신 정보 필요시)</span></span>
<span id="cb6-17"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- file_write: 파일 작성</span></span>
<span id="cb6-18"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- file_read: 파일 읽기</span></span>
<span id="cb6-19"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- pdf_retriever: PDF 문서 검색</span></span>
<span id="cb6-20"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">- data_analysis: 데이터 분석</span></span>
<span id="cb6-21"></span>
<span id="cb6-22"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">응답 형식은 다음 JSON 스키마를 따르세요:</span></span>
<span id="cb6-23"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">```json</span></span>
<span id="cb6-24"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{{</span></span>
<span id="cb6-25"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    "objective": "최종 목표",</span></span>
<span id="cb6-26"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    "tasks": [</span></span>
<span id="cb6-27"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{{</span></span>
<span id="cb6-28"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "id": 1,</span></span>
<span id="cb6-29"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "title": "작업 제목",</span></span>
<span id="cb6-30"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "description": "작업 상세 설명",</span></span>
<span id="cb6-31"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "required_tools": ["tool1", "tool2"],</span></span>
<span id="cb6-32"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">            "dependencies": []</span></span>
<span id="cb6-33"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">        </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}}</span></span>
<span id="cb6-34"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">    ]</span></span>
<span id="cb6-35"><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}}</span></span>
<span id="cb6-36"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">```"""</span>,</span>
<span id="cb6-37">    ),</span>
<span id="cb6-38">    (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"human"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{input}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>),</span>
<span id="cb6-39">])</span></code></pre></div>
</details>
</div>
<p><strong>Prompt 설계 팁:</strong> - 구조화된 출력 형식 명시 - 사용 가능한 도구 목록 제공 - 작업 분해의 기준 설명</p>
</section>
</section>
<section id="도구-설정" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="도구-설정"><span class="header-section-number">4</span> 도구 설정</h2>
<section id="웹-검색-도구" class="level3" data-number="4.1">
<h3 data-number="4.1" class="anchored" data-anchor-id="웹-검색-도구"><span class="header-section-number">4.1</span> 웹 검색 도구</h3>
<div id="fcbb019f" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_teddynote.tools.tavily <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> TavilySearch</span>
<span id="cb7-2"></span>
<span id="cb7-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 웹 검색 도구 생성</span></span>
<span id="cb7-4">web_search <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> TavilySearch(</span>
<span id="cb7-5">    topic<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"general"</span>,</span>
<span id="cb7-6">    max_results<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,</span>
<span id="cb7-7">    include_answer<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>,</span>
<span id="cb7-8">    include_raw_content<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>,</span>
<span id="cb7-9">)</span>
<span id="cb7-10"></span>
<span id="cb7-11">web_search.name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"web_search"</span></span>
<span id="cb7-12">web_search.description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb7-13">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"웹에서 정보를 검색합니다. 최신 정보, 뉴스, 통계 등이 필요할 때 사용합니다."</span></span>
<span id="cb7-14">)</span></code></pre></div>
</details>
</div>
</section>
<section id="파일-관리-도구" class="level3" data-number="4.2">
<h3 data-number="4.2" class="anchored" data-anchor-id="파일-관리-도구"><span class="header-section-number">4.2</span> 파일 관리 도구</h3>
<div id="4f92615e" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_community.agent_toolkits <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> FileManagementToolkit</span>
<span id="cb8-2"></span>
<span id="cb8-3">working_directory <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tmp"</span></span>
<span id="cb8-4"></span>
<span id="cb8-5">file_management_tools <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> FileManagementToolkit(</span>
<span id="cb8-6">    root_dir<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>(working_directory),</span>
<span id="cb8-7">).get_tools()</span>
<span id="cb8-8"></span>
<span id="cb8-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 도구 이름과 설명 업데이트</span></span>
<span id="cb8-10"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> tool <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> file_management_tools:</span>
<span id="cb8-11">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> tool.name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"file_write"</span>:</span>
<span id="cb8-12">        tool.description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"파일을 작성하거나 수정합니다."</span></span>
<span id="cb8-13">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> tool.name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"file_read"</span>:</span>
<span id="cb8-14">        tool.description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"파일의 내용을 읽습니다."</span></span>
<span id="cb8-15">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">elif</span> tool.name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"list_directory"</span>:</span>
<span id="cb8-16">        tool.description <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"디렉토리의 파일 목록을 조회합니다."</span></span></code></pre></div>
</details>
</div>
</section>
<section id="pdf-검색-도구" class="level3" data-number="4.3">
<h3 data-number="4.3" class="anchored" data-anchor-id="pdf-검색-도구"><span class="header-section-number">4.3</span> PDF 검색 도구</h3>
<div id="e6fa96cd" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain.text_splitter <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> RecursiveCharacterTextSplitter</span>
<span id="cb9-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_community.vectorstores <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> FAISS</span>
<span id="cb9-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_openai <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> OpenAIEmbeddings</span>
<span id="cb9-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain.document_loaders <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> PDFPlumberLoader</span>
<span id="cb9-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_core.tools.retriever <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> create_retriever_tool</span>
<span id="cb9-6"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_core.prompts <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> PromptTemplate</span>
<span id="cb9-7"></span>
<span id="cb9-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># PDF 로드 및 벡터화</span></span>
<span id="cb9-9">loader <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> PDFPlumberLoader(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data/sample_document.pdf"</span>)</span>
<span id="cb9-10">text_splitter <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> RecursiveCharacterTextSplitter(chunk_size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1000</span>, chunk_overlap<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>)</span>
<span id="cb9-11">split_docs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> loader.load_and_split(text_splitter)</span>
<span id="cb9-12">vector <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> FAISS.from_documents(split_docs, OpenAIEmbeddings())</span>
<span id="cb9-13">pdf_retriever <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> vector.as_retriever()</span>
<span id="cb9-14"></span>
<span id="cb9-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Retriever 도구 생성</span></span>
<span id="cb9-16">retriever_tool <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> create_retriever_tool(</span>
<span id="cb9-17">    pdf_retriever,</span>
<span id="cb9-18">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pdf_retriever"</span>,</span>
<span id="cb9-19">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"내부 문서에서 정보를 검색합니다. 회사 정책, 보고서, 기술 문서 등을 조회할 수 있습니다."</span>,</span>
<span id="cb9-20">    document_prompt<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>PromptTemplate.from_template(</span>
<span id="cb9-21">        <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"&lt;document&gt;&lt;context&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{page_content}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/context&gt;&lt;metadata&gt;&lt;source&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{source}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/source&gt;&lt;page&gt;</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{page}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">&lt;/page&gt;&lt;/metadata&gt;&lt;/document&gt;"</span></span>
<span id="cb9-22">    ),</span>
<span id="cb9-23">)</span></code></pre></div>
</details>
</div>
</section>
<section id="전체-도구-목록" class="level3" data-number="4.4">
<h3 data-number="4.4" class="anchored" data-anchor-id="전체-도구-목록"><span class="header-section-number">4.4</span> 전체 도구 목록</h3>
<div id="e8234620" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 도구 목록 구성</span></span>
<span id="cb10-2">tools <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [web_search, <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>file_management_tools, retriever_tool]</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="plan-and-execute-에이전트-구현" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="plan-and-execute-에이전트-구현"><span class="header-section-number">5</span> Plan-and-Execute 에이전트 구현</h2>
<section id="executor-에이전트-생성" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="executor-에이전트-생성"><span class="header-section-number">5.1</span> Executor 에이전트 생성</h3>
<p>계획된 작업을 실행할 ReAct 에이전트를 생성한다.</p>
<div id="a1f7c755" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langgraph.prebuilt <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> create_react_agent</span>
<span id="cb11-2"></span>
<span id="cb11-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Executor 에이전트: 개별 작업 수행</span></span>
<span id="cb11-4">executor <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> create_react_agent(</span>
<span id="cb11-5">    executor_model,</span>
<span id="cb11-6">    tools,</span>
<span id="cb11-7">    checkpointer<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>memory,</span>
<span id="cb11-8">)</span></code></pre></div>
</details>
</div>
</section>
<section id="plan-and-execute-그래프-구축" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="plan-and-execute-그래프-구축"><span class="header-section-number">5.2</span> Plan-and-Execute 그래프 구축</h3>
<div id="f8b40f90" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langgraph.graph <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> StateGraph, START, END</span>
<span id="cb12-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_core.messages <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> BaseMessage</span>
<span id="cb12-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> typing <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> Annotated</span>
<span id="cb12-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langgraph.graph.message <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> add_messages</span>
<span id="cb12-5"></span>
<span id="cb12-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> PlanExecuteState(BaseModel):</span>
<span id="cb12-7">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""계획 및 실행 상태"""</span></span>
<span id="cb12-8">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">input</span>: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"사용자 입력"</span>)</span>
<span id="cb12-9">    plan: Plan <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>, description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"수립된 계획"</span>)</span>
<span id="cb12-10">    past_steps: Annotated[List[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">tuple</span>], add_messages] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(</span>
<span id="cb12-11">        default_factory<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>,</span>
<span id="cb12-12">        description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"완료된 작업과 결과"</span></span>
<span id="cb12-13">    )</span>
<span id="cb12-14">    response: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> Field(default<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"최종 응답"</span>)</span>
<span id="cb12-15"></span>
<span id="cb12-16"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> plan_step(state: PlanExecuteState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> PlanExecuteState:</span>
<span id="cb12-17">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""계획 수립 단계"""</span></span>
<span id="cb12-18">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Planner가 계획 수립</span></span>
<span id="cb12-19">    planner_chain <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> planner_prompt <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> planner_model.with_structured_output(Plan)</span>
<span id="cb12-20">    plan <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> planner_chain.invoke({<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"input"</span>: state.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">input</span>})</span>
<span id="cb12-21">    </span>
<span id="cb12-22">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span>state, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plan"</span>: plan}</span>
<span id="cb12-23"></span>
<span id="cb12-24"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> execute_step(state: PlanExecuteState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> PlanExecuteState:</span>
<span id="cb12-25">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""작업 실행 단계"""</span></span>
<span id="cb12-26">    plan <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> state.plan</span>
<span id="cb12-27">    past_steps <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> state.past_steps</span>
<span id="cb12-28">    </span>
<span id="cb12-29">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 완료되지 않은 작업 찾기</span></span>
<span id="cb12-30">    completed_task_ids <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {step[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>] <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> step <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> past_steps}</span>
<span id="cb12-31">    next_task <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span></span>
<span id="cb12-32">    </span>
<span id="cb12-33">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> task <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> plan.tasks:</span>
<span id="cb12-34">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 의존성이 모두 완료되었고, 아직 수행되지 않은 작업</span></span>
<span id="cb12-35">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> (task.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">not</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> completed_task_ids <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">and</span> </span>
<span id="cb12-36">            <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">all</span>(dep_id <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> completed_task_ids <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> dep_id <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> task.dependencies)):</span>
<span id="cb12-37">            next_task <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> task</span>
<span id="cb12-38">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">break</span></span>
<span id="cb12-39">    </span>
<span id="cb12-40">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> next_task <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">is</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">None</span>:</span>
<span id="cb12-41">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 모든 작업 완료</span></span>
<span id="cb12-42">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> state</span>
<span id="cb12-43">    </span>
<span id="cb12-44">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 작업 실행</span></span>
<span id="cb12-45">    task_instruction <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"""</span></span>
<span id="cb12-46"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    다음 작업을 수행하세요:</span></span>
<span id="cb12-47"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb12-48"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    제목: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>next_task<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-49"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    설명: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>next_task<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>description<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-50"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    필요 도구: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">', '</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>join(next_task.required_tools)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-51"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb12-52"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    이전 작업 결과:</span></span>
<span id="cb12-53"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">chr</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>join(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Task </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>task_id<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>result<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> task_id, result <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> past_steps)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-54"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb12-55">    </span>
<span id="cb12-56">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Executor가 작업 수행</span></span>
<span id="cb12-57">    result <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> executor.invoke(</span>
<span id="cb12-58">        {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"messages"</span>: [(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"human"</span>, task_instruction)]},</span>
<span id="cb12-59">        {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"configurable"</span>: {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"thread_id"</span>: <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"task_</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>next_task<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>}}</span>
<span id="cb12-60">    )</span>
<span id="cb12-61">    </span>
<span id="cb12-62">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 결과 저장</span></span>
<span id="cb12-63">    past_steps.append((next_task.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span>, result[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"messages"</span>][<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>].content))</span>
<span id="cb12-64">    </span>
<span id="cb12-65">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span>state, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"past_steps"</span>: past_steps}</span>
<span id="cb12-66"></span>
<span id="cb12-67"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> generate_response_step(state: PlanExecuteState) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> PlanExecuteState:</span>
<span id="cb12-68">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""최종 응답 생성 단계"""</span></span>
<span id="cb12-69">    plan <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> state.plan</span>
<span id="cb12-70">    past_steps <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> state.past_steps</span>
<span id="cb12-71">    </span>
<span id="cb12-72">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 모든 작업이 완료되었는지 확인</span></span>
<span id="cb12-73">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(past_steps) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(plan.tasks):</span>
<span id="cb12-74">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> state</span>
<span id="cb12-75">    </span>
<span id="cb12-76">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 결과 통합</span></span>
<span id="cb12-77">    summary <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"""</span></span>
<span id="cb12-78"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    ## 작업 완료 보고서</span></span>
<span id="cb12-79"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb12-80"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    **목표**: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>plan<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>objective<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span>
<span id="cb12-81"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb12-82"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    ### 수행 작업</span></span>
<span id="cb12-83"><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb12-84">    </span>
<span id="cb12-85">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> task_id, result <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> past_steps:</span>
<span id="cb12-86">        task <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">next</span>(t <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> t <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> plan.tasks <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> t.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> task_id)</span>
<span id="cb12-87">        summary <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+=</span> <span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">**Task </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>task_id<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>task<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>title<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">**</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>result<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span></span>
<span id="cb12-88">    </span>
<span id="cb12-89">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> {<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span>state, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"response"</span>: summary}</span>
<span id="cb12-90"></span>
<span id="cb12-91"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 그래프 구성</span></span>
<span id="cb12-92">workflow <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> StateGraph(PlanExecuteState)</span>
<span id="cb12-93"></span>
<span id="cb12-94">workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plan"</span>, plan_step)</span>
<span id="cb12-95">workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"execute"</span>, execute_step)</span>
<span id="cb12-96">workflow.add_node(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"respond"</span>, generate_response_step)</span>
<span id="cb12-97"></span>
<span id="cb12-98">workflow.add_edge(START, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plan"</span>)</span>
<span id="cb12-99">workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"plan"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"execute"</span>)</span>
<span id="cb12-100">workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"execute"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"execute"</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 모든 작업 완료까지 반복</span></span>
<span id="cb12-101">workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"execute"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"respond"</span>)</span>
<span id="cb12-102">workflow.add_edge(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"respond"</span>, END)</span>
<span id="cb12-103"></span>
<span id="cb12-104"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 컴파일</span></span>
<span id="cb12-105">plan_execute_agent <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> workflow.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">compile</span>(checkpointer<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>memory)</span></code></pre></div>
</details>
</div>
<p><strong>그래프 구조:</strong> - <strong>plan 노드</strong>: LLM이 전체 작업 계획 수립 - <strong>execute 노드</strong>: 각 작업을 순차적으로 실행 (반복) - <strong>respond 노드</strong>: 최종 응답 생성</p>
</section>
</section>
<section id="실행-함수-정의" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="실행-함수-정의"><span class="header-section-number">6</span> 실행 함수 정의</h2>
<section id="스트리밍-출력" class="level3" data-number="6.1">
<h3 data-number="6.1" class="anchored" data-anchor-id="스트리밍-출력"><span class="header-section-number">6.1</span> 스트리밍 출력</h3>
<div id="e6f35fea" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> langchain_teddynote.messages <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> stream_graph</span>
<span id="cb13-2"></span>
<span id="cb13-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> run_plan_execute_agent(instruction: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, thread_id: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"main"</span>):</span>
<span id="cb13-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""계획 및 실행 에이전트 실행"""</span></span>
<span id="cb13-5">    config <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"configurable"</span>: {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"thread_id"</span>: thread_id}}</span>
<span id="cb13-6">    inputs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"messages"</span>: [(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"human"</span>, instruction)]}</span>
<span id="cb13-7">    </span>
<span id="cb13-8">    stream_graph(plan_execute_agent, inputs, config)</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="사용-예시" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="사용-예시"><span class="header-section-number">7</span> 사용 예시</h2>
<section id="예시-1-시장-조사-보고서-작성" class="level3" data-number="7.1">
<h3 data-number="7.1" class="anchored" data-anchor-id="예시-1-시장-조사-보고서-작성"><span class="header-section-number">7.1</span> 예시 1: 시장 조사 보고서 작성</h3>
<div id="bee4643e" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb14-1">instruction <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb14-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">AI 에이전트 시장에 대한 종합 조사 보고서를 작성해주세요.</span></span>
<span id="cb14-3"></span>
<span id="cb14-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">다음 내용이 포함되어야 합니다:</span></span>
<span id="cb14-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. 현재 AI 에이전트 시장 규모 및 성장률</span></span>
<span id="cb14-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. 주요 플레이어 및 기술 트렌드</span></span>
<span id="cb14-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. 시장 기회 및 위험 요소 분석</span></span>
<span id="cb14-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. 향후 6개월 전망</span></span>
<span id="cb14-9"></span>
<span id="cb14-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">보고서는 마크다운 형식으로 작성하고 파일로 저장해주세요.</span></span>
<span id="cb14-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb14-12"></span>
<span id="cb14-13">run_plan_execute_agent(instruction)</span></code></pre></div>
</details>
</div>
<p><strong>실행 흐름:</strong></p>
<ol type="1">
<li><strong>Plan 단계</strong>:
<ul>
<li>Task 1: 시장 규모 및 성장률 조사 (web_search)</li>
<li>Task 2: 주요 플레이어 분석 (web_search)</li>
<li>Task 3: 기술 트렌드 조사 (web_search + pdf_retriever)</li>
<li>Task 4: 보고서 작성 (Task 1-3 결과 필요)</li>
<li>Task 5: 파일 저장 (Task 4 결과 필요)</li>
</ul></li>
<li><strong>Execute 단계</strong>:
<ul>
<li>Task 1 실행 → 결과 저장</li>
<li>Task 2 실행 → 결과 저장</li>
<li>Task 3 실행 → 결과 저장</li>
<li>Task 4 실행 → 결과 저장</li>
<li>Task 5 실행 → 결과 저장</li>
</ul></li>
<li><strong>Respond 단계</strong>: 최종 보고서 생성</li>
</ol>
</section>
<section id="예시-2-데이터-분석-및-시각화" class="level3" data-number="7.2">
<h3 data-number="7.2" class="anchored" data-anchor-id="예시-2-데이터-분석-및-시각화"><span class="header-section-number">7.2</span> 예시 2: 데이터 분석 및 시각화</h3>
<div id="b1b3b54a" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1">instruction <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb15-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">회사의 분기별 판매 데이터를 분석하고 시각화하는 프로젝트를 진행해주세요.</span></span>
<span id="cb15-3"></span>
<span id="cb15-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">다음을 순서대로 수행하세요:</span></span>
<span id="cb15-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. sales_data.csv 파일 읽기</span></span>
<span id="cb15-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. 분기별 판매액, 증감율, 주요 제품 분석</span></span>
<span id="cb15-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. 분석 결과를 정리한 요약 테이블 작성</span></span>
<span id="cb15-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. 주요 통찰력을 markdown 형식으로 정리</span></span>
<span id="cb15-9"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">5. 최종 분석 보고서를 analysis_report.md로 저장</span></span>
<span id="cb15-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb15-11"></span>
<span id="cb15-12">run_plan_execute_agent(instruction)</span></code></pre></div>
</details>
</div>
<p><strong>실행 특징:</strong> - Task 간 의존성 자동 관리 - 각 Task의 결과가 다음 Task의 입력으로 사용 - 순서 위반 불가능 (의존성으로 보호)</p>
</section>
<section id="예시-3-경쟁사-분석" class="level3" data-number="7.3">
<h3 data-number="7.3" class="anchored" data-anchor-id="예시-3-경쟁사-분석"><span class="header-section-number">7.3</span> 예시 3: 경쟁사 분석</h3>
<div id="de6165e8" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1">instruction <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb16-2"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">주요 경쟁사 3곳에 대한 경쟁 분석 리포트를 작성해주세요.</span></span>
<span id="cb16-3"></span>
<span id="cb16-4"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">1. 경쟁사1, 경쟁사2, 경쟁사3의 최신 뉴스와 제품 정보 수집</span></span>
<span id="cb16-5"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">2. 각 경쟁사의 강점, 약점, 기회, 위협(SWOT) 분석</span></span>
<span id="cb16-6"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">3. 우리 회사와의 차별화 전략 도출</span></span>
<span id="cb16-7"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">4. 비교 테이블 작성</span></span>
<span id="cb16-8"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">5. 최종 보고서를 competitor_analysis.md로 저장</span></span>
<span id="cb16-9"></span>
<span id="cb16-10"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">각 경쟁사별 분석은 병렬로 수행 가능합니다.</span></span>
<span id="cb16-11"><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb16-12"></span>
<span id="cb16-13">run_plan_execute_agent(instruction)</span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="고급-기법" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="고급-기법"><span class="header-section-number">8</span> 고급 기법</h2>
<section id="조건부-task-실행" class="level3" data-number="8.1">
<h3 data-number="8.1" class="anchored" data-anchor-id="조건부-task-실행"><span class="header-section-number">8.1</span> 조건부 Task 실행</h3>
<div id="95a6560a" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> should_execute_task(task: Task, previous_results: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">dict</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span>:</span>
<span id="cb17-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""특정 조건에서만 Task 실행"""</span></span>
<span id="cb17-3">    </span>
<span id="cb17-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 예: 검색 결과가 충분하면 분석 Task 스킵</span></span>
<span id="cb17-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> task.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">and</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(previous_results.get(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"search_results"</span>, [])) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>:</span>
<span id="cb17-6">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span>
<span id="cb17-7">    </span>
<span id="cb17-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 예: 파일이 존재하면 생성 Task 스킵</span></span>
<span id="cb17-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> task.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">and</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"file_exists"</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> previous_results:</span>
<span id="cb17-10">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span></span>
<span id="cb17-11">    </span>
<span id="cb17-12">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span></code></pre></div>
</details>
</div>
</section>
<section id="task-결과-캐싱" class="level3" data-number="8.2">
<h3 data-number="8.2" class="anchored" data-anchor-id="task-결과-캐싱"><span class="header-section-number">8.2</span> Task 결과 캐싱</h3>
<div id="8f4f1701" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> functools <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> lru_cache</span>
<span id="cb18-2"></span>
<span id="cb18-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@lru_cache</span>(maxsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">128</span>)</span>
<span id="cb18-4"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> execute_task_cached(task_id: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span>, instruction: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb18-5">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""동일한 Task는 캐시된 결과 사용"""</span></span>
<span id="cb18-6">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 실행 로직</span></span>
<span id="cb18-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">pass</span></span></code></pre></div>
</details>
</div>
</section>
<section id="에러-처리-및-재시도" class="level3" data-number="8.3">
<h3 data-number="8.3" class="anchored" data-anchor-id="에러-처리-및-재시도"><span class="header-section-number">8.3</span> 에러 처리 및 재시도</h3>
<div id="f3fd1684" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>코드</summary>
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> tenacity <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> retry, stop_after_attempt, wait_exponential</span>
<span id="cb19-2"></span>
<span id="cb19-3"><span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">@retry</span>(</span>
<span id="cb19-4">    stop<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>stop_after_attempt(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>),</span>
<span id="cb19-5">    wait<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>wait_exponential(multiplier<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">min</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">max</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb19-6">)</span>
<span id="cb19-7"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> execute_task_with_retry(task: Task) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>:</span>
<span id="cb19-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""실패 시 지수 백오프로 재시도"""</span></span>
<span id="cb19-9">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 실행 로직</span></span>
<span id="cb19-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">pass</span></span></code></pre></div>
</details>
</div>
</section>
</section>
<section id="plan-and-execute-vs-react" class="level2" data-number="9">
<h2 data-number="9" class="anchored" data-anchor-id="plan-and-execute-vs-react"><span class="header-section-number">9</span> Plan-and-Execute vs ReAct</h2>
<table class="table">
<thead>
<tr class="header">
<th>특성</th>
<th>Plan-and-Execute</th>
<th>ReAct</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>계획 수립</strong></td>
<td>✅ 사전 계획 수립</td>
<td>❌ 즉흥적 행동</td>
</tr>
<tr class="even">
<td><strong>복잡도</strong></td>
<td>높음 (다단계 작업)</td>
<td>중간 (단일 목표)</td>
</tr>
<tr class="odd">
<td><strong>효율성</strong></td>
<td>✅ 불필요한 반복 최소</td>
<td>❌ 반복 가능성 높음</td>
</tr>
<tr class="even">
<td><strong>유연성</strong></td>
<td>제한적 (계획 변경 어려움)</td>
<td>✅ 높음 (동적 대응)</td>
</tr>
<tr class="odd">
<td><strong>예측성</strong></td>
<td>✅ 높음 (계획이 명시적)</td>
<td>낮음 (동적 결정)</td>
</tr>
<tr class="even">
<td><strong>토큰 소비</strong></td>
<td>중간 (계획 + 실행)</td>
<td>높음 (반복으로 인한 증가)</td>
</tr>
</tbody>
</table>
<p><strong>선택 기준:</strong> - <strong>Plan-and-Execute</strong>: 복잡하고 구조화된 작업, 예측 가능한 프로세스 - <strong>ReAct</strong>: 단순하고 반복적인 작업, 높은 유연성 필요</p>
</section>
<section id="베스트-프랙티스" class="level2" data-number="10">
<h2 data-number="10" class="anchored" data-anchor-id="베스트-프랙티스"><span class="header-section-number">10</span> 베스트 프랙티스</h2>
<section id="명확한-task-정의" class="level3" data-number="10.1">
<h3 data-number="10.1" class="anchored" data-anchor-id="명확한-task-정의"><span class="header-section-number">10.1</span> 1. 명확한 Task 정의</h3>
<div class="sourceCode" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ❌ 나쁜 예</span></span>
<span id="cb20-2">Task(</span>
<span id="cb20-3">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb20-4">    title<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"조사"</span>,</span>
<span id="cb20-5">    description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"뭔가 조사하기"</span></span>
<span id="cb20-6">)</span>
<span id="cb20-7"></span>
<span id="cb20-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ✅ 좋은 예</span></span>
<span id="cb20-9">Task(</span>
<span id="cb20-10">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb20-11">    title<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"AI 에이전트 시장 규모 조사"</span>,</span>
<span id="cb20-12">    description<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024년 AI 에이전트 시장 규모, 성장률, 주요 플레이어를 웹 검색으로 조사"</span>,</span>
<span id="cb20-13">    required_tools<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"web_search"</span>],</span>
<span id="cb20-14">    dependencies<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[]</span>
<span id="cb20-15">)</span></code></pre></div>
</section>
<section id="적절한-task-분해" class="level3" data-number="10.2">
<h3 data-number="10.2" class="anchored" data-anchor-id="적절한-task-분해"><span class="header-section-number">10.2</span> 2. 적절한 Task 분해</h3>
<div class="sourceCode" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ❌ 너무 많은 Task</span></span>
<span id="cb21-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 100개 이상의 세분화된 Task → 관리 복잡도 증가</span></span>
<span id="cb21-3"></span>
<span id="cb21-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ✅ 적절한 수준</span></span>
<span id="cb21-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 5-10개의 의미 있는 Task → 명확한 진행 추적</span></span></code></pre></div>
</section>
<section id="의존성-명시" class="level3" data-number="10.3">
<h3 data-number="10.3" class="anchored" data-anchor-id="의존성-명시"><span class="header-section-number">10.3</span> 3. 의존성 명시</h3>
<div class="sourceCode" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ❌ 순환 의존성 주의</span></span>
<span id="cb22-2">Task(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, dependencies<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>])</span>
<span id="cb22-3">Task(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, dependencies<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 순환 참조 발생!</span></span>
<span id="cb22-4"></span>
<span id="cb22-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># ✅ 단방향 의존성</span></span>
<span id="cb22-6">Task(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, dependencies<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[])</span>
<span id="cb22-7">Task(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, dependencies<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>])</span>
<span id="cb22-8">Task(<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, dependencies<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>])</span></code></pre></div>
</section>
</section>
<section id="트러블슈팅" class="level2" data-number="11">
<h2 data-number="11" class="anchored" data-anchor-id="트러블슈팅"><span class="header-section-number">11</span> 트러블슈팅</h2>
<section id="문제-1-task-순서-오류" class="level3" data-number="11.1">
<h3 data-number="11.1" class="anchored" data-anchor-id="문제-1-task-순서-오류"><span class="header-section-number">11.1</span> 문제 1: Task 순서 오류</h3>
<div class="sourceCode" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 의존성 검증</span></span>
<span id="cb23-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> validate_plan(plan: Plan) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span>:</span>
<span id="cb23-3">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""계획의 의존성이 올바른지 검증"""</span></span>
<span id="cb23-4">    task_ids <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {task.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span> <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> task <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> plan.tasks}</span>
<span id="cb23-5">    </span>
<span id="cb23-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> task <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> plan.tasks:</span>
<span id="cb23-7">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 존재하지 않는 Task에 의존</span></span>
<span id="cb23-8">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">not</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">all</span>(dep_id <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> task_ids <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> dep_id <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> task.dependencies):</span>
<span id="cb23-9">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Task </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>task<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">: 존재하지 않는 의존성"</span>)</span>
<span id="cb23-10">        </span>
<span id="cb23-11">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 순환 의존성 감지</span></span>
<span id="cb23-12">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> task.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> task.dependencies:</span>
<span id="cb23-13">            <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">raise</span> <span class="pp" style="color: #AD0000;
background-color: null;
font-style: inherit;">ValueError</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Task </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>task<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">: 자기 자신에 의존"</span>)</span>
<span id="cb23-14">    </span>
<span id="cb23-15">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span></code></pre></div>
</section>
<section id="문제-2-task-실패-처리" class="level3" data-number="11.2">
<h3 data-number="11.2" class="anchored" data-anchor-id="문제-2-task-실패-처리"><span class="header-section-number">11.2</span> 문제 2: Task 실패 처리</h3>
<div class="sourceCode" id="cb24" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> handle_task_failure(task: Task, error: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>, previous_results: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">dict</span>):</span>
<span id="cb24-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""Task 실패 시 대응"""</span></span>
<span id="cb24-3">    </span>
<span id="cb24-4">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 1. 재시도</span></span>
<span id="cb24-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> task.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>]:  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 중요한 Task만 재시도</span></span>
<span id="cb24-6">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"retry"</span></span>
<span id="cb24-7">    </span>
<span id="cb24-8">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 2. 대체 Task 실행</span></span>
<span id="cb24-9">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> task.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">id</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>:  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 웹 검색 실패</span></span>
<span id="cb24-10">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"use_pdf_retriever"</span></span>
<span id="cb24-11">    </span>
<span id="cb24-12">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># 3. 사용자 개입</span></span>
<span id="cb24-13">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"manual_intervention_required"</span></span></code></pre></div>
</section>
<section id="문제-3-토큰-오버플로우" class="level3" data-number="11.3">
<h3 data-number="11.3" class="anchored" data-anchor-id="문제-3-토큰-오버플로우"><span class="header-section-number">11.3</span> 문제 3: 토큰 오버플로우</h3>
<div class="sourceCode" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> truncate_results(results: List[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>], max_tokens: <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">int</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2000</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-&gt;</span> List[<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">str</span>]:</span>
<span id="cb25-2">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""이전 결과 길이 제한"""</span></span>
<span id="cb25-3">    truncated <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> []</span>
<span id="cb25-4">    total_tokens <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb25-5">    </span>
<span id="cb25-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> result <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> results:</span>
<span id="cb25-7">        result_tokens <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(result.split())</span>
<span id="cb25-8">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> total_tokens <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> result_tokens <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> max_tokens:</span>
<span id="cb25-9">            truncated.append(result[:<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">500</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"..."</span>)</span>
<span id="cb25-10">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span>:</span>
<span id="cb25-11">            truncated.append(result)</span>
<span id="cb25-12">        total_tokens <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+=</span> result_tokens</span>
<span id="cb25-13">    </span>
<span id="cb25-14">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> truncated</span></code></pre></div>
</section>
</section>
<section id="참고-자료" class="level2" data-number="12">
<h2 data-number="12" class="anchored" data-anchor-id="참고-자료"><span class="header-section-number">12</span> 참고 자료</h2>
<ul>
<li><a href="https://arxiv.org/abs/2305.04091">Plan-and-Execute Agent 논문</a></li>
<li><a href="https://langchain-ai.github.io/langgraph/concepts/low_level_concepts/">LangGraph State Management</a></li>
<li><a href="https://langchain-ai.github.io/langgraph/tutorials/">Agent Architecture Best Practices</a></li>
</ul>
</section>
<section id="다음-단계" class="level2" data-number="13">
<h2 data-number="13" class="anchored" data-anchor-id="다음-단계"><span class="header-section-number">13</span> 다음 단계</h2>
<p>Plan-and-Execute Agent의 기본을 익혔다면, 다음 주제들을 살펴보자:</p>
<ul>
<li><strong>Multi-Agent 시스템</strong>: 여러 에이전트의 협업</li>
<li><strong>동적 Task 생성</strong>: 런타임에 Task 추가/제거</li>
<li><strong>Agent Orchestration</strong>: 복잡한 워크플로우 관리</li>
</ul>


</section>

 ]]></description>
  <category>AI</category>
  <category>RAG</category>
  <category>LangChain</category>
  <guid>kk3225.netlify.app/docs/blog/posts/Agent/16-Agent/13-Plan-Execute-Agent.html</guid>
  <pubDate>Mon, 17 Nov 2025 15:00:00 GMT</pubDate>
</item>
</channel>
</rss>
