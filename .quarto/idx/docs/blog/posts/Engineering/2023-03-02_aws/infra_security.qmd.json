{"title":"Infrastructure Security","markdown":{"yaml":{"title":"Infrastructure Security","subtitle":"Week2","description":"AWS\n","categories":["Engineering"],"author":"Kwangmin Kim","date":"04/05/2023","format":{"html":{"page-layout":"full","code-fold":true,"toc":true,"number-sections":true}},"draft":false},"headingText":"Network Isolation","containsRefs":false,"markdown":"\n\n<ul class=\"nav nav-pills\" id=\"language-tab\" role=\"tablist\">\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link active\" id=\"Korean-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#Korean\" type=\"button\" role=\"tab\" aria-controls=\"Korean\" aria-selected=\"true\">Korean</button>\n  </li>\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link\" id=\"English-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#English\" type=\"button\" role=\"tab\" aria-controls=\"knitr\" aria-selected=\"false\">English</button>\n  </li>\n\n<div class=\"tab-content\" id=\"language-tabcontent\">\n\n<div class=\"tab-pane fade  show active\" id=\"Korean\" role=\"tabpanel\" aria-labelledby=\"Korean-tab\">\n\n::: {#Korean .tab-pane .fade .show .active role=\"tabpanel\" aria-labelledby=\"Korean-tab\"}\n\n\n\n\nAWS has implemented network isolation through a **limited number of access points** to the cloud, allowing for comprehensive monitoring of inbound and outbound communications and network traffic. \n\n:::{.callout-tip}\ninbound and outbound communications involve observing and analyzing the data and traffic that is entering or leaving the AWS network to ensure security and compliance.\n:::\n\n- Endpoints are URLs that serve as entry points for web services.\n- Some services do not support regions (like IAM), so their endpoints do not include a region. But, some services (like US-West-2) do support regions.\n- AWS offers Amazon Virtual Private Cloud (VPC) as a private network within the AWS Cloud that provides isolation from other customers and from the internet\n    - VPC allows you to allocate IP address spaces and build a private infrastructure with networks isolated from the internet.\n    - You can also connect your on-premises environment or other VPN infrastructures to VPC using IPSec tunnels and AWS Direct Connect.\n    - VPC allows resources to communicate with the internet if desired.\n- Building a fort on a barren planet to protect themselves and the bees, and further isolating hives inside the fort itself is similar to the concept of isolating resources within a secure environment, such as Amazon VPC, to protect them from potential external threats.\n- Network Isolation VPC\n    - the concept of Virtual Private Cloud (VPC) in AWS is a way to logically separate your AWS infrastructure from other customers.\n    - VPC is like creating a fort around your AWS account and isolating resources into hives, using subnets or logical subdivision of IPs.\n        - ex) EC2 instances are able to access the internet and be accessed from by putting them in a public subnet via Network Access Control Lists (NACLs), which are used to control inbound and outbound traffic at the subnet level.\n    - security groups\n        - act as firewalls for EC2 instances by controlling both inbound and outbound traffic at the instance level.\n        - This fine-grained access is defined by allow rules and looks\n- how to secure traffic between VPCs in AWS using VPC endpoints and route tables?\n    - further secure communication between Virtual Private Clouds (VPCs) in AWS\n        - It compares the traditional method of sending traffic between VPCs through the internet with the use of private links, which allow for direct communication between VPCs within the AWS infrastructure, resulting in a safer path of travel for data.\n        - the concept of route tables in VPCs\n            - route tables contain **rules or routes** used to determine where network traffic is directed, and the option to create custom route tables for routing traffic according to specific requirements.\n\n## Detective Controls \n\n* Detective controls: 감사(auditing), 자동화된 분석, 경보를 가능하게 하는 사건 모니터링 및 블록 처리의 지속적인 개선  \n    * 잠재적인 보안 위협 또는 사건을 식별할 수 있는 능력 향상 \n    * governance frameworks에 필수적 \n    * 법이나 compliance 준수 의무, 보안 작업 등의 개선을 지원 \n* Different types of detective controls  \n    * 자산 인벤토리의 작성(conducting an inventory of AWS resources) \n    * 내부 감사(internal auditing) \n    * 정보 시스템과 관련된 제어가 정책 및 요구사항 충족하는지 검사 \n* 이상 활동 범위를 식별하고 이해하는데 도움이 됨 \n\n## Auditing \n\n* AWS infrastructure의 보안 및 compliance를 향상시키는 AWS services (일부는 무료, 일부는 유료)  \n    * AWS CloudTrail: AWS infrastructure와 interact 하는 사람 추적 가능 (잘못된 변경/데이터 유출 추적에 도움) \n    * AWS Config: configuration 관리 및 변경 기록, 모든 실제 config 세부 사항의 inventory 제공 \n    * AWS Inspector: 자동 보안 평가 실행  \n        * deploy된 applications의 보안 및 compliance를 향상시키기 위해, best practies와의 차이, EC2 instances의 노출, 취약점 등을 체크 \n    * Trusted Advisor  \n        * AWS resources의 프로비저닝 보조 - best practices를 사용해서 리포트 제공  \n            * 리포트 항목: 비용 최적화, 성능, 보안, 장애 허용 정도, 서비스 제한 \n            * 조사 또는 실행을 위해, 심각한 수준(녹색,주황,적색)에 따라 권장 사항 제공 \n        * Security section: S3 bucket의 권한, 보안 그룹, IAM 사용, root 계정의 MFA, 노출된 access keys, IAM 비밀번호 정책 등을 스캔 \n\n## Monitoring CloudWatch and CloudWatch Log \n\n* Monitoring: Infrastructure와 관련된 데이터와 통계를 수집, 추적, 표시하는 과정 \n* AWS의 CloudWatch: metrics repository역할 - repository에 넣은 metrics 기반으로 통계 검색  \n    * 사용자가 정한 threshold를 넘었을때 경보 생성 가능 \n    * 특정 기간 동안 하나의 metric을 감시 → threshold와 비교한 metric의 상대적인 값에 따라 하나 이상의 특정 action 수행 가능 \n* CloudWatch Logs: 여러 resources의 log files을 모니터링, 저장, 접근 가능한 tool  \n    * application, 서버 OS의 로그 수집 및 저장 \n    * CloudTrail 사용해서 API activity 수집 \n    * Amazon Route 53(Amazon의 DNS 웹 서비스)의 DNS queries를 기록 \n    * S3의 로그 데이터 저장 \n* CloudWatch Logs Insights: 로그 데이터를 interactive하게 검색하고 분석 \n\n## Monitoring Guard Duty and Security Hub \n\n* Amazon GuardDuty: 위협 감지 서비스  \n    * AWS 계정 및 리소스에 대한 허가되지 않거나 악성인 행동들을 계속 모니터링 \n    * 머신 러닝, 이상 감지, integrated threat intelligence를 사용해서 잠재적인 위협을 식별하고 우선 순위를 정함 \n    * 여러 AWS data resources에서 수백억건의 사건 분석 \n    * 잠재적인 위협을 세 단계(low, medium, high) 심각 수준으로 나눠서 대응 우선순위 결정 \n    * HTTPs API, CLI tools, Amazon CloudWatch events를 제공해서 보안 관련 발견에 대한 자동화된 보안 제공 지원 \n* Security Hub: 여러 AWS service의 보안 경고나 발견을 모으고, 정리하고, 우선 순위를 정함 → 통합 dashboards에서 시각화 요약 제공  \n    * AWS best practies 및 업계 표준을 기반으로, compliance check 자동화를 통해 환경을 지속적으로 모니터링할 수 있도록 함 \n\n:::\n\n</div>\n\n<div class=\"tab-pane fade\" id=\"English\" role=\"tabpanel\" aria-labelledby=\"English-tab\">\n\n::: {#English .tab-pane .fade role=\"tabpanel\" aria-labelledby=\"English-tab\"}\n\n:::\n\n\n</div>\n","srcMarkdownNoYaml":"\n\n<ul class=\"nav nav-pills\" id=\"language-tab\" role=\"tablist\">\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link active\" id=\"Korean-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#Korean\" type=\"button\" role=\"tab\" aria-controls=\"Korean\" aria-selected=\"true\">Korean</button>\n  </li>\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link\" id=\"English-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#English\" type=\"button\" role=\"tab\" aria-controls=\"knitr\" aria-selected=\"false\">English</button>\n  </li>\n\n<div class=\"tab-content\" id=\"language-tabcontent\">\n\n<div class=\"tab-pane fade  show active\" id=\"Korean\" role=\"tabpanel\" aria-labelledby=\"Korean-tab\">\n\n::: {#Korean .tab-pane .fade .show .active role=\"tabpanel\" aria-labelledby=\"Korean-tab\"}\n\n## Network Isolation\n\n\n\nAWS has implemented network isolation through a **limited number of access points** to the cloud, allowing for comprehensive monitoring of inbound and outbound communications and network traffic. \n\n:::{.callout-tip}\ninbound and outbound communications involve observing and analyzing the data and traffic that is entering or leaving the AWS network to ensure security and compliance.\n:::\n\n- Endpoints are URLs that serve as entry points for web services.\n- Some services do not support regions (like IAM), so their endpoints do not include a region. But, some services (like US-West-2) do support regions.\n- AWS offers Amazon Virtual Private Cloud (VPC) as a private network within the AWS Cloud that provides isolation from other customers and from the internet\n    - VPC allows you to allocate IP address spaces and build a private infrastructure with networks isolated from the internet.\n    - You can also connect your on-premises environment or other VPN infrastructures to VPC using IPSec tunnels and AWS Direct Connect.\n    - VPC allows resources to communicate with the internet if desired.\n- Building a fort on a barren planet to protect themselves and the bees, and further isolating hives inside the fort itself is similar to the concept of isolating resources within a secure environment, such as Amazon VPC, to protect them from potential external threats.\n- Network Isolation VPC\n    - the concept of Virtual Private Cloud (VPC) in AWS is a way to logically separate your AWS infrastructure from other customers.\n    - VPC is like creating a fort around your AWS account and isolating resources into hives, using subnets or logical subdivision of IPs.\n        - ex) EC2 instances are able to access the internet and be accessed from by putting them in a public subnet via Network Access Control Lists (NACLs), which are used to control inbound and outbound traffic at the subnet level.\n    - security groups\n        - act as firewalls for EC2 instances by controlling both inbound and outbound traffic at the instance level.\n        - This fine-grained access is defined by allow rules and looks\n- how to secure traffic between VPCs in AWS using VPC endpoints and route tables?\n    - further secure communication between Virtual Private Clouds (VPCs) in AWS\n        - It compares the traditional method of sending traffic between VPCs through the internet with the use of private links, which allow for direct communication between VPCs within the AWS infrastructure, resulting in a safer path of travel for data.\n        - the concept of route tables in VPCs\n            - route tables contain **rules or routes** used to determine where network traffic is directed, and the option to create custom route tables for routing traffic according to specific requirements.\n\n## Detective Controls \n\n* Detective controls: 감사(auditing), 자동화된 분석, 경보를 가능하게 하는 사건 모니터링 및 블록 처리의 지속적인 개선  \n    * 잠재적인 보안 위협 또는 사건을 식별할 수 있는 능력 향상 \n    * governance frameworks에 필수적 \n    * 법이나 compliance 준수 의무, 보안 작업 등의 개선을 지원 \n* Different types of detective controls  \n    * 자산 인벤토리의 작성(conducting an inventory of AWS resources) \n    * 내부 감사(internal auditing) \n    * 정보 시스템과 관련된 제어가 정책 및 요구사항 충족하는지 검사 \n* 이상 활동 범위를 식별하고 이해하는데 도움이 됨 \n\n## Auditing \n\n* AWS infrastructure의 보안 및 compliance를 향상시키는 AWS services (일부는 무료, 일부는 유료)  \n    * AWS CloudTrail: AWS infrastructure와 interact 하는 사람 추적 가능 (잘못된 변경/데이터 유출 추적에 도움) \n    * AWS Config: configuration 관리 및 변경 기록, 모든 실제 config 세부 사항의 inventory 제공 \n    * AWS Inspector: 자동 보안 평가 실행  \n        * deploy된 applications의 보안 및 compliance를 향상시키기 위해, best practies와의 차이, EC2 instances의 노출, 취약점 등을 체크 \n    * Trusted Advisor  \n        * AWS resources의 프로비저닝 보조 - best practices를 사용해서 리포트 제공  \n            * 리포트 항목: 비용 최적화, 성능, 보안, 장애 허용 정도, 서비스 제한 \n            * 조사 또는 실행을 위해, 심각한 수준(녹색,주황,적색)에 따라 권장 사항 제공 \n        * Security section: S3 bucket의 권한, 보안 그룹, IAM 사용, root 계정의 MFA, 노출된 access keys, IAM 비밀번호 정책 등을 스캔 \n\n## Monitoring CloudWatch and CloudWatch Log \n\n* Monitoring: Infrastructure와 관련된 데이터와 통계를 수집, 추적, 표시하는 과정 \n* AWS의 CloudWatch: metrics repository역할 - repository에 넣은 metrics 기반으로 통계 검색  \n    * 사용자가 정한 threshold를 넘었을때 경보 생성 가능 \n    * 특정 기간 동안 하나의 metric을 감시 → threshold와 비교한 metric의 상대적인 값에 따라 하나 이상의 특정 action 수행 가능 \n* CloudWatch Logs: 여러 resources의 log files을 모니터링, 저장, 접근 가능한 tool  \n    * application, 서버 OS의 로그 수집 및 저장 \n    * CloudTrail 사용해서 API activity 수집 \n    * Amazon Route 53(Amazon의 DNS 웹 서비스)의 DNS queries를 기록 \n    * S3의 로그 데이터 저장 \n* CloudWatch Logs Insights: 로그 데이터를 interactive하게 검색하고 분석 \n\n## Monitoring Guard Duty and Security Hub \n\n* Amazon GuardDuty: 위협 감지 서비스  \n    * AWS 계정 및 리소스에 대한 허가되지 않거나 악성인 행동들을 계속 모니터링 \n    * 머신 러닝, 이상 감지, integrated threat intelligence를 사용해서 잠재적인 위협을 식별하고 우선 순위를 정함 \n    * 여러 AWS data resources에서 수백억건의 사건 분석 \n    * 잠재적인 위협을 세 단계(low, medium, high) 심각 수준으로 나눠서 대응 우선순위 결정 \n    * HTTPs API, CLI tools, Amazon CloudWatch events를 제공해서 보안 관련 발견에 대한 자동화된 보안 제공 지원 \n* Security Hub: 여러 AWS service의 보안 경고나 발견을 모으고, 정리하고, 우선 순위를 정함 → 통합 dashboards에서 시각화 요약 제공  \n    * AWS best practies 및 업계 표준을 기반으로, compliance check 자동화를 통해 환경을 지속적으로 모니터링할 수 있도록 함 \n\n:::\n\n</div>\n\n<div class=\"tab-pane fade\" id=\"English\" role=\"tabpanel\" aria-labelledby=\"English-tab\">\n\n::: {#English .tab-pane .fade role=\"tabpanel\" aria-labelledby=\"English-tab\"}\n\n:::\n\n\n</div>\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":true,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":true,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":true,"code-overflow":"wrap","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","highlight-style":"github","css":["../../../../../styles.css"],"toc":true,"toc-depth":3,"number-sections":true,"include-in-header":[{"text":"<style>\n.custom-footer { \n  text-align: center; \n  font-size: 0.8em; \n  color: #666; \n  margin-top: 2rem; \n}\n</style>\n"}],"include-after-body":["../../../../../js.html","../../../signup.html"],"output-file":"infra_security.html"},"language":{"toc-title-document":"목차","toc-title-website":"목차","related-formats-title":"기타 형식","related-notebooks-title":"Notebooks","source-notebooks-prefix":"원천","other-links-title":"기타 링크","code-links-title":"코드 링크","launch-dev-container-title":"Dev 컨테이너 실행","launch-binder-title":"랜치 Binder","article-notebook-label":"기사 노트북","notebook-preview-download":"노트북 다운로드","notebook-preview-download-src":"소스 다운로드","notebook-preview-back":"기사로 돌아가기","manuscript-meca-bundle":"MECA 아카이브","section-title-abstract":"초록","section-title-appendices":"부록","section-title-footnotes":"각주","section-title-references":"참고문헌","section-title-reuse":"라이센스","section-title-copyright":"저작권","section-title-citation":"인용","appendix-attribution-cite-as":"인용방법","appendix-attribution-bibtex":"BibTeX 인용:","title-block-author-single":"저자","title-block-author-plural":"저자","title-block-affiliation-single":"소속","title-block-affiliation-plural":"소속","title-block-published":"공개","title-block-modified":"Modified","title-block-keywords":"키워드","callout-tip-title":"힌트","callout-note-title":"노트","callout-warning-title":"경고","callout-important-title":"중요","callout-caution-title":"주의","code-summary":"코드","code-tools-menu-caption":"코드","code-tools-show-all-code":"전체 코드 표시","code-tools-hide-all-code":"전체 코드 숨기기","code-tools-view-source":"소스 코드 표시","code-tools-source-code":"소스 코드","tools-share":"Share","tools-download":"Download","code-line":"선","code-lines":"윤곽","copy-button-tooltip":"클립보드 복사","copy-button-tooltip-success":"복사완료!","repo-action-links-edit":"편집","repo-action-links-source":"소스코드 보기","repo-action-links-issue":"이슈 보고","back-to-top":"맨 위로","search-no-results-text":"일치 없음","search-matching-documents-text":"일치된 문서","search-copy-link-title":"검색 링크 복사","search-hide-matches-text":"추가 검색 결과 숨기기","search-more-match-text":"추가 검색결과","search-more-matches-text":"추가 검색결과","search-clear-button-title":"제거","search-text-placeholder":"","search-detached-cancel-button-title":"취소","search-submit-button-title":"검색","search-label":"검색","toggle-section":"토글 섹션","toggle-sidebar":"사이드바 전환","toggle-dark-mode":"다크 모드 전환","toggle-reader-mode":"리더 모드 전환","toggle-navigation":"탐색 전환","crossref-fig-title":"그림","crossref-tbl-title":"표","crossref-lst-title":"목록","crossref-thm-title":"정리","crossref-lem-title":"보조정리","crossref-cor-title":"따름정리","crossref-prp-title":"명제","crossref-cnj-title":"추측","crossref-def-title":"정의","crossref-exm-title":"보기","crossref-exr-title":"예제","crossref-ch-prefix":"장","crossref-apx-prefix":"부록","crossref-sec-prefix":"섹션","crossref-eq-prefix":"방정식","crossref-lof-title":"그림 목록","crossref-lot-title":"표 목록","crossref-lol-title":"코드 목록","environment-proof-title":"증명","environment-remark-title":"주석","environment-solution-title":"해답","listing-page-order-by":"정렬","listing-page-order-by-default":"디폴트","listing-page-order-by-date-asc":"날짜(오름차순)","listing-page-order-by-date-desc":"날짜(내림차순)","listing-page-order-by-number-desc":"페이지 번호(내림차순)","listing-page-order-by-number-asc":"페이지 번호(오름차순)","listing-page-field-date":"날짜","listing-page-field-title":"제목","listing-page-field-description":"설명","listing-page-field-author":"저자","listing-page-field-filename":"파일명","listing-page-field-filemodified":"갱신일","listing-page-field-subtitle":"부제목","listing-page-field-readingtime":"읽기 시간","listing-page-field-wordcount":"단어 수","listing-page-field-categories":"분류","listing-page-minutes-compact":"{0} 분","listing-page-category-all":"전체","listing-page-no-matches":"일치 없음","listing-page-words":"{0} 단어"},"metadata":{"lang":"ko","fig-responsive":true,"quarto-version":"1.4.543","theme":{"light":["cosmo","../../../../../theme.scss"],"dark":["cosmo","../../../../../theme-dark.scss"]},"code-copy":true,"grid":{"sidebar-width":"200px","body-width":"1200px","margin-width":"200px"},"comments":{"giscus":{"repo":"kmink3225/blog","category":"Blog"}},"title-block-banner":"#EDF3F9","title-block-banner-color":"black","toc-location":"right","open-graph":true,"twitter-card":true,"search":true,"date-format":"YYYY년 MM월 DD일","title":"Infrastructure Security","subtitle":"Week2","description":"AWS\n","categories":["Engineering"],"author":"Kwangmin Kim","date":"04/05/2023","draft":false,"page-layout":"full"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}