{
  "hash": "30b2c1f532d59e04ff191cadc8577f83",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"TXT Loader\"\nsubtitle: 문서 로더\ndescription: |\n  다양한 형식의 문서를 LangChain으로 로드하는 방법을 다룬다.\ncategories:\n  - AI\n  - RAG\n  - LangChain\nauthor: Kwangmin Kim\ndate: 12/31/2024\nformat: \n  html:\n    page-layout: full\n    code-fold: true\n    toc: true\n    number-sections: true\ndraft: False\nexecute:\n    eval: false\n---\n\n`.txt` 확장자를 가지는 파일을 로더로 로드하는 방법을 살펴보겠습니다.\n\n::: {#40d8fdd0 .cell execution_count=1}\n``` {.python .cell-code}\nfrom langchain_community.document_loaders import TextLoader\n\n# 텍스트 로더 생성\nloader = TextLoader(\"data/appendix-keywords.txt\")\n\n# 문서 로드\ndocs = loader.load()\nprint(f\"문서의 수: {len(docs)}\\n\")\nprint(\"[메타데이터]\\n\")\nprint(docs[0].metadata)\nprint(\"\\n========= [앞부분] 미리보기 =========\\n\")\nprint(docs[0].page_content[:500])\n```\n:::\n\n\n## TextLoader를 통한 파일 인코딩 자동 감지\n\n이 예제에서는 TextLoader 클래스를 사용하여 디렉토리에서 임의의 파일 목록을 대량으로 로드할 때 유용한 몇 가지 전략을 살펴보겠습니다.\n\n먼저 문제를 설명하기 위해 임의의 인코딩으로 여러 개의 텍스트를 로드해 보겠습니다.\n\n- `silent_errors`: 디렉토리로더에 silent_errors 매개변수를 전달하여 로드할 수 없는 파일을 건너뛰고 로드 프로세스를 계속할 수 있습니다.\n- `autodetect_encoding`: 또한 로더 클래스에 자동 감지\\_인코딩을 전달하여 실패하기 전에 파일 인코딩을 자동으로 감지하도록 요청할 수도 있습니다.\n\n::: {#020965dc .cell execution_count=2}\n``` {.python .cell-code}\nfrom langchain_community.document_loaders import DirectoryLoader\n\npath = \"data/\"\n\ntext_loader_kwargs = {\"autodetect_encoding\": True}\n\nloader = DirectoryLoader(\n    path,\n    glob=\"**/*.txt\",\n    loader_cls=TextLoader,\n    silent_errors=True,\n    loader_kwargs=text_loader_kwargs,\n)\ndocs = loader.load()\n```\n:::\n\n\n`data/appendix-keywords.txt` 파일과 파일명이 유사한 파생 파일들은 모두 인코딩 방식이 다른 파일들입니다.\n\n::: {#1f6242fb .cell execution_count=3}\n``` {.python .cell-code}\ndoc_sources = [doc.metadata[\"source\"] for doc in docs]\ndoc_sources\n```\n:::\n\n\n::: {#80c50438 .cell execution_count=4}\n``` {.python .cell-code}\nprint(\"[메타데이터]\\n\")\nprint(docs[2].metadata)\nprint(\"\\n========= [앞부분] 미리보기 =========\\n\")\nprint(docs[2].page_content[:500])\n```\n:::\n\n\n::: {#6e10e600 .cell execution_count=5}\n``` {.python .cell-code}\nprint(\"[메타데이터]\\n\")\nprint(docs[3].metadata)\nprint(\"\\n========= [앞부분] 미리보기 =========\\n\")\nprint(docs[3].page_content[:500])\n```\n:::\n\n\n::: {#2da047c4 .cell execution_count=6}\n``` {.python .cell-code}\nprint(\"[메타데이터]\\n\")\nprint(docs[4].metadata)\nprint(\"\\n========= [앞부분] 미리보기 =========\\n\")\nprint(docs[4].page_content[:500])\n```\n:::\n\n\n",
    "supporting": [
      "08-TXT-Loader_files"
    ],
    "filters": [],
    "includes": {}
  }
}