{
  "hash": "8c3be2373127f561a3ca0feac5f9038b",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Document & Document Loaders\"\nsubtitle: 문서 로더\ndescription: |\n  다양한 형식의 문서를 LangChain으로 로드하는 방법을 다룬다.\ncategories:\n  - AI\n  - RAG\n  - LangChain\nauthor: Kwangmin Kim\ndate: 12/31/2024\nformat: \n  html:\n    page-layout: full\n    code-fold: true\n    toc: true\n    number-sections: true\ndraft: False\nexecute:\n    eval: false\n---\n\n**참고**\n\n- [LangChain 에서 사용되는 주요 로더](https://python.langchain.com/v0.1/docs/modules/data_connection/document_loaders/)\n- [LangChain 에서 사용되는 로더 목록](https://python.langchain.com/v0.1/docs/integrations/document_loaders/)\n\n## 실습에 활용한 문서\n\n소프트웨어정책연구소(SPRi) - 2023년 12월호\n\n- 저자: 유재흥(AI정책연구실 책임연구원), 이지수(AI정책연구실 위촉연구원)\n- 링크: https://spri.kr/posts/view/23669\n- 파일명: `SPRI_AI_Brief_2023년12월호_F.pdf`\n\n## Document\n\nLangChain 의 기본 문서 객체입니다.\n\n**속성**\n- `page_content`: 문서의 내용을 나타내는 문열입니다.\n- `metadata`: 문서의 메타데이터를 나타내는 딕셔너리입니다.\n\n::: {#7e3c07d5 .cell execution_count=1}\n``` {.python .cell-code}\nfrom langchain_core.documents import Document\n\ndocument = Document(page_content=\"안녕하세요? 이건 랭체인의 도큐먼드 입니다\")\n```\n:::\n\n\n::: {#5d8aa8ac .cell execution_count=2}\n``` {.python .cell-code}\n# 도큐먼트의 속성 확인\ndocument.__dict__\n```\n:::\n\n\nmetadata 에 속성 추가\n\n::: {#9ea4d9d8 .cell execution_count=3}\n``` {.python .cell-code}\n# 메타데이터 추가\ndocument.metadata[\"source\"] = \"TeddyNote\"\ndocument.metadata[\"page\"] = 1\ndocument.metadata[\"author\"] = \"Teddy\"\n```\n:::\n\n\n::: {#3c057218 .cell execution_count=4}\n``` {.python .cell-code}\n# 도큐먼트의 속성 확인\ndocument.metadata\n```\n:::\n\n\n## Document Loader\n\n다양한 파일의 형식으로부터 불러온 내용을 문서(Document) 객체로 변환하는 역할을 합니다.\n\n### 주요 Loader \n- PyPDFLoader: PDF 파일을 로드하는 로더입니다.\n- CSVLoader: CSV 파일을 로드하는 로더입니다.\n- UnstructuredHTMLLoader: HTML 파일을 로드하는 로더입니다.\n- JSONLoader: JSON 파일을 로드하는 로더입니다.\n- TextLoader: 텍스트 파일을 로드하는 로더입니다.\n- DirectoryLoader: 디렉토리를 로드하는 로더입니다.\n\n::: {#7cf64324 .cell execution_count=5}\n``` {.python .cell-code}\n# 예제 파일 경로\nFILE_PATH = \"./data/SPRI_AI_Brief_2023년12월호_F.pdf\"\n```\n:::\n\n\n::: {#0de49c95 .cell execution_count=6}\n``` {.python .cell-code}\nfrom langchain_community.document_loaders import PyPDFLoader\n\n# 로더 설정\nloader = PyPDFLoader(FILE_PATH)\n```\n:::\n\n\n### load()\n\n- 문서를 로드하여 반환합니다.\n- 반환된 결과는 `List[Document]` 형태입니다.\n\n::: {#bb40acab .cell execution_count=7}\n``` {.python .cell-code}\n# PDF 로더\ndocs = loader.load()\n\n# 로드된 문서의 수 확인\nlen(docs)\n```\n:::\n\n\n::: {#cb156c7a .cell execution_count=8}\n``` {.python .cell-code}\n# 첫번째 문서 확인\ndocs[5]\n```\n:::\n\n\n### load_and_split()\n\n- splitter 를 사용하여 문서를 분할하고 반환합니다.\n- 반환된 결과는 `List[Document]` 형태입니다.\n\n::: {#b8006495 .cell execution_count=9}\n``` {.python .cell-code}\nfrom langchain_text_splitters import RecursiveCharacterTextSplitter\n\n# 문열 분할기 설정\ntext_splitter = RecursiveCharacterTextSplitter(chunk_size=200, chunk_overlap=0)\n\n# 예제 파일 경로\nFILE_PATH = \"./data/SPRI_AI_Brief_2023년12월호_F.pdf\"\n\n# 로더 설정\nloader = PyPDFLoader(FILE_PATH)\n\n# 문서 분할\nsplit_docs = loader.load_and_split(text_splitter=text_splitter)\n\n# 로드된 문서의 수 확인\nprint(f\"문서의 길이: {len(split_docs)}\")\n\n# 첫번째 문서 확인\nsplit_docs[10]\n```\n:::\n\n\n### lazy_load()\n\n- generator 방식으로 문서를 로드합니다.\n\n::: {#d95820ee .cell execution_count=10}\n``` {.python .cell-code}\nloader.lazy_load()\n```\n:::\n\n\n::: {#7809cab6 .cell execution_count=11}\n``` {.python .cell-code}\n# generator 방식으로 문서 로드\nfor doc in loader.lazy_load():\n    print(doc.metadata)\n```\n:::\n\n\n### aload()\n\n- 비동기(Async) 방식의 문서 로드\n\n::: {#13051b64 .cell execution_count=12}\n``` {.python .cell-code}\n# 문서를 async 방식으로 로드\nadocs = loader.aload()\n```\n:::\n\n\n::: {#e0b65128 .cell execution_count=13}\n``` {.python .cell-code}\n# 문서 로드\nawait adocs\n```\n:::\n\n\n",
    "supporting": [
      "00-Document-Loader_files"
    ],
    "filters": [],
    "includes": {}
  }
}