{
  "hash": "8163c3803efd28bb1bbd744f5569bae8",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: Function - Multivariable Scalar Function\nsubtitle: template\ndescription: |\n  template\ncategories:\n  - Mathematics\nauthor: Kwangmin Kim\ndate: 01/31/2023\nformat: \n  html:\n    page-layout: full\n    code-fold: true\ndraft: False\n---\n\n<ul class=\"nav nav-pills\" id=\"language-tab\" role=\"tablist\">\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link active\" id=\"Korean-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#Korean\" type=\"button\" role=\"tab\" aria-controls=\"Korean\" aria-selected=\"true\">Korean</button>\n  </li>\n  <li class=\"nav-item\" role=\"presentation\">\n    <button class=\"nav-link\" id=\"English-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#English\" type=\"button\" role=\"tab\" aria-controls=\"knitr\" aria-selected=\"false\">English</button>\n  </li>\n\n<div class=\"tab-content\" id=\"language-tabcontent\">\n\n<div class=\"tab-pane fade  show active\" id=\"Korean\" role=\"tabpanel\" aria-labelledby=\"Korean-tab\">\n\n::: {#19a4c60a .cell execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nfrom mpl_toolkits import mplot3d\nimport matplotlib.font_manager as mfm\n```\n:::\n\n\n## Multivariable Scalar Function\n\nA multivariable scalar function is a mathematical function that takes multiple input variables and outputs a single scalar value. More formally, let $f: \\mathbb{R}^n \\to \\mathbb{R}$ be a function that maps $n$ real-valued input variables $\\mathbf{x}=(x_1,x_2,\\ldots,x_n)$ to a single real-valued output $y=f(\\mathbf{x})$.\n$$\ny=f(\\mathbf x), \\space f:\\mathbb R^n \\rightarrow \\mathbb R\n$$\n\n\n### Bivariable Function\n\nLet $f: \\mathbb{R}^2 \\to \\mathbb{R}$ be a function that maps a pair of real-valued input variables $(x,y)$ to a single real-valued output $z=f(x,y)$. \n\nFor example, \n\n* $f(\\mathbf x)=f(x_1,x_2)=x_1^2+x_2^2$, which can also be represented as $f(\\mathbf x)=||x||^2=x_1^2+x_2^2$. When $g(\\mathbf x)=g(x_1,x_2)=\\sqrt{x_1^2+x_2^2}$, it is the trace of points equidistant from the origin on a plane.\n\n* Bivariable function with a quadratic form\n\n$$\nf(x_1,x_2)=2x_1^2+3x_1x_2+4x_2^2\n$$\n\nIn this example, the function $f$ takes two input variables $x_1$ and $x_2$, and outputs a single scalar value. The function has a quadratic form, meaning that it has terms that involve products of the input variables, with the highest order of these terms being 2. The function can also be written in matrix form as:\n$$\nf(\\mathbf x) = \\begin{bmatrix}x_1 & x_2\\end{bmatrix}\\begin{bmatrix}2 & \\frac{3}{2}\\\\\\frac{3}{2} & 4\\end{bmatrix}\\begin{bmatrix}x_1 \\\\ x_2\\end{bmatrix}\n$$\n\nHere, $\\mathbf{x}=(x_1,x_2)$ is a column vector of the input variables, and the matrix $\\begin{bmatrix} 2 & \\frac{3}{2} \\\\ \\frac{3}{2} & 4 \\end{bmatrix}$ encodes the quadratic form of the function.\n\nIf the quadratic form is constrained by $y=mx$,\n\n$$\nf(x,mx)=2x^2+3mx^2+4m^2x^2=(2+3m+4m^2)x^2\n$$\n\nIn this example, the function $f$ takes two input variables $x$ and $mx$, constrained by the relationship $y=mx$, and outputs a single scalar value. The function has a quadratic form, and is constrained to lie on a line with slope $m$. Note that we can rewrite the function as:\n\n$$\nf(x,mx)=(2+3m+4m^2)x^2=a_mx^2\n$$\n\nwhere $a_m = 2+3m+4m^2$ is a quadratic coefficient that depends on the slope $m$. This shows that the function $f$ has a family of quadratic forms, parameterized by the slope $m$ of the line it is constrained to lie on.\n\n::: {#5d215b50 .cell execution_count=2}\n``` {.python .cell-code}\n# Define the function\ndef f(x, m):\n    a = 2 + 3*m + 4*m**2\n    return a * x**2\n\n# Define the domain\nx = np.linspace(-5, 5, 100)\n\n# Define the slopes to visualize\nslopes = [0.5, 1, 2]\n\n# Plot the functions for each slope\nfor m in slopes:\n    y = m*x\n    z = f(x, m)\n    plt.plot(x, y, label=f\"y={m}x\")\n    plt.plot(x, z, label=f\"f(x,y)={2+3*m+4*m**2:.2f}x^2\")\n\n# Set the plot properties\nplt.xlabel(\"x\")\nplt.ylabel(\"y\")\nplt.legend()\nplt.grid()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](multivariable_scalar_function_files/figure-html/cell-3-output-1.png){}\n:::\n:::\n\n\n* $y=f(x_1,x_2)=50(x_2 - x_1^2)^2 + (2-x_1)^2, \\space f:\\mathbb R^2\\rightarrow \\mathbb R$. The $y$ value takes the shape of a curved surface.\n\n::: {#1b4e9bb9 .cell execution_count=3}\n``` {.python .cell-code}\nfig = plt.figure(figsize=(7, 7))\nax = plt.axes(projection='3d')\nx1=np.linspace(0,1,100)\nx2=np.linspace(0,1,100)\nx1,x2 = np.meshgrid(x1,x2) # multivariate scalar function 만들 때 사용\n\n#print(x2)  #x 축으로 값이 불변하고 y축으로는 값이 변함\n\ny = 50*(x2 - x1**2)**2 + (2-x1)**2\n#print(z)\n\nax.scatter3D(x1, x2, y, marker='.', color='gray')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](multivariable_scalar_function_files/figure-html/cell-4-output-1.png){}\n:::\n:::\n\n\n### Trivariable Scalar Function\n\nA trivariable scalar function is a mathematical function that takes three input variables and outputs a single scalar value. \n\n$$\nf: \\mathbb{R}^3 \\to \\mathbb{R}\n$$ \nIt is a function that maps a triple of real-valued input variables $(x,y,z)$ to a single real-valued output $w=f(x,y,z)$.\n\nFor example, \n\n* the function $f(x,y,z) = x^2 + y^2 + z^2$ is a trivariable scalar function that takes three input variables $x$, $y$, and $z$, and outputs a single scalar value, which is the sum of their squares.\n\n::: {#5f0119a8 .cell execution_count=4}\n``` {.python .cell-code}\nfrom mpl_toolkits.mplot3d import Axes3D\n\n# Define the function\ndef f(x, y, z):\n    return x**2 + y**2 + z**2\n\n# Define the domain\nx = np.linspace(-5, 5, 50)\ny = np.linspace(-5, 5, 50)\nX, Y = np.meshgrid(x, y)\nZ = f(X, Y, 0)\n\n# Plot the level sets\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.set_xlabel('x')\nax.set_ylabel('y')\nax.set_zlabel('z')\nax.set_title(r'Level sets of $f(x,y,z) = x^2 + y^2 + z^2$')\nfor level in np.arange(0, 26, 5):\n    ax.contour(X, Y, Z, [level], zdir='z', offset=level, cmap='Accent')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](multivariable_scalar_function_files/figure-html/cell-5-output-1.png){}\n:::\n:::\n\n\n* The function $f(x,y,z)=2x^2+3y^2+4z^2+5xy+6xz+7yz+8x+9y+10z+11$, which is a trivariable function with a quadratic form that we've been discussing can be written in matrix form as:\n\n$$\nf(\\mathbf x) = \\begin{bmatrix}x & y & z\\end{bmatrix}\\begin{bmatrix}2 &2.5& 3\\\\2.5&3&3.5\\\\3&3.5&4\\end{bmatrix}\\begin{bmatrix}x\\\\ y \\\\ z\\end{bmatrix} + \\begin{bmatrix}4 & 4.5 & 5\\end{bmatrix}\\begin{bmatrix}x\\\\ y \\\\ z\\end{bmatrix}+11\n$$\n\nHere, $\\mathbf{x} = [x, y, z]^T$ is a column vector of the input variables, and the matrix $A$ is the symmetric matrix of quadratic coefficients:\n\n$$\n\\mathbf A = \\begin{bmatrix}2 &2.5& 3\\\\2.5&3&3.5\\\\3&3.5&4\\end{bmatrix}\n$$\n\nThe linear coefficients are represented by the column vector $\\mathbf{b} = [4, 4.5, 5]^T$, and the constant term is $11$.\n\n## 음함수 (implicit function) 형태\n  * Contour(등고선) Graph: 한쪽 변이 상수로 고정\n  * $f(x,y)=c$ ($x$ 와 $y$의 관계가 가려져 있어서 음함수)\n  * bivariable scalar function $f(x_1,x_2)=c$\n\n::: {#7774f049 .cell execution_count=5}\n``` {.python .cell-code}\nfig = plt.figure(figsize=(7, 7))\nax = fig.add_subplot(1, 1, 1)\nax.xaxis.set_tick_params(labelsize=18)\nax.yaxis.set_tick_params(labelsize=18)\n\nx1 = np.linspace(-2, 2, 51)\nx2 = np.linspace(-1, 3, 51)\nX1, X2 = np.meshgrid(x1, x2)\nZ = 50*(X2 - X1**2)**2 + (2-X1)**2\n\ncontours = ax.contour(X1, X2, Z, levels=[30, 200, 600],  colors='k', \n            linestyles=['solid','dashed', 'dotted'])\n\nax.clabel(contours, contours.levels, fmt=\"%d\", inline=True, fontsize=20)\n\nax.set_xlabel(r'$x_1$', fontsize=25)\nax.set_ylabel(r'$x_2$', fontsize=25)\n\n#if file_print == True :\n#    fig.savefig(\"imgs/chap3/fig3-6.png\", dpi=300, bbox_inches='tight')\n#    fig.savefig(\"imgs/chap3/fig3-6.pdf\", format='pdf', bbox_inches='tight')\n#    \nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](multivariable_scalar_function_files/figure-html/cell-6-output-1.png){}\n:::\n:::\n\n\n::: {#6e859537 .cell execution_count=6}\n``` {.python .cell-code}\n# Get the contour paths from allsegs attribute\npaths30 = contours.allsegs[0]\npaths200 = contours.allsegs[1]\npaths600 = contours.allsegs[2]\n\nfig = plt.figure(figsize=(7, 7))\n\nx1 = np.linspace(-2, 2, 51)\nx2 = np.linspace(-1, 3, 51)\nX1, X2 = np.meshgrid(x1, x2)\nZ = 50*(X2 - X1**2)**2 + (2-X1)**2\n\nax = plt.axes(projection='3d')\nax.xaxis.set_tick_params(labelsize=15)\nax.yaxis.set_tick_params(labelsize=15)\nax.zaxis.set_tick_params(labelsize=15)\n\nax.plot_surface(X1, X2, Z, cmap=plt.cm.binary, edgecolor=\"k\")\n#ax.plot_wireframe(X1, X2, Z, cmap=plt.cm.OrRd, edgecolor=\"k\")\n\n# Plot contour lines at z=200\nfor path in paths200:\n    ax.plot3D(path[:,0], path[:,1], [200]*len(path), \n              lw=2, color='k', linestyle='--')\n\n# Plot contour lines at z=600\nfor path in paths600:\n    ax.plot3D(path[:,0], path[:,1], [600]*len(path), \n              lw=2, color='w', linestyle='-')\n\nax.text(1.5, -1,  400, r\"$f(x_1,x_2)=200$\", color='k', fontsize=18)\nax.text(1., -1, 800, r\"$f(x_1,x_2)=600$\", color='k', fontsize=18)\n\nax.set_xlabel(r'$x_1$', fontsize=20)\nax.set_ylabel(r'$x_2$', fontsize=20)\nax.set_zlabel(r'$z$', fontsize=20)\n\nax.view_init(50, 80)\n\n#if file_print == True :\n#    fig.savefig(\"imgs/chap3/fig3-5.png\", dpi=300, bbox_inches='tight')\n#    fig.savefig(\"imgs/chap3/fig3-5.pdf\", format='pdf', bbox_inches='tight')\n#    \nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![](multivariable_scalar_function_files/figure-html/cell-7-output-1.png){}\n:::\n:::\n\n\n</div>\n\n<div class=\"tab-pane fade\" id=\"English\" role=\"tabpanel\" aria-labelledby=\"English-tab\">\n\n</div>\n\n",
    "supporting": [
      "multivariable_scalar_function_files"
    ],
    "filters": [],
    "includes": {}
  }
}