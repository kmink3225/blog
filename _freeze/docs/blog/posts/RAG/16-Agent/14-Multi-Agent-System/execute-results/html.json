{
  "hash": "b63ffc4aba9cb613af7bf630478175ba",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Multi-Agent ì‹œìŠ¤í…œ\"\nsubtitle: ì—¬ëŸ¬ ì—ì´ì „íŠ¸ê°€ í˜‘ì—…í•˜ëŠ” ë³µì¡í•œ ì‹œìŠ¤í…œ êµ¬ì¶•\ndescription: |\n  ì—¬ëŸ¬ ê°œì˜ íŠ¹í™”ëœ ì—ì´ì „íŠ¸ê°€ í˜‘ì—…í•˜ì—¬ ë³µì¡í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” Multi-Agent ì‹œìŠ¤í…œì˜ ì„¤ê³„ì™€ êµ¬í˜„ì„ ë‹¤ë£¬ë‹¤.\ncategories:\n  - AI\n  - RAG\n  - LangChain\nauthor: Kwangmin Kim\ndate: 11/18/2025\nformat: \n  html:\n    page-layout: full\n    code-fold: true\n    toc: true\n    number-sections: true\ndraft: False\nexecute:\n    eval: false\n---\n\n## Multi-Agent ì‹œìŠ¤í…œì´ë€?\n\nMulti-Agent ì‹œìŠ¤í…œì€ ì—¬ëŸ¬ ê°œì˜ íŠ¹í™”ëœ ì—ì´ì „íŠ¸ê°€ **í˜‘ì—…(Collaboration)**í•˜ì—¬ ë³µì¡í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ì•„í‚¤í…ì²˜ë‹¤.\n\n### ë‹¨ì¼ vs ë©€í‹° ì—ì´ì „íŠ¸\n\n**ë‹¨ì¼ ì—ì´ì „íŠ¸ì˜ í•œê³„:**\n- ëª¨ë“  ì‘ì—…ì„ í•˜ë‚˜ì˜ ì—ì´ì „íŠ¸ê°€ ì²˜ë¦¬\n- ì „ë¬¸ì„± ë¶€ì¡± (ì¼ë°˜í™”ëœ ë„êµ¬ë§Œ ì‚¬ìš©)\n- ë³µì¡ë„ê°€ ì¦ê°€í•˜ë©´ ì„±ëŠ¥ ì €í•˜\n- ì»¨í…ìŠ¤íŠ¸ ê¸¸ì´ ì œí•œ\n\n**Multi-Agentì˜ ì¥ì :**\n- **ì „ë¬¸í™”**: ê° ì—ì´ì „íŠ¸ê°€ íŠ¹ì • ë„ë©”ì¸ì— ì „ë¬¸í™”\n- **ë³‘ë ¬ ì²˜ë¦¬**: ë…ë¦½ì ì¸ ì‘ì—…ì„ ë™ì‹œì— ìˆ˜í–‰\n- **í™•ì¥ì„±**: ìƒˆë¡œìš´ ì—ì´ì „íŠ¸ ì¶”ê°€ ìš©ì´\n- **ê²°í•©ë ¥**: ê° ì—ì´ì „íŠ¸ì˜ ê°•ì ì„ ê²°í•©\n- **ì»¨í…ìŠ¤íŠ¸ ë¶„ë¦¬**: ê° ì—ì´ì „íŠ¸ê°€ ë…ë¦½ì ì¸ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬\n\n### Multi-Agent ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ íŒ¨í„´\n\n#### íŒ¨í„´ 1: Supervisor (ê°ë…ì)\n\n```\n           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n           â”‚  Supervisor â”‚\n           â”‚   (ì¡°ìœ¨ì)   â”‚\n           â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜\n                  â”‚\n      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n      â”‚           â”‚           â”‚\nâ”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”\nâ”‚ Agent 1  â”‚ â”‚Agent 2 â”‚ â”‚Agent 3 â”‚\nâ”‚(ê²€ìƒ‰ ì „ë¬¸)â”‚ â”‚(ë¶„ì„ ì „ë¬¸)â”‚ â”‚(ì‘ì„± ì „ë¬¸)â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**íŠ¹ì§•:**\n- ì¤‘ì•™ Supervisorê°€ ì‘ì—… ë¶„ë°°\n- ê° AgentëŠ” ë…ë¦½ì ìœ¼ë¡œ ì‘ì—… ìˆ˜í–‰\n- Supervisorê°€ ê²°ê³¼ í†µí•©\n\n#### íŒ¨í„´ 2: Hierarchical (ê³„ì¸µì )\n\n```\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n        â”‚ Manager Agentâ”‚\n        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n               â”‚\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n    â”‚          â”‚          â”‚\nâ”Œâ”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”\nâ”‚Team A â”‚  â”‚Team Bâ”‚  â”‚Team Câ”‚\nâ”‚Lead   â”‚  â”‚Lead  â”‚  â”‚Lead  â”‚\nâ””â”€â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜  â””â”€â”€â”¬â”€â”€â”€â”˜\n    â”‚         â”‚         â”‚\nâ”Œâ”€â”€â”€â”´â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”\nâ”‚Workerâ”‚  â”‚Workerâ”‚  â”‚Workerâ”‚\nâ””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜\n```\n\n**íŠ¹ì§•:**\n- ì—¬ëŸ¬ ê³„ì¸µì˜ ì—ì´ì „íŠ¸\n- ê° ê³„ì¸µì´ í•˜ìœ„ ê³„ì¸µ ê´€ë¦¬\n- ë³µì¡í•œ ì¡°ì§ êµ¬ì¡° ëª¨ë¸ë§\n\n#### íŒ¨í„´ 3: Peer-to-Peer (ë™ë“±)\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ Agent 1 â”‚â—„â”€â”€â”€â–ºâ”‚ Agent 2 â”‚\nâ””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜\n     â”‚               â”‚\n     â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚\n     â””â”€â”€â”€â–ºâ”‚ Agent 3 â”‚â—„â”˜\n          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n**íŠ¹ì§•:**\n- ì—ì´ì „íŠ¸ ê°„ ì§ì ‘ í†µì‹ \n- ì¤‘ì•™ ì¡°ìœ¨ì ì—†ìŒ\n- ë¶„ì‚° ì˜ì‚¬ê²°ì •\n\n::: {#b565521d .cell execution_count=1}\n``` {.python .cell-code}\n# API í‚¤ë¥¼ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì„¤ì • íŒŒì¼\nfrom dotenv import load_dotenv\n\n# API í‚¤ ì •ë³´ ë¡œë“œ\nload_dotenv()\n```\n:::\n\n\n::: {#9a91e639 .cell execution_count=2}\n``` {.python .cell-code}\n# LangSmith ì¶”ì ì„ ì„¤ì •í•œë‹¤. https://smith.langchain.com\n# !pip install -qU langchain-teddynote\nfrom langchain_teddynote import logging\n\n# í”„ë¡œì íŠ¸ ì´ë¦„ì„ ì…ë ¥í•œë‹¤.\nlogging.langsmith(\"CH17-Multi-Agent-System\")\n```\n:::\n\n\n## í™˜ê²½ ì„¤ì •\n\n### ê¸°ë³¸ êµ¬ì„± ìš”ì†Œ\n\nMulti-Agent ì‹œìŠ¤í…œì€ ë‹¤ìŒ ìš”ì†Œë¡œ êµ¬ì„±ëœë‹¤:\n\n1. **íŠ¹í™”ëœ Agentë“¤**: ê°ì ì „ë¬¸ ë¶„ì•¼ê°€ ìˆëŠ” ì—ì´ì „íŠ¸\n2. **Supervisor/Router**: ì‘ì—… ë¶„ë°° ë° ì¡°ìœ¨\n3. **ê³µìœ  ë©”ëª¨ë¦¬**: ì—ì´ì „íŠ¸ ê°„ ì •ë³´ ê³µìœ \n4. **í†µì‹  í”„ë¡œí† ì½œ**: ì—ì´ì „íŠ¸ ê°„ ë©”ì‹œì§€ ì „ë‹¬\n\n![Multi-Agent ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](assets/multi_agent_system.png)\n\n::: {#a772bf6e .cell execution_count=3}\n``` {.python .cell-code}\nfrom langchain_openai import ChatOpenAI\nfrom langchain_teddynote.tools.tavily import TavilySearch\nfrom langchain_core.messages import HumanMessage, SystemMessage\nfrom langgraph.checkpoint.memory import MemorySaver\nfrom langgraph.prebuilt import create_react_agent\nfrom typing import Annotated, Literal\nfrom pydantic import BaseModel\n\n# ë©”ëª¨ë¦¬ ì„¤ì • (ê³µìœ  ë©”ëª¨ë¦¬)\nmemory = MemorySaver()\n\n# ëª¨ë¸ ì„¤ì •\nmodel = ChatOpenAI(model_name=\"gpt-4o-mini\")\nsupervisor_model = ChatOpenAI(model_name=\"gpt-4o\")\n```\n:::\n\n\n## íŠ¹í™” ì—ì´ì „íŠ¸ ì •ì˜\n\n### ì—°êµ¬ ì—ì´ì „íŠ¸ (Researcher)\n\n::: {#bd5fe11a .cell execution_count=4}\n``` {.python .cell-code}\nfrom langchain_teddynote.tools.tavily import TavilySearch\n\n# ì›¹ ê²€ìƒ‰ ë„êµ¬\nweb_search = TavilySearch(\n    topic=\"general\",\n    max_results=5,\n    include_answer=False,\n)\n\n# ì—°êµ¬ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸\nresearcher_prompt = \"\"\"ë‹¹ì‹ ì€ ì „ë¬¸ ì—°êµ¬ì›(Researcher)ì…ë‹ˆë‹¤.\n\n**ì—­í• :**\n- ì›¹ì—ì„œ ìµœì‹  ì •ë³´, í†µê³„, ë‰´ìŠ¤ë¥¼ ê²€ìƒ‰\n- ë‹¤ì–‘í•œ ì†ŒìŠ¤ì—ì„œ ì •ë³´ ìˆ˜ì§‘\n- íŒ©íŠ¸ ì²´í¬ ë° ê²€ì¦\n\n**ì‘ì—… ì§€ì¹¨:**\n1. ê²€ìƒ‰ í‚¤ì›Œë“œë¥¼ ì‹ ì¤‘í•˜ê²Œ ì„ íƒ\n2. ì—¬ëŸ¬ ì†ŒìŠ¤ êµì°¨ ê²€ì¦\n3. ì¶œì²˜ë¥¼ ëª…í™•íˆ ê¸°ë¡\n4. ìš”ì•½ì€ ê°„ê²°í•˜ê³  ì •í™•í•˜ê²Œ\n\n**ì¶œë ¥ í˜•ì‹:**\n- ê²€ìƒ‰ ê²°ê³¼: [ì†ŒìŠ¤] ë‚´ìš©\n- ì£¼ìš” ë°œê²¬: í•µì‹¬ ì •ë³´ ìš”ì•½\n- ì¶œì²˜ ë§í¬: URL ëª©ë¡\"\"\"\n\n# ì—°êµ¬ ì—ì´ì „íŠ¸ ìƒì„±\nresearcher = create_react_agent(\n    model,\n    [web_search],\n    state_modifier=SystemMessage(content=researcher_prompt)\n)\n```\n:::\n\n\n### ë¶„ì„ ì—ì´ì „íŠ¸ (Analyst)\n\n::: {#7bc25a79 .cell execution_count=5}\n``` {.python .cell-code}\nfrom langchain_community.agent_toolkits import FileManagementToolkit\n\n# íŒŒì¼ ê´€ë¦¬ ë„êµ¬\nfile_tools = FileManagementToolkit(root_dir=\"tmp\").get_tools()\n\n# ë¶„ì„ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸\nanalyst_prompt = \"\"\"ë‹¹ì‹ ì€ ì „ë¬¸ ë°ì´í„° ë¶„ì„ê°€(Analyst)ì…ë‹ˆë‹¤.\n\n**ì—­í• :**\n- ìˆ˜ì§‘ëœ ë°ì´í„° ë¶„ì„ ë° í•´ì„\n- íŠ¸ë Œë“œ, íŒ¨í„´, ì¸ì‚¬ì´íŠ¸ ë„ì¶œ\n- í†µê³„ì  ë¶„ì„ ë° ì‹œê°í™”\n\n**ì‘ì—… ì§€ì¹¨:**\n1. ë°ì´í„°ì˜ ì‹ ë¢°ì„± í‰ê°€\n2. ì •ëŸ‰ì /ì •ì„±ì  ë¶„ì„ ë³‘í–‰\n3. ë¹„êµ ë¶„ì„ ë° ë²¤ì¹˜ë§ˆí‚¹\n4. ì‹¤í–‰ ê°€ëŠ¥í•œ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ\n\n**ì¶œë ¥ í˜•ì‹:**\n- ì£¼ìš” ë°œê²¬ì‚¬í•­\n- ë°ì´í„° ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸\n- ì‹œì‚¬ì  ë° ê¶Œì¥ì‚¬í•­\n- ë¶„ì„ ê·¼ê±°\"\"\"\n\n# ë¶„ì„ ì—ì´ì „íŠ¸ ìƒì„±\nanalyst = create_react_agent(\n    model,\n    file_tools,\n    state_modifier=SystemMessage(content=analyst_prompt)\n)\n```\n:::\n\n\n### ì‘ì„± ì—ì´ì „íŠ¸ (Writer)\n\n::: {#2d00eea5 .cell execution_count=6}\n``` {.python .cell-code}\n# ì‘ì„± ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸\nwriter_prompt = \"\"\"ë‹¹ì‹ ì€ ì „ë¬¸ ì‘ê°€(Writer)ì…ë‹ˆë‹¤.\n\n**ì—­í• :**\n- ì—°êµ¬ ë° ë¶„ì„ ê²°ê³¼ë¥¼ ë³´ê³ ì„œë¡œ ì‘ì„±\n- ëª…í™•í•˜ê³  ì„¤ë“ë ¥ ìˆëŠ” ë¬¸ì„œ ì‘ì„±\n- ëŒ€ìƒ ë…ìì— ë§ëŠ” í†¤ì•¤ë§¤ë„ˆ ì¡°ì ˆ\n\n**ì‘ì—… ì§€ì¹¨:**\n1. ë…¼ë¦¬ì  êµ¬ì¡°ë¡œ ë¬¸ì„œ êµ¬ì„±\n2. ì „ë¬¸ ìš©ì–´ ì ì ˆíˆ ì‚¬ìš©\n3. ì‹œê° ìë£Œ(í‘œ, ì°¨íŠ¸) í™œìš©\n4. ìš”ì•½ ë° ê²°ë¡  ëª…í™•íˆ ì œì‹œ\n\n**ì¶œë ¥ í˜•ì‹:**\n- Markdown í˜•ì‹\n- ì„¹ì…˜ë³„ í—¤ë”© êµ¬ì¡°\n- ìš”ì  ì •ë¦¬ í…Œì´ë¸”\n- ì°¸ê³  ìë£Œ ë§í¬\"\"\"\n\n# ì‘ì„± ì—ì´ì „íŠ¸ ìƒì„±\nwriter = create_react_agent(\n    model,\n    file_tools,\n    state_modifier=SystemMessage(content=writer_prompt)\n)\n```\n:::\n\n\n### ì½”ë“œ ì—ì´ì „íŠ¸ (Coder)\n\n::: {#6f46981f .cell execution_count=7}\n``` {.python .cell-code}\n# ì½”ë“œ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸\ncoder_prompt = \"\"\"ë‹¹ì‹ ì€ ì „ë¬¸ ê°œë°œì(Coder)ì…ë‹ˆë‹¤.\n\n**ì—­í• :**\n- ë°ì´í„° ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±\n- ë¶„ì„ ì½”ë“œ êµ¬í˜„\n- ìë™í™” ë„êµ¬ ê°œë°œ\n\n**ì‘ì—… ì§€ì¹¨:**\n1. ê¹¨ë—í•˜ê³  ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ ì½”ë“œ\n2. ì ì ˆí•œ ì£¼ì„ ë° ë¬¸ì„œí™”\n3. ì—ëŸ¬ ì²˜ë¦¬ ë° ê²€ì¦\n4. ì¬ì‚¬ìš© ê°€ëŠ¥í•œ í•¨ìˆ˜ ì‘ì„±\n\n**ì¶œë ¥ í˜•ì‹:**\n- Python ì½”ë“œ ë¸”ë¡\n- ì‹¤í–‰ ë°©ë²• ì„¤ëª…\n- ì…ì¶œë ¥ ì˜ˆì‹œ\n- ì˜ì¡´ì„± ëª©ë¡\"\"\"\n\n# ì½”ë“œ ì—ì´ì „íŠ¸ ìƒì„±\ncoder = create_react_agent(\n    model,\n    file_tools,\n    state_modifier=SystemMessage(content=coder_prompt)\n)\n```\n:::\n\n\n## Supervisor êµ¬í˜„\n\n### Supervisor ë¼ìš°íŒ… ë¡œì§\n\n::: {#f7b82446 .cell execution_count=8}\n``` {.python .cell-code}\nfrom typing import Literal\nfrom pydantic import BaseModel\n\nclass RouteDecision(BaseModel):\n    \"\"\"ì‘ì—… ë¼ìš°íŒ… ê²°ì •\"\"\"\n    next_agent: Literal[\"researcher\", \"analyst\", \"writer\", \"coder\", \"FINISH\"]\n    reasoning: str\n\nsupervisor_prompt = \"\"\"ë‹¹ì‹ ì€ í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €(Supervisor)ì…ë‹ˆë‹¤.\n\níŒ€ì›:\n- **researcher**: ì›¹ ê²€ìƒ‰ ë° ì •ë³´ ìˆ˜ì§‘ ì „ë¬¸\n- **analyst**: ë°ì´í„° ë¶„ì„ ë° ì¸ì‚¬ì´íŠ¸ ë„ì¶œ ì „ë¬¸\n- **writer**: ë¬¸ì„œ ì‘ì„± ë° ë³´ê³ ì„œ ì‘ì„± ì „ë¬¸\n- **coder**: ì½”ë“œ ì‘ì„± ë° ìë™í™” ì „ë¬¸\n\n**ì‘ì—… ë¶„ë°° ì›ì¹™:**\n1. ìµœì‹  ì •ë³´ í•„ìš” â†’ researcher\n2. ë°ì´í„° ë¶„ì„ í•„ìš” â†’ analyst\n3. ë¬¸ì„œ ì‘ì„± í•„ìš” â†’ writer\n4. ì½”ë“œ êµ¬í˜„ í•„ìš” â†’ coder\n5. ëª¨ë“  ì‘ì—… ì™„ë£Œ â†’ FINISH\n\n**í˜„ì¬ ìƒí™©:**\n{context}\n\n**ë‹¤ìŒ ì‘ì—…ì„ ë‹´ë‹¹í•  íŒ€ì›ì„ ì„ íƒí•˜ê³  ì´ìœ ë¥¼ ì„¤ëª…í•˜ì„¸ìš”.**\"\"\"\n\ndef create_supervisor_chain():\n    \"\"\"Supervisor ì²´ì¸ ìƒì„±\"\"\"\n    from langchain_core.prompts import ChatPromptTemplate\n    \n    prompt = ChatPromptTemplate.from_messages([\n        (\"system\", supervisor_prompt),\n        (\"human\", \"{input}\"),\n    ])\n    \n    return prompt | supervisor_model.with_structured_output(RouteDecision)\n```\n:::\n\n\n## Multi-Agent ê·¸ë˜í”„ êµ¬ì¶•\n\n### ìƒíƒœ ì •ì˜\n\n::: {#ec0612d1 .cell execution_count=9}\n``` {.python .cell-code}\nfrom typing import Annotated, TypedDict\nfrom langgraph.graph.message import add_messages\n\nclass MultiAgentState(TypedDict):\n    \"\"\"Multi-Agent ì‹œìŠ¤í…œ ìƒíƒœ\"\"\"\n    messages: Annotated[list, add_messages]\n    next_agent: str\n    research_results: str\n    analysis_results: str\n    code_results: str\n    final_report: str\n```\n:::\n\n\n### ì—ì´ì „íŠ¸ ë…¸ë“œ ì •ì˜\n\n::: {#2af72ab9 .cell execution_count=10}\n``` {.python .cell-code}\ndef researcher_node(state: MultiAgentState) -> MultiAgentState:\n    \"\"\"ì—°êµ¬ ì—ì´ì „íŠ¸ ë…¸ë“œ\"\"\"\n    result = researcher.invoke(state)\n    \n    return {\n        **state,\n        \"messages\": result[\"messages\"],\n        \"research_results\": result[\"messages\"][-1].content,\n    }\n\ndef analyst_node(state: MultiAgentState) -> MultiAgentState:\n    \"\"\"ë¶„ì„ ì—ì´ì „íŠ¸ ë…¸ë“œ\"\"\"\n    # ì—°êµ¬ ê²°ê³¼ë¥¼ ì»¨í…ìŠ¤íŠ¸ë¡œ ì¶”ê°€\n    context = f\"ì—°êµ¬ ê²°ê³¼:\\n{state.get('research_results', '')}\"\n    \n    messages = state[\"messages\"] + [\n        HumanMessage(content=f\"{context}\\n\\nìœ„ ì •ë³´ë¥¼ ë¶„ì„í•´ì£¼ì„¸ìš”.\")\n    ]\n    \n    result = analyst.invoke({\"messages\": messages})\n    \n    return {\n        **state,\n        \"messages\": result[\"messages\"],\n        \"analysis_results\": result[\"messages\"][-1].content,\n    }\n\ndef writer_node(state: MultiAgentState) -> MultiAgentState:\n    \"\"\"ì‘ì„± ì—ì´ì „íŠ¸ ë…¸ë“œ\"\"\"\n    # ì—°êµ¬ ë° ë¶„ì„ ê²°ê³¼ë¥¼ ì»¨í…ìŠ¤íŠ¸ë¡œ ì¶”ê°€\n    context = f\"\"\"\n    ì—°êµ¬ ê²°ê³¼:\n    {state.get('research_results', '')}\n    \n    ë¶„ì„ ê²°ê³¼:\n    {state.get('analysis_results', '')}\n    \"\"\"\n    \n    messages = state[\"messages\"] + [\n        HumanMessage(content=f\"{context}\\n\\nìœ„ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ë³´ê³ ì„œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.\")\n    ]\n    \n    result = writer.invoke({\"messages\": messages})\n    \n    return {\n        **state,\n        \"messages\": result[\"messages\"],\n        \"final_report\": result[\"messages\"][-1].content,\n    }\n\ndef coder_node(state: MultiAgentState) -> MultiAgentState:\n    \"\"\"ì½”ë“œ ì—ì´ì „íŠ¸ ë…¸ë“œ\"\"\"\n    result = coder.invoke(state)\n    \n    return {\n        **state,\n        \"messages\": result[\"messages\"],\n        \"code_results\": result[\"messages\"][-1].content,\n    }\n```\n:::\n\n\n### Supervisor ë…¸ë“œ\n\n::: {#74b73705 .cell execution_count=11}\n``` {.python .cell-code}\ndef supervisor_node(state: MultiAgentState) -> MultiAgentState:\n    \"\"\"Supervisor ë…¸ë“œ - ë‹¤ìŒ ì—ì´ì „íŠ¸ ê²°ì •\"\"\"\n    supervisor_chain = create_supervisor_chain()\n    \n    # í˜„ì¬ ìƒí™© ì»¨í…ìŠ¤íŠ¸\n    context = f\"\"\"\n    ì´ë¯¸ ì™„ë£Œëœ ì‘ì—…:\n    - ì—°êµ¬: {'âœ…' if state.get('research_results') else 'âŒ'}\n    - ë¶„ì„: {'âœ…' if state.get('analysis_results') else 'âŒ'}\n    - ì½”ë“œ: {'âœ…' if state.get('code_results') else 'âŒ'}\n    - ë³´ê³ ì„œ: {'âœ…' if state.get('final_report') else 'âŒ'}\n    \n    ìµœê·¼ ë©”ì‹œì§€:\n    {state['messages'][-1].content if state['messages'] else 'ì—†ìŒ'}\n    \"\"\"\n    \n    decision = supervisor_chain.invoke({\n        \"context\": context,\n        \"input\": state[\"messages\"][-1].content if state[\"messages\"] else \"\"\n    })\n    \n    return {\n        **state,\n        \"next_agent\": decision.next_agent,\n    }\n```\n:::\n\n\n### ê·¸ë˜í”„ êµ¬ì„±\n\n::: {#aacb9a90 .cell execution_count=12}\n``` {.python .cell-code}\nfrom langgraph.graph import StateGraph, START, END\n\ndef route_to_agent(state: MultiAgentState) -> str:\n    \"\"\"ë‹¤ìŒ ì—ì´ì „íŠ¸ë¡œ ë¼ìš°íŒ…\"\"\"\n    return state.get(\"next_agent\", \"FINISH\")\n\n# ê·¸ë˜í”„ ìƒì„±\nworkflow = StateGraph(MultiAgentState)\n\n# ë…¸ë“œ ì¶”ê°€\nworkflow.add_node(\"supervisor\", supervisor_node)\nworkflow.add_node(\"researcher\", researcher_node)\nworkflow.add_node(\"analyst\", analyst_node)\nworkflow.add_node(\"writer\", writer_node)\nworkflow.add_node(\"coder\", coder_node)\n\n# ì—£ì§€ ì¶”ê°€\nworkflow.add_edge(START, \"supervisor\")\nworkflow.add_conditional_edges(\n    \"supervisor\",\n    route_to_agent,\n    {\n        \"researcher\": \"researcher\",\n        \"analyst\": \"analyst\",\n        \"writer\": \"writer\",\n        \"coder\": \"coder\",\n        \"FINISH\": END,\n    }\n)\n\n# ê° ì—ì´ì „íŠ¸ì—ì„œ Supervisorë¡œ ëŒì•„ê°€ê¸°\nworkflow.add_edge(\"researcher\", \"supervisor\")\nworkflow.add_edge(\"analyst\", \"supervisor\")\nworkflow.add_edge(\"writer\", \"supervisor\")\nworkflow.add_edge(\"coder\", \"supervisor\")\n\n# ì»´íŒŒì¼\nmulti_agent_system = workflow.compile(checkpointer=memory)\n```\n:::\n\n\n**ê·¸ë˜í”„ êµ¬ì¡°:**\n- **supervisor**: ì‘ì—… ë¶„ë°° ë° ì¡°ìœ¨\n- **researcher â†’ analyst â†’ writer**: ì¼ë°˜ì ì¸ íë¦„\n- **coder**: í•„ìš” ì‹œ ë³‘ë ¬ ì‹¤í–‰\n- **ìˆœí™˜ êµ¬ì¡°**: ê° ì—ì´ì „íŠ¸ â†’ supervisor â†’ ë‹¤ìŒ ì—ì´ì „íŠ¸\n\n## ì‹¤í–‰ í•¨ìˆ˜ ì •ì˜\n\n### ìŠ¤íŠ¸ë¦¬ë° ì¶œë ¥\n\n::: {#5a54d023 .cell execution_count=13}\n``` {.python .cell-code}\nfrom langchain_teddynote.messages import stream_graph\n\ndef run_multi_agent_system(instruction: str, thread_id: str = \"main\"):\n    \"\"\"Multi-Agent ì‹œìŠ¤í…œ ì‹¤í–‰\"\"\"\n    config = {\"configurable\": {\"thread_id\": thread_id}}\n    inputs = {\n        \"messages\": [HumanMessage(content=instruction)],\n        \"next_agent\": \"supervisor\"\n    }\n    \n    for step in multi_agent_system.stream(inputs, config):\n        node_name = list(step.keys())[0]\n        print(f\"\\n{'='*50}\")\n        print(f\"ğŸ“ Current Agent: {node_name}\")\n        print(f\"{'='*50}\")\n        \n        if node_name == \"supervisor\":\n            next_agent = step[node_name].get(\"next_agent\", \"\")\n            print(f\"â¡ï¸ Next Agent: {next_agent}\")\n        else:\n            messages = step[node_name].get(\"messages\", [])\n            if messages:\n                print(messages[-1].content[:500])\n```\n:::\n\n\n## ì‚¬ìš© ì˜ˆì‹œ\n\n### ì˜ˆì‹œ 1: ì¢…í•© ì‹œì¥ ì¡°ì‚¬\n\n::: {#31674a10 .cell execution_count=14}\n``` {.python .cell-code}\ninstruction = \"\"\"\nAI ì—ì´ì „íŠ¸ ì‹œì¥ì— ëŒ€í•œ ì¢…í•© ì¡°ì‚¬ ë³´ê³ ì„œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.\n\në‹¤ìŒ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•˜ì„¸ìš”:\n1. ìµœì‹  ì‹œì¥ ë™í–¥ ë° í†µê³„ ì¡°ì‚¬ (ì›¹ ê²€ìƒ‰)\n2. ìˆ˜ì§‘ëœ ë°ì´í„° ë¶„ì„ (íŠ¸ë Œë“œ, ê¸°íšŒ, ìœ„í˜‘)\n3. Pythonìœ¼ë¡œ ê°„ë‹¨í•œ ì‹œê°í™” ì½”ë“œ ì‘ì„±\n4. ìµœì¢… ë³´ê³ ì„œ ì‘ì„± (ë§ˆí¬ë‹¤ìš´ í˜•ì‹)\n\në³´ê³ ì„œëŠ” executive summary, ì‹œì¥ ë¶„ì„, ê¸°ìˆ  íŠ¸ë Œë“œ, ê²°ë¡  ì„¹ì…˜ìœ¼ë¡œ êµ¬ì„±í•˜ì„¸ìš”.\n\"\"\"\n\nrun_multi_agent_system(instruction)\n```\n:::\n\n\n**ì‹¤í–‰ íë¦„:**\n\n```\n1. Supervisor â†’ \"ë¨¼ì € ìµœì‹  ì •ë³´ê°€ í•„ìš”í•˜ë¯€ë¡œ researcher\"\n2. Researcher â†’ ì›¹ ê²€ìƒ‰ ìˆ˜í–‰, ì‹œì¥ ë°ì´í„° ìˆ˜ì§‘\n3. Supervisor â†’ \"ë°ì´í„° ë¶„ì„ì´ í•„ìš”í•˜ë¯€ë¡œ analyst\"\n4. Analyst â†’ ì—°êµ¬ ê²°ê³¼ ë¶„ì„, ì¸ì‚¬ì´íŠ¸ ë„ì¶œ\n5. Supervisor â†’ \"ì‹œê°í™” ì½”ë“œê°€ í•„ìš”í•˜ë¯€ë¡œ coder\"\n6. Coder â†’ Python ì‹œê°í™” ì½”ë“œ ì‘ì„±\n7. Supervisor â†’ \"ë³´ê³ ì„œ ì‘ì„±ì´ í•„ìš”í•˜ë¯€ë¡œ writer\"\n8. Writer â†’ ìµœì¢… ë³´ê³ ì„œ ì‘ì„±\n9. Supervisor â†’ \"ëª¨ë“  ì‘ì—… ì™„ë£Œ\" â†’ FINISH\n```\n\n### ì˜ˆì‹œ 2: ê²½ìŸì‚¬ ë¶„ì„ í”„ë¡œì íŠ¸\n\n::: {#3a8ff264 .cell execution_count=15}\n``` {.python .cell-code}\ninstruction = \"\"\"\nì£¼ìš” ê²½ìŸì‚¬ 3ê³³(OpenAI, Anthropic, Google)ì˜ AI ì—ì´ì „íŠ¸ ì œí’ˆì„ ë¹„êµ ë¶„ì„í•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ì„¸ìš”.\n\në‹¨ê³„:\n1. ê° ê²½ìŸì‚¬ì˜ ìµœì‹  ì œí’ˆ ì •ë³´ ìˆ˜ì§‘\n2. ê¸°ëŠ¥, ê°€ê²©, ì„±ëŠ¥ ë¹„êµ ë¶„ì„\n3. ë¹„êµ í‘œ ìƒì„± Python ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±\n4. ê²½ìŸ ë¶„ì„ ë³´ê³ ì„œ ì‘ì„± (ê°•ì /ì•½ì /ê¸°íšŒ/ìœ„í˜‘)\n\nìµœì¢… ê²°ê³¼ë¬¼ì€ ë§ˆí¬ë‹¤ìš´ ë³´ê³ ì„œì™€ Python ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.\n\"\"\"\n\nrun_multi_agent_system(instruction)\n```\n:::\n\n\n**ë³‘ë ¬ ì²˜ë¦¬ ì˜ˆì‹œ:**\n- Researcher: 3ê°œ ê²½ìŸì‚¬ ì •ë³´ë¥¼ ë³‘ë ¬ë¡œ ìˆ˜ì§‘ ê°€ëŠ¥\n- Coder: ë¶„ì„ê³¼ ë…ë¦½ì ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±\n\n### ì˜ˆì‹œ 3: ìë™í™”ëœ ë‰´ìŠ¤ë ˆí„° ìƒì„±\n\n::: {#64420f52 .cell execution_count=16}\n``` {.python .cell-code}\ninstruction = \"\"\"\nì£¼ê°„ AI ë‰´ìŠ¤ë ˆí„°ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ì„¸ìš”.\n\nìš”êµ¬ì‚¬í•­:\n1. ì´ë²ˆ ì£¼ AI ê´€ë ¨ ì£¼ìš” ë‰´ìŠ¤ 5ê°œ ìˆ˜ì§‘\n2. ê° ë‰´ìŠ¤ì˜ ìš”ì•½ ë° ì‹œì‚¬ì  ë¶„ì„\n3. ë‰´ìŠ¤ë ˆí„° HTML í…œí”Œë¦¿ ìƒì„± ì½”ë“œ ì‘ì„±\n4. ìµœì¢… ë‰´ìŠ¤ë ˆí„° ì‘ì„± (ì œëª©, ë³¸ë¬¸, ë§í¬)\n\nì¶œë ¥: newsletter.html íŒŒì¼\n\"\"\"\n\nrun_multi_agent_system(instruction)\n```\n:::\n\n\n## ê³ ê¸‰ ê¸°ë²•\n\n### ì—ì´ì „íŠ¸ ê°„ ì§ì ‘ í†µì‹ \n\n::: {#bfe7a232 .cell execution_count=17}\n``` {.python .cell-code}\nclass AgentMessage(BaseModel):\n    \"\"\"ì—ì´ì „íŠ¸ ê°„ ë©”ì‹œì§€\"\"\"\n    from_agent: str\n    to_agent: str\n    content: str\n    priority: int = 0\n\ndef send_message(from_agent: str, to_agent: str, content: str, state: MultiAgentState):\n    \"\"\"ì—ì´ì „íŠ¸ ê°„ ì§ì ‘ ë©”ì‹œì§€ ì „ì†¡\"\"\"\n    message = AgentMessage(\n        from_agent=from_agent,\n        to_agent=to_agent,\n        content=content\n    )\n    \n    # ë©”ì‹œì§€ íì— ì¶”ê°€\n    state.setdefault(\"message_queue\", []).append(message)\n    \n    return state\n```\n:::\n\n\n### ë™ì  ì—ì´ì „íŠ¸ ìƒì„±\n\n::: {#d60fa0e8 .cell execution_count=18}\n``` {.python .cell-code}\ndef create_specialized_agent(domain: str, tools: list):\n    \"\"\"ë„ë©”ì¸ë³„ íŠ¹í™” ì—ì´ì „íŠ¸ ë™ì  ìƒì„±\"\"\"\n    \n    prompt = f\"\"\"ë‹¹ì‹ ì€ {domain} ì „ë¬¸ê°€ì…ë‹ˆë‹¤.\n    \n    ì „ë¬¸ ë¶„ì•¼ì— ëŒ€í•œ ê¹Šì€ ì§€ì‹ì„ í™œìš©í•˜ì—¬ ì‘ì—…ì„ ìˆ˜í–‰í•˜ì„¸ìš”.\n    \"\"\"\n    \n    return create_react_agent(\n        model,\n        tools,\n        state_modifier=SystemMessage(content=prompt)\n    )\n\n# ì‹¤í–‰ ì¤‘ ìƒˆ ì—ì´ì „íŠ¸ ì¶”ê°€\nif \"ë²•ë¥  ìë¬¸ì´ í•„ìš”í•¨\":\n    legal_agent = create_specialized_agent(\"ë²•ë¥ \", legal_tools)\n    workflow.add_node(\"legal_expert\", legal_agent)\n```\n:::\n\n\n### ì—ì´ì „íŠ¸ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§\n\n::: {#0a318991 .cell execution_count=19}\n``` {.python .cell-code}\nfrom datetime import datetime\n\nclass AgentMetrics(BaseModel):\n    \"\"\"ì—ì´ì „íŠ¸ ì„±ëŠ¥ ë©”íŠ¸ë¦­\"\"\"\n    agent_name: str\n    task_count: int = 0\n    success_count: int = 0\n    avg_time: float = 0.0\n    last_execution: datetime = None\n\ndef track_agent_performance(agent_name: str, execution_time: float, success: bool):\n    \"\"\"ì—ì´ì „íŠ¸ ì„±ëŠ¥ ì¶”ì \"\"\"\n    metrics = AgentMetrics(agent_name=agent_name)\n    \n    metrics.task_count += 1\n    if success:\n        metrics.success_count += 1\n    \n    # í‰ê·  ì‹œê°„ ì—…ë°ì´íŠ¸\n    metrics.avg_time = (metrics.avg_time * (metrics.task_count - 1) + execution_time) / metrics.task_count\n    metrics.last_execution = datetime.now()\n    \n    return metrics\n```\n:::\n\n\n### ì—ì´ì „íŠ¸ ìš°ì„ ìˆœìœ„ í\n\n::: {#fff323f1 .cell execution_count=20}\n``` {.python .cell-code}\nimport heapq\n\nclass TaskQueue:\n    \"\"\"ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì‘ì—… í\"\"\"\n    \n    def __init__(self):\n        self.queue = []\n    \n    def add_task(self, priority: int, agent_name: str, task: dict):\n        \"\"\"ì‘ì—… ì¶”ê°€ (ìš°ì„ ìˆœìœ„ ë†’ì„ìˆ˜ë¡ ë¨¼ì € ì‹¤í–‰)\"\"\"\n        heapq.heappush(self.queue, (-priority, agent_name, task))\n    \n    def get_next_task(self):\n        \"\"\"ë‹¤ìŒ ì‘ì—… ê°€ì ¸ì˜¤ê¸°\"\"\"\n        if self.queue:\n            priority, agent_name, task = heapq.heappop(self.queue)\n            return agent_name, task\n        return None, None\n```\n:::\n\n\n## Multi-Agent íŒ¨í„´ ë¹„êµ\n\n| íŒ¨í„´ | ì¥ì  | ë‹¨ì  | ì‚¬ìš© ì¼€ì´ìŠ¤ |\n|------|------|------|------------|\n| **Supervisor** | ëª…í™•í•œ ì¡°ìœ¨, ì¶”ì  ìš©ì´ | ë³‘ëª© ê°€ëŠ¥, ì¤‘ì•™ ì˜ì¡´ì„± | ìˆœì°¨ì  ì‘ì—…, ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° |\n| **Hierarchical** | í™•ì¥ì„±, ëª…í™•í•œ ì—­í•  | êµ¬í˜„ ë³µì¡, ì˜¤ë²„í—¤ë“œ | ëŒ€ê·œëª¨ ì¡°ì§, ê³„ì¸µì  ì‘ì—… |\n| **Peer-to-Peer** | ìœ ì—°ì„±, ë¶„ì‚° ì²˜ë¦¬ | ì¡°ìœ¨ ì–´ë ¤ì›€, ì¶©ëŒ ê°€ëŠ¥ | ë…ë¦½ì  ì‘ì—…, ë™ì  í˜‘ì—… |\n\n## ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤\n\n### ì—ì´ì „íŠ¸ ì—­í•  ëª…í™•í™”\n\n```python\n# âŒ ë‚˜ìœ ì˜ˆ\nagent = create_react_agent(model, all_tools)\n\n# âœ… ì¢‹ì€ ì˜ˆ\nresearcher = create_react_agent(\n    model,\n    [web_search],  # íŠ¹í™”ëœ ë„êµ¬ë§Œ\n    state_modifier=SystemMessage(content=researcher_prompt)  # ëª…í™•í•œ ì—­í• \n)\n```\n\n### ì—ì´ì „íŠ¸ ìˆ˜ ìµœì í™”\n\n```python\n# âŒ ë„ˆë¬´ ë§ì€ ì—ì´ì „íŠ¸\n# 10ê°œ ì´ìƒ â†’ ì¡°ìœ¨ ë³µì¡ë„ ì¦ê°€\n\n# âœ… ì ì ˆí•œ ìˆ˜\n# 3-5ê°œ â†’ ëª…í™•í•œ í˜‘ì—… êµ¬ì¡°\n```\n\n### í†µì‹  í”„ë¡œí† ì½œ ì •ì˜\n\n```python\n# âœ… í‘œì¤€í™”ëœ ë©”ì‹œì§€ í˜•ì‹\nclass StandardMessage(BaseModel):\n    sender: str\n    receiver: str\n    message_type: Literal[\"request\", \"response\", \"notification\"]\n    content: str\n    metadata: dict = {}\n```\n\n## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…\n\n### ë¬¸ì œ 1: ì—ì´ì „íŠ¸ ê°„ ë¬´í•œ ë£¨í”„\n\n```python\ndef detect_loop(state: MultiAgentState, max_iterations: int = 10):\n    \"\"\"ë¬´í•œ ë£¨í”„ ê°ì§€\"\"\"\n    if len(state.get(\"messages\", [])) > max_iterations:\n        raise ValueError(\"ë¬´í•œ ë£¨í”„ ê°ì§€: ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ ì´ˆê³¼\")\n```\n\n### ë¬¸ì œ 2: ì—ì´ì „íŠ¸ ì¶©ëŒ\n\n```python\ndef resolve_conflict(agent1_result, agent2_result):\n    \"\"\"ì¶©ëŒ í•´ê²°: íˆ¬í‘œ ë˜ëŠ” Supervisor ê²°ì •\"\"\"\n    # íˆ¬í‘œ ë°©ì‹\n    votes = {\n        \"agent1\": 0,\n        \"agent2\": 0,\n    }\n    \n    # Supervisorê°€ ìµœì¢… ê²°ì •\n    supervisor_decision = supervisor_model.invoke(\n        f\"ë‹¤ìŒ ë‘ ê²°ê³¼ ì¤‘ ë” ì í•©í•œ ê²ƒì„ ì„ íƒí•˜ì„¸ìš”:\\n1. {agent1_result}\\n2. {agent2_result}\"\n    )\n    \n    return supervisor_decision\n```\n\n### ë¬¸ì œ 3: ë©”ëª¨ë¦¬ ì˜¤ë²„í”Œë¡œìš°\n\n```python\ndef cleanup_memory(state: MultiAgentState, keep_last_n: int = 10):\n    \"\"\"ë©”ëª¨ë¦¬ ì •ë¦¬: ìµœê·¼ Nê°œ ë©”ì‹œì§€ë§Œ ìœ ì§€\"\"\"\n    if len(state[\"messages\"]) > keep_last_n:\n        state[\"messages\"] = state[\"messages\"][-keep_last_n:]\n    \n    return state\n```\n\n## ì°¸ê³  ìë£Œ\n\n- [Multi-Agent Systems ë…¼ë¬¸](https://arxiv.org/abs/2308.08155)\n- [LangGraph Multi-Agent Tutorial](https://langchain-ai.github.io/langgraph/tutorials/multi_agent/)\n- [Agent Communication Protocols](https://www.fipa.org/repository/aclspecs.html)\n\n## ë‹¤ìŒ ë‹¨ê³„\n\nMulti-Agent ì‹œìŠ¤í…œì˜ ê¸°ë³¸ì„ ìµí˜”ë‹¤ë©´, ë‹¤ìŒ ì£¼ì œë“¤ì„ ì‚´í´ë³´ì:\n\n- **Agent Orchestration**: ë³µì¡í•œ ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜\n- **Distributed Agent Systems**: ë¶„ì‚° í™˜ê²½ì—ì„œì˜ ì—ì´ì „íŠ¸ ì‹¤í–‰\n- **Agent Learning**: ì—ì´ì „íŠ¸ê°€ í˜‘ì—…ì„ í†µí•´ í•™ìŠµí•˜ëŠ” ì‹œìŠ¤í…œ\n- **Human-in-the-Loop Multi-Agent**: ì‚¬ëŒê³¼ ì—ì´ì „íŠ¸ì˜ í˜‘ì—…\n\n",
    "supporting": [
      "14-Multi-Agent-System_files"
    ],
    "filters": [],
    "includes": {}
  }
}