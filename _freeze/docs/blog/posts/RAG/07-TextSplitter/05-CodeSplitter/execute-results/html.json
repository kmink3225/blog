{
  "hash": "471b3693bd72cb39597a4dc2d75de4e8",
  "result": {
    "engine": "jupyter",
    "markdown": "---\ntitle: \"Split code\"\nsubtitle: í…ìŠ¤íŠ¸ ë¶„í• \ndescription: |\n  íš¨ìœ¨ì ì¸ ë¬¸ì„œ ì²­í‚¹ì„ ìœ„í•œ ë‹¤ì–‘í•œ í…ìŠ¤íŠ¸ ë¶„í•  ì „ëµì„ ë‹¤ë£¬ë‹¤.\ncategories:\n  - AI\n  - RAG\n  - LangChain\nauthor: Kwangmin Kim\ndate: 12/31/2024\nformat: \n  html:\n    page-layout: full\n    code-fold: true\n    toc: true\n    number-sections: true\ndraft: False\nexecute:\n    eval: false\n---\n\nCodeTextSplitterë¥¼ ì‚¬ìš©í•˜ë©´ ë‹¤ì–‘í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ì‘ì„±ëœ ì½”ë“œë¥¼ ë¶„í• í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nì´ë¥¼ ìœ„í•´ì„œëŠ” `Language` enumì„ importí•˜ê³ , í•´ë‹¹í•˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ì§€ì •í•´ì£¼ë©´ ë©ë‹ˆë‹¤.\n\n\n`RecursiveCharacterTextSplitter`ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ë¥¼ ë¶„í• í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.\n\n- `langchain_text_splitters` ëª¨ë“ˆì—ì„œ `Language`ì™€ `RecursiveCharacterTextSplitter` í´ë˜ìŠ¤ë¥¼ ì„í¬íŠ¸í•©ë‹ˆë‹¤.\n- `RecursiveCharacterTextSplitter`ëŠ” í…ìŠ¤íŠ¸ë¥¼ ë¬¸ì ë‹¨ìœ„ë¡œ ì¬ê·€ì ìœ¼ë¡œ ë¶„í• í•˜ëŠ” í…ìŠ¤íŠ¸ ë¶„í• ê¸°ì…ë‹ˆë‹¤.\n\n::: {#75ae1725 .cell execution_count=1}\n``` {.python .cell-code}\nfrom langchain_text_splitters import (\n    Language,\n    RecursiveCharacterTextSplitter,\n)\n```\n:::\n\n\nì§€ì›ë˜ëŠ” ì–¸ì–´ì˜ ì „ì²´ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\n\n::: {#29d9db84 .cell execution_count=2}\n``` {.python .cell-code}\n# ì§€ì›ë˜ëŠ” ì–¸ì–´ì˜ ì „ì²´ ëª©ë¡ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.\n[e.value for e in Language]\n```\n:::\n\n\n`RecursiveCharacterTextSplitter` í´ë˜ìŠ¤ì˜ `get_separators_for_language` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ì–¸ì–´ì— ì‚¬ìš©ë˜ëŠ” êµ¬ë¶„ì(separators)ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n- ì˜ˆì‹œì—ì„œëŠ” `Language.PYTHON` ì—´ê±°í˜• ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•˜ì—¬ Python ì–¸ì–´ì— ì‚¬ìš©ë˜ëŠ” êµ¬ë¶„ìë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\n\n::: {#c4f02159 .cell execution_count=3}\n``` {.python .cell-code}\n# ì£¼ì–´ì§„ ì–¸ì–´ì— ëŒ€í•´ ì‚¬ìš©ë˜ëŠ” êµ¬ë¶„ìë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nRecursiveCharacterTextSplitter.get_separators_for_language(Language.PYTHON)\n```\n:::\n\n\n## Python\n\n`RecursiveCharacterTextSplitter` ì‚¬ìš©í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n- `RecursiveCharacterTextSplitter`ë¥¼ ì‚¬ìš©í•˜ì—¬ Python ì½”ë“œë¥¼ ë¬¸ì„œ ë‹¨ìœ„ë¡œ ë¶„í• í•©ë‹ˆë‹¤.\n  - `language` ë§¤ê°œë³€ìˆ˜ì— `Language.PYTHON`ì„ ì§€ì •í•˜ì—¬ Python ì–¸ì–´ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n  - `chunk_size`ë¥¼ 50ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ê° ë¬¸ì„œì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ì œí•œí•©ë‹ˆë‹¤.\n  - `chunk_overlap`ì„ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë¬¸ì„œ ê°„ì˜ ì¤‘ë³µì„ í—ˆìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.\n\n::: {#54f16d7a .cell execution_count=4}\n``` {.python .cell-code}\nPYTHON_CODE = \"\"\"\ndef hello_world():\n    print(\"Hello, World!\")\n\nhello_world()\n\"\"\"\n\npython_splitter = RecursiveCharacterTextSplitter.from_language(\n    language=Language.PYTHON, chunk_size=50, chunk_overlap=0\n)\n```\n:::\n\n\n`Document` ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ìƒì„±ëœ `Document` ëŠ” ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.\n\n::: {#7be44efe .cell execution_count=5}\n``` {.python .cell-code}\npython_docs = python_splitter.create_documents([PYTHON_CODE])\npython_docs\n```\n:::\n\n\n::: {#871627ad .cell execution_count=6}\n``` {.python .cell-code}\nfor doc in python_docs:\n    print(doc.page_content, end=\"\\n==================\\n\")\n```\n:::\n\n\n## JS\n\në‹¤ìŒì€ JS í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œì…ë‹ˆë‹¤\n\n::: {#230fc2c9 .cell execution_count=7}\n``` {.python .cell-code}\nJS_CODE = \"\"\"\nfunction helloWorld() {\n  console.log(\"Hello, World!\");\n}\n\nhelloWorld();\n\"\"\"\n\njs_splitter = RecursiveCharacterTextSplitter.from_language(\n    language=Language.JS, chunk_size=60, chunk_overlap=0\n)\n\njs_docs = js_splitter.create_documents([JS_CODE])\njs_docs\n```\n:::\n\n\n## TS\n\në‹¤ìŒì€ TS í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n::: {#759a9eba .cell execution_count=8}\n``` {.python .cell-code}\nTS_CODE = \"\"\"\nfunction helloWorld(): void {\n  console.log(\"Hello, World!\");\n}\n\nhelloWorld();\n\"\"\"\n\nts_splitter = RecursiveCharacterTextSplitter.from_language(\n    language=Language.TS, chunk_size=60, chunk_overlap=0\n)\nts_docs = ts_splitter.create_documents([TS_CODE])\nts_docs\n```\n:::\n\n\n## Markdown\n\në‹¤ìŒì€ Markdown í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n::: {#ea2bc93c .cell execution_count=9}\n```` {.python .cell-code}\nmarkdown_text = \"\"\"\n# ğŸ¦œï¸ğŸ”— LangChain\n\nâš¡ LLMì„ í™œìš©í•œ ì´ˆìŠ¤í”¼ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì¶• âš¡\n\n## ë¹ ë¥¸ ì„¤ì¹˜\n\n```bash\npip install langchain\n````\n:::\n\n\n# ë¹ ë¥´ê²Œ ë°œì „í•˜ëŠ” ë¶„ì•¼ì˜ ì˜¤í”ˆ ì†ŒìŠ¤ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤. ë§ê´€ë¶€ ğŸ™\n\"\"\"\n```\n\në¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.\n\n::: {#93106005 .cell execution_count=10}\n``` {.python .cell-code}\nmd_splitter = RecursiveCharacterTextSplitter.from_language(\n    # ë§ˆí¬ë‹¤ìš´ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ ë¶„í• ê¸° ìƒì„±\n    language=Language.MARKDOWN,\n    # ì²­í¬ í¬ê¸°ë¥¼ 60ìœ¼ë¡œ ì„¤ì •\n    chunk_size=60,\n    # ì²­í¬ ê°„ ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì´ ì—†ë„ë¡ ì„¤ì •\n    chunk_overlap=0,\n)\n# ë§ˆí¬ë‹¤ìš´ í…ìŠ¤íŠ¸ë¥¼ ë¶„í• í•˜ì—¬ ë¬¸ì„œ ìƒì„±\nmd_docs = md_splitter.create_documents([markdown_text])\n# ìƒì„±ëœ ë¬¸ì„œ ì¶œë ¥\nmd_docs\n```\n:::\n\n\n## Latex\n\nLaTeXëŠ” ë¬¸ì„œ ì‘ì„±ì„ ìœ„í•œ ë§ˆí¬ì—… ì–¸ì–´ë¡œ, ìˆ˜í•™ ê¸°í˜¸ì™€ ìˆ˜ì‹ì„ í‘œí˜„í•˜ëŠ” ë° ë„ë¦¬ ì‚¬ìš©ë©ë‹ˆë‹¤.\n\në‹¤ìŒì€ LaTeX í…ìŠ¤íŠ¸ì˜ ì˜ˆì‹œì…ë‹ˆë‹¤.\n\n::: {#7e01fedf .cell execution_count=11}\n``` {.python .cell-code}\nlatex_text = \"\"\"\n\\documentclass{article}\n\n\\begin{document}\n\n\\maketitle\n\n\\section{Introduction}\n% LLMì€ ë°©ëŒ€í•œ ì–‘ì˜ í…ìŠ¤íŠ¸ ë°ì´í„°ë¡œ í•™ìŠµí•˜ì—¬ ì‚¬ëŒê³¼ ìœ ì‚¬í•œ ì–¸ì–´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ í•™ìŠµ ëª¨ë¸ì˜ í•œ ìœ í˜•ì…ë‹ˆë‹¤.\n% ìµœê·¼ ëª‡ ë…„ ë™ì•ˆ LLMì€ ì–¸ì–´ ë²ˆì—­, í…ìŠ¤íŠ¸ ìƒì„±, ê°ì„± ë¶„ì„ ë“± ë‹¤ì–‘í•œ ìì—°ì–´ ì²˜ë¦¬ ì‘ì—…ì—ì„œ ìƒë‹¹í•œ ë°œì „ì„ ì´ë£¨ì—ˆìŠµë‹ˆë‹¤.\n\n\\subsection{History of LLMs}\n% ì´ˆê¸° LLMì€ 1980ë…„ëŒ€ì™€ 1990ë…„ëŒ€ì— ê°œë°œë˜ì—ˆì§€ë§Œ, ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë°ì´í„° ì–‘ê³¼ ë‹¹ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í“¨íŒ… ëŠ¥ë ¥ìœ¼ë¡œ ì¸í•´ ì œí•œë˜ì—ˆìŠµë‹ˆë‹¤.\n% ê·¸ëŸ¬ë‚˜ ì§€ë‚œ 10ë…„ ë™ì•ˆ í•˜ë“œì›¨ì–´ì™€ ì†Œí”„íŠ¸ì›¨ì–´ì˜ ë°œì „ìœ¼ë¡œ ëŒ€ê·œëª¨ ë°ì´í„° ì„¸íŠ¸ì— ëŒ€í•´ LLMì„ í•™ìŠµì‹œí‚¬ ìˆ˜ ìˆê²Œ ë˜ì—ˆê³ , ì´ëŠ” ì„±ëŠ¥ì˜ í° í–¥ìƒìœ¼ë¡œ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤.\n\n\\subsection{Applications of LLMs}\n% LLMì€ ì±—ë´‡, ì½˜í…ì¸  ìƒì„±, ê°€ìƒ ì–´ì‹œìŠ¤í„´íŠ¸ ë“± ì‚°ì—… ë¶„ì•¼ì—ì„œ ë§ì€ ì‘ìš© ë¶„ì•¼ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.\n% ë˜í•œ ì–¸ì–´í•™, ì‹¬ë¦¬í•™, ì»´í“¨í„° ì–¸ì–´í•™ ì—°êµ¬ë¥¼ ìœ„í•´ í•™ê³„ì—ì„œë„ ì‚¬ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n\\end{document}\n\"\"\"\n```\n:::\n\n\në¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.\n\n::: {#5b2bafb9 .cell execution_count=12}\n``` {.python .cell-code}\nlatex_splitter = RecursiveCharacterTextSplitter.from_language(\n    # ë§ˆí¬ë‹¤ìš´ ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ë¥¼ ë¶„í• í•©ë‹ˆë‹¤.\n    language=Language.LATEX,\n    # ê° ì²­í¬ì˜ í¬ê¸°ë¥¼ 60ìë¡œ ì„¤ì •í•©ë‹ˆë‹¤.\n    chunk_size=60,\n    # ì²­í¬ ê°„ì˜ ì¤‘ë³µë˜ëŠ” ë¬¸ì ìˆ˜ë¥¼ 0ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.\n    chunk_overlap=0,\n)\n# latex_textë¥¼ ë¶„í• í•˜ì—¬ ë¬¸ì„œ ëª©ë¡ì„ ìƒì„±í•©ë‹ˆë‹¤.\nlatex_docs = latex_splitter.create_documents([latex_text])\n# ìƒì„±ëœ ë¬¸ì„œ ëª©ë¡ì„ ì¶œë ¥í•©ë‹ˆë‹¤.\nlatex_docs\n```\n:::\n\n\n## HTML\n\nHTML í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n::: {#b5a5550a .cell execution_count=13}\n``` {.python .cell-code}\nhtml_text = \"\"\"\n<!DOCTYPE html>\n<html>\n    <head>\n        <title>ğŸ¦œï¸ğŸ”— LangChain</title>\n        <style>\n            body {\n                font-family: Arial, sans-serif;  \n            }\n            h1 {\n                color: darkblue;\n            }\n        </style>\n    </head>\n    <body>\n        <div>\n            <h1>ğŸ¦œï¸ğŸ”— LangChain</h1>\n            <p>âš¡ Building applications with LLMs through composability âš¡</p>  \n        </div>\n        <div>\n            As an open-source project in a rapidly developing field, we are extremely open to contributions.\n        </div>\n    </body>\n</html>\n\"\"\"\n```\n:::\n\n\në¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.\n\n::: {#4692e39e .cell execution_count=14}\n``` {.python .cell-code}\nhtml_splitter = RecursiveCharacterTextSplitter.from_language(\n    # HTML ì–¸ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ìŠ¤íŠ¸ ë¶„í• ê¸° ìƒì„±\n    language=Language.HTML,\n    # ì²­í¬ í¬ê¸°ë¥¼ 60ìœ¼ë¡œ ì„¤ì •\n    chunk_size=60,\n    # ì²­í¬ ê°„ ì¤‘ë³µë˜ëŠ” ë¶€ë¶„ì´ ì—†ë„ë¡ ì„¤ì •\n    chunk_overlap=0,\n)\n# ì£¼ì–´ì§„ HTML í…ìŠ¤íŠ¸ë¥¼ ë¶„í• í•˜ì—¬ ë¬¸ì„œ ìƒì„±\nhtml_docs = html_splitter.create_documents([html_text])\n# ìƒì„±ëœ ë¬¸ì„œ ì¶œë ¥\nhtml_docs\n```\n:::\n\n\n## Solidity\n\nSolidity í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:\n\n- Solidity ì½”ë“œë¥¼ ë¬¸ìì—´ í˜•íƒœë¡œ `SOL_CODE` ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.\n- `RecursiveCharacterTextSplitter`ë¥¼ ì‚¬ìš©í•˜ì—¬ Solidity ì½”ë“œë¥¼ ì²­í¬ ë‹¨ìœ„ë¡œ ë¶„í• í•˜ëŠ” `sol_splitter`ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.\n  - `language` ë§¤ê°œë³€ìˆ˜ë¥¼ `Language.SOL`ë¡œ ì„¤ì •í•˜ì—¬ Solidity ì–¸ì–´ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\n  - `chunk_size`ë¥¼ 128ë¡œ ì„¤ì •í•˜ì—¬ ê° ì²­í¬ì˜ ìµœëŒ€ í¬ê¸°ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.\n  - `chunk_overlap`ì„ 0ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ì²­í¬ ê°„ì˜ ì¤‘ë³µì„ ì—†ì•±ë‹ˆë‹¤.\n- `sol_splitter.create_documents()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ `SOL_CODE`ë¥¼ ì²­í¬ ë‹¨ìœ„ë¡œ ë¶„í• í•˜ê³ , ë¶„í• ëœ ì²­í¬ë¥¼ `sol_docs` ë³€ìˆ˜ì— ì €ì¥í•©ë‹ˆë‹¤.\n- `sol_docs`ë¥¼ ì¶œë ¥í•˜ì—¬ ë¶„í• ëœ Solidity ì½”ë“œ ì²­í¬ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.\n\n::: {#4c11f8cf .cell execution_count=15}\n``` {.python .cell-code}\nSOL_CODE = \"\"\"\npragma solidity ^0.8.20; \ncontract HelloWorld {  \n   function add(uint a, uint b) pure public returns(uint) {\n       return a + b;\n   }\n}\n\"\"\"\n\n# ë¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.\nsol_splitter = RecursiveCharacterTextSplitter.from_language(\n    language=Language.SOL, chunk_size=128, chunk_overlap=0\n)\n\nsol_docs = sol_splitter.create_documents([SOL_CODE])\nsol_docs\n```\n:::\n\n\n## C#\n\nC# í…ìŠ¤íŠ¸ ë¶„í• ê¸°ë¥¼ ì‚¬ìš©í•œ ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.\n\n::: {#7089fe72 .cell execution_count=16}\n``` {.python .cell-code}\nC_CODE = \"\"\"\nusing System;\nclass Program\n{\n    static void Main()\n    {\n        Console.WriteLine(\"Enter a number (1-5):\");\n        int input = Convert.ToInt32(Console.ReadLine());\n        for (int i = 1; i <= input; i++)\n        {\n            if (i % 2 == 0)\n            {\n                Console.WriteLine($\"{i} is even.\");\n            }\n            else\n            {\n                Console.WriteLine($\"{i} is odd.\");\n            }\n        }\n        Console.WriteLine(\"Goodbye!\");\n    }\n}\n\"\"\"\n\n# ë¶„í• í•˜ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•©ë‹ˆë‹¤.\nc_splitter = RecursiveCharacterTextSplitter.from_language(\n    language=Language.CSHARP, chunk_size=128, chunk_overlap=0\n)\nc_docs = c_splitter.create_documents([C_CODE])\nc_docs\n```\n:::\n\n\n",
    "supporting": [
      "05-CodeSplitter_files"
    ],
    "filters": [],
    "includes": {}
  }
}