---
title: "Prompt Analytics - 사용자 세그먼테이션과 프롬프트 전략"
subtitle: Turn-Action-Stance-Structure 기준 사용자 분류와 세그먼트별 최적화 전략
description: |
  대화 분석의 Turn, Action, Stance, Structure 네 가지 기준을 조합하여 사용자를 세그먼트로 분류하고,  
  각 세그먼트별 특성에 맞는 프롬프트 전략을 수립한다.  
  SI(정보검색형), MISP/MOSP(사교형), MISU/MOSU(탐색형) 등 핵심 세그먼트의  
  행동 패턴, 이탈 원인, 멀티턴 전환 전략을 분석한다.  
  Gamification, 캐릭터 챗봇, 동적 FAQ 생성 등 실무 적용 가능한  
  리텐션 개선 전략과 A/B 테스트 방법론을 구체적 예시와 함께 제시한다.
categories:
  - Prompt Engineering 
  - AI
  - RAG
  - Agent
author: Kwangmin Kim
date: 01/22/2025
format: 
  html:
    code-fold: true
    toc: true
    number-sections: true
draft: False
---

# User Segmentation  

사용자를 특정 기준에 따라 그룹으로 분류하는 방법  

## Segmentation의 필요성  

AI 서비스에서 사용자 세그먼트를 파악하는 것은 다음과 같은 이유로 중요하다.  

* **개인화된 경험 제공**: 사용자 성향에 맞는 응답 전략 수립  
* **리텐션 개선**: 이탈 가능성이 높은 세그먼트를 사전에 식별  
* **프롬프트 최적화**: 세그먼트별로 효과적인 프롬프트 패턴 적용  
* **서비스 개선**: Heavy User와 Low Retention User의 행동 차이 분석  

프롬프트 분석만으로도 사용자의 성향을 예측할 수 있다는 점이 핵심이다. 별도의 설문조사나 행동 추적 없이도 **대화 패턴**을 통해 사용자를 분류할 수 있다.  

### 개인화 정교화 단계

- GenAI 나 Platform Service시 사용자에 맞춤화된 서비스를 제공하면 고객의 이탈률을 방지하고 서비스 품질을 극대화할 수 있다.  
- Cutomization의 단계별 차이점을 설명하겠다: Segmentation, Personalization, Hyperpersonalization

#### Segmentation

- 그룹 단위 분류  
  - 사용자를 공통 특성에 따라 **그룹으로 묶는 것**  
  - 같은 세그먼트 내 사용자들은 **동일한 전략** 적용  
  - 기준: 인구통계(나이·성별), 행동 데이터, 관심사 등
  - 큰 사용자 집단을 효율적으로 나누어 반응을 높일 수 있다.
  - 예
    - SI 계열 사용자 전체에게 동일한 FAQ 제공  
    - 20대 남성 러너 VS 40대 여성 건강관심층  
    - 온라인 쇼핑에서 “반려동물 용품 관심군” 대상 타깃 광고  
    - LLM 기반 챗봇에서 “초보자 그룹”과 “전문가 그룹”으로 응답 톤을 달리함

```
[예시]
세그먼트: MIEP (멀티턴, 정보검색, 긍정감정, 선호구조)
→ 이 그룹 전체에게 "Gamification + 페르소나" 전략 적용
→ 그룹 내 모든 사용자가 같은 경험
```

#### Personalization

- 개인화: **개인별 맞춤 조정**  
- 그룹이 아니라 한 사람 단위: 개별 사용자의 **과거 행동, 선호도, 컨텍스트**를 기반으로 맞춤 제공
- 같은 세그먼트라도 **개인별로 다른 경험**
- 사용자의 행동 데이터 및 선호 기반
- 개인별 추천 알고리즘, 컨텍스트 기반 응답 생성 등
- 예: 
  - 사용자 A는 Python 관련 FAQ, 사용자 B는 JavaScript 관련 FAQ
  - 사용자 검색/클릭 패턴 기반 상품 추천
  - 교육용 LLM이 사용자의 지난 답변 스타일을 반영
  - 스트리밍 서비스가 개인 취향 기반 플레이리스트 생성

```
[예시]
사용자 A (MIEP): 최근 Python 학습 → Python 추천 질문 제공
사용자 B (MIEP): 최근 웹개발 학습 → JavaScript 추천 질문 제공
→ 같은 세그먼트지만 개인별로 다른 콘텐츠
```

#### Hyperpersonalization 

- 초개인화: GenAI·LLM·RAG·Behavioral Modeling 등이 여기에 결합된다.
- 정적 정보·과거 행동뿐 아니라 **실시간 데이터, 상황, 맥락(Context), 사용자 상태고려**하여 초정교하게 개별화하는 방식  
- **현재 상황, 감정, 의도**까지 실시간 분석하여 최적화
- 개인화보다 한 단계 더 깊은 초개인화  
- 실시간 컨텍스트: 위치, 시간대, 최근 행동, 입력 문맥  
- GenAI가 사용자의 의도·상황·감정·패턴을 실시간 분석해 즉답 생성
- 모델이 계속 사용자를 학습하며 출력이 변화
- AI/ML을 활용해 **예측적으로** 대응
- 다양한 데이터 소스 통합 (행동, 위치, 시간, 디바이스 등)
- 예: 
  - 지금 이 순간의 감정 상태, 급한 정도까지 반영  
  - 피트니스 앱에서 “현재 심박·날씨·사용자 피로도·과거 패턴”을 반영한 운동 플랜 생성  
  - GenAI 에이전트가 사용자의 프로젝트 이력과 현재 진행상황을 반영하여 자동으로 문서 초안 생성  
  - 은행에서 거래 패턴, 위치, 소비 흐름 기반 실시간 금융 제안  

```
[예시]
사용자 A (MIEP):
- 오전 9시, 모바일, "급해!" 표현 → 간결한 답변 우선
- 오후 8시, 데스크탑, 여유로운 대화 → 심화 설명 제공
- 에러 3번 반복 → 감정 공감 강화 + 단계별 가이드

→ 같은 사람이라도 순간순간 다른 경험
```

##### 비교표

| 구분 | Segmentation | Personalization | Hyperpersonalization |
|------|--------------|-----------------|---------------------|
| **단위** | 그룹 | 개인 | 개인 + 상황 |
| **기준** | 공통 특성 | 과거 행동/선호 | 실시간 컨텍스트 |
| **정적/동적** | 정적 | 반정적 | 완전 동적 |
| **데이터** | 기본 분류 기준 | 사용자 히스토리 | 다중 소스 실시간 |
| **기술** | 규칙 기반 | 데이터 분석 | AI/ML 예측 |
| **예시** | SI 그룹 → FAQ | 사용자별 주제 추천 | 현재 감정/상황 반영 |

## 실무 적용 단계

1. Segmentation
  * LLM 기반 고객 분류: “러닝 관심군”, “취업준비군”, “기술 문서 작성군”  
2. Personalization: 
  * 사용자 과거 대화 톤·문체를 반영한 응답 생성  
  * 프로젝트 히스토리를 학습한 맞춤형 설명  
3. Hyperpersonalization  
  * 사용자의 현재 질문 패턴, 이전 세션 히스토리, 업무 스타일, 선호 포맷을 조합해 문서 초안·코드·전략을 ‘지금 상황에 최적화된 형태로’ 생성  
  * 실시간 RAG로 개인 문서·기록까지 결합해 맞춤형 조언 생성


## Segmentation 분류 기준  

사용자 세그먼트는 대화 분석의 네 가지 기준을 조합하여 분류한다.  

### Turn (턴): 대화 범위  

* **싱글턴 (Single Turn, S)**: 한 번의 질문-답변으로 완결, 추가 맥락, 후속 질문 없음  
* **멀티턴 (Multi Turn, M)**: 여러 차례 이어지는 대화  

### Action (행위): 대화 목적  

* **Information Seeking (I)**: 정보 검색 및 조회 (창의성 결여)  
    * “코사인 유사도 계산식이 뭐야?”      
    * “한국 평균 수면 시간은 몇 시간이야?”      
    * “SQL 인덱스는 왜 필요해?”     
* **Other Action (O)**: 생성, 변환, 분석, 조언, 창작 등  (창의성 포함)  
  * “이 내용을 기반으로 발표 스크립트 만들어줘.” (생성)
  * “내 프로젝트 요약문을 3문단으로 다시 작성해줘.” (생성)
  * “이 코드를 파이썬에서 자바로 변환해줘.” (변환)
  * “이 표를 JSON 형식으로 바꿔줘.” (변환)
  * “이 로그 패턴을 보고 어떤 문제가 있는지 분석해줘.” (분석)
  * “이 튜닝 파라미터 값이 모델에 어떤 영향을 줄지 해석해줘.”  (분석)
  * “데이터 사이언티스트 면접에서 이력 설명을 어떻게 구성하면 좋겠어?”  (조언)
  * “복합갈등 상황에서 어떤 소통전략이 효과적일까?”  (조언)
  * “딥러닝 개념을 쉽게 설명하는 비유를 새로 만들어줘.”  (창작)
  * “운동 루틴을 내 조건에 맞게 디자인해줘.”  (창작)

### Stance (입장): 감정적 태도  

* **발견되지 않음 (Unobserved, U)**  
  * 감정 표현이 거의 없음    
  * 객관적 정보 질문  
  * 요청 자체가 중립적이며 냉정한 정보 탐색의 형태 
  * 예시
    * “BERT와 GPT의 구조적 차이를 정리해줘.”  
    * “SQL 조인 종류를 표로 설명해줘.”  
    * “하프마라톤 페이스 계산법 알려줘.”   
* **감정 있음 - 긍정 (Emotion Positive, E)**  
  * 만족, 호의, 긍정적 감정 표현이 명시적으로 표현된 경우.  
  * 예시  
    * 이 설명 좋았다. 비슷한 방식으로 한 번 더 정리해줘.”  
    * “아 이거 유용하네. 다음 단계도 알려줘.”   
    * “괜찮은데? 이 흐름으로 문서 만들어줘.”  
    * “좋아, 이 방식 마음에 들어.”  
* **감정 있음 - 부정 (Emotion Negative, N)**  
  * 불만, 좌절, 부정적 감정 표현    
  * “이 설명 너무 복잡하다. 더 간단히 해.”  
  * “이건 내가 원하는 방향이 아닌데.”  
  * “이해가 안 된다. 다시 제대로 정리해라.”  

### Structure (구조): 대화 흐름 선호도  

Structure는 사용자의 **암묵적 기대**를 나타낸다. 같은 질문이라도 맥락에 따라 선호 구조가 달라질 수 있다:  

* **선호 구조 (Preferred, P)**
  * 사용자가 AI가 주도적으로 바로 행동·생성·해결해주길 기대
  * 요구사항이 명확하고 즉각적 실행을 요청  
  * 예: 
    * "파이썬 코드 작성해줘" → 즉시 코드 생성 기대  
    * “이 내용을 요약해줘.”  
    * “파이썬 코드로 즉시 구현해줘.”  
    * “이 데이터로 인사이트 5개 뽑아줘.”  
* **비선호 구조 (Dispreferred, D)**
  - 비선호 구조 (Dispreferred, D)
    - 사용자가 AI가 바로 답변하지 않고, 먼저 질문하거나 맥락을 확인해주길 기대
    - 요구사항이 불명확하거나, 상황에 따라 맞춤형 제안을 원함
    - 대부분 “맞춤형 추천” 또는 “기획·설계” 상황에서 나타난다.
    - 예
      * "우리 회사 데이터 처리 파이프라인 설계 도와줘" → AI가 먼저 현재 시스템, 데이터 규모, 처리 목적 등을 질문한 뒤 맞춤형 답변 제공
      * "내 상황에 맞는 머신러닝 알고리즘 추천해줘" → AI가 데이터 유형, 목표, 해석 가능성 등 추가 정보를 요청한 뒤 추천
      * "프로젝트 구조 추천해줘" → 맥락 및 요구사항 확인 후 맞춤 제안 기대  
* **알 수 없음 (Unobserved, Zero의 Z)**
  * 요청이 짧거나 모호해서 선호 구조를 단정하기 어려운 경우.  
  * 실행을 원하는지, 질문을 원하는지 불명확.
  * 예  
    * “이거 어떻게 해야 하지?”  
    * “다음 단계는 뭐야?”    
    * “이 문제 해결하려면?”    
    * “이거 좀 봐줘.”    
    * “설명 좀.”  

```  
[선호 구조 - Preferred]  
사용자: "파이썬으로 CSV 파일 읽는 코드 짜줘"  
→ 기대: 즉시 코드 제공  

[비선호 구조 - Dispreferred]  
사용자: "우리 회사 데이터 처리 파이프라인 설계 도와줘"  
→ 기대: 현재 시스템, 데이터 규모, 처리 요구사항 등 질문 먼저  
```  

### Domain 

(추후에 추가예정)

### 코드 요약표

| 위치 | 기준 | 코드 | 의미 |
|------|------|------|------|
| 1번째 | **Turn** | S | Single-turn (싱글턴) |
| | | M | Multi-turn (멀티턴) |
| 2번째 | **Action** | I | Information Seeking (정보검색) |
| | | O | Other Action (기타행위: 생성/변환/분석/조언/창작) |
| 3번째 | **Stance** | U | Unobserved (감정 미관찰) |
| | | E | Emotion Positive (긍정 감정) |
| | | N | Emotion Negative (부정 감정) |
| 4번째 | **Structure** | P | Preferred (즉시 답변/행동 선호) |
| | | D | Dispreferred (질문/확인 먼저 선호) |
| | | Z | Zero/Unobserved (선호 불명확) |
| 5번째 | **Domain** | B | Bio (생물학) |

### 세그먼트 명명 규칙  

세그먼트 코드는 5 가지 기준을 조합하여 구성된다.  

```  
[Turn][Action][Stance][Structure][Domain]  
```  

**예시:**  
- **MIEP** = Multi-turn (M) + Information Seeking (I) + Emotion Positive (E) + Preferred (P)  + Bio (B)
- **SIUP** = Single-turn (S) + Information Seeking (I) + Unobserved (U) + Preferred (P)  
- **MOND** = Multi-turn (M) + Other Action (O) + Emotion Negative (N) + Dispreferred (D)  

**실무 간소화:**  
4가지 기준을 모두 명시하면 코드가 길어지므로, 실무에서는 주요 특성만 표기하는 경우가 많다:  
- **SI** = Single-turn + Information Seeking (Stance와 Structure는 맥락에서 판단)  
- **MISP** = Multi-turn + Information Seeking + Stance(감정) + Preferred  

## 세그먼트 분류표 (전체 36가지)

| Turn | Action | Stance | Structure | 코드 | 특징 | 빈도 |  
|------|--------|--------|-----------|------|------|------|  
| Single | IS | Unobserved | Preferred | SIUP | 빠른 정보 검색, 감정 없음 | ★★★★★ |  
| Single | IS | Unobserved | Dispreferred | SIUD | 정보 검색 전 맥락 확인 필요 | ★☆☆☆☆ |  
| Single | IS | Unobserved | Zero | SIUZ | 정보 검색, 선호 불명확 | ★★☆☆☆ |  
| Single | IS | Emotion Positive | Preferred | SIEP | 긍정적 정보 요청 | ★★☆☆☆ |  
| Single | IS | Emotion Positive | Dispreferred | SIED | 긍정적이지만 맥락 확인 선호 | ★☆☆☆☆ |  
| Single | IS | Emotion Positive | Zero | SIEZ | 긍정적 정보 요청, 선호 불명확 | ★☆☆☆☆ |  
| Single | IS | Emotion Negative | Preferred | SINP | 부정적이지만 즉시 답변 요구 | ★★★☆☆ |  
| Single | IS | Emotion Negative | Dispreferred | SIND | 불만족하며 맥락 확인 요청 | ★☆☆☆☆ |  
| Single | IS | Emotion Negative | Zero | SINZ | 부정적 정보 요청, 선호 불명확 | ★☆☆☆☆ |  
| Single | OA | Unobserved | Preferred | SOUP | 즉시 생성/변환 요청, 감정 없음 | ★★★☆☆ |  
| Single | OA | Unobserved | Dispreferred | SOUD | 생성 전 요구사항 확인 필요 | ★☆☆☆☆ |  
| Single | OA | Unobserved | Zero | SOUZ | 생성 요청, 선호 불명확 | ★☆☆☆☆ |  
| Single | OA | Emotion Positive | Preferred | SOEP | 협조적 창작/생성 요청 | ★★☆☆☆ |  
| Single | OA | Emotion Positive | Dispreferred | SOED | 긍정적이지만 맥락 확인 선호 | ★☆☆☆☆ |  
| Single | OA | Emotion Positive | Zero | SOEZ | 긍정적 생성 요청, 선호 불명확 | ★☆☆☆☆ |  
| Single | OA | Emotion Negative | Preferred | SONP | 불만족하며 즉시 수정/변환 요구 | ★★☆☆☆ |  
| Single | OA | Emotion Negative | Dispreferred | SOND | 부정적이며 맥락 확인 요청 | ★☆☆☆☆ |  
| Single | OA | Emotion Negative | Zero | SONZ | 부정적 생성 요청, 선호 불명확 | ★☆☆☆☆ |  
| Multi | IS | Unobserved | Preferred | MIUP | 탐색적 학습자, 즉시 답변 선호 | ★★★☆☆ |  
| Multi | IS | Unobserved | Dispreferred | MIUD | 탐색적이며 맥락 확인 선호 | ★★☆☆☆ |  
| Multi | IS | Unobserved | Zero | MIUZ | 탐색적 학습, 선호 불명확 | ★☆☆☆☆ |  
| Multi | IS | Emotion Positive | Preferred | MIEP | AI 친화적 학습자 (충성도 높음) | ★★★★☆ |  
| Multi | IS | Emotion Positive | Dispreferred | MIED | 긍정적이지만 맥락 확인 선호 | ★★☆☆☆ |  
| Multi | IS | Emotion Positive | Zero | MIEZ | 긍정적 학습자, 선호 불명확 | ★☆☆☆☆ |  
| Multi | IS | Emotion Negative | Preferred | MINP | 불만족 사용자, 즉시 해결 요구 (이탈 위험) | ★★☆☆☆ |  
| Multi | IS | Emotion Negative | Dispreferred | MIND | 불만족하며 맥락 확인 요청 | ★☆☆☆☆ |  
| Multi | IS | Emotion Negative | Zero | MINZ | 불만족 사용자, 선호 불명확 | ★☆☆☆☆ |  
| Multi | OA | Unobserved | Preferred | MOUP | 중립적 창작/분석, 즉시 실행 선호 | ★★☆☆☆ |  
| Multi | OA | Unobserved | Dispreferred | MOUD | 세밀한 조정 선호, 맥락 확인 필요 (전문가형) | ★★☆☆☆ |  
| Multi | OA | Unobserved | Zero | MOUZ | 중립적 창작, 선호 불명확 | ★☆☆☆☆ |  
| Multi | OA | Emotion Positive | Preferred | MOEP | 창작 협업자, 즉시 실행 선호 (프리미엄 전환) | ★★★☆☆ |  
| Multi | OA | Emotion Positive | Dispreferred | MOED | 긍정적 협업자, 맥락 확인 선호 | ★★☆☆☆ |  
| Multi | OA | Emotion Positive | Zero | MOEZ | 긍정적 창작자, 선호 불명확 | ★☆☆☆☆ |  
| Multi | OA | Emotion Negative | Preferred | MONP | 불만족하며 즉시 수정 요구 | ★★☆☆☆ |  
| Multi | OA | Emotion Negative | Dispreferred | MOND | 불만족하며 맥락 확인 요청 | ★☆☆☆☆ |  
| Multi | OA | Emotion Negative | Zero | MONZ | 부정적 창작 요청, 선호 불명확 | ★☆☆☆☆ |  

**빈도 범례:**  
- ★★★★★ = 매우 흔함 (60-70%)  
- ★★★★☆ = 흔함 (20-30%)  
- ★★★☆☆ = 보통 (5-10%)  
- ★★☆☆☆ = 드묾 (1-5%)  
- ★☆☆☆☆ = 매우 드묾 (<1%)  

## 대표적인 3가지 핵심 세그먼트  

실무에서 가장 빈번하게 관찰되는 세 가지 세그먼트는 다음과 같다.  

### Segment 1: Single-Turn, Information Seeking (SI 계열)  

**대표 코드:** SIUP, SINP  

**특징:**  
- **정보 검색형 사용자**  
- 즉흥적으로 문제를 해결하려는 경향  
- 빠른 답변을 원하며, 답을 얻으면 즉시 이탈  
- 대화의 깊이보다 속도를 중시  
- 직접적인 답변 선호 (Preferred Structure)  

**행동 패턴:**  
```  
사용자: "파이썬 리스트 정렬하는 방법?"  
AI: [답변 제공]  
[대화 종료]  
```  

**프롬프트 전략:**  
- 간결하고 명확한 답변  
- 코드 예시 즉시 제공  
- 추가 질문 유도 장치 필요 (멀티턴 전환)  

### Segment 2: Multi-Turn, Emotion Positive, Preferred (MIEP, MOEP)  

**대표 코드:** MIEP, MOEP  

**특징:**  
- **AI 친화적이고 사교적인 사용자**  
- 긍정적인 대화를 선호함  
- AI와의 유대감 형성에 관심  
- 대화의 길이가 길고, 목표가 명확함  
- 직접적인 가이드 선호  

**행동 패턴:**  
```  
사용자: "머신러닝 공부 시작하려고 하는데 도움 줄 수 있어?"  
AI: [학습 로드맵 제시]  
사용자: "좋아! 첫 번째 단계부터 자세히 설명해줘"  
AI: [설명 제공]  
사용자: "완전 이해했어! 다음 단계는?"  
[대화 계속]  
```  

**프롬프트 전략:**  
- 공감적 표현 사용  
- 단계별 가이드 제공  
- Gamification 요소 적용  
- 캐릭터/페르소나 활용  

### Segment 3: Multi-Turn, Unobserved (MI 계열, MO 계열)  

**대표 코드:** MIUP, MIUD, MOUP, MOUD  

**특징:**  
- **새로운 아이디어를 고민하는 사용자**  
- 여러 턴의 대화를 통해 가능성을 탐구  
- 명확한 감정 표현 없이 탐색적 질문  
- 브레인스토밍 또는 개념 정리 목적  
- Structure는 상황에 따라 다름 (P 또는 D)  

**행동 패턴:**  
```  
사용자: "GPT와 BERT의 차이를 설명해줘"  
AI: [설명 제공]  
사용자: "그럼 각각 어떤 상황에 적합할까?"  
AI: [비교 설명]  
사용자: "실제 프로젝트에 적용할 때 고려사항은?"  
[탐색적 대화 계속]  
```  

**프롬프트 전략:**  
- 다각적 관점 제시  
- 비교/대조 정보 제공  
- 후속 질문 유도  
- 심화 자료 링크 제공  

## 일반적인 세그먼트 분포  

실제 AI 서비스에서 관찰되는 세그먼트 비율은 다음과 같다.  

> **SI 계열 >>>> MIEP/MOEP 계열 > MI/MO 계열 (Unobserved)**  

**분포 특징:**  
- **SI 계열 (정보 검색형)**: 전체의 60-70%  
- **MIEP/MOEP 계열 (사교형)**: 전체의 20-30%  
- **MI/MO Unobserved 계열 (탐색형)**: 전체의 5-10%  

이 분포는 대부분의 사용자가 **즉각적인 문제 해결**을 원한다는 것을 보여준다.  

## 세그먼트 활용 전략  

### 사용자 발화 데이터 정량화  

**방법:**  
1. 사용자 프롬프트를 수집  
2. LLM을 활용하여 Turn, Action, Stance, Structure 분류  
3. 세그먼트별 분포 산출  

**예시 프롬프트 (분류용):**  
```  
다음 사용자 발화를 분석하여 세그먼트를 분류한다.  

사용자 발화: "머신러닝 알고리즘 추천해줘"  

분석 기준:  
1. Turn: 싱글턴(S) / 멀티턴(M)  
2. Action: Information Seeking(I) / Other Action(O)  
3. Stance: Unobserved(U) / Emotion Positive(E) / Emotion Negative(N)  
4. Structure: Preferred(P) / Dispreferred(D) / Unobserved(U)  

답변 형식: [세그먼트 코드 4자리]  
```  

### Heavy User 및 Loyalty User 파악  

**분석 방법:**  
- **MIEP/MOEP 계열**: 가장 충성도 높은 사용자 → 커뮤니티 형성, 프리미엄 기능 제공  
- **SI 계열**: 빠르게 이탈 가능 → 멀티턴 유도 장치 필요  
- **MI/MO Unobserved 계열**: 잠재적 파워 유저 → 심화 콘텐츠 제공  

### 세그먼트별 A/B 테스트  

**테스트 예시:**  

| 세그먼트 | A안 (기존) | B안 (개선) | 측정 지표 |  
|----------|------------|------------|-----------|  
| SIUP | 간결한 답변 | 답변 + FAQ 버튼 | 멀티턴 전환율 |  
| MIEP | 일반 응답 | 공감 표현 추가 | 대화 길이 |  
| MIUP | 단일 관점 설명 | 다각적 비교 분석 | 후속 질문 수 |  

### Low Retention 그룹 원인 분석  

**분석 프로세스:**  
1. 이탈한 사용자의 세그먼트 분류  
2. 세그먼트별 이탈 시점 파악  
3. 공통 패턴 추출  

**예시 인사이트:**  
- SI 사용자가 3번 이상 방문 시 → MIEP로 전환 가능성 높음  
- MINP (불만족) 사용자 → 답변 품질 문제 또는 기대 불일치  
- MIUD (비선호 구조) 사용자 → 맞춤형 질문 부족으로 이탈  

### 환경 변화에 따른 세그먼트 추적  

**추적 시나리오:**  
- 신기능 출시 후 세그먼트 변화  
- 프롬프트 전략 변경 후 전환율  
- 경쟁 서비스 등장 후 이탈 패턴  

**예시:**  
```  
[2025년 1월] SIUP 70%, MIEP 25%, MIUP 5%  
[FAQ 기능 추가]  
[2025년 3월] SIUP 60%, MIEP 30%, MIUP 10%  
→ 인사이트: FAQ가 멀티턴 유도에 효과적  
```


## 네 가지 기준 통합 분석  

효과적인 프롬프트는 네 가지 기준을 모두 고려해야 한다.  

### 예시 1: 정보 검색 (싱글턴, 비감정적, 선호 구조)  

**프롬프트:**  
```  
"파이썬 3.11의 주요 변경 사항을 공식 문서 기준으로 정리해줘.  
성능 개선, 새로운 기능, 제거된 기능으로 분류해서 설명해줘."  
```  

**분석:**  
- **Turn**: 싱글턴 (S) - 한 번에 완결  
- **Action**: 정보 검색 (I) + 분류  
- **Stance**: 감정 없음 (N) - 객관적 정보 요청  
- **Structure**: 선호 구조 (P) - 직접 답변 기대  
- **세그먼트 코드**: SINP  

### 예시 2: 복잡한 문제 해결 (멀티턴, 부정적 감정, 선호 구조)  

**프롬프트:**  
```  
"머신러닝 프로젝트에서 과적합(overfitting)이 계속 발생해서 정말 답답해.  
단계별로 해결 방법을 알려주고, 각 단계마다 내가 질문할게."  
```  

**분석:**  
- **Turn**: 멀티턴 (M) - 점진적 해결 계획  
- **Action**: 조언 (O) + 문제 해결  
- **Stance**: 감정 있음 - 부정 (N) - "답답해"  
- **Structure**: 선호 구조 (P) - 직접적 가이드 기대  
- **세그먼트 코드**: MONP  

### 예시 3: 탐색적 질문 (멀티턴, 감정 미관찰, 비선호 구조)  

**프롬프트:**  
```  
"스타트업 초기에 어떤 기술 스택을 선택해야 할까?  
우리 상황에 대해 물어보고 추천해줘."  
```  

**분석:**  
- **Turn**: 멀티턴 (M) - 대화형 탐색  
- **Action**: 정보 검색 (I) + 조언  
- **Stance**: 발견되지 않음 (U) - 감정 표현 없음  
- **Structure**: 비선호 구조 (D) - 질문/확인 요청  
- **세그먼트 코드**: MIUD  

### 예시 4: 즉각적 작업 요청 (싱글턴, 긍정적 감정, 선호 구조)  

**프롬프트:**  
```  
"CSV 파일 읽는 파이썬 코드 빠르게 짜줘!  
급하게 필요해서 그래."  
```  

**분석:**  
- **Turn**: 싱글턴 (S) - 즉시 완결 기대  
- **Action**: 생성 (O) - 코드 작성  
- **Stance**: 감정 있음 - 긍정 (E) - 협조적 태도  
- **Structure**: 선호 구조 (P) - 즉시 코드 제공 기대  
- **세그먼트 코드**: SOEP  

## 세그먼트별 응답 전략 요약  

| 세그먼트 | Turn | Action | Stance | Structure | 응답 전략 |  
|----------|------|--------|--------|-----------|----------|  
| SIUP | Single | IS | Unobserved | Preferred | 간결한 답변 + FAQ |  
| SINP | Single | IS | Emotion Negative | Preferred | 객관적 정보 즉시 제공 |  
| MIEP | Multi | IS | Emotion Positive | Preferred | 공감 + 단계별 가이드 + Gamification |  
| MIUP | Multi | IS | Unobserved | Preferred | 다각적 분석 + 후속 질문 유도 |  
| MIUD | Multi | IS | Unobserved | Dispreferred | 맥락 확인 질문 먼저 |  
| MOEP | Multi | OA | Emotion Positive | Preferred | 협업적 창작 + 페르소나 활용 |  
| MINP | Multi | IS | Emotion Negative | Preferred | 공감 + 문제 해결 집중 |  

## 실전 프롬프트 설계 체크리스트  

프롬프트를 설계할 때 다음 항목들을 고려한다:  

**1. Turn 분석**  
- [ ] 싱글턴으로 끝날 것인가, 멀티턴이 필요한가?  
- [ ] 멀티턴이라면 몇 턴 정도 예상되는가?  

**2. Action 분석**  
- [ ] 정보 검색인가, 다른 행위인가?  
- [ ] 생성/변환/분석/조언/창작 중 무엇인가?  

**3. Stance 분석**  
- [ ] 사용자의 감정이 드러나는가?  
- [ ] 긍정적인가, 부정적인가, 중립적인가?  
- [ ] 탐색적 태도인가, 단정적 요청인가?  

**4. Structure 분석**  
- [ ] 즉시 답변을 원하는가?  
- [ ] 질문/확인 후 답변을 원하는가?  
- [ ] 맥락이 충분한가?  

**5. 응답 전략 수립**  
- [ ] 세그먼트 코드를 정확히 식별했는가?  
- [ ] 해당 세그먼트에 맞는 응답 구조를 선택했는가?  
- [ ] 멀티턴 유도 장치가 필요한가?  
- [ ] 감정적 공감이 필요한가?  

## 프롬프트 개선 사례  

### Before: 일반적 응답  

```  
[사용자] "데이터 분석 공부 시작하려는데 뭐부터 해야 할까?"  

[AI - Before]  
"데이터 분석을 시작하려면:  
1. Python 기초 학습  
2. Pandas, NumPy 라이브러리 학습  
3. 데이터 시각화 (Matplotlib, Seaborn)  
4. 통계 기초  
5. 실전 프로젝트  

각 단계를 순서대로 진행하면 된다."  
```  

### After: 세그먼트 기반 맞춤 응답  

**세그먼트 분석**: MIED (Multi + IS + Emotion Positive + Dispreferred)  
- 멀티턴 대화 가능성  
- 긍정적 태도 (학습 의지)  
- 맥락 확인 후 맞춤 추천 선호  

```  
[사용자] "데이터 분석 공부 시작하려는데 뭐부터 해야 할까?"  

[AI - After]  
"데이터 분석 공부를 시작하려는 거구나! 좋은 결정이다.  
맞춤형 로드맵을 제시하기 위해 몇 가지 질문을 하겠다:  

1. 프로그래밍 경험이 있나? (Python, R 등)  
2. 관심 분야는? (비즈니스, 마케팅, 금융, 연구 등)  
3. 학습에 할애할 수 있는 시간은? (주 몇 시간?)  
4. 목표는? (취업, 이직, 프로젝트, 취미)  

답변을 바탕으로 단계별 로드맵과 추천 자료를 제공하겠다."  
```  

아니다. 아직 완료되지 않았다. 문서가 중간에 잘렸다. 계속 이어서 작성하겠다:

```markdown
**개선 효과:**  
- 사용자 맥락 파악 → 맞춤형 추천 가능  
- 멀티턴 대화 자연스럽게 유도  
- 긍정적 감정 공감 표현  

## A/B 테스트 설계 가이드  

세그먼트별 프롬프트 전략의 효과를 검증하기 위한 A/B 테스트 설계 방법  

### 테스트 설계 프레임워크  

**1. 가설 설정**  
```  
세그먼트: SIUP  
가설: "동적 FAQ 제공 시 멀티턴 전환율이 30% 이상 증가한다"  

A안 (Control): 기존 응답 (간결한 답변만)  
B안 (Treatment): 답변 + 동적 FAQ 3개  

측정 지표:  
- 주요: 멀티턴 전환율  
- 부가: FAQ 클릭율, 세션 지속 시간  
```  

**2. 세그먼트 분리**  
```  
[테스트 그룹 구성]  
- SIUP: 60% 샘플  
- SINP: 10% 샘플  
- 기타 SI 계열: 30% 샘플  

각 세그먼트를 50:50으로 A/B 분배  
```  

**3. 측정 기간**  
```  
최소 2주 (통계적 유의성 확보)  
일일 모니터링: 이상 징후 탐지  
주간 분석: 중간 결과 검토  
```  

**4. 성공 기준**  
```  
Primary Metric:  
- 멀티턴 전환율 +30% 이상  
- p-value < 0.05  

Secondary Metrics:  
- FAQ 클릭율 > 35%  
- 세션 지속 시간 +20% 이상  
- 재방문율 변화 추적  
```  

### 세그먼트별 테스트 시나리오  

**Scenario 1: SI → MI 전환 테스트**  
```  
대상: SIUP, SINP  
변인: FAQ 제공 유무  
기대효과: 멀티턴 전환율 증가  

[A안]  
간결한 답변만 제공  

[B안]  
답변 + 관련 질문 3개  
- 초급 질문 1개  
- 중급 질문 1개  
- 고급/응용 질문 1개  
```  

**Scenario 2: MIEP 리텐션 테스트**  
```  
대상: MIEP, MOEP  
변인: Gamification 요소  
기대효과: 재방문율 및 세션 길이 증가  

[A안]  
일반 공감 표현 + 답변  

[B안]  
공감 표현 + 진행도 표시 + 배지 시스템  
"[진행도 65%] 잘하고 있다!  
다음 배지까지 2단계 남았다."  
```  

**Scenario 3: MIUD 만족도 테스트**  
```  
대상: MIUD, MIUU  
변인: 응답 구조 (질문 먼저 vs 답변 먼저)  
기대효과: 사용자 만족도 증가  

[A안 - Preferred 스타일]  
즉시 답변 제공  

[B안 - Dispreferred 스타일]  
맥락 확인 질문 먼저  
"프로젝트에 최적화된 추천을 위해  
몇 가지 질문을 하겠다..."  
```  

### 결과 분석 및 해석  

**1. 정량적 분석**  
```  
메트릭 비교:  
- 전환율: A안 15% vs B안 45% (+30%p)  
- 통계적 유의성: p < 0.01  
- 신뢰구간: 95% CI [25%, 35%]  

결론: B안 채택  
```  

**2. 정성적 분석**  
```  
사용자 피드백 수집:  
- 긍정: "추가 질문이 도움됐다"  
- 부정: "FAQ가 너무 많다"  
- 개선점: "난이도별 필터 추가"  
```  

**3. 세그먼트별 차이 분석**  
```  
SIUP: +35% 전환율 (높은 효과)  
SINP: +20% 전환율 (중간 효과)  
→ 인사이트: 감정 없는(N) 사용자는  
  FAQ 효과가 상대적으로 낮음  
```  

## 실무 적용 로드맵  

### Phase 1: 현황 분석 (1-2주)  

**Step 1: 데이터 수집**  
```  
- 사용자 프롬프트 로그 수집  
- 대화 패턴 분석  
- 이탈 지점 파악  
```  

**Step 2: 세그먼트 분류**  
```  
LLM을 활용한 자동 분류:  

프롬프트:  
"다음 대화를 분석하여 세그먼트를 분류한다.  

대화:  
[사용자 발화들]  

출력 형식:  
{  
  "turn": "S/M",  
  "action": "I/O",  
  "stance": "U/EP/EN/N",  
  "structure": "P/D/Z",  
  "segment_code": "XXXX",  
  "confidence": 0.95  
}"  
```  

**Step 3: 분포 분석**  
```  
세그먼트별 비율 산출:  
- SI 계열: 65%  
- MIEP 계열: 25%  
- MI 계열: 10%  

우선순위 결정:  
1. SI → MI 전환 (Quick Win)  
2. MIEP 리텐션 강화  
3. MI 심화 콘텐츠 제공  
```  

### Phase 2: 전략 수립 (1-2주)  

**Step 1: 세그먼트별 전략 정의**  
```  
[SI 계열]  
목표: 멀티턴 전환율 +30%  
전략: 동적 FAQ 생성  
KPI: 전환율, FAQ 클릭율  

[MIEP 계열]  
목표: 재방문율 +25%  
전략: Gamification + 페르소나  
KPI: 재방문율, 세션 길이  

[MI 계열]  
목표: 만족도 향상  
전략: 다각적 분석 제공  
KPI: NPS, 후속 질문 수  
```  

**Step 2: 프롬프트 템플릿 개발**  
```  
각 세그먼트별로:  
- System Prompt 작성  
- 응답 구조 정의  
- 예시 생성  
- 엣지 케이스 처리  
```  

**Step 3: A/B 테스트 설계**  
```  
- 가설 설정  
- 메트릭 정의  
- 샘플 크기 계산  
- 테스트 기간 결정  
```  

### Phase 3: 구현 및 테스트 (2-4주)  

**Step 1: 파일럿 테스트**  
```  
소규모 사용자 그룹 (10-20%):  
- 기술적 안정성 검증  
- 초기 피드백 수집  
- 버그 수정  
```  

**Step 2: 전체 롤아웃**  
```  
단계적 확대:  
Week 1: 30% 트래픽  
Week 2: 60% 트래픽  
Week 3: 100% 트래픽  
```  

**Step 3: 모니터링**  
```  
실시간 대시보드:  
- 세그먼트별 전환율  
- 에러율  
- 응답 시간  
- 사용자 만족도  
```  

### Phase 4: 분석 및 최적화 (지속)  

**Step 1: 주간 분석**  
```  
- 메트릭 추이 검토  
- 세그먼트 이동 패턴  
- 이상 징후 탐지  
```  

**Step 2: 월간 리뷰**  
```  
- 목표 달성도 평가  
- 개선 기회 식별  
- 다음 달 계획 수립  
```  

**Step 3: 지속적 개선**  
```  
- 새로운 패턴 발견  
- 프롬프트 템플릿 업데이트  
- 세그먼트 재정의  
```  

## 핵심 요약  

### 4가지 분류 기준  

1. **Turn**: 싱글턴(S) vs 멀티턴(M)  
2. **Action**: 정보검색(I) vs 기타행위(O)  
3. **Stance**: 발견되지않음(U) / 감정긍정(E) / 감정부정(N)  
4. **Structure**: 선호(P) / 비선호(D) / 알수없음(Z)  

### 3가지 핵심 세그먼트  

1. **SI 계열**: 빠른 정보 검색 → 멀티턴 유도 필요  
2. **MIEP/MOEP**: AI 친화적 → Gamification + 페르소나  
3. **MI/MO Unobserved**: 탐색형 → 다각적 분석 제공  

### 실무 적용 체크리스트  

- [ ] 사용자 프롬프트 로그 분석  
- [ ] 세그먼트별 분포 파악  
- [ ] 우선순위 세그먼트 선정  
- [ ] 세그먼트별 프롬프트 전략 수립  
- [ ] A/B 테스트 설계 및 실행  
- [ ] 결과 분석 및 최적화  
- [ ] 지속적 모니터링 체계 구축  

### 성공 지표  

**단기 (1-3개월)**  
- SI → MI 전환율 +30%  
- MIEP 재방문율 +25%  
- 전체 세션 길이 +40%  

**중장기 (6-12개월)**  
- Heavy User 비율 +50%  
- 프리미엄 전환율 +35%  
- NPS +15점  
- 이탈률 -25%  
```