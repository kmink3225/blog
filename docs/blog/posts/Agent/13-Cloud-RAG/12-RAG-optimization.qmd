---
title: "Azure AI Search의 생성 Retriever 연결"
subtitle: 전체 파이프라인 통합
description: |
  Azure 생태계를 활용한 프로덕션급 RAG 시스템 전체 구축 및 운영 방법을 다룬다.
categories:
  - AI
  - RAG
  - Azure
  - MLOps
author: Kwangmin Kim
date: 11/12/2025
format: 
  html:
    page-layout: full
    code-fold: true
    toc: true
    number-sections: true
draft: False
execute:
    eval: false
---


이미지에서 확인되는 정보와 추가로 필요한 정보는 다음과 같습니다:

## 이미지에서 확인된 정보 ✓

1. **Service Endpoint (URL)**: `https://vdb-aipoc-test-krc-001.search.windows.net`
2. **Location**: Korea Central
3. **Pricing Tier**: Standard
4. **Resource Group**: rg-aipoc-test-krc-001

## 추가로 필요한 정보 ⚠️

### 1. **Admin API Key** (필수)
Azure Portal에서 확인:
```
Azure AI Search → Keys → Primary admin key 또는 Secondary admin key
```

### 2. **Index Name** (필수)
- 생성할 인덱스 이름 정의 (예: `chatbot-documents-index`, `code-analyzer-index`)
- 작명 규칙: 소문자, 숫자, 하이픈만 사용

### 3. **Embedding 관련 정보** (선택)
Azure OpenAI Embeddings를 사용하려면:
- Azure OpenAI Embedding Deployment Name
- Azure OpenAI Endpoint
- Azure OpenAI API Key

## 코드 변경 사항

`chatbot_retriever.py`를 다음과 같이 수정해야 합니다:

```python
from langchain_community.vectorstores import AzureSearch
from langchain_openai import AzureOpenAIEmbeddings
import os

# Azure AI Search 설정
AZURE_SEARCH_ENDPOINT = "https://vdb-aipoc-test-krc-001.search.windows.net"
AZURE_SEARCH_KEY = os.getenv("AZURE_SEARCH_ADMIN_KEY")  # 환경변수에서 가져오기
AZURE_SEARCH_INDEX_NAME = "chatbot-documents"  # 인덱스 이름 정의
```

**.env 파일에 추가해야 할 항목:**
```env
# Azure AI Search
AZURE_SEARCH_ENDPOINT=https://vdb-aipoc-test-krc-001.search.windows.net
AZURE_SEARCH_ADMIN_KEY=<your-admin-key>
AZURE_SEARCH_INDEX_NAME=chatbot-documents
```

Admin API Key를 확인하시면 코드를 수정해드리겠습니다. 어떻게 진행하시겠습니까?